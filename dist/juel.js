(()=>{let t,e,r,n,i,o,s,a,l,h,c,u,d,f;function p(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}var g,m,v,y,b,O,w,x,k,S,C,A,E,T,P,I,R,M,N,D,q,Q,B,j,z,Z,F,X,V,U,W,H,Y,G,K,J,tt,te,tr,tn,ti,to,ts,ta,tl,th,tc,tu,td,tf,tp,tg,tm,tv,ty,tb,tO,tw,tx,t_,tk,tS,tC,tA,tE,tT,tP,tI,tR,tM,tN,tD,tL,t$,tq,tQ,tB,tj,tz,tZ,tF,tX,tV,tU,tW,tH,tY,tG,tK,tJ,t0,t1,t2,t3,t4,t5,t6,t8,t7,t9,et,ee,er,en,ei,eo,es,ea,el,eh,ec,eu,ed,ef,ep,eg,em,ev,ey,eb,eO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function ew(t){return t&&t.__esModule?t.default:t}var ex={},e_={},ek=eO.parcelRequire94c2;null==ek&&((ek=function(t){if(t in ex)return ex[t].exports;if(t in e_){var e=e_[t];delete e_[t];var r={id:t,exports:{}};return ex[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){e_[t]=e},eO.parcelRequire94c2=ek);var eS=ek.register;eS("7jDie",function(t,e){p(t.exports,"SVG",()=>ez);var r,n=ek("lQqDW"),i=ek("hyL8v");let o={},s=[];function a(t,e){if(Array.isArray(t)){for(let r of t)a(r,e);return}if("object"==typeof t){for(let e in t)a(e,t[e]);return}h(Object.getOwnPropertyNames(e)),o[t]=Object.assign(o[t]||{},e)}function l(t){return o[t]||{}}function h(t){s.push(...t)}function c(t,e){let r;let n=t.length,i=[];for(r=0;r<n;r++)i.push(e(t[r]));return i}function u(t){return t%360*Math.PI/180}function d(t){return t.charAt(0).toUpperCase()+t.slice(1)}function f(t,e,r,n){return(null==e||null==r)&&(n=n||t.bbox(),null==e?e=n.width/n.height*r:null==r&&(r=n.height/n.width*e)),{width:e,height:r}}function g(t,e){let r=t.origin,n=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",i=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=r&&([n,i]=Array.isArray(r)?r:"object"==typeof r?[r.x,r.y]:[r,r]);let o="string"==typeof n,s="string"==typeof i;if(o||s){let{height:t,width:r,x:a,y:l}=e.bbox();o&&(n=n.includes("left")?a:n.includes("right")?a+r:a+r/2),s&&(i=i.includes("top")?l:i.includes("bottom")?l+t:l+t/2)}return[n,i]}let m=new Set(["desc","metadata","title"]),v=t=>m.has(t.nodeName),y=(t,e,r={})=>{let i=(0,n._)({},e);for(let t in i)i[t].valueOf()===r[t]&&delete i[t];Object.keys(i).length?t.node.setAttribute("data-svgjs",JSON.stringify(i)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))},b="http://www.w3.org/2000/svg",O="http://www.w3.org/2000/xmlns/",w="http://www.w3.org/1999/xlink",x={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class k{}let S={},C="___SYMBOL___ROOT___";function A(t,e=b){return x.document.createElementNS(e,t)}function E(t,e=!1){if(t instanceof k)return t;if("object"==typeof t)return I(t);if(null==t)return new S[C];if("string"==typeof t&&"<"!==t.charAt(0))return I(x.document.querySelector(t));let r=e?x.document.createElement("div"):A("svg");return r.innerHTML=t,t=I(r.firstChild),r.removeChild(r.firstChild),t}function T(t,e){return e&&(e instanceof x.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:A(t)}function P(t){if(!t)return null;if(t.instance instanceof k)return t.instance;if("#document-fragment"===t.nodeName)return new S.Fragment(t);let e=d(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":S[e]||(e="Dom"),new S[e](t)}let I=P;function R(t,e=t.name,r=!1){return S[e]=t,r&&(S[C]=t),h(Object.getOwnPropertyNames(t.prototype)),t}let M=1e3;function N(t){return"Svgjs"+d(t)+M++}function D(t,e){let r,n;for(n=(t=Array.isArray(t)?t:[t]).length-1;n>=0;n--)for(r in e)t[n].prototype[r]=e[r]}function q(t){return function(...e){let r=e[e.length-1];return!r||r.constructor!==Object||r instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(r)}}a("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){let t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){let t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=E(t)).remove();let e=this.position();return this.parent().add(t,e),this},after:function(t){(t=E(t)).remove();let e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=E(t)).before(this),this},insertAfter:function(t){return(t=E(t)).after(this),this}});let Q=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,B=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,j=/rgb\((\d+),(\d+),(\d+)\)/,z=/(#[a-z_][a-z0-9\-_]*)/i,Z=/\)\s*,?\s*/,F=/\s/g,X=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,V=/^rgb\(/,U=/^(\s+)?$/,W=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,H=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Y=/[\s,]+/,G=/[MLHVCSQTAZ]/i;function K(t){let e=Math.max(0,Math.min(255,Math.round(t))).toString(16);return 1===e.length?"0"+e:e}function J(t,e){for(let r=e.length;r--;)if(null==t[e[r]])return!1;return!0}function tt(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}a("Dom",{classes:function(){let t=this.attr("class");return null==t?[]:t.trim().split(Y)},hasClass:function(t){return -1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){let e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),a("Dom",{css:function(t,e){let r={};if(0==arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter(function(t){return!!t.length}).forEach(function(t){let e=t.split(/\s*:\s*/);r[e[0]]=e[1]}),r;if(arguments.length<2){if(Array.isArray(t)){for(let e of t)r[e]=this.node.style.getPropertyValue(e);return r}if("string"==typeof t)return this.node.style.getPropertyValue(t);if("object"==typeof t)for(let e in t)this.node.style.setProperty(e,null==t[e]||U.test(t[e])?"":t[e])}return 2==arguments.length&&this.node.style.setProperty(t,null==e||U.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),a("Dom",{data:function(t,e,r){if(null==t)return this.data(c(function(t,e){let r;let n=t.length,i=[];for(r=0;r<n;r++)e(t[r])&&i.push(t[r]);return i}(this.node.attributes,t=>0===t.nodeName.indexOf("data-")),t=>t.nodeName.slice(5)));if(t instanceof Array){let e={};for(let r of t)e[r]=this.data(r);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===r||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),a("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(let e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class te{static isColor(t){return t&&(t instanceof te||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e){let{random:r,round:n,sin:i,PI:o}=Math;if("vibrant"===t)return new te(24*r()+57,38*r()+45,360*r(),"lch");if("sine"===t)return new te(n(80*i(2*o*(e=null==e?r():e)/.5+.01)+150),n(50*i(2*o*e/.5+4.6)+200),n(100*i(2*o*e/.5+2.3)+150));if("pastel"===t)return new te(8*r()+86,17*r()+9,360*r(),"lch");if("dark"===t)return new te(10+10*r(),50*r()+86,360*r(),"lch");if("rgb"===t)return new te(255*r(),255*r(),255*r());if("lab"===t)return new te(100*r(),256*r()-128,256*r()-128,"lab");if("grey"===t){let t=255*r();return new te(t,t,t)}else throw Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(X.test(t)||V.test(t))}cmyk(){let{_a:t,_b:e,_c:r}=this.rgb(),[n,i,o]=[t,e,r].map(t=>t/255),s=Math.min(1-n,1-i,1-o);return 1===s?new te(0,0,0,1,"cmyk"):new te((1-n-s)/(1-s),(1-i-s)/(1-s),(1-o-s)/(1-s),s,"cmyk")}hsl(){let{_a:t,_b:e,_c:r}=this.rgb(),[n,i,o]=[t,e,r].map(t=>t/255),s=Math.max(n,i,o),a=Math.min(n,i,o),l=(s+a)/2,h=s===a,c=s-a;return new te(360*(h?0:s===n?((i-o)/c+(i<o?6:0))/6:s===i?((o-n)/c+2)/6:s===o?((n-i)/c+4)/6:0),100*(h?0:l>.5?c/(2-s-a):c/(s+a)),100*l,"hsl")}init(t=0,e=0,r=0,n=0,i="rgb"){if(t=t||0,this.space)for(let t in this.space)delete this[this.space[t]];if("number"==typeof t)i="string"==typeof n?n:i,Object.assign(this,{_a:t,_b:e,_c:r,_d:n="string"==typeof n?0:n,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object)Object.assign(this,function(t,e){let r=J(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:J(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:J(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:J(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:J(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:J(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return r.space=e||r.space,r}(t,e));else if("string"==typeof t){if(V.test(t)){let e=t.replace(F,""),[r,n,i]=j.exec(e).slice(1,4).map(t=>parseInt(t));Object.assign(this,{_a:r,_b:n,_c:i,_d:0,space:"rgb"})}else if(X.test(t)){var o;let[,e,r,n]=B.exec(4===(o=t).length?["#",o.substring(1,2),o.substring(1,2),o.substring(2,3),o.substring(2,3),o.substring(3,4),o.substring(3,4)].join(""):o).map(t=>parseInt(t,16));Object.assign(this,{_a:e,_b:r,_c:n,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color")}let{_a:s,_b:a,_c:l,_d:h}=this;Object.assign(this,"rgb"===this.space?{r:s,g:a,b:l}:"xyz"===this.space?{x:s,y:a,z:l}:"hsl"===this.space?{h:s,s:a,l:l}:"lab"===this.space?{l:s,a:a,b:l}:"lch"===this.space?{l:s,c:a,h:l}:"cmyk"===this.space?{c:s,m:a,y:l,k:h}:{})}lab(){let{x:t,y:e,z:r}=this.xyz();return new te(116*e-16,500*(t-e),200*(e-r),"lab")}lch(){let{l:t,a:e,b:r}=this.lab(),n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),i=180*Math.atan2(r,e)/Math.PI;return i<0&&(i*=-1,i=360-i),new te(t,n,i,"lch")}rgb(){var t;if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t?0:1){if("hsl"===this.space){let{h:t,s:e,l:r}=this;if(t/=360,r/=100,0==(e/=100))return new te(r*=255,r,r);let n=r<.5?r*(1+e):r+e-r*e,i=2*r-n;return new te(255*tt(i,n,t+1/3),255*tt(i,n,t),255*tt(i,n,t-1/3))}{if("cmyk"!==this.space)return this;let{c:t,m:e,y:r,k:n}=this;return new te(255*(1-Math.min(1,t*(1-n)+n)),255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n)))}}{let{x:t,y:e,z:r}=this;if("lab"===this.space||"lch"===this.space){let{l:n,a:i,b:o}=this;if("lch"===this.space){let{c:t,h:e}=this,r=Math.PI/180;i=t*Math.cos(r*e),o=t*Math.sin(r*e)}let s=(n+16)/116,a=i/500+s,l=s-o/200,h=16/116;t=.95047*(Math.pow(a,3)>.008856?Math.pow(a,3):(a-h)/7.787),e=1*(Math.pow(s,3)>.008856?Math.pow(s,3):(s-h)/7.787),r=1.08883*(Math.pow(l,3)>.008856?Math.pow(l,3):(l-h)/7.787)}let n=3.2406*t+-1.5372*e+-.4986*r,i=-.9689*t+1.8758*e+.0415*r,o=.0557*t+-.204*e+1.057*r,s=Math.pow;return new te(255*(n>.0031308?1.055*s(n,1/2.4)-.055:12.92*n),255*(i>.0031308?1.055*s(i,1/2.4)-.055:12.92*i),255*(o>.0031308?1.055*s(o,1/2.4)-.055:12.92*o))}}toArray(){let{_a:t,_b:e,_c:r,_d:n,space:i}=this;return[t,e,r,n,i]}toHex(){let[t,e,r]=this._clamped().map(K);return`#${t}${e}${r}`}toRgb(){let[t,e,r]=this._clamped();return`rgb(${t},${e},${r})`}toString(){return this.toHex()}xyz(){let{_a:t,_b:e,_c:r}=this.rgb(),[n,i,o]=[t,e,r].map(t=>t/255),s=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=(.4124*s+.3576*a+.1805*l)/.95047,c=(.2126*s+.7152*a+.0722*l)/1,u=(.0193*s+.1192*a+.9505*l)/1.08883;return new te(h>.008856?Math.pow(h,1/3):7.787*h+16/116,c>.008856?Math.pow(c,1/3):7.787*c+16/116,u>.008856?Math.pow(u,1/3):7.787*u+16/116,"xyz")}_clamped(){let{_a:t,_b:e,_c:r}=this.rgb(),{max:n,min:i,round:o}=Math;return[t,e,r].map(t=>n(0,i(o(t),255)))}constructor(...t){this.init(...t)}}class tr{clone(){return new tr(this)}init(t,e){let r={x:0,y:0},n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==n.x?r.x:n.x,this.y=null==n.y?r.y:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){ti.isMatrixLike(t)||(t=new ti(t));let{x:e,y:r}=this;return this.x=t.a*e+t.c*r+t.e,this.y=t.b*e+t.d*r+t.f,this}constructor(...t){this.init(...t)}}function tn(t,e,r){return 1e-6>Math.abs(e-t)}class ti{static formatTransforms(t){let e="both"===t.flip||!0===t.flip,r=t.flip&&(e||"x"===t.flip)?-1:1,n=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,s=t.scale&&t.scale.length?t.scale[0]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleX)?t.scaleX*r:r,a=t.scale&&t.scale.length?t.scale[1]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleY)?t.scaleY*n:n,l=t.shear||0,h=t.rotate||t.theta||0,c=new tr(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),u=c.x,d=c.y,f=new tr(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),p=f.x,g=f.y,m=new tr(t.translate||t.tx||t.translateX,t.ty||t.translateY),v=m.x,y=m.y,b=new tr(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:s,scaleY:a,skewX:i,skewY:o,shear:l,theta:h,rx:b.x,ry:b.y,tx:v,ty:y,ox:u,oy:d,px:p,py:g}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,r){let n=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,o=t.a*e.c+t.c*e.d,s=t.b*e.c+t.d*e.d,a=t.e+t.a*e.e+t.c*e.f,l=t.f+t.b*e.e+t.d*e.f;return r.a=n,r.b=i,r.c=o,r.d=s,r.e=a,r.f=l,r}around(t,e,r){return this.clone().aroundO(t,e,r)}aroundO(t,e,r){let n=t||0,i=e||0;return this.translateO(-n,-i).lmultiplyO(r).translateO(n,i)}clone(){return new ti(this)}decompose(t=0,e=0){let r=this.a,n=this.b,i=this.c,o=this.d,s=this.e,a=this.f,l=r*o-n*i,h=l>0?1:-1,c=h*Math.sqrt(r*r+n*n),u=Math.atan2(h*n,h*r),d=180/Math.PI*u,f=Math.cos(u),p=Math.sin(u),g=(r*i+n*o)/l,m=i*c/(g*r-n)||o*c/(g*n+r);return{scaleX:c,scaleY:m,shear:g,rotate:d,translateX:s-t+t*f*c+e*(g*f*c-p*m),translateY:a-e+t*p*c+e*(g*p*c+f*m),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;let e=new ti(t);return tn(this.a,e.a)&&tn(this.b,e.b)&&tn(this.c,e.c)&&tn(this.d,e.d)&&tn(this.e,e.e)&&tn(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){let e=ti.fromArray([1,0,0,1,0,0]);return t=t instanceof tA?t.matrixify():"string"==typeof t?ti.fromArray(t.split(Y).map(parseFloat)):Array.isArray(t)?ti.fromArray(t):"object"==typeof t&&ti.isMatrixLike(t)?t:"object"==typeof t?new ti().transform(t):6==arguments.length?ti.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){let t=this.a,e=this.b,r=this.c,n=this.d,i=this.e,o=this.f,s=t*n-e*r;if(!s)throw Error("Cannot invert "+this);let a=n/s,l=-e/s,h=-r/s,c=t/s;return this.a=a,this.b=l,this.c=h,this.d=c,this.e=-(a*i+h*o),this.f=-(l*i+c*o),this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){let e=t instanceof ti?t:new ti(t);return ti.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){let e=t instanceof ti?t:new ti(t);return ti.matrixMultiply(this,e,this)}rotate(t,e,r){return this.clone().rotateO(t,e,r)}rotateO(t,e=0,r=0){let n=Math.cos(t=u(t)),i=Math.sin(t),{a:o,b:s,c:a,d:l,e:h,f:c}=this;return this.a=o*n-s*i,this.b=s*n+o*i,this.c=a*n-l*i,this.d=l*n+a*i,this.e=h*n-c*i+r*i-e*n+e,this.f=c*n+h*i-e*i-r*n+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,r=0,n=0){3==arguments.length&&(n=r,r=e,e=t);let{a:i,b:o,c:s,d:a,e:l,f:h}=this;return this.a=i*t,this.b=o*e,this.c=s*t,this.d=a*e,this.e=l*t-r*t+r,this.f=h*e-n*e+n,this}shear(t,e,r){return this.clone().shearO(t,e,r)}shearO(t,e=0,r=0){let{a:n,b:i,c:o,d:s,e:a,f:l}=this;return this.a=n+i*t,this.c=o+s*t,this.e=a+l*t-r*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,r=0,n=0){3==arguments.length&&(n=r,r=e,e=t),t=u(t),e=u(e);let i=Math.tan(t),o=Math.tan(e),{a:s,b:a,c:l,d:h,e:c,f:d}=this;return this.a=s+a*i,this.b=a+s*o,this.c=l+h*i,this.d=h+l*o,this.e=c+d*i-n*i,this.f=d+c*o-r*o,this}skewX(t,e,r){return this.skew(t,0,e,r)}skewY(t,e,r){return this.skew(0,t,e,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(ti.isMatrixLike(t))return new ti(t).multiplyO(this);let e=ti.formatTransforms(t),{x:r,y:n}=new tr(e.ox,e.oy).transform(this),i=new ti().translateO(e.rx,e.ry).lmultiplyO(this).translateO(-r,-n).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(r,n);if(isFinite(e.px)||isFinite(e.py)){let t=new tr(r,n).transform(i),o=isFinite(e.px)?e.px-t.x:0,s=isFinite(e.py)?e.py-t.y:0;i.translateO(o,s)}return i.translateO(e.tx,e.ty),i}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}constructor(...t){this.init(...t)}}function to(){if(!to.nodes){let t=E().size(2,0);t.node.style.cssText="opacity: 0;position: absolute;left: -100%;top: -100%;overflow: hidden",t.attr("focusable","false"),t.attr("aria-hidden","true");let e=t.path().node;to.nodes={svg:t,path:e}}if(!to.nodes.svg.node.parentNode){let t=x.document.body||x.document.documentElement;to.nodes.svg.addTo(t)}return to.nodes}function ts(t){return!t.width&&!t.height&&!t.x&&!t.y}R(ti,"Matrix");class ta{addOffset(){return this.x+=x.window.pageXOffset,this.y+=x.window.pageYOffset,new ta(this)}init(t){return t="string"==typeof t?t.split(Y).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return ts(this)}merge(t){let e=Math.min(this.x,t.x),r=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width)-e,i=Math.max(this.y+this.height,t.y+t.height)-r;return new ta(e,r,n,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof ti||(t=new ti(t));let e=1/0,r=-1/0,n=1/0,i=-1/0;return[new tr(this.x,this.y),new tr(this.x2,this.y),new tr(this.x,this.y2),new tr(this.x2,this.y2)].forEach(function(o){o=o.transform(t),e=Math.min(e,o.x),r=Math.max(r,o.x),n=Math.min(n,o.y),i=Math.max(i,o.y)}),new ta(e,n,r-e,i-n)}constructor(...t){this.init(...t)}}function tl(t,e,r){let n;try{var i;if(n=e(t.node),ts(n)&&!((i=t.node)===x.document||(x.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===x.document}).call(x.document.documentElement,i)))throw Error("Element not in the dom")}catch(e){n=r(t)}return n}a({viewbox:{viewbox(t,e,r,n){return null==t?new ta(this.attr("viewBox")):this.attr("viewBox",new ta(t,e,r,n))},zoom(t,e){let{width:r,height:n}=this.attr(["width","height"]);if((r||n)&&"string"!=typeof r&&"string"!=typeof n||(r=this.node.clientWidth,n=this.node.clientHeight),!r||!n)throw Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");let i=this.viewbox(),o=r/i.width,s=n/i.height,a=Math.min(o,s);if(null==t)return a;let l=a/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new tr(r/2/o+i.x,n/2/s+i.y);let h=new ta(i).transform(new ti({scale:l,origin:e}));return this.viewbox(h)}}}),R(ta,"Box");class th extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}D([th],{each(t,...e){return"function"==typeof t?this.map((e,r,n)=>t.call(e,e,r,n)):this.map(r=>r[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});let tc=["toArray","constructor","each"];function tu(t,e){return new th(c((e||x.document).querySelectorAll(t),function(t){return P(t)}))}th.extend=function(t){D([th],t=t.reduce((t,e)=>(tc.includes(e)||"_"===e[0]||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...t){return this.each(e,...t)}),t),{}))};let td=0,tf={};function tp(t){let e=t.getEventHolder();return e===x.window&&(e=tf),e.events||(e.events={}),e.events}function tg(t){return t.getEventTarget()}function tm(t,e,r,n,i){let o=r.bind(n||t),s=E(t),a=tp(s),l=tg(s);e=Array.isArray(e)?e:e.split(Y),r._svgjsListenerId||(r._svgjsListenerId=++td),e.forEach(function(t){let e=t.split(".")[0],n=t.split(".")[1]||"*";a[e]=a[e]||{},a[e][n]=a[e][n]||{},a[e][n][r._svgjsListenerId]=o,l.addEventListener(e,o,i||!1)})}function tv(t,e,r,n){let i=E(t),o=tp(i),s=tg(i);("function"!=typeof r||(r=r._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Y)).forEach(function(t){let e,a;let l=t&&t.split(".")[0],h=t&&t.split(".")[1];if(r)o[l]&&o[l][h||"*"]&&(s.removeEventListener(l,o[l][h||"*"][r],n||!1),delete o[l][h||"*"][r]);else if(l&&h){if(o[l]&&o[l][h]){for(a in o[l][h])tv(s,[l,h].join("."),a);delete o[l][h]}}else if(h)for(t in o)for(e in o[t])h===e&&tv(s,[t,h].join("."));else if(l){if(o[l]){for(e in o[l])tv(s,[l,e].join("."));delete o[l]}}else{let e;for(t in o)tv(s,t);(e=i.getEventHolder())===x.window&&(e=tf),e.events&&(e.events={})}})}class ty extends k{addEventListener(){}dispatch(t,e,r){return function(t,e,r,i){let o=tg(t);return e instanceof x.window.Event||(e=new x.window.CustomEvent(e,(0,n._)({detail:r,cancelable:!0},i))),o.dispatchEvent(e),e}(this,t,e,r)}dispatchEvent(t){let e=this.getEventHolder().events;if(!e)return!0;let r=e[t.type];for(let e in r)for(let n in r[e])r[e][n](t);return!t.defaultPrevented}fire(t,e,r){return this.dispatch(t,e,r),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,r){return tv(this,t,e,r),this}on(t,e,r,n){return tm(this,t,e,r,n),this}removeEventListener(){}}function tb(){}R(ty,"EventTarget");let tO={duration:400,ease:">",delay:0},tw={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class tx extends Array{clone(){return new this.constructor(this)}init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(Y).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){let t=[];return t.push(...this),t}constructor(...t){super(...t),this.init(...t)}}class t_{convert(t){return new t_(this.value,t)}divide(t){return t=new t_(t),new t_(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(Q))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof t_&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new t_(t),new t_(this-t,this.unit||t.unit)}plus(t){return t=new t_(t),new t_(this+t,this.unit||t.unit)}times(t){return t=new t_(t),new t_(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}constructor(...t){this.init(...t)}}let tk=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),tS=[];class tC extends ty{add(t,e){return(t=E(t)).removeNamespace&&this.node instanceof x.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return E(t).put(this,e)}children(){return new th(c(this.node.children,function(t){return P(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let r=this.node.cloneNode(t);return e&&(r=function t(e){for(let r=e.children.length-1;r>=0;r--)t(e.children[r]);return e.id&&(e.id=N(e.nodeName)),e}(r)),new this.constructor(r)}each(t,e){let r,n;let i=this.children();for(r=0,n=i.length;r<n;r++)t.apply(i[r],[r,i]),e&&i[r].each(t,e);return this}element(t,e){return this.put(new tC(A(t),e))}first(){return P(this.node.firstChild)}get(t){return P(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return void 0!==t||this.node.id||(this.node.id=N(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return P(this.node.lastChild)}matches(t){let e=this.node,r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return r&&r.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=P(e.node.parentNode),!t)return e;do if("string"==typeof t?e.matches(t):e instanceof t)break;while(e=P(e.node.parentNode))return e}put(t,e){return t=E(t),this.add(t,e),t}putIn(t,e){return E(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=E(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){let r=Math.pow(10,t),n=this.attr(e);for(let t in n)"number"==typeof n[t]&&(n[t]=Math.round(n[t]*r)/r);return this.attr(n),this}svg(t,e){return this.xml(t,e,b)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){let e=this.parent();if(!e)return this.addTo(t);let r=e.index(this);return e.put(t,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,r){if("boolean"==typeof t&&(r=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let r=this;if(null!=t){if(r=P(r.node.cloneNode(!0)),e){let e=t(r);if(r=e||r,!1===e)return""}r.each(function(){let e=t(this),r=e||this;!1===e?this.remove():e&&this!==r&&this.replace(r)},!0)}return e?r.node.outerHTML:r.node.innerHTML}e=null!=e&&e;let n=A("wrapper",r),i=x.document.createDocumentFragment();n.innerHTML=t;for(let t=n.children.length;t--;)i.appendChild(n.firstElementChild);let o=this.parent();return e?this.replace(i)&&o:this.add(i)}constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}}D(tC,{attr:function(t,e,r){if(null==t){for(let r of(t={},e=this.node.attributes))t[r.nodeName]=W.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return t}if(t instanceof Array)return t.reduce((t,e)=>(t[e]=this.attr(e),t),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?tw[t]:W.test(e)?parseFloat(e):e;"number"==typeof(e=tS.reduce((e,r)=>r(t,e,this),e))?e=new t_(e):tk.has(t)&&te.isColor(e)?e=new te(e):e.constructor===Array&&(e=new tx(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof r?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),this.rebuild&&("font-size"===t||"x"===t)&&this.rebuild()}return this},find:function(t){return tu(t,this.node)},findOne:function(t){return P(this.node.querySelector(t))}}),R(tC,"Dom");class tA extends tC{center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){let t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new t_(t).plus(this.x()))}dy(t=0){return this.y(new t_(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){let e="string"==typeof t;e||(t=E(t));let r=new th,n=this;for(;(n=n.parent())&&n.node!==x.document&&"#document-fragment"!==n.nodeName&&(r.push(n),!(!e&&n.node===t.node||e&&n.matches(t)));)if(n.node===this.root().node)return null;return r}reference(t){if(!(t=this.attr(t)))return null;let e=(t+"").match(z);return e?E(e[1]):null}root(){let t=this.parent(S[C]);return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){let r=f(this,t,e);return this.width(new t_(r.width)).height(new t_(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return y(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}constructor(t,e){var r,n;super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(null!==(n=null!==(r=JSON.parse(t.getAttribute("data-svgjs")))&&void 0!==r?r:JSON.parse(t.getAttribute("svgjs:data")))&&void 0!==n?n:{})}}D(tA,{bbox:function(){return new ta(tl(this,t=>t.getBBox(),t=>{try{let e=t.clone().addTo(to().svg).show(),r=e.node.getBBox();return e.remove(),r}catch(e){throw Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}}))},rbox:function(t){let e=new ta(tl(this,t=>t.getBoundingClientRect(),t=>{throw Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)}));return t?e.transform(t.screenCTM().inverseO()):e.addOffset()},inside:function(t,e){let r=this.bbox();return t>r.x&&e>r.y&&t<r.x+r.width&&e<r.y+r.height},point:function(t,e){return new tr(t,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new ti(this.node.getCTM())},screenCTM:function(){try{if("function"==typeof this.isRoot&&!this.isRoot()){let t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new ti(e)}return new ti(this.node.getScreenCTM())}catch(t){return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new ti}}}),R(tA,"Element");let tE={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){let e;let r={};r[t]=function(r){if(void 0===r)return this.attr(t);if("string"==typeof r||r instanceof te||te.isRgb(r)||r instanceof tA)this.attr(t,r);else for(e=tE[t].length-1;e>=0;e--)null!=r[tE[t][e]]&&this.attr(tE.prefix(t,tE[t][e]),r[tE[t][e]]);return this},a(["Element","Runner"],r)}),a(["Element","Runner"],{matrix:function(t,e,r,n,i,o){return null==t?new ti(this):this.attr("transform",new ti(t,e,r,n,i,o))},rotate:function(t,e,r){return this.transform({rotate:t,ox:e,oy:r},!0)},skew:function(t,e,r,n){return 1==arguments.length||3==arguments.length?this.transform({skew:t,ox:e,oy:r},!0):this.transform({skew:[t,e],ox:r,oy:n},!0)},shear:function(t,e,r){return this.transform({shear:t,ox:e,oy:r},!0)},scale:function(t,e,r,n){return 1==arguments.length||3==arguments.length?this.transform({scale:t,ox:e,oy:r},!0):this.transform({scale:[t,e],ox:r,oy:n},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return -1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),a("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new t_(t)):this.rx(t).ry(e)}}),a("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new tr(this.node.getPointAtLength(t))}}),a(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),a("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t},{})),a("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Z).slice(0,-1).map(function(t){let e=t.trim().split("(");return[e[0],e[1].split(Y).map(function(t){return parseFloat(t)})]}).reverse().reduce(function(t,e){return"matrix"===e[0]?t.lmultiply(ti.fromArray(e[1])):t[e[0]].apply(t,e[1])},new ti)},toParent:function(t,e){if(this===t)return this;if(v(this.node))return this.addTo(t,e);let r=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(n.multiply(r)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){let e=new ti(this).decompose();return null==t?e:e[t]}ti.isMatrixLike(t)||(t=(0,i._)((0,n._)({},t),{origin:g(t,this)}));let r=new ti(!0===e?this:e||!1).transform(t);return this.attr("transform",r)}});class tT extends tA{flatten(){return this.each(function(){if(this instanceof tT)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each(function(r,n){return n[n.length-r-1].toParent(t,e)}),this.remove()}}R(tT,"Container");class tP extends tT{flatten(){return this}ungroup(){return this}constructor(t,e=t){super(T("defs",t),e)}}R(tP,"Defs");class tI extends tA{}function tR(t){return this.attr("rx",t)}function tM(t){return this.attr("ry",t)}function tN(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function tD(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function tL(t){return this.attr("cx",t)}function t$(t){return this.attr("cy",t)}function tq(t){return null==t?2*this.rx():this.rx(new t_(t).divide(2))}function tQ(t){return null==t?2*this.ry():this.ry(new t_(t).divide(2))}R(tI,"Shape");class tB extends tI{size(t,e){let r=f(this,t,e);return this.rx(new t_(r.width).divide(2)).ry(new t_(r.height).divide(2))}constructor(t,e=t){super(T("ellipse",t),e)}}D(tB,{__proto__:null,cx:tL,cy:t$,height:tQ,rx:tR,ry:tM,width:tq,x:tN,y:tD}),a("Container",{ellipse:q(function(t=0,e=t){return this.put(new tB).size(t,e).move(0,0)})}),R(tB,"Ellipse");class tj extends tC{xml(t,e,r){if("boolean"==typeof t&&(r=e,e=t,t=null),null==t||"function"==typeof t){let t=new tC(A("wrapper",r));return t.add(this.node.cloneNode(!0)),t.xml(!1,r)}return super.xml(t,!1,r)}constructor(t=x.document.createDocumentFragment()){super(t)}}function tz(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new t_(t),fy:new t_(e)}):this.attr({x1:new t_(t),y1:new t_(e)})}function tZ(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new t_(t),cy:new t_(e)}):this.attr({x2:new t_(t),y2:new t_(e)})}R(tj,"Fragment");class tF extends tT{attr(t,e,r){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,r)}bbox(){return new ta}targets(){return tu("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}constructor(t,e){super(T(t+"Gradient","string"==typeof t?null:t),e)}}D(tF,{__proto__:null,from:tz,to:tZ}),a({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:q(function(t,e){return this.put(new tF(t)).update(e)})}}),R(tF,"Gradient");class tX extends tT{attr(t,e,r){return"transform"===t&&(t="patternTransform"),super.attr(t,e,r)}bbox(){return new ta}targets(){return tu("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}constructor(t,e=t){super(T("pattern",t),e)}}a({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:q(function(t,e,r){return this.put(new tX).update(r).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}}),R(tX,"Pattern");class tV extends tI{load(t,e){if(!t)return this;let r=new x.window.Image;return tm(r,"load",function(t){let n=this.parent(tX);0===this.width()&&0===this.height()&&this.size(r.width,r.height),n instanceof tX&&0===n.width()&&0===n.height()&&n.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)},this),tm(r,"load error",function(){tv(r)}),this.attr("href",r.src=t,w)}constructor(t,e=t){super(T("image",t),e)}}r=function(t,e,r){return("fill"===t||"stroke"===t)&&H.test(e)&&(e=r.root().defs().image(e)),e instanceof tV&&(e=r.root().defs().pattern(0,0,t=>{t.add(e)})),e},tS.push(r),a({Container:{image:q(function(t,e){return this.put(new tV).size(0,0).load(t,e)})}}),R(tV,"Image");class tU extends tx{bbox(){let t=-1/0,e=-1/0,r=1/0,n=1/0;return this.forEach(function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),r=Math.min(i[0],r),n=Math.min(i[1],n)}),new ta(r,n,t-r,e-n)}move(t,e){let r=this.bbox();if(t-=r.x,e-=r.y,!isNaN(t)&&!isNaN(e))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+t,this[r][1]+e];return this}parse(t=[0,0]){let e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(Y).map(parseFloat)).length%2!=0&&t.pop();for(let r=0,n=t.length;r<n;r+=2)e.push([t[r],t[r+1]]);return e}size(t,e){let r;let n=this.bbox();for(r=this.length-1;r>=0;r--)n.width&&(this[r][0]=(this[r][0]-n.x)*t/n.width+n.x),n.height&&(this[r][1]=(this[r][1]-n.y)*e/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){let t=[];for(let e=0,r=this.length;e<r;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){ti.isMatrixLike(t)||(t=new ti(t));for(let e=this.length;e--;){let[r,n]=this[e];this[e][0]=t.a*r+t.c*n+t.e,this[e][1]=t.b*r+t.d*n+t.f}return this}}var tW={__proto__:null,MorphArray:tU,height:function(t){let e=this.bbox();return null==t?e.height:this.size(e.width,t)},width:function(t){let e=this.bbox();return null==t?e.width:this.size(t,e.height)},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}};class tH extends tI{array(){return new tU([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,r,n){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:r,y2:n}:new tU(t).toLine(),this.attr(t))}size(t,e){let r=f(this,t,e);return this.attr(this.array().size(r.width,r.height).toLine())}constructor(t,e=t){super(T("line",t),e)}}D(tH,tW),a({Container:{line:q(function(...t){return tH.prototype.plot.apply(this.put(new tH),null!=t[0]?t:[0,0,0,0])})}}),R(tH,"Line");class tY extends tT{height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}constructor(t,e=t){super(T("marker",t),e)}}function tG(t,e){return function(r){return null==r?this[t]:(this[t]=r,e&&e.call(this),this)}}a({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:q(function(t,e,r){return this.put(new tY).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(r)})},marker:{marker(t,e,r,n){let i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof tY?arguments[1]:this.defs().marker(e,r,n),this.attr(i,t)}}}),R(tY,"Marker");let tK={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return-Math.cos(t*Math.PI/2)+1},bezier:function(t,e,r,n){return function(i){return i<0?t>0?e/t*i:r>0?n/r*i:0:i>1?r<1?(1-n)/(1-r)*i+(n-r)/(1-r):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*Math.pow(1-i,2)*e+3*Math.pow(i,2)*(1-i)*n+Math.pow(i,3)}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let r=t;return"none"===e?--r:"both"===e&&++r,(n,i=!1)=>{let o=Math.floor(n*t),s=n*o%1==0;return("start"===e||"both"===e)&&++o,i&&s&&--o,n>=0&&o<0&&(o=0),n<=1&&o>r&&(o=r),o/r}}};class tJ{done(){return!1}}class t0 extends tJ{step(t,e,r){return"number"!=typeof t?r<1?t:e:t+(e-t)*this.ease(r)}constructor(t=tO.ease){super(),this.ease=tK[t]||t}}class t1 extends tJ{done(t){return t.done}step(t,e,r,n){return this.stepper(t,e,r,n)}constructor(t){super(),this.stepper=t}}function t2(){let t=(this._duration||500)/1e3,e=this._overshoot||0,r=Math.PI,n=Math.log(e/100+1e-10),i=-n/Math.sqrt(r*r+n*n),o=3.9/(i*t);this.d=2*i*o,this.k=o*o}D(class extends t1{step(t,e,r,n){if("string"==typeof t)return t;if(n.done=r===1/0,r===1/0)return e;if(0===r)return t;r>100&&(r=16),r/=1e3;let i=n.velocity||0,o=-this.d*i-this.k*(t-e),s=t+i*r+o*r*r/2;return n.velocity=i+o*r,n.done=Math.abs(e-s)+Math.abs(i)<.002,n.done?e:s}constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}},{duration:tG("_duration",t2),overshoot:tG("_overshoot",t2)}),D(class extends t1{step(t,e,r,n){if("string"==typeof t)return t;if(n.done=r===1/0,r===1/0)return e;if(0===r)return t;let i=e-t,o=(n.integral||0)+i*r,s=(i-(n.error||0))/r,a=this._windup;return!1!==a&&(o=Math.max(-a,Math.min(o,a))),n.error=i,n.integral=o,n.done=.001>Math.abs(i),n.done?e:t+(this.P*i+this.I*o+this.D*s)}constructor(t=.1,e=.01,r=0,n=1e3){super(),this.p(t).i(e).d(r).windup(n)}},{windup:tG("_windup"),p:tG("P"),i:tG("I"),d:tG("D")});let t3={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},t4={M:function(t,e,r){return e.x=r.x=t[0],e.y=r.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,r){return e.x=r.x,e.y=r.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},t5="mlhvqtcsaz".split("");for(let t=0,e=t5.length;t<e;++t)t4[t5[t]]=function(t){return function(e,r,n){if("H"===t)e[0]=e[0]+r.x;else if("V"===t)e[0]=e[0]+r.y;else if("A"===t)e[5]=e[5]+r.x,e[6]=e[6]+r.y;else for(let t=0,n=e.length;t<n;++t)e[t]=e[t]+(t%2?r.y:r.x);return t4[t](e,r,n)}}(t5[t].toUpperCase());function t6(t){return t.segment.length&&t.segment.length-1===t3[t.segment[0].toUpperCase()]}function t8(t,e){if(!t.inNumber)throw Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,t6(t)&&t7(t)}function t7(t){t.inSegment=!1,t.absolute&&(t.segment=t4[t.segment[0]](t.segment.slice(1),t.p,t.p0)),t.segments.push(t.segment)}let t9=new Set([" ",",","	","\n","\r","\f"]);class et extends tx{bbox(){return to().path.setAttribute("d",this.toString()),new ta(to.nodes.path.getBBox())}move(t,e){let r=this.bbox();if(t-=r.x,e-=r.y,!isNaN(t)&&!isNaN(e))for(let r,n=this.length-1;n>=0;n--)"M"===(r=this[n][0])||"L"===r||"T"===r?(this[n][1]+=t,this[n][2]+=e):"H"===r?this[n][1]+=t:"V"===r?this[n][1]+=e:"C"===r||"S"===r||"Q"===r?(this[n][1]+=t,this[n][2]+=e,this[n][3]+=t,this[n][4]+=e,"C"===r&&(this[n][5]+=t,this[n][6]+=e)):"A"===r&&(this[n][6]+=t,this[n][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let r=0,n="",i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new tr,p:new tr};for(;i.lastToken=n,n=t.charAt(r++);)if(!(!i.inSegment&&function(t,e){t.inNumber&&t8(t,!1);let r=G.test(e);if(r)t.segment=[e];else{let e=t.lastCommand,r=e.toLowerCase(),n=e===r;t.segment=["m"===r?n?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],r}(i,n))){if("."===n){if(i.pointSeen||i.hasExponent){t8(i,!1),--r;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=n;continue}if(!isNaN(parseInt(n))){if("0"===i.number||function(t){if(!t.segment.length)return!1;let e="A"===t.segment[0].toUpperCase(),r=t.segment.length;return e&&(4===r||5===r)}(i)){i.inNumber=!0,i.number=n,t8(i,!0);continue}i.inNumber=!0,i.number+=n;continue}if(t9.has(n)){i.inNumber&&t8(i,!1);continue}if("-"===n||"+"===n){if(i.inNumber&&"E"!==i.lastToken.toUpperCase()){t8(i,!1),--r;continue}i.number+=n,i.inNumber=!0;continue}if("E"===n.toUpperCase()){i.number+=n,i.hasExponent=!0;continue}if(G.test(n)){if(i.inNumber)t8(i,!1);else if(t6(i))t7(i);else throw Error("parser Error");--r}}return i.inNumber&&t8(i,!1),i.inSegment&&t6(i)&&t7(i),i.segments}(t)}size(t,e){let r,n;let i=this.bbox();for(i.width=0===i.width?1:i.width,i.height=0===i.height?1:i.height,r=this.length-1;r>=0;r--)"M"===(n=this[r][0])||"L"===n||"T"===n?(this[r][1]=(this[r][1]-i.x)*t/i.width+i.x,this[r][2]=(this[r][2]-i.y)*e/i.height+i.y):"H"===n?this[r][1]=(this[r][1]-i.x)*t/i.width+i.x:"V"===n?this[r][1]=(this[r][1]-i.y)*e/i.height+i.y:"C"===n||"S"===n||"Q"===n?(this[r][1]=(this[r][1]-i.x)*t/i.width+i.x,this[r][2]=(this[r][2]-i.y)*e/i.height+i.y,this[r][3]=(this[r][3]-i.x)*t/i.width+i.x,this[r][4]=(this[r][4]-i.y)*e/i.height+i.y,"C"===n&&(this[r][5]=(this[r][5]-i.x)*t/i.width+i.x,this[r][6]=(this[r][6]-i.y)*e/i.height+i.y)):"A"===n&&(this[r][1]=this[r][1]*t/i.width,this[r][2]=this[r][2]*e/i.height,this[r][6]=(this[r][6]-i.x)*t/i.width+i.x,this[r][7]=(this[r][7]-i.y)*e/i.height+i.y);return this}toString(){return function(t){let e="";for(let r=0,n=t.length;r<n;r++)e+=t[r][0],null!=t[r][1]&&(e+=t[r][1],null!=t[r][2]&&(e+=" ",e+=t[r][2],null!=t[r][3]&&(e+=" ",e+=t[r][3],e+=" ",e+=t[r][4],null!=t[r][5]&&(e+=" ",e+=t[r][5],e+=" ",e+=t[r][6],null!=t[r][7]&&(e+=" ",e+=t[r][7])))));return e+" "}(this)}}let ee=t=>{let e=typeof t;return"number"===e?t_:"string"===e?te.isColor(t)?te:Y.test(t)?G.test(t)?et:tx:Q.test(t)?t_:en:ea.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?tx:"object"===e?es:en};class er{at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(t,e){return t&&e},!0)}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(ee(t));let e=new this._type(t);return this._type===te&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===es&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(t){return t.done=!0,t}),e}constructor(t){this._stepper=t||new t0("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}}class en{init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}constructor(...t){this.init(...t)}}class ei{init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,ei.defaults,t),this}toArray(){return[this.scaleX,this.scaleY,this.shear,this.rotate,this.translateX,this.translateY,this.originX,this.originY]}constructor(...t){this.init(...t)}}ei.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};let eo=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class es{align(t){let e=this.values;for(let r=0,n=e.length;r<n;++r){if(e[r+1]===t[r+1]){if(e[r+1]===te&&t[r+7]!==e[r+7]){let e=t[r+7],n=new te(this.values.splice(r+3,5))[e]().toArray();this.values.splice(r+3,0,...n)}r+=e[r+2]+2;continue}if(!t[r+1])break;let n=new t[r+1]().toArray(),i=e[r+2]+3;e.splice(r,i,t[r],t[r+1],t[r+2],...n),r+=e[r+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}let e=[];for(let r in t=t||{}){let n=ee(t[r]),i=new n(t[r]).toArray();e.push([r,n,i.length,...i])}return e.sort(eo),this.values=e.reduce((t,e)=>t.concat(e),[]),this}toArray(){return this.values}valueOf(){let t={},e=this.values;for(;e.length;){let r=e.shift(),n=e.shift(),i=e.shift(),o=e.splice(0,i);t[r]=new n(o)}return t}constructor(...t){this.init(...t)}}let ea=[en,ei,es];class el extends tI{array(){return this._array||(this._array=new et(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new et(t))}size(t,e){let r=f(this,t,e);return this.attr("d",this.array().size(r.width,r.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}constructor(t,e=t){super(T("path",t),e)}}el.prototype.MorphArray=et,a({Container:{path:q(function(t){return this.put(new el).plot(t||new et)})}}),R(el,"Path");var eh={__proto__:null,array:function(){return this._array||(this._array=new tU(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new tU(t))},size:function(t,e){let r=f(this,t,e);return this.attr("points",this.array().size(r.width,r.height))}};class ec extends tI{constructor(t,e=t){super(T("polygon",t),e)}}a({Container:{polygon:q(function(t){return this.put(new ec).plot(t||new tU)})}}),D(ec,tW),D(ec,eh),R(ec,"Polygon");class eu extends tI{constructor(t,e=t){super(T("polyline",t),e)}}a({Container:{polyline:q(function(t){return this.put(new eu).plot(t||new tU)})}}),D(eu,tW),D(eu,eh),R(eu,"Polyline");class ed extends tI{constructor(t,e=t){super(T("rect",t),e)}}D(ed,{rx:tR,ry:tM}),a({Container:{rect:q(function(t,e){return this.put(new ed).size(t,e)})}}),R(ed,"Rect");class ef{first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){let e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){let t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}constructor(){this._first=null,this._last=null}}let ep={nextDraw:null,frames:new ef,timeouts:new ef,immediates:new ef,timer:()=>x.window.performance||x.window.Date,transforms:[],frame(t){let e=ep.frames.push({run:t});return null===ep.nextDraw&&(ep.nextDraw=x.window.requestAnimationFrame(ep._draw)),e},timeout(t,e){e=e||0;let r=ep.timer().now()+e,n=ep.timeouts.push({run:t,time:r});return null===ep.nextDraw&&(ep.nextDraw=x.window.requestAnimationFrame(ep._draw)),n},immediate(t){let e=ep.immediates.push(t);return null===ep.nextDraw&&(ep.nextDraw=x.window.requestAnimationFrame(ep._draw)),e},cancelFrame(t){null!=t&&ep.frames.remove(t)},clearTimeout(t){null!=t&&ep.timeouts.remove(t)},cancelImmediate(t){null!=t&&ep.immediates.remove(t)},_draw(t){let e=null,r=ep.timeouts.last();for(;(e=ep.timeouts.shift())&&(t>=e.time?e.run():ep.timeouts.push(e),e!==r););let n=null,i=ep.frames.last();for(;n!==i&&(n=ep.frames.shift());)n.run(t);let o=null;for(;o=ep.immediates.shift();)o();ep.nextDraw=ep.timeouts.first()||ep.frames.first()?x.window.requestAnimationFrame(ep._draw):null}},eg=function(t){let e=t.start,r=t.runner.duration();return{start:e,duration:r,end:e+r,runner:t.runner}},em=function(){let t=x.window;return(t.performance||t.Date).now()};class ev extends ty{active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){let t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){return Math.max(0,...this._runners.map(t=>t.start+t.runner.duration()))}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){let e=this.speed();if(null==t)return this.speed(-e);let r=Math.abs(e);return this.speed(t?-r:r)}schedule(t,e,r){if(null==t)return this._runners.map(eg);let n=0,i=this.getEndTime();if(e=e||0,null==r||"last"===r||"after"===r)n=i;else if("absolute"===r||"start"===r)n=e,e=0;else if("now"===r)n=this._time;else if("relative"===r){let r=this.getRunnerInfoById(t.id);r&&(n=r.start+e,e=0)}else if("with-last"===r){let t=this.getLastRunnerInfo();n=t?t.start:this._time}else throw Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);let o=t.persist(),s={persist:null===o?this._persist:o,start:n+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(s),this._runners.sort((t,e)=>t.start-e.start),this._runnerIds=this._runners.map(t=>t.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){let e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return(ep.cancelFrame(this._nextFrame),this._nextFrame=null,t)?this._stepImmediate():(this._paused||(this._nextFrame=ep.frame(this._step)),this)}_stepFn(t=!1){let e=this._timeSource(),r=e-this._lastSourceTime;t&&(r=0);let n=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){let e=this._runners[t],r=e.runner;this._time-e.start<=0&&r.reset()}let i=!1;for(let t=0,e=this._runners.length;t<e;t++){let r=this._runners[t],o=r.runner,s=n,a=this._time-r.start;if(a<=0){i=!0;continue}a<s&&(s=a),o.active()&&(o.step(s).done?!0!==r.persist&&o.duration()-o.time()+this._time+r.persist<this._time&&(o.unschedule(),--t,--e):i=!0)}return i&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}constructor(t=em){super(),this._timeSource=t,this.terminate()}}a({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new ev,this._timeline):(this._timeline=t,this)}}});class ey extends ty{static sanitise(t,e,r){let n=1,i=!1,o=0;if(t=null!=t?t:tO.duration,e=null!=e?e:tO.delay,r=r||"last","object"==typeof t&&!(t instanceof tJ)){var s,a,l,h,c;e=null!==(s=t.delay)&&void 0!==s?s:e,r=null!==(a=t.when)&&void 0!==a?a:r,i=t.swing||i,n=null!==(l=t.times)&&void 0!==l?l:n,o=null!==(h=t.wait)&&void 0!==h?h:o,t=null!==(c=t.duration)&&void 0!==c?c:tO.duration}return{duration:t,delay:e,swing:i,times:n,wait:o,when:r}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,r){let n=ey.sanitise(t,e,r),i=new ey(n.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new ti,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new t0(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,r){return"object"==typeof t&&(e=t.swing,r=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=r||0,!0===this._times&&(this._times=1/0),this}loops(t){let e=this._duration+this._wait;if(null==t){let t=Math.floor(this._time/e),r=(this._time-t*e)/this._duration;return Math.min(t+r,this._times)}let r=e*Math.floor(t)+this._duration*(t%1);return this.time(r)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){let e;let r=this._time,n=this._duration,i=this._wait,o=this._times,s=this._swing,a=this._reverse;if(null==t){let t=function(t){let e=s*Math.floor(t%(2*(i+n))/(i+n)),r=e&&!a||!e&&a;return Math.max(Math.min(t%(i+n)*Math.pow(-1,r)/n+r,1),0)},e=o*(i+n)-i;return r<=0?Math.round(t(1e-5)):r<e?t(r):Math.round(t(e-1e-5))}let l=Math.floor(this.loops()),h=s&&l%2==0;return e=l+(h&&!a||a&&h?t:1-t),this.loops(e)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,r,n){return this._queue.push({initialiser:t||tb,runner:e||tb,retarget:r,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=null==t?!this._reverse:t,this}schedule(t,e,r){if(t instanceof ev||(r=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,r),this}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;let e=this.position(),r=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;let n=this.duration(),i=this._lastTime<=0&&this._time>0,o=this._lastTime<n&&this._time>=n;this._lastTime=this._time,i&&this.fire("start",this);let s=this._isDeclarative;this.done=!s&&!o&&this._time>=n,this._reseted=!1;let a=!1;return(r||s)&&(this._initialise(r),this.transforms=new ti,a=this._run(s?t:e),this.fire("step",this)),this.done=this.done||a&&s,o&&this.fire("finished",this),this}time(t){if(null==t)return this._time;let e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){let t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,r=this._queue.length;e<r;++e){let r=this._queue[e],n=this._isDeclarative||!r.initialised&&t;t=!r.finished,n&&t&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){let t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let r=0,n=this._queue.length;r<n;++r){let n=this._queue[r],i=n.runner.call(this,t);n.finished=n.finished||!0===i,e=e&&n.finished}return e}_tryRetarget(t,e,r){if(this._history[t]){if(!this._history[t].caller.initialised){let e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,r):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;let n=this.timeline();return n&&n.play(),!0}return!1}constructor(t){super(),this.id=ey.id++,t="function"==typeof(t=null==t?tO.duration:t)?new t1(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof t1,this._stepper=this._isDeclarative?t:new t0,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new ti,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}}ey.id=0;class eb{clearTransformsFromQueue(){}constructor(t=new ti,e=-1,r=!0){this.transforms=t,this.id=e,this.done=r}}D([ey,eb],{mergeWith(t){return new eb(t.transforms.lmultiply(this.transforms),t.id)}});let eO=(t,e)=>t.lmultiplyO(e),ew=t=>t.transforms;function ex(){let t=this._transformationRunners.runners.map(ew).reduce(eO,new ti);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class e_{add(t){if(this.runners.includes(t))return;let e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){let e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new eb).forEach(t=>t.clearTransformsFromQueue()),this}edit(t,e){let r=this.ids.indexOf(t+1);return this.ids.splice(r,1,t+1),this.runners.splice(r,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){let r=this.runners[e];if(!t||!r.done||!t.done||r._timeline&&r._timeline._runnerIds.includes(r.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=r;else{this.remove(r.id);let n=r.mergeWith(t);this.edit(t.id,n),t=n,--e}}return this}remove(t){let e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}constructor(){this.runners=[],this.ids=[]}}a({Element:{animate(t,e,r){let n=ey.sanitise(t,e,r),i=this.timeline();return new ey(n.duration).loop(n).element(this).timeline(i.play()).schedule(n.delay,n.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(ew).reduce(eO,new ti)},_addRunner(t){this._transformationRunners.add(t),ep.cancelImmediate(this._frameId),this._frameId=ep.immediate(ex.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=new e_().add(new eb(new ti(this))))}}});let eS=(t,e)=>t.filter(t=>!e.includes(t));D(ey,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,r){if("string"==typeof e)return this.styleAttr(t,{[e]:r});let n=e;if(this._tryRetarget(t,n))return this;let i=new er(this._stepper).to(n),o=Object.keys(n);return this.queue(function(){i=i.from(this.element()[t](o))},function(e){return this.element()[t](i.at(e).valueOf()),i.done()},function(e){let r=Object.keys(e),s=eS(r,o);if(s.length){let e=this.element()[t](s),r=new es(i.from()).valueOf();Object.assign(r,e),i.from(r)}let a=new es(i.to()).valueOf();Object.assign(a,e),i.to(a),o=r,n=e}),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let r=new er(this._stepper).to(new t_(t));return this.queue(function(){r=r.from(this.element().zoom())},function(t){return this.element().zoom(r.at(t),e),r.done()},function(t,n){e=n,r.to(t)}),this._rememberMorpher("zoom",r),this},transform(t,e,r){let o,s,a,l,h;if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;let c=ti.isMatrixLike(t);r=null!=t.affine?t.affine:null!=r?r:!c;let u=new er(this._stepper).type(r?ei:ti);return this.queue(function(){s=s||this.element(),o=o||g(t,s),h=new ti(e?void 0:s),s._addRunner(this),e||s._clearTransformRunnersBefore(this)},function(d){e||this.clearTransform();let{x:f,y:p}=new tr(o).transform(s._currentTransform(this)),g=new ti((0,i._)((0,n._)({},t),{origin:[f,p]})),m=this._isDeclarative&&a?a:h;if(r){g=g.decompose(f,p),m=m.decompose(f,p);let t=g.rotate,e=m.rotate,r=[t-360,t,t+360],n=r.map(t=>Math.abs(t-e)),i=Math.min(...n),o=n.indexOf(i);g.rotate=r[o]}e&&(c||(g.rotate=t.rotate||0),this._isDeclarative&&l&&(m.rotate=l)),u.from(m),u.to(g);let v=u.at(d);return l=v.rotate,a=new ti(v),this.addTransform(a),s._addRunner(this),u.done()},function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(o=g(e,s)),t=(0,i._)((0,n._)({},e),{origin:o})},!0),this._isDeclarative&&this._rememberMorpher("transform",u),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new t_(e),this._tryRetarget(t,e))return this;let r=new er(this._stepper).to(e),n=null;return this.queue(function(){n=this.element()[t](),r.from(n),r.to(n+e)},function(e){return this.element()[t](r.at(e)),r.done()},function(t){r.to(n+new t_(t))}),this._rememberMorpher(t,r),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;let r=new er(this._stepper).to(e);return this.queue(function(){r.from(this.element()[t]())},function(e){return this.element()[t](r.at(e)),r.done()}),this._rememberMorpher(t,r),this},_queueNumber(t,e){return this._queueObject(t,new t_(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let r;return t&&e||(r=this._element.bbox()),t||(t=r.width/r.height*e),e||(e=r.height/r.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,r,n){if(4==arguments.length)return this.plot([t,e,r,n]);if(this._tryRetarget("plot",t))return this;let i=new er(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){i.from(this._element.array())},function(t){return this._element.plot(i.at(t)),i.done()}),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,r,n){return this._queueObject("viewbox",new ta(t,e,r,n))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),D(ey,{rx:tR,ry:tM,from:tz,to:tZ}),R(ey,"Runner");class eC extends tT{defs(){return this.isRoot()?P(this.node.querySelector("defs"))||this.put(new tP):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof x.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:b,version:"1.1"}).attr("xmlns:xlink",w,O):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,O).attr("xmlns:svgjs",null,O)}root(){return this.isRoot()?this:super.root()}constructor(t,e=t){super(T("svg",t),e),this.namespace()}}a({Container:{nested:q(function(){return this.put(new eC)})}}),R(eC,"Svg",!0);class eA extends tT{constructor(t,e=t){super(T("symbol",t),e)}}a({Container:{symbol:q(function(){return this.put(new eA)})}}),R(eA,"Symbol");var eE={__proto__:null,amove:function(t,e){return this.ax(t).ay(e)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},build:function(t){return this._build=!!t,this},center:function(t,e,r=this.bbox()){return this.cx(t,r).cy(e,r)},cx:function(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(t,e,r=this.bbox()){return this.x(t,r).y(e,r)},plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(x.document.createTextNode(t)),this},x:function(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)}};class eT extends tI{leading(t){return null==t?this.dom.leading:(this.dom.leading=new t_(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){let t=this,e=0,r=this.dom.leading;this.each(function(n){if(v(this.node))return;let i=r*new t_(x.window.getComputedStyle(this.node).getPropertyValue("font-size"));this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=i:(this.attr("dy",n?i+e:0),e=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new t_(t.leading||1.3),this}writeDataToDom(){return y(this,this.dom,{leading:1.3}),this}text(t){if(void 0===t){let e=this.node.childNodes,r=0;t="";for(let n=0,i=e.length;n<i;++n){if("textPath"===e[n].nodeName||v(e[n])){0===n&&(r=n+1);continue}n!==r&&3!==e[n].nodeType&&!0===P(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent}return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{t=(t+"").split("\n");for(let e=0,r=t.length;e<r;e++)this.newLine(t[e])}return this.build(!1).rebuild()}constructor(t,e=t){var r;super(T("text",t),e),this.dom.leading=null!==(r=this.dom.leading)&&void 0!==r?r:new t_(1.3),this._rebuild=!0,this._build=!1}}D(eT,eE),a({Container:{text:q(function(t=""){return this.put(new eT).text(t)}),plain:q(function(t=""){return this.put(new eT).plain(t)})}}),R(eT,"Text");class eP extends tI{dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;let t=this.parent();if(!(t instanceof eT))return this;let e=t.index(this),r=x.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new t_(r);return this.dy(e?n:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}constructor(t,e=t){super(T("tspan",t),e),this._build=!1}}D(eP,eE),a({Tspan:{tspan:q(function(t=""){let e=new eP;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),R(eP,"Tspan");class eI extends tI{radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new t_(t).divide(2))}constructor(t,e=t){super(T("circle",t),e)}}D(eI,{x:tN,y:tD,cx:tL,cy:t$,width:tq,height:tQ}),a({Container:{circle:q(function(t=0){return this.put(new eI).size(t).move(0,0)})}}),R(eI,"Circle");class eR extends tT{remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return tu("svg [clip-path*="+this.id()+"]")}constructor(t,e=t){super(T("clipPath",t),e)}}a({Container:{clip:q(function(){return this.defs().put(new eR)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){let e=t instanceof eR?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),R(eR,"ClipPath");class eM extends tA{constructor(t,e=t){super(T("foreignObject",t),e)}}a({Container:{foreignObject:q(function(t,e){return this.put(new eM).size(t,e)})}}),R(eM,"ForeignObject");var eN={__proto__:null,dmove:function(t,e){return this.children().forEach(r=>{let n;try{n=r.node instanceof x.window.SVGSVGElement?new ta(r.attr(["x","y","width","height"])):r.bbox()}catch(t){return}let i=new ti(r),o=i.translate(t,e).transform(i.inverse()),s=new tr(n.x,n.y).transform(o);r.move(s.x,s.y)}),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,r=this.bbox()){let n=t-r.x,i=e-r.y;return this.dmove(n,i)},size:function(t,e,r=this.bbox()){let n=f(this,t,e,r),i=n.width/r.width,o=n.height/r.height;return this.children().forEach(t=>{let e=new tr(r).transform(new ti(t).inverse());t.scale(i,o,e.x,e.y)}),this},width:function(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}};class eD extends tT{constructor(t,e=t){super(T("g",t),e)}}D(eD,eN),a({Container:{group:q(function(){return this.put(new eD)})}}),R(eD,"G");class eL extends tT{target(t){return this.attr("target",t)}to(t){return this.attr("href",t,w)}constructor(t,e=t){super(T("a",t),e)}}D(eL,eN),a({Container:{link:q(function(t){return this.put(new eL).to(t)})},Element:{unlink(){let t=this.linker();if(!t)return this;let e=t.parent();if(!e)return this.remove();let r=e.index(t);return e.add(this,r),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new eL,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){let t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),R(eL,"A");class e$ extends tT{remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return tu("svg [mask*="+this.id()+"]")}constructor(t,e=t){super(T("mask",t),e)}}a({Container:{mask:q(function(){return this.defs().put(new e$)})},Element:{masker(){return this.reference("mask")},maskWith(t){let e=t instanceof e$?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),R(e$,"Mask");class eq extends tA{update(t){return("number"==typeof t||t instanceof t_)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new t_(t.offset)),this}constructor(t,e=t){super(T("stop",t),e)}}a({Gradient:{stop:function(t,e,r){return this.put(new eq).update(t,e,r)}}}),R(eq,"Stop");class eQ extends tA{addText(t=""){return this.node.textContent+=t,this}font(t,e,r={}){return this.rule("@font-face",(0,n._)({fontFamily:t,src:e},r))}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let r=t+"{";for(let t in e)r+=t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})+":"+e[t]+";";return r+"}"}(t,e))}constructor(t,e=t){super(T("style",t),e)}}a("Dom",{style(t,e){return this.put(new eQ).rule(t,e)},fontface(t,e,r){return this.put(new eQ).font(t,e,r)}}),R(eQ,"Style");class eB extends eT{array(){let t=this.track();return t?t.array():null}plot(t){let e=this.track(),r=null;return e&&(r=e.plot(t)),null==t?r:this}track(){return this.reference("href")}constructor(t,e=t){super(T("textPath",t),e)}}a({Container:{textPath:q(function(t,e){return t instanceof eT||(t=this.text(t)),t.path(e)})},Text:{path:q(function(t,e=!0){let r;let n=new eB;if(t instanceof el||(t=this.defs().path(t)),n.attr("href","#"+t,w),e)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:q(function(t){return t instanceof eT||(t=new eT().addTo(this.parent()).text(t)),t.path(this)}),targets(){return tu("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}}),eB.prototype.MorphArray=et,R(eB,"TextPath");class ej extends tI{use(t,e){return this.attr("href",(e||"")+"#"+t,w)}constructor(t,e=t){super(T("use",t),e)}}a({Container:{use:q(function(t,e){return this.put(new ej).use(t,e)})}}),R(ej,"Use");let ez=E;D([eC,eA,tV,tX,tY],l("viewbox")),D([tH,eu,ec,el],l("marker")),D(eT,l("Text")),D(el,l("Path")),D(tP,l("Defs")),D([eT,eP],l("Tspan")),D([ed,tB,tF,ey],l("radius")),D(ty,l("EventTarget")),D(tC,l("Dom")),D(tA,l("Element")),D(tI,l("Shape")),D([tT,tj],l("Container")),D(tF,l("Gradient")),D(ey,l("Runner")),th.extend([...new Set(s)]),function(t=[]){ea.push(...[].concat(t))}([t_,te,ta,ti,tx,tU,et,tr]),D(ea,{to(t){return new er().type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,r,n,i){return this.fromArray(t.map(function(t,o){return n.step(t,e[o],r,i[o],i)}))}})}),eS("lQqDW",function(t,e){p(t.exports,"_",()=>n);var r=ek("dy9QZ");function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){(0,r._)(t,e,n[e])})}return t}}),eS("dy9QZ",function(t,e){p(t.exports,"_",()=>r);function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}}),eS("hyL8v",function(t,e){p(t.exports,"_",()=>r);function r(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):(function(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r.push.apply(r,n)}return r})(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}}),eS("1PX6M",function(t,e){p(t.exports,"default",()=>a);var r=ek("bjRty"),n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n?r.default.Buffer:void 0,s=o?o.allocUnsafe:void 0,a=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}}),eS("bjRty",function(t,e){p(t.exports,"default",()=>i);var r=ek("2nxsn"),n="object"==typeof self&&self&&self.Object===Object&&self,i=r.default||n||Function("return this")()}),eS("2nxsn",function(t,e){p(t.exports,"default",()=>r);var r="object"==typeof eO&&eO&&eO.Object===Object&&eO}),eS("h54eC",function(t,e){p(t.exports,"default",()=>a);var r=ek("bjRty"),n=ek("2nGpL"),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.default.Buffer:void 0,a=(s?s.isBuffer:void 0)||n.default}),eS("2nGpL",function(t,e){p(t.exports,"default",()=>r);var r=function(){return!1}}),eS("4nS2h",function(t,e){p(t.exports,"default",()=>s);var r=ek("2nxsn"),n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n&&r.default.process,s=function(){try{var t=i&&i.require&&i.require("util").types;if(t)return t;return o&&o.binding&&o.binding("util")}catch(t){}}()}),eS("k35i5",function(t,e){var r,n="__lodash_hash_undefined__",i="[object Arguments]",o="[object Boolean]",s="[object Date]",a="[object Function]",l="[object GeneratorFunction]",h="[object Map]",c="[object Number]",u="[object Object]",d="[object Promise]",f="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",O="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",P=/\w*$/,I=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,M={};M[i]=M["[object Array]"]=M[y]=M[b]=M[o]=M[s]=M[O]=M[w]=M[x]=M[k]=M[S]=M[h]=M[c]=M[u]=M[f]=M[p]=M[g]=M[m]=M[C]=M[A]=M[E]=M[T]=!0,M["[object Error]"]=M[a]=M[v]=!1;var N="object"==typeof eO&&eO&&eO.Object===Object&&eO,D="object"==typeof self&&self&&self.Object===Object&&self,q=N||D||Function("return this")(),Q=e&&!e.nodeType&&e,B=Q&&t&&!t.nodeType&&t,j=B&&B.exports===Q;function z(t,e){return t.set(e[0],e[1]),t}function Z(t,e){return t.add(e),t}function F(t,e,r,n){var i=-1,o=t?t.length:0;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function X(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function U(t,e){return function(r){return t(e(r))}}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var H=Array.prototype,Y=Function.prototype,G=Object.prototype,K=q["__core-js_shared__"],J=(r=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",tt=Y.toString,te=G.hasOwnProperty,tr=G.toString,tn=RegExp("^"+tt.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ti=j?q.Buffer:void 0,to=q.Symbol,ts=q.Uint8Array,ta=U(Object.getPrototypeOf,Object),tl=Object.create,th=G.propertyIsEnumerable,tc=H.splice,tu=Object.getOwnPropertySymbols,td=ti?ti.isBuffer:void 0,tf=U(Object.keys,Object),tp=tL(q,"DataView"),tg=tL(q,"Map"),tm=tL(q,"Promise"),tv=tL(q,"Set"),ty=tL(q,"WeakMap"),tb=tL(Object,"create"),tO=tB(tp),tw=tB(tg),tx=tB(tm),t_=tB(tv),tk=tB(ty),tS=to?to.prototype:void 0,tC=tS?tS.valueOf:void 0;function tA(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function tE(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function tT(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function tP(t){this.__data__=new tE(t)}function tI(t,e,r){var n=t[e];te.call(t,e)&&tj(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function tR(t,e){for(var r=t.length;r--;)if(tj(t[r][0],e))return r;return -1}function tM(t){var e=new t.constructor(t.byteLength);return new ts(e).set(new ts(t)),e}function tN(t,e,r,n){r||(r={});for(var i=-1,o=e.length;++i<o;){var s=e[i],a=n?n(r[s],t[s],s,r,t):void 0;tI(r,s,void 0===a?t[s]:a)}return r}function tD(t,e){var r,n=t.__data__;return("string"==(r=typeof e)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?n["string"==typeof e?"string":"hash"]:n.map}function tL(t,e){var r=null==t?void 0:t[e];return!(!tV(r)||J&&J in r)&&(tX(r)||X(r)?tn:I).test(tB(r))?r:void 0}tA.prototype.clear=function(){this.__data__=tb?tb(null):{}},tA.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},tA.prototype.get=function(t){var e=this.__data__;if(tb){var r=e[t];return r===n?void 0:r}return te.call(e,t)?e[t]:void 0},tA.prototype.has=function(t){var e=this.__data__;return tb?void 0!==e[t]:te.call(e,t)},tA.prototype.set=function(t,e){return this.__data__[t]=tb&&void 0===e?n:e,this},tE.prototype.clear=function(){this.__data__=[]},tE.prototype.delete=function(t){var e=this.__data__,r=tR(e,t);return!(r<0)&&(r==e.length-1?e.pop():tc.call(e,r,1),!0)},tE.prototype.get=function(t){var e=this.__data__,r=tR(e,t);return r<0?void 0:e[r][1]},tE.prototype.has=function(t){return tR(this.__data__,t)>-1},tE.prototype.set=function(t,e){var r=this.__data__,n=tR(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},tT.prototype.clear=function(){this.__data__={hash:new tA,map:new(tg||tE),string:new tA}},tT.prototype.delete=function(t){return tD(this,t).delete(t)},tT.prototype.get=function(t){return tD(this,t).get(t)},tT.prototype.has=function(t){return tD(this,t).has(t)},tT.prototype.set=function(t,e){return tD(this,t).set(t,e),this},tP.prototype.clear=function(){this.__data__=new tE},tP.prototype.delete=function(t){return this.__data__.delete(t)},tP.prototype.get=function(t){return this.__data__.get(t)},tP.prototype.has=function(t){return this.__data__.has(t)},tP.prototype.set=function(t,e){var r=this.__data__;if(r instanceof tE){var n=r.__data__;if(!tg||n.length<199)return n.push([t,e]),this;r=this.__data__=new tT(n)}return r.set(t,e),this};var t$=tu?U(tu,Object):function(){return[]},tq=function(t){return tr.call(t)};function tQ(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||G)}function tB(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function tj(t,e){return t===e||t!=t&&e!=e}(tp&&tq(new tp(new ArrayBuffer(1)))!=b||tg&&tq(new tg)!=h||tm&&tq(tm.resolve())!=d||tv&&tq(new tv)!=p||ty&&tq(new ty)!=v)&&(tq=function(t){var e=tr.call(t),r=e==u?t.constructor:void 0,n=r?tB(r):void 0;if(n)switch(n){case tO:return b;case tw:return h;case tx:return d;case t_:return p;case tk:return v}return e});var tz=Array.isArray;function tZ(t){var e;return null!=t&&"number"==typeof(e=t.length)&&e>-1&&e%1==0&&e<=0x1fffffffffffff&&!tX(t)}var tF=td||function(){return!1};function tX(t){var e=tV(t)?tr.call(t):"";return e==a||e==l}function tV(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tU(t){return tZ(t)?function(t,e){var r,n=tz(t)||t&&"object"==typeof t&&tZ(t)&&te.call(t,"callee")&&(!th.call(t,"callee")||tr.call(t)==i)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],o=n.length,s=!!o;for(var a in t)te.call(t,a)&&!(s&&("length"==a||(r=null==(r=o)?0x1fffffffffffff:r)&&("number"==typeof a||R.test(a))&&a>-1&&a%1==0&&a<r))&&n.push(a);return n}(t):function(t){if(!tQ(t))return tf(t);var e=[];for(var r in Object(t))te.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return function t(e,r,n,d,v,I,R){if(d&&(N=I?d(e,v,I,R):d(e)),void 0!==N)return N;if(!tV(e))return e;var N,D=tz(e);if(D){if(q=e.length,Q=e.constructor(q),q&&"string"==typeof e[0]&&te.call(e,"index")&&(Q.index=e.index,Q.input=e.input),N=Q,!r)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(e,N)}else{var q,Q,B,j,U,H,Y=tq(e),G=Y==a||Y==l;if(tF(e))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(e,r);if(Y==u||Y==i||G&&!I){if(X(e))return I?e:{};if(N="function"!=typeof(B=G?{}:e).constructor||tQ(B)?{}:tV(j=ta(B))?tl(j):{},!r)return U=(H=N)&&tN(e,tU(e),H),tN(e,t$(e),U)}else{if(!M[Y])return I?e:{};N=function(t,e,r,n){var i,a,l,u=t.constructor;switch(e){case y:return tM(t);case o:case s:return new u(+t);case b:return i=n?tM(t.buffer):t.buffer,new t.constructor(i,t.byteOffset,t.byteLength);case O:case w:case x:case k:case S:case C:case A:case E:case T:return a=n?tM(t.buffer):t.buffer,new t.constructor(a,t.byteOffset,t.length);case h:return F(n?r(V(t),!0):V(t),z,new t.constructor);case c:case g:return new u(t);case f:return(l=new t.constructor(t.source,P.exec(t))).lastIndex=t.lastIndex,l;case p:return F(n?r(W(t),!0):W(t),Z,new t.constructor);case m:return tC?Object(tC.call(t)):{}}}(e,Y,t,r)}}R||(R=new tP);var K=R.get(e);if(K)return K;if(R.set(e,N),!D){var J,tt,tr=n?(tt=tU(J=e),tz(J)?tt:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(tt,t$(J))):tU(e)}return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(tr||e,function(i,o){tr&&(i=e[o=i]),tI(N,o,t(i,r,n,d,o,e,R))}),N}(t,!0,!0)}}),eS("2DUTx",function(t,e){var r,n,i,o="__lodash_hash_undefined__",s="[object Arguments]",a="[object Array]",l="[object Boolean]",h="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",g="[object Promise]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object WeakMap]",O="[object ArrayBuffer]",w="[object DataView]",x=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[s]=S[a]=S[O]=S[l]=S[w]=S[h]=S[c]=S[u]=S[d]=S[f]=S[p]=S[m]=S[v]=S[y]=S[b]=!1;var C="object"==typeof eO&&eO&&eO.Object===Object&&eO,A="object"==typeof self&&self&&self.Object===Object&&self,E=C||A||Function("return this")(),T=e&&!e.nodeType&&e,P=T&&t&&!t.nodeType&&t,I=P&&P.exports===T,R=I&&C.process,M=function(){try{return R&&R.binding&&R.binding("util")}catch(t){}}(),N=M&&M.isTypedArray;function D(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function q(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Q=Array.prototype,B=Function.prototype,j=Object.prototype,z=E["__core-js_shared__"],Z=B.toString,F=j.hasOwnProperty,X=(r=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",V=j.toString,U=RegExp("^"+Z.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=I?E.Buffer:void 0,H=E.Symbol,Y=E.Uint8Array,G=j.propertyIsEnumerable,K=Q.splice,J=H?H.toStringTag:void 0,tt=Object.getOwnPropertySymbols,te=W?W.isBuffer:void 0,tr=(n=Object.keys,i=Object,function(t){return n(i(t))}),tn=tA(E,"DataView"),ti=tA(E,"Map"),to=tA(E,"Promise"),ts=tA(E,"Set"),ta=tA(E,"WeakMap"),tl=tA(Object,"create"),th=tP(tn),tc=tP(ti),tu=tP(to),td=tP(ts),tf=tP(ta),tp=H?H.prototype:void 0,tg=tp?tp.valueOf:void 0;function tm(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function tv(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ty(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function tb(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new ty;++e<r;)this.add(t[e])}function tO(t){var e=this.__data__=new tv(t);this.size=e.size}function tw(t,e){for(var r=t.length;r--;)if(tI(t[r][0],e))return r;return -1}function tx(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":J&&J in Object(t)?function(t){var e=F.call(t,J),r=t[J];try{t[J]=void 0;var n=!0}catch(t){}var i=V.call(t);return n&&(e?t[J]=r:delete t[J]),i}(t):V.call(t)}function t_(t){return tq(t)&&tx(t)==s}function tk(t,e,r,n,i,o){var s=1&r,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var c=-1,u=!0,d=2&r?new tb:void 0;for(o.set(t,e),o.set(e,t);++c<a;){var f=t[c],p=e[c];if(n)var g=s?n(p,f,c,e,t,o):n(f,p,c,t,e,o);if(void 0!==g){if(g)continue;u=!1;break}if(d){if(!function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}(e,function(t,e){if(!d.has(e)&&(f===t||i(f,t,r,n,o)))return d.push(e)})){u=!1;break}}else if(!(f===p||i(f,p,r,n,o))){u=!1;break}}return o.delete(t),o.delete(e),u}function tS(t){var e;return e=function(t){return null!=t&&tL(t.length)&&!tD(t)?function(t,e){var r,n=tM(t),i=!n&&tR(t),o=!n&&!i&&tN(t),s=!n&&!i&&!o&&tQ(t),a=n||i||o||s,l=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],h=l.length;for(var c in t)F.call(t,c)&&!(a&&("length"==c||o&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||(r=null==(r=h)?0x1fffffffffffff:r)&&("number"==typeof c||k.test(c))&&c>-1&&c%1==0&&c<r))&&l.push(c);return l}(t):function(t){if(e=t&&t.constructor,t!==("function"==typeof e&&e.prototype||j))return tr(t);var e,r=[];for(var n in Object(t))F.call(t,n)&&"constructor"!=n&&r.push(n);return r}(t)}(t),tM(t)?e:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(e,tE(t))}function tC(t,e){var r,n=t.__data__;return("string"==(r=typeof e)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?n["string"==typeof e?"string":"hash"]:n.map}function tA(t,e){var r=null==t?void 0:t[e];return!(!t$(r)||X&&X in r)&&(tD(r)?U:x).test(tP(r))?r:void 0}tm.prototype.clear=function(){this.__data__=tl?tl(null):{},this.size=0},tm.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},tm.prototype.get=function(t){var e=this.__data__;if(tl){var r=e[t];return r===o?void 0:r}return F.call(e,t)?e[t]:void 0},tm.prototype.has=function(t){var e=this.__data__;return tl?void 0!==e[t]:F.call(e,t)},tm.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=tl&&void 0===e?o:e,this},tv.prototype.clear=function(){this.__data__=[],this.size=0},tv.prototype.delete=function(t){var e=this.__data__,r=tw(e,t);return!(r<0)&&(r==e.length-1?e.pop():K.call(e,r,1),--this.size,!0)},tv.prototype.get=function(t){var e=this.__data__,r=tw(e,t);return r<0?void 0:e[r][1]},tv.prototype.has=function(t){return tw(this.__data__,t)>-1},tv.prototype.set=function(t,e){var r=this.__data__,n=tw(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},ty.prototype.clear=function(){this.size=0,this.__data__={hash:new tm,map:new(ti||tv),string:new tm}},ty.prototype.delete=function(t){var e=tC(this,t).delete(t);return this.size-=e?1:0,e},ty.prototype.get=function(t){return tC(this,t).get(t)},ty.prototype.has=function(t){return tC(this,t).has(t)},ty.prototype.set=function(t,e){var r=tC(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},tb.prototype.add=tb.prototype.push=function(t){return this.__data__.set(t,o),this},tb.prototype.has=function(t){return this.__data__.has(t)},tO.prototype.clear=function(){this.__data__=new tv,this.size=0},tO.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},tO.prototype.get=function(t){return this.__data__.get(t)},tO.prototype.has=function(t){return this.__data__.has(t)},tO.prototype.set=function(t,e){var r=this.__data__;if(r instanceof tv){var n=r.__data__;if(!ti||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ty(n)}return r.set(t,e),this.size=r.size,this};var tE=tt?function(t){return null==t?[]:function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}(tt(t=Object(t)),function(e){return G.call(t,e)})}:function(){return[]},tT=tx;function tP(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function tI(t,e){return t===e||t!=t&&e!=e}(tn&&tT(new tn(new ArrayBuffer(1)))!=w||ti&&tT(new ti)!=d||to&&tT(to.resolve())!=g||ts&&tT(new ts)!=v||ta&&tT(new ta)!=b)&&(tT=function(t){var e=tx(t),r=e==p?t.constructor:void 0,n=r?tP(r):"";if(n)switch(n){case th:return w;case tc:return d;case tu:return g;case td:return v;case tf:return b}return e});var tR=t_(function(){return arguments}())?t_:function(t){return tq(t)&&F.call(t,"callee")&&!G.call(t,"callee")},tM=Array.isArray,tN=te||function(){return!1};function tD(t){if(!t$(t))return!1;var e=tx(t);return e==u||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function tL(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=0x1fffffffffffff}function t$(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function tq(t){return null!=t&&"object"==typeof t}var tQ=N?function(t){return N(t)}:function(t){return tq(t)&&tL(t.length)&&!!S[tx(t)]};t.exports=function(t,e){return function t(e,r,n,i,o){return e===r||(null!=e&&null!=r&&(tq(e)||tq(r))?function(t,e,r,n,i,o){var u=tM(t),g=tM(e),b=u?a:tT(t),x=g?a:tT(e);b=b==s?p:b,x=x==s?p:x;var k=b==p,S=x==p,C=b==x;if(C&&tN(t)){if(!tN(e))return!1;u=!0,k=!1}if(C&&!k)return o||(o=new tO),u||tQ(t)?tk(t,e,r,n,i,o):function(t,e,r,n,i,o,s){switch(r){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case O:if(t.byteLength!=e.byteLength||!o(new Y(t),new Y(e)))break;return!0;case l:case h:case f:return tI(+t,+e);case c:return t.name==e.name&&t.message==e.message;case m:case y:return t==e+"";case d:var a=D;case v:var u=1&n;if(a||(a=q),t.size!=e.size&&!u)break;var p=s.get(t);if(p)return p==e;n|=2,s.set(t,e);var g=tk(a(t),a(e),n,i,o,s);return s.delete(t),g;case"[object Symbol]":if(tg)return tg.call(t)==tg.call(e)}return!1}(t,e,b,r,n,i,o);if(!(1&r)){var A=k&&F.call(t,"__wrapped__"),E=S&&F.call(e,"__wrapped__");if(A||E){var T=A?t.value():t,P=E?e.value():e;return o||(o=new tO),i(T,P,r,n,o)}}return!!C&&(o||(o=new tO),function(t,e,r,n,i,o){var s=1&r,a=tS(t),l=a.length;if(l!=tS(e).length&&!s)return!1;for(var h=l;h--;){var c=a[h];if(!(s?c in e:F.call(e,c)))return!1}var u=o.get(t);if(u&&o.get(e))return u==e;var d=!0;o.set(t,e),o.set(e,t);for(var f=s;++h<l;){var p=t[c=a[h]],g=e[c];if(n)var m=s?n(g,p,c,e,t,o):n(p,g,c,t,e,o);if(!(void 0===m?p===g||i(p,g,r,n,o):m)){d=!1;break}f||(f="constructor"==c)}if(d&&!f){var v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o))}(e,r,n,i,t,o):e!=e&&r!=r)}(t,e)}}),eS("7oxl9",function(t,e){p(t.exports,"Color",()=>n),p(t.exports,"darker",()=>i),p(t.exports,"brighter",()=>o),p(t.exports,"default",()=>O),p(t.exports,"hslConvert",()=>M),p(t.exports,"Rgb",()=>C),p(t.exports,"rgbConvert",()=>k),p(t.exports,"rgb",()=>S),p(t.exports,"hsl",()=>N);var r=ek("k5U0o");function n(){}var i=.7,o=1.4285714285714286,s="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3,8})$/,c=RegExp(`^rgb\\(${s},${s},${s}\\)$`),u=RegExp(`^rgb\\(${l},${l},${l}\\)$`),d=RegExp(`^rgba\\(${s},${s},${s},${a}\\)$`),f=RegExp(`^rgba\\(${l},${l},${l},${a}\\)$`),g=RegExp(`^hsl\\(${a},${l},${l}\\)$`),m=RegExp(`^hsla\\(${a},${l},${l},${a}\\)$`),v={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function O(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=h.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?w(e):3===r?new C(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?x(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?x(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=c.exec(t))?new C(e[1],e[2],e[3],1):(e=u.exec(t))?new C(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?x(e[1],e[2],e[3],e[4]):(e=f.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=g.exec(t))?R(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?R(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?w(v[t]):"transparent"===t?new C(NaN,NaN,NaN,0):null}function w(t){return new C(t>>16&255,t>>8&255,255&t,1)}function x(t,e,r,n){return n<=0&&(t=e=r=NaN),new C(t,e,r,n)}function k(t){return(t instanceof n||(t=O(t)),t)?new C((t=t.rgb()).r,t.g,t.b,t.opacity):new C}function S(t,e,r,n){return 1==arguments.length?k(t):new C(t,e,r,null==n?1:n)}function C(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function A(){return`#${I(this.r)}${I(this.g)}${I(this.b)}`}function E(){let t=T(this.opacity);return`${1===t?"rgb(":"rgba("}${P(this.r)}, ${P(this.g)}, ${P(this.b)}${1===t?")":`, ${t})`}`}function T(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function P(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function I(t){return((t=P(t))<16?"0":"")+t.toString(16)}function R(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new D(t,e,r,n)}function M(t){if(t instanceof D)return new D(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=O(t)),!t)return new D;if(t instanceof D)return t;var e=(t=t.rgb()).r/255,r=t.g/255,i=t.b/255,o=Math.min(e,r,i),s=Math.max(e,r,i),a=NaN,l=s-o,h=(s+o)/2;return l?(a=e===s?(r-i)/l+(r<i)*6:r===s?(i-e)/l+2:(e-r)/l+4,l/=h<.5?s+o:2-s-o,a*=60):l=h>0&&h<1?0:a,new D(a,l,h,t.opacity)}function N(t,e,r,n){return 1==arguments.length?M(t):new D(t,e,r,null==n?1:n)}function D(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function q(t){return(t=(t||0)%360)<0?t+360:t}function Q(t){return Math.max(0,Math.min(1,t||0))}function B(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}(0,r.default)(n,O,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return M(this).formatHsl()},formatRgb:b,toString:b}),(0,r.default)(C,S,(0,r.extend)(n,{brighter(t){return t=null==t?o:Math.pow(o,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?i:Math.pow(i,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new C(P(this.r),P(this.g),P(this.b),T(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatHex8:function(){return`#${I(this.r)}${I(this.g)}${I(this.b)}${I((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:E,toString:E})),(0,r.default)(D,N,(0,r.extend)(n,{brighter(t){return t=null==t?o:Math.pow(o,t),new D(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?i:Math.pow(i,t),new D(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new C(B(t>=240?t-240:t+120,i,n),B(t,i,n),B(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new D(q(this.h),Q(this.s),Q(this.l),T(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=T(this.opacity);return`${1===t?"hsl(":"hsla("}${q(this.h)}, ${100*Q(this.s)}%, ${100*Q(this.l)}%${1===t?")":`, ${t})`}`}}))}),eS("k5U0o",function(t,e){function r(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function n(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}p(t.exports,"default",()=>r),p(t.exports,"extend",()=>n)}),(QF||(QF={})).play=t=>{if(i&&t in i)return!1;{let e=new Audio(t);return i||(i={}),i[t]=e,e.onended=()=>{delete i[t]},e.play(),!0}},(qY=QX||(QX={}))[qY.XSmall=0]="XSmall",qY[qY.Small=1]="Small",qY[qY.Medium=2]="Medium",qY[qY.Large=3]="Large",qY[qY.XLarge=4]="XLarge",(qG=QV||(QV={}))[qG.Portrait=0]="Portrait",qG[qG.Landscape=1]="Landscape",qK=QU||(QU={}),qJ=new class{getDeviceSize(){let t=window.innerWidth;return t<576?QX.XSmall:t>=576&&t<768?QX.Small:t>=768&&t<992?QX.Medium:t>=992&&t<1200?QX.Large:QX.XLarge}getOrientation(){return window.innerWidth>window.innerHeight?QV.Landscape:QV.Portrait}updateDeviceSize(){this.currentDeviceSize=this.getDeviceSize(),this.currentOrientation=this.getOrientation(),this.resizeListeners.forEach(t=>t())}updateOrientation(){this.currentOrientation=this.getOrientation(),this.orientationListeners.forEach(t=>t())}addResizeListener(t){this.resizeListeners.push(t)}removeResizeListener(t){this.resizeListeners=this.resizeListeners.filter(e=>e!==t)}addOrientationListener(t){this.orientationListeners.push(t)}removeOrientationListener(t){this.orientationListeners=this.orientationListeners.filter(e=>e!==t)}constructor(){this.resizeListeners=[],this.orientationListeners=[],this.currentDeviceSize=this.getDeviceSize(),this.currentOrientation=this.getOrientation(),window.addEventListener("resize",this.updateDeviceSize.bind(this)),window.addEventListener("orientationchange",this.updateOrientation.bind(this))}},qK.getDeviceSize=()=>qJ.currentDeviceSize,qK.getOrientation=()=>qJ.currentOrientation,qK.addResizeListener=t=>{qJ.addResizeListener(t)},qK.removeResizeListener=t=>{qJ.removeResizeListener(t)},qK.addOrientationListener=t=>{qJ.addOrientationListener(t)},qK.removeOrientationListener=t=>{qJ.removeOrientationListener(t)};class eC{start(){var t,e;if(0===this.steps.length){console.error("No steps provided for the guide.");return}null===(t=(e=this.options).onStart)||void 0===t||t.call(e),this.createOverlay(),this.showStep(0),this.bindKeyboardEvents()}end(){var t,e;null===(t=(e=this.options).onEnd)||void 0===t||t.call(e),this.removeOverlay(),this.unbindKeyboardEvents()}createOverlay(){let t=document.createElement("div");t.className="visual-guide-overlay";let e=`
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-family: Arial, sans-serif;
      `;t.style.cssText=e,document.body.appendChild(t),this.overlay=t}showStep(t){var e,r,n;if(!this.overlay||t<0||t>=this.steps.length)return;this.overlay.innerHTML="",this.currentStepIndex=t;let i=this.steps[t],o=document.querySelector(i.selector).getBoundingClientRect(),s=document.createElement("div");s.className="visual-guide-highlight";let a=`
        position: absolute;
        top: ${o.top}px;
        left: ${o.left}px;
        width: ${o.width}px;
        height: ${o.height}px;
        border: 2px solid #fff;
        box-shadow: 0 0 10px #fff;
        pointer-events: none;
      `;s.style.cssText=a;let l=document.createElement("div");l.className="visual-guide-tooltip";let h=`
        position: absolute;
        top: ${o.bottom+10}px;
        left: ${o.left}px;
        background: #333;
        padding: 10px 15px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        z-index: 10000;
      `;l.style.cssText=h,l.innerHTML=`
        <h3>${i.title}</h3>
        <p>${i.description}</p>
        <div>
          <button id="visual-guide-prev">Previous</button>
          <button id="visual-guide-next">Next</button>
          <button id="visual-guide-end">End</button>
        </div>
      `,this.overlay.appendChild(s),this.overlay.appendChild(l),null===(e=document.getElementById("visual-guide-prev"))||void 0===e||e.addEventListener("click",()=>this.prevStep()),null===(r=document.getElementById("visual-guide-next"))||void 0===r||r.addEventListener("click",()=>this.nextStep()),null===(n=document.getElementById("visual-guide-end"))||void 0===n||n.addEventListener("click",()=>this.end())}nextStep(){var t,e;null===(t=(e=this.options).onNext)||void 0===t||t.call(e,this.currentStepIndex),this.showStep(this.currentStepIndex+1)}prevStep(){var t,e;null===(t=(e=this.options).onPrev)||void 0===t||t.call(e,this.currentStepIndex),this.showStep(this.currentStepIndex-1)}bindKeyboardEvents(){document.addEventListener("keydown",this.handleKeyboardNavigation)}unbindKeyboardEvents(){document.removeEventListener("keydown",this.handleKeyboardNavigation)}removeOverlay(){this.overlay&&(document.body.removeChild(this.overlay),this.overlay=null)}constructor(t,e={}){this.currentStepIndex=0,this.overlay=null,this.handleKeyboardNavigation=t=>{switch(t.key){case"ArrowRight":this.nextStep();break;case"ArrowLeft":this.prevStep();break;case"Escape":this.end()}},this.steps=t,this.options=e}}function eA(t,e=!0){let r=getComputedStyle(document.body).getPropertyValue(`--icon-${t}`);if(r){let t=RegExp("(?<=url\\().*(?=\\))").exec(r)[0].split(",");if(t.length>1){let r=decodeURIComponent(t[1]).replaceAll("\\","");return e?r:$(r)[0].innerHTML}}return""}(q0=QW||(QW={})).start=(t,e)=>{q1?q1.start():(q1=new eC(t,e)).start()},q0.end=()=>{q1.end()};let eE=[{code:"tt",icon:"tikTok"},{code:"yt",icon:"youtube",color:"red"},{code:"e",icon:"envelope"},{code:"t",icon:"phone"},{code:"w",icon:"globe"},{code:"x",icon:"x"},{code:"fb",icon:"facebook",color:"blue"},{code:"bs",icon:"bluesky",color:"blue"},{code:"wa",icon:"whatsapp",color:"green"}];function eT(t=null){for(let e of t?[t]:Array.from(document.querySelectorAll("ul")))for(let t of Array.from(e.querySelectorAll("li")))for(let e of eE.map(t=>({pattern:new RegExp("^(CODE) ?([\\w-]*)?: ?(\\(.*\\))?".replace("CODE",t.code)),icon:t.icon,color:t.color})))if(t.innerHTML.match(e.pattern)){let r=`<span class="icon sm ${e.icon}"></span>`;e.color&&(r=`<span class="icon sm ${e.icon} background-${e.color}"></span>`),t.innerHTML=t.innerHTML.replace(e.pattern,(t,n,i,o)=>{let s=r;return i&&(s=i.includes("background")?`<span class="icon sm ${e.icon} ${i}"></span>`:`<span class="icon sm ${e.icon} background-${i}"></span>`),o&&(s=`<a href="${o}">${s}</a>`),s})}}(q2=QH||(QH={})).exists=function(t,e=null){console.log(window.document.body);let r=e?getComputedStyle(e):getComputedStyle(window.document.body);console.log(r);let n=r.getPropertyValue(`--icon-${t}`);return console.log(n),!!n&&(console.log(`Icon ${t} exists`),!0)},q2.get=eA,q2.use=function(t,e=!0){let r=$("#juel-icons");if(r.length<=0&&((r=$('<section id="juel-icons" />')).css("visible","hidden"),r.prependTo(document.body)),r.children(`#icon-${t}-container`).length<=0){let e=eA(t);if(e){let n=$(e),i=n.attr("viewBox");n.children(`#icon-${t}`).length<=0&&n.children().wrapAll($(`<symbol id="icon-${t}" />`).attr("viewBox",i)),n.attr("id",`icon-${t}-container`),n.appendTo(r),console.log(n.html())}}return e?`<svg><use href="#icon-${t}"></svg>`:`<use href="#icon-${t}">`},q2.iconify=eT,(q3=QY||(QY={}))[q3.OK=0]="OK",q3[q3.OKCancel=1]="OKCancel",q3[q3.AbortRetryIgnore=2]="AbortRetryIgnore",q3[q3.YesNoCancel=3]="YesNoCancel",q3[q3.YesNo=4]="YesNo",q3[q3.RetryCancel=5]="RetryCancel",q3[q3.Success=6]="Success",(q4=QG||(QG={}))[q4.None=0]="None",q4[q4.OK=1]="OK",q4[q4.Cancel=2]="Cancel",q4[q4.Yes=3]="Yes",q4[q4.No=4]="No";var eP={};function eI(t,e,r){return t.labels&&e in t.labels?t.labels.ok:r}eP[QY.OK]=function(t,e,r,n){let i=eI(t,"ok","OK"),o=$(`<juel-button label="${i}" style="flex-basis: 100%;padding: .25rem;"></juel-button>`);$(o).on("button-clicked keyup",()=>{r({status:QG.OK,value:t.value}),e.remove()}),e.find("#dialog-body").append(o)},eP[QY.OKCancel]=function(t,e,r,n){let i=eI(t,"ok","OK"),o=eI(t,"cancel","Cancel"),s=$(`<div style="flex-basis: 100%;padding: .25rem;"><juel-button id="ok" label="${i}"></juel-button><juel-button id="cancel" label="${o}></juel-button></div>`),a=()=>{r({status:QG.Cancel}),e.remove()};e.find("#dialog").on("keyup",t=>{"Escape"==t.key&&a()}),s.find("#ok").on("button-clicked",()=>{r({status:QG.OK,value:t.value}),e.remove()}),s.find("#cancel").on("button-clicked",a),e.find("#dialog-body").append(s)},eP[QY.Success]=function(t,e,r,n){let i=eI(t,"success","Success"),o=$(`<juel-button label="${i}" style="--background: var(--success);flex-basis: 100%;padding: .25rem;"></juel-button>`);o.on("button-clicked",()=>{r({status:QG.OK,value:t.value}),e.remove()}),e.find("#dialog-body").append(o)},eP[QY.YesNo]=function(t,e,r,n){let i=eI(t,"yes","Yes"),o=eI(t,"no","No"),s=$(`<div style="flex-basis: 100%;padding: .25rem;"><juel-button id="yes" style="--background: --success" label="${i}"></juel-button><juel-button id="no" style="--background: --danger" label="${o}"></juel-button></div>`);s.find("#yes").on("button-clicked",()=>{r({status:QG.Yes,value:t.value}),e.remove()}),s.find("#no").on("button-clicked",()=>{r({status:QG.No,value:t.value}),e.remove()}),e.find("#dialog-body").append(s)},eP[QY.YesNoCancel]=function(t,e,r,n){let i=eI(t,"yes","Yes"),o=eI(t,"no","No"),s=eI(t,"cancel","Cancel"),a=$(`<div style="flex-basis: 100%;padding: .25rem;"><juel-button id="yes" style="--background: --success" label="${i}"></juel-button><juel-button id="no" style="--background: --danger" label="${o}"></juel-button><juel-button id="cancel" label="${s}"></juel-button></div>`);a.find("#yes").on("button-clicked",()=>{r({status:QG.Yes,value:t.value}),e.remove()}),a.find("#no").on("button-clicked",()=>{r({status:QG.No}),e.remove()}),a.find("#cancel").on("button-clicked",()=>{r({status:QG.Cancel,value:t.value}),e.remove()}),e.find("#dialog-body").append(a)},eP[QY.RetryCancel]=function(t,e,r,n){let i=eI(t,"retry","Retry"),o=eI(t,"cancel","Cancel"),s=$(`<div style="flex-basis: 100%;padding: .25rem;"><juel-button id="retry" style="--background: --success" label="${i}"></juel-button><juel-button id="cancel" label="${o}"></juel-button></div>`);s.find("#retry").on("button-clicked",()=>{r({status:QG.Yes,value:t.value}),e.remove()}),s.find("#cancel").on("button-clicked",()=>{r({status:QG.Cancel,value:t.value}),e.remove()}),e.find("#dialog-body").append(s)},eP[QY.AbortRetryIgnore]=function(t,e,r,n){let i=eI(t,"abort","Abort"),o=eI(t,"retry","Retry"),s=eI(t,"cancel","Cancel"),a=$(`<div style="flex-basis: 100%;padding: .25rem;"><juel-button id="abort" style="--background: --danger" label="${i}"></juel-button><juel-button id="retry" style="--background: --success" label="${o}"></juel-button><juel-button id="cancel" label="${s}"></juel-button></div>`);a.find("#abort").on("button-clicked",()=>{r({status:QG.No}),e.remove()}),a.find("#retry").on("button-clicked",()=>{r({status:QG.Yes,value:t.value}),e.remove()}),a.find("#cancel").on("button-clicked",()=>{r({status:QG.Cancel,value:t.value}),e.remove()}),e.find("#dialog-body").append(a)},(q5=QK||(QK={}))[q5.Asterisk=0]="Asterisk",q5[q5.Error=1]="Error",q5[q5.Exclamation=2]="Exclamation",q5[q5.Hand=3]="Hand",q5[q5.Information=4]="Information",q5[q5.Question=5]="Question",q5[q5.Stop=6]="Stop",q5[q5.Success=7]="Success",q5[q5.Warning=8]="Warning";var eR={};function eM(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}eR[QK.Asterisk]=(t,e)=>{let r=$(QH.get("asterisk"));e.find("#dialog-body").append(r)},eR[QK.Error]=(t,e)=>{let r=$(QH.get("error"));e.find("#dialog-body").append(r)},eR[QK.Exclamation]=(t,e)=>{let r=$(QH.get("exclamation"));e.find("#dialog-body").append(r)},eR[QK.Hand]=(t,e)=>{let r=$(QH.get("hand"));e.find("#dialog-body").append(r)},eR[QK.Information]=(t,e)=>{let r=$(QH.get("info"));e.find("#dialog-body").append(r)},eR[QK.Question]=(t,e)=>{let r=$(QH.get("question"));e.find("#dialog-body").append(r)},eR[QK.Stop]=(t,e)=>{let r=$(QH.get("stop"));e.find("#dialog-body").append(r)},eR[QK.Success]=(t,e)=>{let r=$(QH.get("success"));e.find("#dialog-body").append(r)},eR[QK.Warning]=(t,e)=>{let r=$(QH.get("warning"));e.find("#dialog-body").append(r)},(q6=QJ||(QJ={})).ButtonClick="button-click",q6.ItemClick="item-click",q6.TitleClick="title-click",q6.PreviousClick="previous-click",q6.NextClick="next-click",q6.Changed="changed",q6.ValueChanged="value-changed",q6.Selected="selected",q6.Deselected="deselected",q6.Disposed="disposed",q6.ItemSelected="item-selected",q6.Tick="tick",q6.End="end";var eN={};eN.text=(t,e,r)=>{var n,i;let o;(o=r?$(`<juel-text style="flex-basis: 100%" label="${eM(r.name)}" value="${null!==(i=r.value)&&void 0!==i?i:""}"></juel-text>`):$(`<juel-text style="flex-basis: 100%" value="${null!==(n=t.value)&&void 0!==n?n:""}"></juel-text>`)).on(QJ.ValueChanged,e=>{if(r){let n={};n[r.name]=e.detail.value,t.value=$.extend({},t.value,n)}else t.value=e.detail.value}),e.find("#dialog-body").append(o)};var eD={};eD="#overlay{pointer-events:none;z-index:101;background-color:rgba(58,71,77,.26);justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:fixed;top:0;left:0}#dialog{pointer-events:all;z-index:101;background-color:#fff;border-radius:4px;flex-direction:column;max-height:100%;display:flex;position:absolute;overflow:hidden;box-shadow:0 22px 64px rgba(0,0,0,.22)}#dialog-title{background-color:rgba(243,245,247,.56);border-bottom:none;padding:.6875rem 1.25rem;font-size:1.25rem;line-height:1.875rem}#dialog-title .close{float:right;background-image:var(--icon-close);background-position:50%;background-repeat:no-repeat;width:26px;height:26px;margin-top:3%}#dialog-body,#dialog-body>form{flex-wrap:wrap;align-items:center;padding:.5rem;display:flex}#dialog-body svg,#dialog-body>form svg{flex:1;max-width:64px;max-height:64px;padding:.5rem}",q8=Q0||(Q0={}),o=!1,q8.error=(t,e=null)=>{let r={title:null!=e?e:"Error",text:t,icon:QK.Error};return q8.show(r)},q8.success=(t,e)=>{let r={title:null!=e?e:"Success",text:t,icon:QK.Success,buttons:QY.Success};return q8.show(r)},q8.warning=(t,e)=>{let r={title:null!=e?e:"Warning",text:t,icon:QK.Warning};return q8.show(r)},q8.question=(t,e)=>{let r={title:null!=e?e:"Question",text:t,icon:QK.Question,buttons:QY.YesNo};return q8.show(r)},q8.show=t=>{if(!o)return o=!0,new Promise((e,r)=>{let n=t=>{o=!1,e(t)},i=$(`<style>${/*@__PURE__*/ew(eD)}</style><div id="overlay">
        <div id="dialog">
        <div id="dialog-title">
        <span>${t.title}</span>
        </div>
        <div id="dialog-body">
        ${t.text?`<p>${t.text}</p>`:""}
        </div>
        </div>
        </div>`),s=!1;if("icon"in t&&t.icon in eR&&eR[t.icon](t,i),"prompt"in t?(s=!0,"color"==t.prompt.prompt&&(t.prompt.prompt="colour"),t.prompt.fields&&t.prompt.fields.length>0?t.prompt.fields.forEach(e=>{eN[e.type](t,i,e)}):t.prompt.prompt in eN&&eN[t.prompt.prompt](t,i)):s=!1,"buttons"in t?t.buttons in eP&&eP[t.buttons](t,i,n,r):eP[QY.OK](t,i,n,r),!1==s&&i.find("juel-button").trigger("focus"),t.close&&!0==t.close){let t=$('<div class="close"></div>');t.on("click",()=>{i.remove(),n(0)}),i.find("#dialog-title").append(t)}$(document.body).append(i)})};var eL={};eL="@keyframes fade-in-out{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes fade-out{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}#toast-container div{transition:opacity .3s,transform .3s}";class e${initContainer(){this.container||(this.container=document.createElement("div"),this.container.id="toast-container",this.container.style.position="fixed",this.container.style.bottom="20px",this.container.style.right="20px",this.container.style.zIndex="1000",this.container.style.display="flex",this.container.style.flexDirection="column",this.container.style.gap="10px",document.body.appendChild(this.container))}initStyles(){let t=document.head.querySelector("#juel-toast-styles");t||((t=document.createElement("style")).id="juel-toast-styles",t.textContent=/*@__PURE__*/ew(eL),document.head.append(t))}show({message:t,duration:e=3e3,type:r="info"}){var n;let i=document.createElement("div");switch(i.innerText=t,i.style.padding="10px 20px",i.style.color="#fff",i.style.borderRadius="5px",i.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",i.style.fontSize="14px",i.style.animation="fade-in-out 0.3s ease",r){case"success":i.style.backgroundColor="#4caf50";break;case"error":i.style.backgroundColor="#f44336";break;case"warning":i.style.backgroundColor="#ff9800";break;default:i.style.backgroundColor="#2196f3"}null===(n=this.container)||void 0===n||n.appendChild(i),setTimeout(()=>{i.style.animation="fade-out 0.3s ease",setTimeout(()=>{i.remove()},300)},e)}constructor(){this.container=null,this.initStyles(),this.initContainer()}}function eq(t){return t.split("").reverse().join("")}(q7=Q1||(Q1={})).show=t=>{new e$().show(t)},q7.into=t=>{new e$().show({message:t,type:"info"})},q7.success=t=>{new e$().show({message:t,type:"success",duration:5e3})},q7.warning=t=>{new e$().show({message:t,type:"warning"})},q7.error=t=>{new e$().show({message:t,type:"error"})},(q9=Q2||(Q2={})).params=new Proxy(new URLSearchParams(window.location.search),{get:(t,e)=>t.get(e)}),q9.audio=QF,q9.icon=QH,q9.messageBox=Q0,q9.toast=Q1,q9.guide=QW,q9.device=QU,window.reverseString=eq,window.mailToReverse=function(t=null){this&&(t||(t=this.dataset&&this.dataset.email?this.dataset.email:this.textContent),location.href=`mailto:${window.reverseString(t)}`)},function(t){var e;function r(t){if(e)for(let r in e)(0,e[r])(t)}t.appendDocumentClick=(t,r)=>{e||(e={}),t in e||(e[t]=r)},t.removeDocumentClick=t=>{e&&t in e&&delete e[t]},t.documentClick=()=>{document.addEventListener("click",r)}}(Q3||(Q3={}));var eQ={};Qt="undefined"!=typeof window?window:eQ,Qe=function(t,e){var r,n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},a=n.push,l=n.indexOf,h={},c=h.toString,u=h.hasOwnProperty,d=u.toString,f=d.call(Object),p={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},m=function(t){return null!=t&&t===t.window},v=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,r){var n,i,o=(r=r||v).createElement("script");if(o.text=t,e)for(n in y)(i=e[n]||e.getAttribute&&e.getAttribute(n))&&o.setAttribute(n,i);r.head.appendChild(o).parentNode.removeChild(o)}function O(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[c.call(t)]||"object":typeof t}var w="3.7.1",x=/HTML$/i,k=function(t,e){return new k.fn.init(t,e)};function S(t){var e=!!t&&"length"in t&&t.length,r=O(t);return!(g(t)||m(t))&&("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t)}function C(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}k.fn=k.prototype={jquery:w,constructor:k,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,function(e,r){return t.call(e,r,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},k.extend=k.fn.extend=function(){var t,e,r,n,i,o,s=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&s!==n&&(h&&n&&(k.isPlainObject(n)||(i=Array.isArray(n)))?(r=s[e],o=i&&!Array.isArray(r)?[]:i||k.isPlainObject(r)?r:{},i=!1,s[e]=k.extend(h,o,n)):void 0!==n&&(s[e]=n));return s},k.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw Error(t)},noop:function(){},isPlainObject:function(t){var e,r;return!!t&&"[object Object]"===c.call(t)&&(!(e=i(t))||"function"==typeof(r=u.call(e,"constructor")&&e.constructor)&&d.call(r)===f)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,r){b(t,{nonce:e&&e.nonce},r)},each:function(t,e){var r,n=0;if(S(t))for(r=t.length;n<r&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},text:function(t){var e,r="",n=0,i=t.nodeType;if(!i)for(;e=t[n++];)r+=k.text(e);return 1===i||11===i?t.textContent:9===i?t.documentElement.textContent:3===i||4===i?t.nodeValue:r},makeArray:function(t,e){var r=e||[];return null!=t&&(S(Object(t))?k.merge(r,"string"==typeof t?[t]:t):a.call(r,t)),r},inArray:function(t,e,r){return null==e?-1:l.call(e,t,r)},isXMLDoc:function(t){var e=t&&t.namespaceURI,r=t&&(t.ownerDocument||t).documentElement;return!x.test(e||r&&r.nodeName||"HTML")},merge:function(t,e){for(var r=+e.length,n=0,i=t.length;n<r;n++)t[i++]=e[n];return t.length=i,t},grep:function(t,e,r){for(var n=[],i=0,o=t.length,s=!r;i<o;i++)!e(t[i],i)!==s&&n.push(t[i]);return n},map:function(t,e,r){var n,i,o=0,a=[];if(S(t))for(n=t.length;o<n;o++)null!=(i=e(t[o],o,r))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,r))&&a.push(i);return s(a)},guid:1,support:p}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=n[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){h["[object "+e+"]"]=e.toLowerCase()});var A=n.pop,E=n.sort,T=n.splice,P="[\\x20\\t\\r\\n\\f]",I=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");k.contains=function(t,e){var r=e&&e.parentNode;return t===r||!!(r&&1===r.nodeType&&(t.contains?t.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function M(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}k.escapeSelector=function(t){return(t+"").replace(R,M)},function(){var e,r,i,s,h,c,d,f,g,m,y=a,b=k.expando,O=0,w=0,x=tn(),S=tn(),R=tn(),M=tn(),N=function(t,e){return t===e&&(h=!0),0},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",q="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Q="\\["+P+"*("+q+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+P+"*\\]",B=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Q+")*)|.*)\\)|)",j=RegExp(P+"+","g"),z=RegExp("^"+P+"*,"+P+"*"),Z=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),F=RegExp(P+"|>"),X=new RegExp(B),V=RegExp("^"+q+"$"),U={ID:RegExp("^#("+q+")"),CLASS:RegExp("^\\.("+q+")"),TAG:RegExp("^("+q+"|[*])"),ATTR:RegExp("^"+Q),PSEUDO:RegExp("^"+B),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+D+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,H=/^h\d$/i,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/[+~]/,K=RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),J=function(t,e){var r="0x"+t.slice(1)-65536;return e||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},tt=function(){th()},te=tf(function(t){return!0===t.disabled&&C(t,"fieldset")},{dir:"parentNode",next:"legend"});try{y.apply(n=o.call(v.childNodes),v.childNodes),n[v.childNodes.length].nodeType}catch(t){y={apply:function(t,e){a.apply(t,o.call(e))},call:function(t){a.apply(t,o.call(arguments,1))}}}function tr(t,e,r,n){var i,o,s,a,l,h,u,d=e&&e.ownerDocument,m=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return r;if(!n&&(th(e),e=e||c,f)){if(11!==m&&(l=Y.exec(t))){if(i=l[1]){if(9===m){if(!(s=e.getElementById(i)))return r;if(s.id===i)return y.call(r,s),r}else if(d&&(s=d.getElementById(i))&&tr.contains(e,s)&&s.id===i)return y.call(r,s),r}else if(l[2])return y.apply(r,e.getElementsByTagName(t)),r;else if((i=l[3])&&e.getElementsByClassName)return y.apply(r,e.getElementsByClassName(i)),r}if(!M[t+" "]&&(!g||!g.test(t))){if(u=t,d=e,1===m&&(F.test(t)||Z.test(t))){for((d=G.test(t)&&tl(e.parentNode)||e)==e&&p.scope||((a=e.getAttribute("id"))?a=k.escapeSelector(a):e.setAttribute("id",a=b)),o=(h=tu(t)).length;o--;)h[o]=(a?"#"+a:":scope")+" "+td(h[o]);u=h.join(",")}try{return y.apply(r,d.querySelectorAll(u)),r}catch(e){M(t,!0)}finally{a===b&&e.removeAttribute("id")}}}return tv(t.replace(I,"$1"),e,r,n)}function tn(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ti(t){return t[b]=!0,t}function to(t){var e=c.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ts(t){return function(e){if("form"in e)return e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||!t!==e.isDisabled&&te(e)===t:e.disabled===t;return"label"in e&&e.disabled===t}}function ta(t){return ti(function(e){return e=+e,ti(function(r,n){for(var i,o=t([],r.length,e),s=o.length;s--;)r[i=o[s]]&&(r[i]=!(n[i]=r[i]))})})}function tl(t){return t&&void 0!==t.getElementsByTagName&&t}function th(t){var e,n=t?t.ownerDocument||t:v;return n!=c&&9===n.nodeType&&n.documentElement&&(d=(c=n).documentElement,f=!k.isXMLDoc(c),m=d.matches||d.webkitMatchesSelector||d.msMatchesSelector,d.msMatchesSelector&&v!=c&&(e=c.defaultView)&&e.top!==e&&e.addEventListener("unload",tt),p.getById=to(function(t){return d.appendChild(t).id=k.expando,!c.getElementsByName||!c.getElementsByName(k.expando).length}),p.disconnectedMatch=to(function(t){return m.call(t,"*")}),p.scope=to(function(){return c.querySelectorAll(":scope")}),p.cssHas=to(function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}}),p.getById?(r.filter.ID=function(t){var e=t.replace(K,J);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var r=e.getElementById(t);return r?[r]:[]}}):(r.filter.ID=function(t){var e=t.replace(K,J);return function(t){var r=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return r&&r.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var r,n,i,o=e.getElementById(t);if(o){if((r=o.getAttributeNode("id"))&&r.value===t)return[o];for(i=e.getElementsByName(t),n=0;o=i[n++];)if((r=o.getAttributeNode("id"))&&r.value===t)return[o]}return[]}}),r.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},r.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},g=[],to(function(t){var e;d.appendChild(t).innerHTML="<a id='"+b+"' href='' disabled='disabled'></a><select id='"+b+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+D+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll(":checked").length||g.push(":checked"),(e=c.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),(e=c.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+P+"*name"+P+"*="+P+"*(?:''|\"\")")}),p.cssHas||g.push(":has"),g=g.length&&new RegExp(g.join("|")),N=function(t,e){if(t===e)return h=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===r?t===c||t.ownerDocument==v&&tr.contains(v,t)?-1:e===c||e.ownerDocument==v&&tr.contains(v,e)?1:s?l.call(s,t)-l.call(s,e):0:4&r?-1:1)}),c}for(e in tr.matches=function(t,e){return tr(t,null,null,e)},tr.matchesSelector=function(t,e){if(th(t),f&&!M[e+" "]&&(!g||!g.test(e)))try{var r=m.call(t,e);if(r||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){M(e,!0)}return tr(e,c,null,[t]).length>0},tr.contains=function(t,e){return(t.ownerDocument||t)!=c&&th(t),k.contains(t,e)},tr.attr=function(t,e){(t.ownerDocument||t)!=c&&th(t);var n=r.attrHandle[e.toLowerCase()],i=n&&u.call(r.attrHandle,e.toLowerCase())?n(t,e,!f):void 0;return void 0!==i?i:t.getAttribute(e)},tr.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},k.uniqueSort=function(t){var e,r=[],n=0,i=0;if(h=!p.sortStable,s=!p.sortStable&&o.call(t,0),E.call(t,N),h){for(;e=t[i++];)e===t[i]&&(n=r.push(i));for(;n--;)T.call(t,r[n],1)}return s=null,t},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(o.apply(this)))},(r=k.expr={cacheLength:50,createPseudo:ti,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(K,J),t[3]=(t[3]||t[4]||t[5]||"").replace(K,J),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||tr.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&tr.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return U.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&X.test(r)&&(e=tu(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(K,J).toLowerCase();return"*"===t?function(){return!0}:function(t){return C(t,e)}},CLASS:function(t){var e=x[t+" "];return e||(e=RegExp("(^|"+P+")"+t+"("+P+"|$)"),x(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,r){return function(n){var i=tr.attr(n,t);return null==i?"!="===e:!e||((i+="","="===e)?i===r:"!="===e?i!==r:"^="===e?r&&0===i.indexOf(r):"*="===e?r&&i.indexOf(r)>-1:"$="===e?r&&i.slice(-r.length)===r:"~="===e?(" "+i.replace(j," ")+" ").indexOf(r)>-1:"|="===e&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,r,n,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===i?function(t){return!!t.parentNode}:function(e,r,l){var h,c,u,d,f,p=o!==s?"nextSibling":"previousSibling",g=e.parentNode,m=a&&e.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(g){if(o){for(;p;){for(u=e;u=u[p];)if(a?C(u,m):1===u.nodeType)return!1;f=p="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(y=(d=(h=(c=g[b]||(g[b]={}))[t]||[])[0]===O&&h[1])&&h[2],u=d&&g.childNodes[d];u=++d&&u&&u[p]||(y=d=0)||f.pop();)if(1===u.nodeType&&++y&&u===e){c[t]=[O,d,y];break}}else if(v&&(y=d=(h=(c=e[b]||(e[b]={}))[t]||[])[0]===O&&h[1]),!1===y)for(;(u=++d&&u&&u[p]||(y=d=0)||f.pop())&&(!((a?C(u,m):1===u.nodeType)&&++y)||(v&&((c=u[b]||(u[b]={}))[t]=[O,y]),u!==e)););return(y-=i)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||tr.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ti(function(t,r){for(var n,o=i(t,e),s=o.length;s--;)n=l.call(t,o[s]),t[n]=!(r[n]=o[s])}):function(t){return i(t,0,n)}):i}},pseudos:{not:ti(function(t){var e=[],r=[],n=tm(t.replace(I,"$1"));return n[b]?ti(function(t,e,r,i){for(var o,s=n(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,n(e,null,o,r),e[0]=null,!r.pop()}}),has:ti(function(t){return function(e){return tr(t,e).length>0}}),contains:ti(function(t){return t=t.replace(K,J),function(e){return(e.textContent||k.text(e)).indexOf(t)>-1}}),lang:ti(function(t){return V.test(t||"")||tr.error("unsupported lang: "+t),t=t.replace(K,J).toLowerCase(),function(e){var r;do if(r=f?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(r=r.toLowerCase())===t||0===r.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType)return!1}}),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===function(){try{return c.activeElement}catch(t){}}()&&c.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:ts(!1),disabled:ts(!0),checked:function(t){return C(t,"input")&&!!t.checked||C(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return H.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){return C(t,"input")&&"button"===t.type||C(t,"button")},text:function(t){var e;return C(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ta(function(){return[0]}),last:ta(function(t,e){return[e-1]}),eq:ta(function(t,e,r){return[r<0?r+e:r]}),even:ta(function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t}),odd:ta(function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t}),lt:ta(function(t,e,r){var n;for(n=r<0?r+e:r>e?e:r;--n>=0;)t.push(n);return t}),gt:ta(function(t,e,r){for(var n=r<0?r+e:r;++n<e;)t.push(n);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=function(t){return function(e){return C(e,"input")&&e.type===t}}(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=function(t){return function(e){return(C(e,"input")||C(e,"button"))&&e.type===t}}(e);function tc(){}function tu(t,e){var n,i,o,s,a,l,h,c=S[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],h=r.preFilter;a;){for(s in(!n||(i=z.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),n=!1,(i=Z.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(I," ")}),a=a.slice(n.length)),r.filter)(i=U[s].exec(a))&&(!h[s]||(i=h[s](i)))&&(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?tr.error(t):S(t,l).slice(0)}function td(t){for(var e=0,r=t.length,n="";e<r;e++)n+=t[e].value;return n}function tf(t,e,r){var n=e.dir,i=e.next,o=i||n,s=r&&"parentNode"===o,a=w++;return e.first?function(e,r,i){for(;e=e[n];)if(1===e.nodeType||s)return t(e,r,i);return!1}:function(e,r,l){var h,c,u=[O,a];if(l){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,r,l))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(c=e[b]||(e[b]={}),i&&C(e,i))e=e[n]||e;else{if((h=c[o])&&h[0]===O&&h[1]===a)return u[2]=h[2];if(c[o]=u,u[2]=t(e,r,l))return!0}}return!1}}function tp(t){return t.length>1?function(e,r,n){for(var i=t.length;i--;)if(!t[i](e,r,n))return!1;return!0}:t[0]}function tg(t,e,r,n,i){for(var o,s=[],a=0,l=t.length,h=null!=e;a<l;a++)(o=t[a])&&(!r||r(o,n,i))&&(s.push(o),h&&e.push(a));return s}function tm(t,e){var n,o,s,a,h=[],u=[],d=R[t+" "];if(!d){for(e||(e=tu(t)),a=e.length;a--;)(d=function t(e){for(var n,o,s,a=e.length,h=r.relative[e[0].type],c=h||r.relative[" "],u=h?1:0,d=tf(function(t){return t===n},c,!0),f=tf(function(t){return l.call(n,t)>-1},c,!0),p=[function(t,e,r){var o=!h&&(r||e!=i)||((n=e).nodeType?d(t,e,r):f(t,e,r));return n=null,o}];u<a;u++)if(o=r.relative[e[u].type])p=[tf(tp(p),o)];else{if((o=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(s=++u;s<a&&!r.relative[e[s].type];s++);return function t(e,r,n,i,o,s){return i&&!i[b]&&(i=t(i)),o&&!o[b]&&(o=t(o,s)),ti(function(t,s,a,h){var c,u,d,f,p=[],g=[],m=s.length,v=t||function(t,e,r){for(var n=0,i=e.length;n<i;n++)tr(t,e[n],r);return r}(r||"*",a.nodeType?[a]:a,[]),b=e&&(t||!r)?tg(v,p,e,a,h):v;if(n?n(b,f=o||(t?e:m||i)?[]:s,a,h):f=b,i)for(c=tg(f,g),i(c,[],a,h),u=c.length;u--;)(d=c[u])&&(f[g[u]]=!(b[g[u]]=d));if(t){if(o||e){if(o){for(c=[],u=f.length;u--;)(d=f[u])&&c.push(b[u]=d);o(null,f=[],c,h)}for(u=f.length;u--;)(d=f[u])&&(c=o?l.call(t,d):p[u])>-1&&(t[c]=!(s[c]=d))}}else f=tg(f===s?f.splice(m,f.length):f),o?o(null,s,f,h):y.apply(s,f)})}(u>1&&tp(p),u>1&&td(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(I,"$1"),o,u<s&&t(e.slice(u,s)),s<a&&t(e=e.slice(s)),s<a&&td(e))}p.push(o)}return tp(p)}(e[a]))[b]?h.push(d):u.push(d);(d=R(t,(n=h.length>0,o=u.length>0,s=function(t,e,s,a,l){var d,p,g,m=0,v="0",b=t&&[],w=[],x=i,S=t||o&&r.find.TAG("*",l),C=O+=null==x?1:Math.random()||.1,E=S.length;for(l&&(i=e==c||e||l);v!==E&&null!=(d=S[v]);v++){if(o&&d){for(p=0,e||d.ownerDocument==c||(th(d),s=!f);g=u[p++];)if(g(d,e||c,s)){y.call(a,d);break}l&&(O=C)}n&&((d=!g&&d)&&m--,t&&b.push(d))}if(m+=v,n&&v!==m){for(p=0;g=h[p++];)g(b,w,e,s);if(t){if(m>0)for(;v--;)b[v]||w[v]||(w[v]=A.call(a));w=tg(w)}y.apply(a,w),l&&!t&&w.length>0&&m+h.length>1&&k.uniqueSort(a)}return l&&(O=C,i=x),b},n?ti(s):s))).selector=t}return d}function tv(t,e,n,i){var o,s,a,l,h,c="function"==typeof t&&t,u=!i&&tu(t=c.selector||t);if(n=n||[],1===u.length){if((s=u[0]=u[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===e.nodeType&&f&&r.relative[s[1].type]){if(!(e=(r.find.ID(a.matches[0].replace(K,J),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(o=U.needsContext.test(t)?0:s.length;o--&&(a=s[o],!r.relative[l=a.type]);)if((h=r.find[l])&&(i=h(a.matches[0].replace(K,J),G.test(s[0].type)&&tl(e.parentNode)||e))){if(s.splice(o,1),!(t=i.length&&td(s)))return y.apply(n,i),n;break}}return(c||tm(t,u))(i,e,!f,n,!e||G.test(t)&&tl(e.parentNode)||e),n}tc.prototype=r.filters=r.pseudos,r.setFilters=new tc,p.sortStable=b.split("").sort(N).join("")===b,th(),p.sortDetached=to(function(t){return 1&t.compareDocumentPosition(c.createElement("fieldset"))}),k.find=tr,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,tr.compile=tm,tr.select=tv,tr.setDocument=th,tr.tokenize=tu,tr.escape=k.escapeSelector,tr.getText=k.text,tr.isXML=k.isXMLDoc,tr.selectors=k.expr,tr.support=k.support,tr.uniqueSort=k.uniqueSort}();var N=function(t,e,r){for(var n=[],i=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&k(t).is(r))break;n.push(t)}return n},D=function(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r},q=k.expr.match.needsContext,Q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function B(t,e,r){return g(e)?k.grep(t,function(t,n){return!!e.call(t,n,t)!==r}):e.nodeType?k.grep(t,function(t){return t===e!==r}):"string"!=typeof e?k.grep(t,function(t){return l.call(e,t)>-1!==r}):k.filter(e,t,r)}k.filter=function(t,e,r){var n=e[0];return(r&&(t=":not("+t+")"),1===e.length&&1===n.nodeType)?k.find.matchesSelector(n,t)?[n]:[]:k.find.matches(t,k.grep(e,function(t){return 1===t.nodeType}))},k.fn.extend({find:function(t){var e,r,n=this.length,i=this;if("string"!=typeof t)return this.pushStack(k(t).filter(function(){for(e=0;e<n;e++)if(k.contains(i[e],this))return!0}));for(e=0,r=this.pushStack([]);e<n;e++)k.find(t,i[e],r);return n>1?k.uniqueSort(r):r},filter:function(t){return this.pushStack(B(this,t||[],!1))},not:function(t){return this.pushStack(B(this,t||[],!0))},is:function(t){return!!B(this,"string"==typeof t&&q.test(t)?k(t):t||[],!1).length}});var j,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,r){var n,i;if(!t)return this;if(r=r||j,"string"==typeof t){if((n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:z.exec(t))&&(n[1]||!e)){if(!n[1])return(i=v.getElementById(n[2]))&&(this[0]=i,this.length=1),this;if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:v,!0)),Q.test(n[1])&&k.isPlainObject(e))for(n in e)g(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t)}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==r.ready?r.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,j=k(v);var Z=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function X(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),r=e.length;return this.filter(function(){for(var t=0;t<r;t++)if(k.contains(this,e[t]))return!0})},closest:function(t,e){var r,n=0,i=this.length,o=[],s="string"!=typeof t&&k(t);if(!q.test(t)){for(;n<i;n++)for(r=this[n];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(s?s.index(r)>-1:1===r.nodeType&&k.find.matchesSelector(r,t))){o.push(r);break}}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?l.call(k(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return N(t,"parentNode")},parentsUntil:function(t,e,r){return N(t,"parentNode",r)},next:function(t){return X(t,"nextSibling")},prev:function(t){return X(t,"previousSibling")},nextAll:function(t){return N(t,"nextSibling")},prevAll:function(t){return N(t,"previousSibling")},nextUntil:function(t,e,r){return N(t,"nextSibling",r)},prevUntil:function(t,e,r){return N(t,"previousSibling",r)},siblings:function(t){return D((t.parentNode||{}).firstChild,t)},children:function(t){return D(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(C(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},function(t,e){k.fn[t]=function(r,n){var i=k.map(this,e,r);return"Until"!==t.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=k.filter(n,i)),this.length>1&&(F[t]||k.uniqueSort(i),Z.test(t)&&i.reverse()),this.pushStack(i)}});var V=/[^\x20\t\r\n\f]+/g;function U(t){return t}function W(t){throw t}function H(t,e,r,n){var i;try{t&&g(i=t.promise)?i.call(t).done(e).fail(r):t&&g(i=t.then)?i.call(t,e,r):e.apply(void 0,[t].slice(n))}catch(t){r.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?(e=t,r={},k.each(e.match(V)||[],function(t,e){r[e]=!0}),r):k.extend({},t);var e,r,n,i,o,s,a=[],l=[],h=-1,c=function(){for(s=s||t.once,o=n=!0;l.length;h=-1)for(i=l.shift();++h<a.length;)!1===a[h].apply(i[0],i[1])&&t.stopOnFalse&&(h=a.length,i=!1);t.memory||(i=!1),n=!1,s&&(a=i?[]:"")},u={add:function(){return a&&(i&&!n&&(h=a.length-1,l.push(i)),function e(r){k.each(r,function(r,n){g(n)?t.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==O(n)&&e(n)})}(arguments),i&&!n&&c()),this},remove:function(){return k.each(arguments,function(t,e){for(var r;(r=k.inArray(e,a,r))>-1;)a.splice(r,1),r<=h&&h--}),this},has:function(t){return t?k.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return s=l=[],a=i="",this},disabled:function(){return!a},lock:function(){return s=l=[],i||n||(a=i=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),n||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!o}};return u},k.extend({Deferred:function(e){var r=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return k.Deferred(function(e){k.each(r,function(r,n){var i=g(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=i&&i.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(e,n,i){var o=0;function s(e,r,n,i){return function(){var a=this,l=arguments,h=function(){var t,h;if(!(e<o)){if((t=n.apply(a,l))===r.promise())throw TypeError("Thenable self-resolution");g(h=t&&("object"==typeof t||"function"==typeof t)&&t.then)?i?h.call(t,s(o,r,U,i),s(o,r,W,i)):(o++,h.call(t,s(o,r,U,i),s(o,r,W,i),s(o,r,U,r.notifyWith))):(n!==U&&(a=void 0,l=[t]),(i||r.resolveWith)(a,l))}},c=i?h:function(){try{h()}catch(t){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(t,c.error),e+1>=o&&(n!==W&&(a=void 0,l=[t]),r.rejectWith(a,l))}};e?c():(k.Deferred.getErrorHook?c.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(c.error=k.Deferred.getStackHook()),t.setTimeout(c))}}return k.Deferred(function(t){r[0][3].add(s(0,t,g(i)?i:U,t.notifyWith)),r[1][3].add(s(0,t,g(e)?e:U)),r[2][3].add(s(0,t,g(n)?n:W))}).promise()},promise:function(t){return null!=t?k.extend(t,i):i}},o={};return k.each(r,function(t,e){var s=e[2],a=e[5];i[e[1]]=s.add,a&&s.add(function(){n=a},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,r=e,n=Array(r),i=o.call(arguments),s=k.Deferred(),a=function(t){return function(r){n[t]=this,i[t]=arguments.length>1?o.call(arguments):r,--e||s.resolveWith(n,i)}};if(e<=1&&(H(t,s.done(a(r)).resolve,s.reject,!e),"pending"===s.state()||g(i[r]&&i[r].then)))return s.then();for(;r--;)H(i[r],a(r),s.reject);return s.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,r){t.console&&t.console.warn&&e&&Y.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,r)},k.readyException=function(e){t.setTimeout(function(){throw e})};var G=k.Deferred();function K(){v.removeEventListener("DOMContentLoaded",K),t.removeEventListener("load",K),k.ready()}k.fn.ready=function(t){return G.then(t).catch(function(t){k.readyException(t)}),this},k.extend({isReady:!1,readyWait:1,ready:function(t){!(!0===t?--k.readyWait:k.isReady)&&(k.isReady=!0,!0!==t&&--k.readyWait>0||G.resolveWith(v,[k]))}}),k.ready.then=G.then,"complete"!==v.readyState&&("loading"===v.readyState||v.documentElement.doScroll)?(v.addEventListener("DOMContentLoaded",K),t.addEventListener("load",K)):t.setTimeout(k.ready);var J=function(t,e,r,n,i,o,s){var a=0,l=t.length,h=null==r;if("object"===O(r))for(a in i=!0,r)J(t,e,a,r[a],!0,o,s);else if(void 0!==n&&(i=!0,g(n)||(s=!0),h&&(s?(e.call(t,n),e=null):(h=e,e=function(t,e,r){return h.call(k(t),r)})),e))for(;a<l;a++)e(t[a],r,s?n:n.call(t[a],a,e(t[a],r)));return i?t:h?e.call(t):l?e(t[0],r):o},tt=/^-ms-/,te=/-([a-z])/g;function tr(t,e){return e.toUpperCase()}function tn(t){return t.replace(tt,"ms-").replace(te,tr)}var ti=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function to(){this.expando=k.expando+to.uid++}to.uid=1,to.prototype={cache:function(t){var e=t[this.expando];return!e&&(e={},ti(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var n,i=this.cache(t);if("string"==typeof e)i[tn(e)]=r;else for(n in e)i[tn(n)]=e[n];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][tn(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,n=t[this.expando];if(void 0!==n){if(void 0!==e)for(r=(e=Array.isArray(e)?e.map(tn):((e=tn(e))in n)?[e]:e.match(V)||[]).length;r--;)delete n[e[r]];(void 0===e||k.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var ts=new to,ta=new to,tl=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,th=/[A-Z]/g;function tc(t,e,r){var n,i;if(void 0===r&&1===t.nodeType){if(n="data-"+e.replace(th,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(n))){try{i=r,r="true"===i||"false"!==i&&("null"===i?null:i===+i+""?+i:tl.test(i)?JSON.parse(i):i)}catch(t){}ta.set(t,e,r)}else r=void 0}return r}k.extend({hasData:function(t){return ta.hasData(t)||ts.hasData(t)},data:function(t,e,r){return ta.access(t,e,r)},removeData:function(t,e){ta.remove(t,e)},_data:function(t,e,r){return ts.access(t,e,r)},_removeData:function(t,e){ts.remove(t,e)}}),k.fn.extend({data:function(t,e){var r,n,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=ta.get(o),1===o.nodeType&&!ts.get(o,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&0===(n=s[r].name).indexOf("data-")&&tc(o,n=tn(n.slice(5)),i[n]);ts.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ta.set(this,t)}):J(this,function(e){var r;if(o&&void 0===e)return void 0!==(r=ta.get(o,t))||void 0!==(r=tc(o,t))?r:void 0;this.each(function(){ta.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ta.remove(this,t)})}}),k.extend({queue:function(t,e,r){var n;if(t)return e=(e||"fx")+"queue",n=ts.get(t,e),r&&(!n||Array.isArray(r)?n=ts.access(t,e,k.makeArray(r)):n.push(r)),n||[]},dequeue:function(t,e){e=e||"fx";var r=k.queue(t,e),n=r.length,i=r.shift(),o=k._queueHooks(t,e);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===e&&r.unshift("inprogress"),delete o.stop,i.call(t,function(){k.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return ts.get(t,r)||ts.access(t,r,{empty:k.Callbacks("once memory").add(function(){ts.remove(t,[e+"queue",r])})})}}),k.fn.extend({queue:function(t,e){var r=2;return("string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r)?k.queue(this[0],t):void 0===e?this:this.each(function(){var r=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&k.dequeue(this,t)})},dequeue:function(t){return this.each(function(){k.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,n=1,i=k.Deferred(),o=this,s=this.length,a=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(r=ts.get(o[s],t+"queueHooks"))&&r.empty&&(n++,r.empty.add(a));return a(),i.promise(e)}});var tu=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,td=RegExp("^(?:([+-])=|)("+tu+")([a-z%]*)$","i"),tf=["Top","Right","Bottom","Left"],tp=v.documentElement,tg=function(t){return k.contains(t.ownerDocument,t)},tm={composed:!0};tp.getRootNode&&(tg=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(tm)===t.ownerDocument});var tv=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&tg(t)&&"none"===k.css(t,"display")};function ty(t,e,r,n){var i,o,s=20,a=n?function(){return n.cur()}:function(){return k.css(t,e,"")},l=a(),h=r&&r[3]||(k.cssNumber[e]?"":"px"),c=t.nodeType&&(k.cssNumber[e]||"px"!==h&&+l)&&td.exec(k.css(t,e));if(c&&c[3]!==h){for(l/=2,h=h||c[3],c=+l||1;s--;)k.style(t,e,c+h),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,k.style(t,e,c+h),r=r||[]}return r&&(c=+c||+l||0,i=r[1]?c+(r[1]+1)*r[2]:+r[2],n&&(n.unit=h,n.start=c,n.end=i)),i}var tb={};function tO(t,e){for(var r,n,i=[],o=0,s=t.length;o<s;o++)(n=t[o]).style&&(r=n.style.display,e?("none"!==r||(i[o]=ts.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&tv(n)&&(i[o]=function(t){var e,r=t.ownerDocument,n=t.nodeName,i=tb[n];return i||(e=r.body.appendChild(r.createElement(n)),i=k.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),tb[n]=i),i}(n))):"none"!==r&&(i[o]="none",ts.set(n,"display",r)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}k.fn.extend({show:function(){return tO(this,!0)},hide:function(){return tO(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){tv(this)?k(this).show():k(this).hide()})}});var tw=/^(?:checkbox|radio)$/i,tx=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,t_=/^$|^module$|\/(?:java|ecma)script/i;t8=v.createDocumentFragment().appendChild(v.createElement("div")),(t7=v.createElement("input")).setAttribute("type","radio"),t7.setAttribute("checked","checked"),t7.setAttribute("name","t"),t8.appendChild(t7),p.checkClone=t8.cloneNode(!0).cloneNode(!0).lastChild.checked,t8.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!t8.cloneNode(!0).lastChild.defaultValue,t8.innerHTML="<option></option>",p.option=!!t8.lastChild;var tk={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function tS(t,e){var r;return(r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&C(t,e))?k.merge([t],r):r}function tC(t,e){for(var r=0,n=t.length;r<n;r++)ts.set(t[r],"globalEval",!e||ts.get(e[r],"globalEval"))}tk.tbody=tk.tfoot=tk.colgroup=tk.caption=tk.thead,tk.th=tk.td,p.option||(tk.optgroup=tk.option=[1,"<select multiple='multiple'>","</select>"]);var tA=/<|&#?\w+;/;function tE(t,e,r,n,i){for(var o,s,a,l,h,c=e.createDocumentFragment(),u=[],d=0,f=t.length;d<f;d++)if((o=t[d])||0===o){if("object"===O(o))k.merge(u,o.nodeType?[o]:o);else if(tA.test(o)){for(s=s||c.appendChild(e.createElement("div")),a=tk[(tx.exec(o)||["",""])[1].toLowerCase()]||tk._default,s.innerHTML=a[1]+k.htmlPrefilter(o)+a[2],h=a[0];h--;)s=s.lastChild;k.merge(u,s.childNodes),(s=c.firstChild).textContent=""}else u.push(e.createTextNode(o))}for(c.textContent="",d=0;o=u[d++];){if(n&&k.inArray(o,n)>-1){i&&i.push(o);continue}if(l=tg(o),s=tS(c.appendChild(o),"script"),l&&tC(s),r)for(h=0;o=s[h++];)t_.test(o.type||"")&&r.push(o)}return c}var tT=/^([^.]*)(?:\.(.+)|)/;function tP(){return!0}function tI(){return!1}function tR(t,e,r,n,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof r&&(n=n||r,r=void 0),e)tR(t,a,r,n,e[a],o);return t}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=tI;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return k().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=k.guid++)),t.each(function(){k.event.add(this,e,i,n,r)})}function tM(t,e,r){if(!r){void 0===ts.get(t,e)&&k.event.add(t,e,tP);return}ts.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var r,n=ts.get(this,e);if(1&t.isTrigger&&this[e]){if(n)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(n=o.call(arguments),ts.set(this,e,n),this[e](),r=ts.get(this,e),ts.set(this,e,!1),n!==r)return t.stopImmediatePropagation(),t.preventDefault(),r}else n&&(ts.set(this,e,k.event.trigger(n[0],n.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=tP)}})}k.event={global:{},add:function(t,e,r,n,i){var o,s,a,l,h,c,u,d,f,p,g,m=ts.get(t);if(ti(t))for(r.handler&&(r=(o=r).handler,i=o.selector),i&&k.find.matchesSelector(tp,i),r.guid||(r.guid=k.guid++),(l=m.events)||(l=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(e){return k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(V)||[""]).length;h--;)f=g=(a=tT.exec(e[h])||[])[1],p=(a[2]||"").split(".").sort(),f&&(u=k.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,u=k.event.special[f]||{},c=k.extend({type:f,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,(!u.setup||!1===u.setup.call(t,n,p,s))&&t.addEventListener&&t.addEventListener(f,s)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=r.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),k.event.global[f]=!0)},remove:function(t,e,r,n,i){var o,s,a,l,h,c,u,d,f,p,g,m=ts.hasData(t)&&ts.get(t);if(m&&(l=m.events)){for(h=(e=(e||"").match(V)||[""]).length;h--;){if(f=g=(a=tT.exec(e[h])||[])[1],p=(a[2]||"").split(".").sort(),!f){for(f in l)k.event.remove(t,f+e[h],r,n,!0);continue}for(u=k.event.special[f]||{},d=l[f=(n?u.delegateType:u.bindType)||f]||[],a=a[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],(i||g===c.origType)&&(!r||r.guid===c.guid)&&(!a||a.test(c.namespace))&&(!n||n===c.selector||"**"===n&&c.selector)&&(d.splice(o,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(t,c));s&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,p,m.handle)||k.removeEvent(t,f,m.handle),delete l[f])}k.isEmptyObject(l)&&ts.remove(t,"handle events")}},dispatch:function(t){var e,r,n,i,o,s,a=Array(arguments.length),l=k.event.fix(t),h=(ts.get(this,"events")||Object.create(null))[l.type]||[],c=k.event.special[l.type]||{};for(e=1,a[0]=l;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(s=k.event.handlers.call(this,l,h),e=0;(i=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!l.isImmediatePropagationStopped();)(!l.rnamespace||!1===o.namespace||l.rnamespace.test(o.namespace))&&(l.handleObj=o,l.data=o.data,void 0!==(n=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var r,n,i,o,s,a=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&t.button>=1)){for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&!("click"===t.type&&!0===h.disabled)){for(r=0,o=[],s={};r<l;r++)void 0===s[i=(n=e[r]).selector+" "]&&(s[i]=n.needsContext?k(i,this).index(h)>-1:k.find(i,this,null,[h]).length),s[i]&&o.push(n);o.length&&a.push({elem:h,handlers:o})}}return h=this,l<e.length&&a.push({elem:h,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return tw.test(e.type)&&e.click&&C(e,"input")&&tM(e,"click",!0),!1},trigger:function(t){var e=this||t;return tw.test(e.type)&&e.click&&C(e,"input")&&tM(e,"click"),!0},_default:function(t){var e=t.target;return tw.test(e.type)&&e.click&&C(e,"input")&&ts.get(e,"click")||C(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?tP:tI,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:tI,isPropagationStopped:tI,isImmediatePropagationStopped:tI,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=tP,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=tP,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=tP,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(t,e){function r(t){if(v.documentMode){var r=ts.get(this,"handle"),n=k.event.fix(t);n.type="focusin"===t.type?"focus":"blur",n.isSimulated=!0,r(t),n.target===n.currentTarget&&r(n)}else k.event.simulate(e,t.target,k.event.fix(t))}k.event.special[t]={setup:function(){var n;if(tM(this,t,!0),!v.documentMode)return!1;(n=ts.get(this,e))||this.addEventListener(e,r),ts.set(this,e,(n||0)+1)},trigger:function(){return tM(this,t),!0},teardown:function(){var t;if(!v.documentMode)return!1;(t=ts.get(this,e)-1)?ts.set(this,e,t):(this.removeEventListener(e,r),ts.remove(this,e))},_default:function(e){return ts.get(e.target,t)},delegateType:e},k.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,i=v.documentMode?this:n,o=ts.get(i,e);o||(v.documentMode?this.addEventListener(e,r):n.addEventListener(t,r,!0)),ts.set(i,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=v.documentMode?this:n,o=ts.get(i,e)-1;o?ts.set(i,e,o):(v.documentMode?this.removeEventListener(e,r):n.removeEventListener(t,r,!0),ts.remove(i,e))}}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||k.contains(this,n))||(t.type=i.origType,r=i.handler.apply(this,arguments),t.type=e),r}}}),k.fn.extend({on:function(t,e,r,n){return tR(this,t,e,r,n)},one:function(t,e,r,n){return tR(this,t,e,r,n,1)},off:function(t,e,r){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,k(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(!1===e||"function"==typeof e)&&(r=e,e=void 0),!1===r&&(r=tI),this.each(function(){k.event.remove(this,t,r,e)})}});var tN=/<script|<style|<link/i,tD=/checked\s*(?:[^=]|=\s*.checked.)/i,tL=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function t$(t,e){return C(t,"table")&&C(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function tq(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function tQ(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function tB(t,e){var r,n,i,o,s,a;if(1===e.nodeType){if(ts.hasData(t)&&(a=ts.get(t).events))for(i in ts.remove(e,"handle events"),a)for(r=0,n=a[i].length;r<n;r++)k.event.add(e,i,a[i][r]);ta.hasData(t)&&(o=ta.access(t),s=k.extend({},o),ta.set(e,s))}}function tj(t,e,r,n){e=s(e);var i,o,a,l,h,c,u=0,d=t.length,f=d-1,m=e[0],v=g(m);if(v||d>1&&"string"==typeof m&&!p.checkClone&&tD.test(m))return t.each(function(i){var o=t.eq(i);v&&(e[0]=m.call(this,i,o.html())),tj(o,e,r,n)});if(d&&(o=(i=tE(e,t[0].ownerDocument,!1,t,n)).firstChild,1===i.childNodes.length&&(i=o),o||n)){for(l=(a=k.map(tS(i,"script"),tq)).length;u<d;u++)h=i,u!==f&&(h=k.clone(h,!0,!0),l&&k.merge(a,tS(h,"script"))),r.call(t[u],h,u);if(l)for(c=a[a.length-1].ownerDocument,k.map(a,tQ),u=0;u<l;u++)h=a[u],t_.test(h.type||"")&&!ts.access(h,"globalEval")&&k.contains(c,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?k._evalUrl&&!h.noModule&&k._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},c):b(h.textContent.replace(tL,""),h,c))}return t}function tz(t,e,r){for(var n,i=e?k.filter(e,t):t,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||k.cleanData(tS(n)),n.parentNode&&(r&&tg(n)&&tC(tS(n,"script")),n.parentNode.removeChild(n));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,r){var n,i,o,s,a=t.cloneNode(!0),l=tg(t);if(!p.noCloneChecked&&(1===t.nodeType||11===t.nodeType)&&!k.isXMLDoc(t))for(n=0,s=tS(a),i=(o=tS(t)).length;n<i;n++)!function(t,e){var r=e.nodeName.toLowerCase();"input"===r&&tw.test(t.type)?e.checked=t.checked:("input"===r||"textarea"===r)&&(e.defaultValue=t.defaultValue)}(o[n],s[n]);if(e){if(r)for(n=0,o=o||tS(t),s=s||tS(a),i=o.length;n<i;n++)tB(o[n],s[n]);else tB(t,a)}return(s=tS(a,"script")).length>0&&tC(s,!l&&tS(t,"script")),a},cleanData:function(t){for(var e,r,n,i=k.event.special,o=0;void 0!==(r=t[o]);o++)if(ti(r)){if(e=r[ts.expando]){if(e.events)for(n in e.events)i[n]?k.event.remove(r,n):k.removeEvent(r,n,e.handle);r[ts.expando]=void 0}r[ta.expando]&&(r[ta.expando]=void 0)}}}),k.fn.extend({detach:function(t){return tz(this,t,!0)},remove:function(t){return tz(this,t)},text:function(t){return J(this,function(t){return void 0===t?k.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return tj(this,arguments,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&t$(this,t).appendChild(t)})},prepend:function(){return tj(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=t$(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return tj(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return tj(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(tS(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return k.clone(this,t,e)})},html:function(t){return J(this,function(t){var e=this[0]||{},r=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!tN.test(t)&&!tk[(tx.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;r<n;r++)e=this[r]||{},1===e.nodeType&&(k.cleanData(tS(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return tj(this,arguments,function(e){var r=this.parentNode;0>k.inArray(this,t)&&(k.cleanData(tS(this)),r&&r.replaceChild(e,this))},t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){k.fn[t]=function(t){for(var r,n=[],i=k(t),o=i.length-1,s=0;s<=o;s++)r=s===o?this:this.clone(!0),k(i[s])[e](r),a.apply(n,r.get());return this.pushStack(n)}});var tZ=RegExp("^("+tu+")(?!px)[a-z%]+$","i"),tF=/^--/,tX=function(e){var r=e.ownerDocument.defaultView;return r&&r.opener||(r=t),r.getComputedStyle(e)},tV=function(t,e,r){var n,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in n=r.call(t),e)t.style[i]=o[i];return n},tU=RegExp(tf.join("|"),"i");function tW(t,e,r){var n,i,o,s,a=tF.test(e),l=t.style;return(r=r||tX(t))&&(s=r.getPropertyValue(e)||r[e],a&&s&&(s=s.replace(I,"$1")||void 0),""!==s||tg(t)||(s=k.style(t,e)),!p.pixelBoxStyles()&&tZ.test(s)&&tU.test(e)&&(n=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=r.width,l.width=n,l.minWidth=i,l.maxWidth=o)),void 0!==s?s+"":s}function tH(t,e){return{get:function(){if(t()){delete this.get;return}return(this.get=e).apply(this,arguments)}}}!function(){function e(){if(c){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",tp.appendChild(h).appendChild(c);var e=t.getComputedStyle(c);n="1%"!==e.top,l=12===r(e.marginLeft),c.style.right="60%",s=36===r(e.right),i=36===r(e.width),c.style.position="absolute",o=12===r(c.offsetWidth/3),tp.removeChild(h),c=null}}function r(t){return Math.round(parseFloat(t))}var n,i,o,s,a,l,h=v.createElement("div"),c=v.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(p,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,r,n,i;return null==a&&(e=v.createElement("table"),r=v.createElement("tr"),n=v.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",r.style.cssText="box-sizing:content-box;border:1px solid",r.style.height="1px",n.style.height="9px",n.style.display="block",tp.appendChild(e).appendChild(r).appendChild(n),a=parseInt((i=t.getComputedStyle(r)).height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===r.offsetHeight,tp.removeChild(e)),a}}))}();var tY=["Webkit","Moz","ms"],tG=v.createElement("div").style,tK={};function tJ(t){return k.cssProps[t]||tK[t]||(t in tG?t:tK[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),r=tY.length;r--;)if((t=tY[r]+e)in tG)return t}(t)||t)}var t0=/^(none|table(?!-c[ea]).+)/,t1={position:"absolute",visibility:"hidden",display:"block"},t2={letterSpacing:"0",fontWeight:"400"};function t3(t,e,r){var n=td.exec(e);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):e}function t4(t,e,r,n,i,o){var s="width"===e?1:0,a=0,l=0,h=0;if(r===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===r&&(h+=k.css(t,r+tf[s],!0,i)),n?("content"===r&&(l-=k.css(t,"padding"+tf[s],!0,i)),"margin"!==r&&(l-=k.css(t,"border"+tf[s]+"Width",!0,i))):(l+=k.css(t,"padding"+tf[s],!0,i),"padding"!==r?l+=k.css(t,"border"+tf[s]+"Width",!0,i):a+=k.css(t,"border"+tf[s]+"Width",!0,i));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l+h}function t5(t,e,r){var n=tX(t),i=(!p.boxSizingReliable()||r)&&"border-box"===k.css(t,"boxSizing",!1,n),o=i,s=tW(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(tZ.test(s)){if(!r)return s;s="auto"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&C(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===k.css(t,"display",!1,n))&&t.getClientRects().length&&(i="border-box"===k.css(t,"boxSizing",!1,n),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+t4(t,e,r||(i?"border":"content"),o,n,s)+"px"}function t6(t,e,r,n,i){return new t6.prototype.init(t,e,r,n,i)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=tW(t,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,r,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=tn(e),l=tF.test(e),h=t.style;if(l||(e=tJ(a)),s=k.cssHooks[e]||k.cssHooks[a],void 0===r)return s&&"get"in s&&void 0!==(i=s.get(t,!1,n))?i:h[e];"string"==(o=typeof r)&&(i=td.exec(r))&&i[1]&&(r=ty(t,e,i),o="number"),null!=r&&r==r&&("number"!==o||l||(r+=i&&i[3]||(k.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==r||0!==e.indexOf("background")||(h[e]="inherit"),s&&"set"in s&&void 0===(r=s.set(t,r,n))||(l?h.setProperty(e,r):h[e]=r))}},css:function(t,e,r,n){var i,o,s,a=tn(e);return(tF.test(e)||(e=tJ(a)),(s=k.cssHooks[e]||k.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,r)),void 0===i&&(i=tW(t,e,n)),"normal"===i&&e in t2&&(i=t2[e]),""===r||r)?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(t,e){k.cssHooks[e]={get:function(t,r,n){if(r)return!t0.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?t5(t,e,n):tV(t,t1,function(){return t5(t,e,n)})},set:function(t,r,n){var i,o=tX(t),s=!p.scrollboxSize()&&"absolute"===o.position,a=(s||n)&&"border-box"===k.css(t,"boxSizing",!1,o),l=n?t4(t,e,n,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-t4(t,e,"border",!1,o)-.5)),l&&(i=td.exec(r))&&"px"!==(i[3]||"px")&&(t.style[e]=r,r=k.css(t,e)),t3(t,r,l)}}}),k.cssHooks.marginLeft=tH(p.reliableMarginLeft,function(t,e){if(e)return(parseFloat(tW(t,"marginLeft"))||t.getBoundingClientRect().left-tV(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(t,e){k.cssHooks[t+e]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[t+tf[n]+e]=o[n]||o[n-2]||o[0];return i}},"margin"!==t&&(k.cssHooks[t+e].set=t3)}),k.fn.extend({css:function(t,e){return J(this,function(t,e,r){var n,i,o={},s=0;if(Array.isArray(e)){for(n=tX(t),i=e.length;s<i;s++)o[e[s]]=k.css(t,e[s],!1,n);return o}return void 0!==r?k.style(t,e,r):k.css(t,e)},t,e,arguments.length>1)}}),k.Tween=t6,t6.prototype={constructor:t6,init:function(t,e,r,n,i,o){this.elem=t,this.prop=r,this.easing=i||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(k.cssNumber[r]?"":"px")},cur:function(){var t=t6.propHooks[this.prop];return t&&t.get?t.get(this):t6.propHooks._default.get(this)},run:function(t){var e,r=t6.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):t6.propHooks._default.set(this),this}},t6.prototype.init.prototype=t6.prototype,t6.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1===t.elem.nodeType&&(k.cssHooks[t.prop]||null!=t.elem.style[tJ(t.prop)])?k.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},t6.propHooks.scrollTop=t6.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=t6.prototype.init,k.fx.step={};var t8,t7,t9,et,ee=/^(?:toggle|show|hide)$/,er=/queueHooks$/;function en(){return t.setTimeout(function(){t9=void 0}),t9=Date.now()}function ei(t,e){var r,n=0,i={height:t};for(e=e?1:0;n<4;n+=2-e)i["margin"+(r=tf[n])]=i["padding"+r]=t;return e&&(i.opacity=i.width=t),i}function eo(t,e,r){for(var n,i=(es.tweeners[e]||[]).concat(es.tweeners["*"]),o=0,s=i.length;o<s;o++)if(n=i[o].call(r,e,t))return n}function es(t,e,r){var n,i,o=0,s=es.prefilters.length,a=k.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=t9||en(),r=Math.max(0,h.startTime+h.duration-e),n=1-(r/h.duration||0),o=0,s=h.tweens.length;o<s;o++)h.tweens[o].run(n);return(a.notifyWith(t,[h,n,r]),n<1&&s)?r:(s||a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},r),originalProperties:e,originalOptions:r,startTime:t9||en(),duration:r.duration,tweens:[],createTween:function(e,r){var n=k.Tween(t,h.opts,e,r,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var r=0,n=e?h.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)h.tweens[r].run(1);return e?(a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h,e])):a.rejectWith(t,[h,e]),this}}),c=h.props;for(function(t,e){var r,n,i,o,s;for(r in t)if(i=e[n=tn(r)],Array.isArray(o=t[r])&&(i=o[1],o=t[r]=o[0]),r!==n&&(t[n]=o,delete t[r]),(s=k.cssHooks[n])&&"expand"in s)for(r in o=s.expand(o),delete t[n],o)r in t||(t[r]=o[r],e[r]=i);else e[n]=i}(c,h.opts.specialEasing);o<s;o++)if(n=es.prefilters[o].call(h,t,c,h.opts))return g(n.stop)&&(k._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,eo,h),g(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),k.fx.timer(k.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h}k.Animation=k.extend(es,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return ty(r.elem,t,td.exec(e),r),r}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(V);for(var r,n=0,i=t.length;n<i;n++)r=t[n],es.tweeners[r]=es.tweeners[r]||[],es.tweeners[r].unshift(e)},prefilters:[function(t,e,r){var n,i,o,s,a,l,h,c,u="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&tv(t),m=ts.get(t,"fxshow");for(n in r.queue||(null==(s=k._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,k.queue(t,"fx").length||s.empty.fire()})})),e)if(i=e[n],ee.test(i)){if(delete e[n],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||k.style(t,n)}if(!(!(l=!k.isEmptyObject(e))&&k.isEmptyObject(f)))for(n in u&&1===t.nodeType&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],null==(h=m&&m.display)&&(h=ts.get(t,"display")),"none"===(c=k.css(t,"display"))&&(h?c=h:(tO([t],!0),h=t.style.display||h,c=k.css(t,"display"),tO([t]))),("inline"===c||"inline-block"===c&&null!=h)&&"none"===k.css(t,"float")&&(l||(d.done(function(){p.display=h}),null!=h||(h="none"===(c=p.display)?"":c)),p.display="inline-block")),r.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=ts.access(t,"fxshow",{display:h}),o&&(m.hidden=!g),g&&tO([t],!0),d.done(function(){for(n in g||tO([t]),ts.remove(t,"fxshow"),f)k.style(t,n,f[n])})),l=eo(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?es.prefilters.unshift(t):es.prefilters.push(t)}}),k.speed=function(t,e,r){var n=t&&"object"==typeof t?k.extend({},t):{complete:r||!r&&e||g(t)&&t,duration:t,easing:r&&e||e&&!g(e)&&e};return k.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in k.fx.speeds?n.duration=k.fx.speeds[n.duration]:n.duration=k.fx.speeds._default),(null==n.queue||!0===n.queue)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){g(n.old)&&n.old.call(this),n.queue&&k.dequeue(this,n.queue)},n},k.fn.extend({fadeTo:function(t,e,r,n){return this.filter(tv).css("opacity",0).show().end().animate({opacity:e},t,r,n)},animate:function(t,e,r,n){var i=k.isEmptyObject(t),o=k.speed(e,r,n),s=function(){var e=es(this,k.extend({},t),o);(i||ts.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,r){var n=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=k.timers,s=ts.get(this);if(i)s[i]&&s[i].stop&&n(s[i]);else for(i in s)s[i]&&s[i].stop&&er.test(i)&&n(s[i]);for(i=o.length;i--;)o[i].elem===this&&(null==t||o[i].queue===t)&&(o[i].anim.stop(r),e=!1,o.splice(i,1));(e||!r)&&k.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,r=ts.get(this),n=r[t+"queue"],i=r[t+"queueHooks"],o=k.timers,s=n?n.length:0;for(r.finish=!0,k.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete r.finish})}}),k.each(["toggle","show","hide"],function(t,e){var r=k.fn[e];k.fn[e]=function(t,n,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(ei(e,!0),t,n,i)}}),k.each({slideDown:ei("show"),slideUp:ei("hide"),slideToggle:ei("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){k.fn[t]=function(t,r,n){return this.animate(e,t,r,n)}}),k.timers=[],k.fx.tick=function(){var t,e=0,r=k.timers;for(t9=Date.now();e<r.length;e++)(t=r[e])()||r[e]!==t||r.splice(e--,1);r.length||k.fx.stop(),t9=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){et||(et=!0,function e(){et&&(!1===v.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(e):t.setTimeout(e,k.fx.interval),k.fx.tick())}())},k.fx.stop=function(){et=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,r){return e=k.fx&&k.fx.speeds[e]||e,r=r||"fx",this.queue(r,function(r,n){var i=t.setTimeout(r,e);n.stop=function(){t.clearTimeout(i)}})},ea=v.createElement("input"),el=v.createElement("select").appendChild(v.createElement("option")),ea.type="checkbox",p.checkOn=""!==ea.value,p.optSelected=el.selected,(ea=v.createElement("input")).value="t",ea.type="radio",p.radioValue="t"===ea.value;var ea,el,eh,ec=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return J(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){k.removeAttr(this,t)})}}),k.extend({attr:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o){if(void 0===t.getAttribute)return k.prop(t,e,r);if(1===o&&k.isXMLDoc(t)||(i=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?eh:void 0)),void 0!==r){if(null===r){k.removeAttr(t,e);return}return i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:(t.setAttribute(e,r+""),r)}return i&&"get"in i&&null!==(n=i.get(t,e))?n:null==(n=k.find.attr(t,e))?void 0:n}},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&C(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,n=0,i=e&&e.match(V);if(i&&1===t.nodeType)for(;r=i[n++];)t.removeAttribute(r)}}),eh={set:function(t,e,r){return!1===e?k.removeAttr(t,r):t.setAttribute(r,r),r}},k.each(k.expr.match.bool.source.match(/\w+/g),function(t,e){var r=ec[e]||k.find.attr;ec[e]=function(t,e,n){var i,o,s=e.toLowerCase();return n||(o=ec[s],ec[s]=i,i=null!=r(t,e,n)?s:null,ec[s]=o),i}});var eu=/^(?:input|select|textarea|button)$/i,ed=/^(?:a|area)$/i;function ef(t){return(t.match(V)||[]).join(" ")}function ep(t){return t.getAttribute&&t.getAttribute("class")||""}function eg(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(V)||[]}k.fn.extend({prop:function(t,e){return J(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[k.propFix[t]||t]})}}),k.extend({prop:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return(1===o&&k.isXMLDoc(t)||(e=k.propFix[e]||e,i=k.propHooks[e]),void 0!==r)?i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:t[e]=r:i&&"get"in i&&null!==(n=i.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):eu.test(t.nodeName)||ed.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,r,n,i,o,s;return g(t)?this.each(function(e){k(this).addClass(t.call(this,e,ep(this)))}):(e=eg(t)).length?this.each(function(){if(n=ep(this),r=1===this.nodeType&&" "+ef(n)+" "){for(o=0;o<e.length;o++)i=e[o],0>r.indexOf(" "+i+" ")&&(r+=i+" ");n!==(s=ef(r))&&this.setAttribute("class",s)}}):this},removeClass:function(t){var e,r,n,i,o,s;return g(t)?this.each(function(e){k(this).removeClass(t.call(this,e,ep(this)))}):arguments.length?(e=eg(t)).length?this.each(function(){if(n=ep(this),r=1===this.nodeType&&" "+ef(n)+" "){for(o=0;o<e.length;o++)for(i=e[o];r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");n!==(s=ef(r))&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(t,e){var r,n,i,o,s=typeof t,a="string"===s||Array.isArray(t);return g(t)?this.each(function(r){k(this).toggleClass(t.call(this,r,ep(this),e),e)}):"boolean"==typeof e&&a?e?this.addClass(t):this.removeClass(t):(r=eg(t),this.each(function(){if(a)for(i=0,o=k(this);i<r.length;i++)n=r[i],o.hasClass(n)?o.removeClass(n):o.addClass(n);else(void 0===t||"boolean"===s)&&((n=ep(this))&&ts.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===t?"":ts.get(this,"__className__")||""))}))},hasClass:function(t){var e,r,n=0;for(e=" "+t+" ";r=this[n++];)if(1===r.nodeType&&(" "+ef(ep(r))+" ").indexOf(e)>-1)return!0;return!1}});var em=/\r/g;k.fn.extend({val:function(t){var e,r,n,i=this[0];return arguments.length?(n=g(t),this.each(function(r){var i;1!==this.nodeType||(null==(i=n?t.call(this,r,k(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,function(t){return null==t?"":t+""})),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(r=e.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(em,""):null==r?"":r:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:ef(k.text(t))}},select:{get:function(t){var e,r,n,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:i.length;for(n=o<0?l:s?o:0;n<l;n++)if(((r=i[n]).selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!C(r.parentNode,"optgroup"))){if(e=k(r).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var r,n,i=t.options,o=k.makeArray(e),s=i.length;s--;)((n=i[s]).selected=k.inArray(k.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(t.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},p.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ev=t.location,ey={guid:Date.now()},eb=/\?/;k.parseXML=function(e){var r,n;if(!e||"string"!=typeof e)return null;try{r=new t.DOMParser().parseFromString(e,"text/xml")}catch(t){}return n=r&&r.getElementsByTagName("parsererror")[0],(!r||n)&&k.error("Invalid XML: "+(n?k.map(n.childNodes,function(t){return t.textContent}).join("\n"):e)),r};var eO=/^(?:focusinfocus|focusoutblur)$/,ew=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(e,r,n,i){var o,s,a,l,h,c,d,f,p=[n||v],y=u.call(e,"type")?e.type:e,b=u.call(e,"namespace")?e.namespace.split("."):[];if(s=f=a=n=n||v,!(3===n.nodeType||8===n.nodeType||eO.test(y+k.event.triggered))&&(y.indexOf(".")>-1&&(y=(b=y.split(".")).shift(),b.sort()),h=0>y.indexOf(":")&&"on"+y,(e=e[k.expando]?e:new k.Event(y,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),r=null==r?[e]:k.makeArray(r,[e]),d=k.event.special[y]||{},i||!d.trigger||!1!==d.trigger.apply(n,r))){if(!i&&!d.noBubble&&!m(n)){for(l=d.delegateType||y,eO.test(l+y)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||v)&&p.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)f=s,e.type=o>1?l:d.bindType||y,(c=(ts.get(s,"events")||Object.create(null))[e.type]&&ts.get(s,"handle"))&&c.apply(s,r),(c=h&&s[h])&&c.apply&&ti(s)&&(e.result=c.apply(s,r),!1===e.result&&e.preventDefault());return e.type=y,!i&&!e.isDefaultPrevented()&&(!d._default||!1===d._default.apply(p.pop(),r))&&ti(n)&&h&&g(n[y])&&!m(n)&&((a=n[h])&&(n[h]=null),k.event.triggered=y,e.isPropagationStopped()&&f.addEventListener(y,ew),n[y](),e.isPropagationStopped()&&f.removeEventListener(y,ew),k.event.triggered=void 0,a&&(n[h]=a)),e.result}},simulate:function(t,e,r){var n=k.extend(new k.Event,r,{type:t,isSimulated:!0});k.event.trigger(n,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each(function(){k.event.trigger(t,e,this)})},triggerHandler:function(t,e){var r=this[0];if(r)return k.event.trigger(t,e,r,!0)}});var ex=/\[\]$/,e_=/\r?\n/g,ek=/^(?:submit|button|image|reset|file)$/i,eS=/^(?:input|select|textarea|keygen)/i;k.param=function(t,e){var r,n=[],i=function(t,e){var r=g(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==r?"":r)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,function(){i(this.name,this.value)});else for(r in t)!function t(e,r,n,i){var o;if(Array.isArray(r))k.each(r,function(r,o){n||ex.test(e)?i(e,o):t(e+"["+("object"==typeof o&&null!=o?r:"")+"]",o,n,i)});else if(n||"object"!==O(r))i(e,r);else for(o in r)t(e+"["+o+"]",r[o],n,i)}(r,t[r],e,i);return n.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&eS.test(this.nodeName)&&!ek.test(t)&&(this.checked||!tw.test(t))}).map(function(t,e){var r=k(this).val();return null==r?null:Array.isArray(r)?k.map(r,function(t){return{name:e.name,value:t.replace(e_,"\r\n")}}):{name:e.name,value:r.replace(e_,"\r\n")}}).get()}});var eC=/%20/g,eA=/#.*$/,eE=/([?&])_=[^&]*/,eT=/^(.*?):[ \t]*([^\r\n]*)$/mg,eP=/^(?:GET|HEAD)$/,eI=/^\/\//,eR={},eM={},eN="*/".concat("*"),eD=v.createElement("a");function eL(t){return function(e,r){"string"!=typeof e&&(r=e,e="*");var n,i=0,o=e.toLowerCase().match(V)||[];if(g(r))for(;n=o[i++];)"+"===n[0]?(t[n=n.slice(1)||"*"]=t[n]||[]).unshift(r):(t[n]=t[n]||[]).push(r)}}function e$(t,e,r,n){var i={},o=t===eM;function s(a){var l;return i[a]=!0,k.each(t[a]||[],function(t,a){var h=a(e,r,n);return"string"!=typeof h||o||i[h]?o?!(l=h):void 0:(e.dataTypes.unshift(h),s(h),!1)}),l}return s(e.dataTypes[0])||!i["*"]&&s("*")}function eq(t,e){var r,n,i=k.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&k.extend(!0,t,n),t}eD.href=ev.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ev.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ev.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":eN,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?eq(eq(t,k.ajaxSettings),e):eq(k.ajaxSettings,t)},ajaxPrefilter:eL(eR),ajaxTransport:eL(eM),ajax:function(e,r){"object"==typeof e&&(r=e,e=void 0),r=r||{};var n,i,o,s,a,l,h,c,u,d,f=k.ajaxSetup({},r),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?k(p):k.event,m=k.Deferred(),y=k.Callbacks("once memory"),b=f.statusCode||{},O={},w={},x="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(h){if(!s)for(s={};e=eT.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return h?o:null},setRequestHeader:function(t,e){return null==h&&(O[t=w[t.toLowerCase()]=w[t.toLowerCase()]||t]=e),this},overrideMimeType:function(t){return null==h&&(f.mimeType=t),this},statusCode:function(t){var e;if(t){if(h)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]]}return this},abort:function(t){var e=t||x;return n&&n.abort(e),C(0,e),this}};if(m.promise(S),f.url=((e||f.url||ev.href)+"").replace(eI,ev.protocol+"//"),f.type=r.method||r.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(V)||[""],null==f.crossDomain){l=v.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=eD.protocol+"//"+eD.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),e$(eR,f,r,S),h)return S;for(u in(c=k.event&&f.global)&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!eP.test(f.type),i=f.url.replace(eA,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(eC,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(eb.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(eE,"$1"),d=(eb.test(i)?"&":"?")+"_="+ey.guid+++d),f.url=i+d),f.ifModified&&(k.lastModified[i]&&S.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&S.setRequestHeader("If-None-Match",k.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||r.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+eN+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(!1===f.beforeSend.call(p,S,f)||h))return S.abort();if(x="abort",y.add(f.complete),S.done(f.success),S.fail(f.error),n=e$(eM,f,r,S)){if(S.readyState=1,c&&g.trigger("ajaxSend",[S,f]),h)return S;f.async&&f.timeout>0&&(a=t.setTimeout(function(){S.abort("timeout")},f.timeout));try{h=!1,n.send(O,C)}catch(t){if(h)throw t;C(-1,t)}}else C(-1,"No Transport");function C(e,r,s,l){var u,d,v,O,w,x=r;h||(h=!0,a&&t.clearTimeout(a),n=void 0,o=l||"",S.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(O=function(t,e,r){for(var n,i,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n){for(i in a)if(a[i]&&a[i].test(n)){l.unshift(i);break}}if(l[0]in r)o=l[0];else{for(i in r){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),r[o]}(f,S,s)),!u&&k.inArray("script",f.dataTypes)>-1&&0>k.inArray("json",f.dataTypes)&&(f.converters["text script"]=function(){}),O=function(t,e,r,n){var i,o,s,a,l,h={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)h[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(r[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift()){if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=h[l+" "+o]||h["* "+o])){for(i in h)if((a=i.split(" "))[1]===o&&(s=h[l+" "+a[0]]||h["* "+a[0]])){!0===s?s=h[i]:!0!==h[i]&&(o=a[0],c.unshift(a[1]));break}}if(!0!==s){if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}}}return{state:"success",data:e}}(f,O,S,u),u?(f.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=w),(w=S.getResponseHeader("etag"))&&(k.etag[i]=w)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=O.state,d=O.data,u=!(v=O.error))):(v=x,(e||!x)&&(x="error",e<0&&(e=0))),S.status=e,S.statusText=(r||x)+"",u?m.resolveWith(p,[d,x,S]):m.rejectWith(p,[S,x,v]),S.statusCode(b),b=void 0,c&&g.trigger(u?"ajaxSuccess":"ajaxError",[S,f,u?d:v]),y.fireWith(p,[S,x]),!c||(g.trigger("ajaxComplete",[S,f]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,r){return k.get(t,e,r,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],function(t,e){k[e]=function(t,r,n,i){return g(r)&&(i=i||n,n=r,r=void 0),k.ajax(k.extend({url:t,type:e,dataType:i,data:r,success:n},k.isPlainObject(t)&&t))}}),k.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),k._evalUrl=function(t,e,r){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,r)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){k(this).wrapInner(t.call(this,e))}):this.each(function(){var e=k(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(r){k(this).wrapAll(e?t.call(this,r):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var eQ={0:200,1223:204},eB=k.ajaxSettings.xhr();p.cors=!!eB&&"withCredentials"in eB,p.ajax=eB=!!eB,k.ajaxTransport(function(e){var r,n;if(p.cors||eB&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);r=function(t){return function(){r&&(r=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(eQ[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=r(),n=a.onerror=a.ontimeout=r("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){r&&n()})},r=r("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(r)throw t}},abort:function(){r&&r()}}}),k.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),k.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var e,r;return{send:function(n,i){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(t){e.remove(),r=null,t&&i("error"===t.type?404:200,t.type)}),v.head.appendChild(e[0])},abort:function(){r&&r()}}}});var ej=[],ez=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ej.pop()||k.expando+"_"+ey.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",function(e,r,n){var i,o,s,a=!1!==e.jsonp&&(ez.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ez.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ez,"$1"+i):!1!==e.jsonp&&(e.url+=(eb.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||k.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},n.always(function(){void 0===o?k(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=r.jsonpCallback,ej.push(i)),s&&g(o)&&o(s[0]),s=o=void 0}),"script"}),p.createHTMLDocument=((r=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===r.childNodes.length),k.parseHTML=function(t,e,r){var n,i,o;return"string"!=typeof t?[]:("boolean"==typeof e&&(r=e,e=!1),e||(p.createHTMLDocument?((n=(e=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,e.head.appendChild(n)):e=v),i=Q.exec(t),o=!r&&[],i)?[e.createElement(i[1])]:(i=tE([t],e,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes))},k.fn.load=function(t,e,r){var n,i,o,s=this,a=t.indexOf(" ");return a>-1&&(n=ef(t.slice(a)),t=t.slice(0,a)),g(e)?(r=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&k.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?k("<div>").append(k.parseHTML(t)).find(n):t)}).always(r&&function(t,e){s.each(function(){r.apply(this,o||[t.responseText,e,t])})}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(t,e,r){var n,i,o,s,a,l,h=k.css(t,"position"),c=k(t),u={};"static"===h&&(t.style.position="relative"),a=c.offset(),o=k.css(t,"top"),l=k.css(t,"left"),("absolute"===h||"fixed"===h)&&(o+l).indexOf("auto")>-1?(s=(n=c.position()).top,i=n.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),g(e)&&(e=e.call(t,r,k.extend({},a))),null!=e.top&&(u.top=e.top-a.top+s),null!=e.left&&(u.left=e.left-a.left+i),"using"in e?e.using.call(t,u):c.css(u)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,r,n=this[0];if(n)return n.getClientRects().length?(e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,r,n=this[0],i={top:0,left:0};if("fixed"===k.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),r=n.ownerDocument,t=n.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&(i=k(t).offset(),i.top+=k.css(t,"borderTopWidth",!0),i.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-k.css(n,"marginTop",!0),left:e.left-i.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||tp})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var r="pageYOffset"===e;k.fn[t]=function(n){return J(this,function(t,n,i){var o;if(m(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):t[n]=i},t,n,arguments.length)}}),k.each(["top","left"],function(t,e){k.cssHooks[e]=tH(p.pixelPosition,function(t,r){if(r)return r=tW(t,e),tZ.test(r)?k(t).position()[e]+"px":r})}),k.each({Height:"height",Width:"width"},function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},function(r,n){k.fn[n]=function(i,o){var s=arguments.length&&(r||"boolean"!=typeof i),a=r||(!0===i||!0===o?"margin":"border");return J(this,function(e,r,i){var o;return m(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?k.css(e,r,a):k.style(e,r,i,a)},e,s?i:void 0,s)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){k.fn[e]=function(t){return this.on(e,t)}}),k.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,n){return this.on(e,t,r,n)},undelegate:function(t,e,r){return 1==arguments.length?this.off(t,"**"):this.off(e,t||"**",r)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){k.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}});var eZ=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var r,n,i;if("string"==typeof e&&(r=t[e],e=t,t=r),g(t))return n=o.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(o.call(arguments)))}).guid=t.guid=t.guid||k.guid++,i},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=C,k.isFunction=g,k.isWindow=m,k.camelCase=tn,k.type=O,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(eZ,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var eF=t.jQuery,eX=t.$;return k.noConflict=function(e){return t.$===k&&(t.$=eX),e&&t.jQuery===k&&(t.jQuery=eF),k},void 0===e&&(t.jQuery=t.$=k),k},"object"==typeof eQ?eQ=Qt.document?Qe(Qt,!0):function(t){if(!t.document)throw Error("jQuery requires a window with a document");return Qe(t)}:Qe(Qt);var eB={};function ej(){return"isMobile"in window||(window.isMobile=window.matchMedia("(max-device-width: 500px)").matches||window.matchMedia("(max-device-height: 500px)").matches),window.isMobile}function ez(t,e){let r=window.getComputedStyle(t);console.log("Computed Styles"),console.log(r),function(t,e){for(let r=0;r<t.length;r++){let n=t[r];"visibility"!=n&&e.style.setProperty(n,t.getPropertyValue(n))}}(r,e)}eB='.columns,.rows{margin-top:calc(var(--column-gap)*-1);flex-wrap:wrap;align-items:center;display:flex}.columns:not(:-webkit-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){margin-left:calc(var(--column-gap)*-1);margin-right:calc(var(--column-gap)*-1)}.columns:not(:is(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){margin-left:calc(var(--column-gap)*-1);margin-right:calc(var(--column-gap)*-1)}.rows:not(:-webkit-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){margin-left:calc(var(--column-gap)*-1);margin-right:calc(var(--column-gap)*-1)}.rows:not(:is(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi))){margin-left:calc(var(--column-gap)*-1);margin-right:calc(var(--column-gap)*-1)}.columns:-webkit-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){margin-right:calc(var(--column-gap)*-1);margin-left:calc(var(--column-gap)*-1)}.columns:is(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){margin-right:calc(var(--column-gap)*-1);margin-left:calc(var(--column-gap)*-1)}.rows:-webkit-any(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){margin-right:calc(var(--column-gap)*-1);margin-left:calc(var(--column-gap)*-1)}.rows:is(:lang(ae),:lang(ar),:lang(arc),:lang(bcc),:lang(bqi),:lang(ckb),:lang(dv),:lang(fa),:lang(glk),:lang(he),:lang(ku),:lang(mzn),:lang(nqo),:lang(pnb),:lang(ps),:lang(sd),:lang(ug),:lang(ur),:lang(yi)){margin-right:calc(var(--column-gap)*-1);margin-left:calc(var(--column-gap)*-1)}.columns{flex-flow:wrap;justify-content:center;align-items:center;width:100%;display:flex}.columns>div{flex-flow:column wrap;flex-grow:1;align-content:center;justify-content:center;display:flex}.rows{flex-flow:column wrap;justify-content:center;align-items:center}.rows .row{flex-flow:wrap;flex-grow:1;justify-content:center;align-items:center;display:flex}.column,.row{padding:var(--column-gap);flex:1 1 0}.column{flex-direction:column}.popup{background:var(--popup-background);border:var(--popup-border-width)solid var(--popup-border-color);border-radius:var(--popup-border-radius)}.popup-header{padding:var(--popup-header-padding-y)var(--popup-header-padding-x);font-size:var(--popup-header-font-size);color:var(--popup-header-color);background-color:var(--popup-header-bg);border-bottom:var(--popup-border-width)solid var(--popup-border-color);border-top-left-radius:var(--popup-inner-border-radius);border-top-right-radius:var(--popover-inner-border-radius);justify-content:space-between;align-items:center;display:flex}.popup-header h1,.popup-header h2,.popup-header h3,.popup-header h4,.popup-header h5,.popup-header h6{margin:0}.tooltip .close,.popup .close{background-image:var(--icon-close);width:16px;height:16px;display:inline-block;position:relative}.popup-body{padding:var(--popup-body-padding-y)var(--popup-body-padding-x);color:var(--popup-body-color)}.tooltip{background:var(--tooltip-background);color:var(--tooltip-color);padding:var(--tooltip-padding);border-radius:var(--tooltip-border-radius);font-weight:700;font-size:var(--tooltip-font-size);display:inline-block;position:absolute}juel-map{width:500px;height:500px;display:inline-block}.rotate.n{transform:rotate(0)}.rotate.ne{transform:rotate(45deg)}.rotate.e{transform:rotate(90deg)}.rotate.se{transform:rotate(135deg)}.rotate.s{transform:rotate(180deg)}.rotate.sw{transform:rotate(225deg)}.rotate.w{transform:rotate(270deg)}.rotate.nw{transform:rotate(315deg)}.position{position:absolute}.position.outside{z-index:1000}.position.n{top:0}.position.n.outside{transform:translateY(-50%)}.position.ne{top:0;right:0}.position.ne.outside{transform:translate(50%,-50%)}.position.e{right:0}.position.e.outside{transform:translate(50%)}.position.se{bottom:0;right:0}.position.se.outside{transform:translate(50%,50%)}.position.s{bottom:0}.position.s.outside{transform:translateY(50%)}.position.sw{bottom:0;left:0}.position.sw.outside{transform:translate(-50%,50%)}.position.w{left:0}.position.w.outside{transform:translate(-50%)}.position.nw{top:0;left:0}.position.nw.outside{transform:translate(-50%,-50%)}.play-container{display:inline-block;position:relative}.play-container .play-btn{--fill:var(--danger);background:#fff;border-radius:50%;width:40px;height:40px;padding:20px;animation:3s infinite btn-ripple;position:absolute;top:calc(50% - 40px);left:calc(50% - 40px)}.play-container .play-btn svg{width:100%;height:100%}@keyframes btn-ripple{70%{-webkit-box-shadow:0 0 0 var(--glow-size,15px)white;box-shadow:0 0 0 var(--glow-size,15px)white}to{box-shadow:0 0 #fff}}.sheet{box-sizing:border-box;page-break-after:always;margin:0;position:relative;overflow:hidden}.sheet .landscape{page:landscape}.page.A3 .sheet{width:297mm;height:420mm}.page.A3.landscape .sheet{width:420mm;height:297mm}.page.A4 .sheet{width:210mm;height:297mm}.page.A4.landscape .sheet{width:297mm;height:210mm}.page.A5 .sheet{width:148mm;height:210mm}.page.A5.landscape .sheet{width:210mm;height:148mm}.page.letter .sheet{width:216mm;height:279mm}.page.letter.landscape .sheet{width:280mm;height:215mm}.page.legal .sheet{width:216mm;height:356mm}.page.legal.landscape .sheet{width:357mm;height:215mm}.sheet.padding-10mm{padding:10mm}.sheet.padding-15mm{padding:15mm}.sheet.padding-20mm{padding:20mm}.sheet.padding-25mm{padding:25mm}@page{size:A4 portrait}@page landscape{size:A4 landscape}.full-width{width:100%}.full-height{height:100%}.full-size{width:100%;height:100%}.overlay{justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;top:0;left:0}.w-100pc{width:100%}.h-100pc{height:100%}.h-100vh{height:100vh}.h-100vw{width:100vw}body{font-family:var(--body-font-family);font-size:var(--body-font-size);font-weight:var(--body-font-weight);line-height:var(--body-line-height);color:var(--body-color);text-align:var(--body-text-align);background-color:var(--body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent;margin:0}juel-image-map>:not(:-webkit-any(img,svg)){display:none}juel-image-map>:not(:is(img,svg)){display:none}.hide,.hidden{display:none}juel-image-map>:not(:-webkit-any(img,svg)){display:none}juel-image-map>:not(:is(img,svg)){display:none}.fullscreen{width:100vw;height:100vh}.flex{flex-flow:column wrap;display:flex}.flex form{flex-direction:column;display:flex}.heading-link{opacity:0;vertical-align:middle;padding-right:.5em;text-decoration:none}.heading-link:hover{opacity:1}.heading-link svg{width:32px;height:32px;display:inline-block}.transition{transition-property:transform,background-color,color,width,height;transition-duration:var(--duration,1s)}.icon{display:inline-block;-webkit-mask-position:50%;mask-position:50%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.icon.lg{width:48px;height:48px}.icon.sm{width:16px;height:16px}.icon.md{width:32px;height:32px}.icon.align-centre{-webkit-mask-image:var(--icon-align-centre);-webkit-mask-image:var(--icon-align-centre);mask-image:var(--icon-align-centre)}.icon.align-justify{-webkit-mask-image:var(--icon-align-justify);-webkit-mask-image:var(--icon-align-justify);mask-image:var(--icon-align-justify)}.icon.align-left{-webkit-mask-image:var(--icon-align-left);-webkit-mask-image:var(--icon-align-left);mask-image:var(--icon-align-left)}.icon.align-right{-webkit-mask-image:var(--icon-align-right);-webkit-mask-image:var(--icon-align-right);mask-image:var(--icon-align-right)}.icon.indent{-webkit-mask-image:var(--icon-indent);-webkit-mask-image:var(--icon-indent);mask-image:var(--icon-indent)}.icon.outdent{-webkit-mask-image:var(--icon-outdent);-webkit-mask-image:var(--icon-outdent);mask-image:var(--icon-outdent)}.icon.smile{-webkit-mask-image:var(--icon-smile);-webkit-mask-image:var(--icon-smile);mask-image:var(--icon-smile)}.icon.bold{-webkit-mask-image:var(--icon-bold);-webkit-mask-image:var(--icon-bold);mask-image:var(--icon-bold)}.icon.image{-webkit-mask-image:var(--icon-image);-webkit-mask-image:var(--icon-image);mask-image:var(--icon-image)}.icon.italic{-webkit-mask-image:var(--icon-italic);-webkit-mask-image:var(--icon-italic);mask-image:var(--icon-italic)}.icon.link{-webkit-mask-image:var(--icon-link);-webkit-mask-image:var(--icon-link);mask-image:var(--icon-link)}.icon.list-numbered{-webkit-mask-image:var(--icon-list-numbered);-webkit-mask-image:var(--icon-list-numbered);mask-image:var(--icon-list-numbered)}.icon.list{-webkit-mask-image:var(--icon-list);-webkit-mask-image:var(--icon-list);mask-image:var(--icon-list)}.icon.quote{-webkit-mask-image:var(--icon-quote);-webkit-mask-image:var(--icon-quote);mask-image:var(--icon-quote)}.icon.box-open{-webkit-mask-image:var(--icon-box-open);-webkit-mask-image:var(--icon-box-open);mask-image:var(--icon-box-open)}.icon.box{-webkit-mask-image:var(--icon-box);-webkit-mask-image:var(--icon-box);mask-image:var(--icon-box)}.icon.cube{-webkit-mask-image:var(--icon-cube);-webkit-mask-image:var(--icon-cube);mask-image:var(--icon-cube)}.icon.cubes{-webkit-mask-image:var(--icon-cubes);-webkit-mask-image:var(--icon-cubes);mask-image:var(--icon-cubes)}.icon.landmark{-webkit-mask-image:var(--icon-landmark);-webkit-mask-image:var(--icon-landmark);mask-image:var(--icon-landmark)}.icon.landscape{-webkit-mask-image:var(--icon-landscape);-webkit-mask-image:var(--icon-landscape);mask-image:var(--icon-landscape)}.icon.shapes{-webkit-mask-image:var(--icon-shapes);-webkit-mask-image:var(--icon-shapes);mask-image:var(--icon-shapes)}.icon.chevron-down{-webkit-mask-image:var(--icon-chevron-down);-webkit-mask-image:var(--icon-chevron-down);mask-image:var(--icon-chevron-down)}.icon.arrows-move{-webkit-mask-image:var(--icon-arrows-move);-webkit-mask-image:var(--icon-arrows-move);mask-image:var(--icon-arrows-move)}.icon.arrows-rotate{-webkit-mask-image:var(--icon-arrows-rotate);-webkit-mask-image:var(--icon-arrows-rotate);mask-image:var(--icon-arrows-rotate)}.icon.asterisk{-webkit-mask-image:var(--icon-asterisk);-webkit-mask-image:var(--icon-asterisk);mask-image:var(--icon-asterisk)}.icon.error{-webkit-mask-image:var(--icon-error);-webkit-mask-image:var(--icon-error);mask-image:var(--icon-error)}.icon.exclamation{-webkit-mask-image:var(--icon-exclamation);-webkit-mask-image:var(--icon-exclamation);mask-image:var(--icon-exclamation)}.icon.hand{-webkit-mask-image:var(--icon-hand);-webkit-mask-image:var(--icon-hand);mask-image:var(--icon-hand)}.icon.info{-webkit-mask-image:var(--icon-info);-webkit-mask-image:var(--icon-info);mask-image:var(--icon-info)}.icon.question{-webkit-mask-image:var(--icon-question);-webkit-mask-image:var(--icon-question);mask-image:var(--icon-question)}.icon.cancel{-webkit-mask-image:var(--icon-cancel);-webkit-mask-image:var(--icon-cancel);mask-image:var(--icon-cancel)}.icon.success{-webkit-mask-image:var(--icon-success);-webkit-mask-image:var(--icon-success);mask-image:var(--icon-success)}.icon.user{-webkit-mask-image:var(--icon-user);-webkit-mask-image:var(--icon-user);mask-image:var(--icon-user)}.icon.users{-webkit-mask-image:var(--icon-users);-webkit-mask-image:var(--icon-users);mask-image:var(--icon-users)}.icon.warning{-webkit-mask-image:var(--icon-warning);-webkit-mask-image:var(--icon-warning);mask-image:var(--icon-warning)}.icon.play{-webkit-mask-image:var(--icon-play);-webkit-mask-image:var(--icon-play);mask-image:var(--icon-play)}.icon.mail{-webkit-mask-image:var(--icon-mail);-webkit-mask-image:var(--icon-mail);mask-image:var(--icon-mail)}.icon.globe{-webkit-mask-image:var(--icon-globe);-webkit-mask-image:var(--icon-globe);mask-image:var(--icon-globe)}.icon.phone{-webkit-mask-image:var(--icon-phone);-webkit-mask-image:var(--icon-phone);mask-image:var(--icon-phone)}.icon.mobile{-webkit-mask-image:var(--icon-mobile);-webkit-mask-image:var(--icon-mobile);mask-image:var(--icon-mobile)}.icon.phone-volume{-webkit-mask-image:var(--icon-phone-volume);-webkit-mask-image:var(--icon-phone-volume);mask-image:var(--icon-phone-volume)}.icon.facebook{-webkit-mask-image:var(--icon-facebook);-webkit-mask-image:var(--icon-facebook);mask-image:var(--icon-facebook)}.icon.instagram{-webkit-mask-image:var(--icon-instagram);-webkit-mask-image:var(--icon-instagram);mask-image:var(--icon-instagram)}.icon.tiktok{-webkit-mask-image:var(--icon-tiktok);-webkit-mask-image:var(--icon-tiktok);mask-image:var(--icon-tiktok)}.icon.whatsapp{-webkit-mask-image:var(--icon-whatsapp);-webkit-mask-image:var(--icon-whatsapp);mask-image:var(--icon-whatsapp)}.icon.youtube{-webkit-mask-image:var(--icon-youtube);-webkit-mask-image:var(--icon-youtube);mask-image:var(--icon-youtube)}.icon.x{-webkit-mask-image:var(--icon-x);-webkit-mask-image:var(--icon-x);mask-image:var(--icon-x)}.icon.bluesky{-webkit-mask-image:var(--icon-bluesky);-webkit-mask-image:var(--icon-bluesky);mask-image:var(--icon-bluesky)}.icon.calculator{-webkit-mask-image:var(--icon-calculator);-webkit-mask-image:var(--icon-calculator);mask-image:var(--icon-calculator)}.icon.plus{-webkit-mask-image:var(--icon-plus);-webkit-mask-image:var(--icon-plus);mask-image:var(--icon-plus)}.icon.minus{-webkit-mask-image:var(--icon-minus);-webkit-mask-image:var(--icon-minus);mask-image:var(--icon-minus)}.icon.plus-minus{-webkit-mask-image:var(--icon-plus-minus);-webkit-mask-image:var(--icon-plus-minus);mask-image:var(--icon-plus-minus)}.icon.square-root{-webkit-mask-image:var(--icon-square-root);-webkit-mask-image:var(--icon-square-root);mask-image:var(--icon-square-root)}.icon.times{-webkit-mask-image:var(--icon-times);-webkit-mask-image:var(--icon-times);mask-image:var(--icon-times)}.icon.divide{-webkit-mask-image:var(--icon-divide);-webkit-mask-image:var(--icon-divide);mask-image:var(--icon-divide)}.icon.equal{-webkit-mask-image:var(--icon-equal);-webkit-mask-image:var(--icon-equal);mask-image:var(--icon-equal)}.icon.not-equal{-webkit-mask-image:var(--icon-not-equal);-webkit-mask-image:var(--icon-not-equal);mask-image:var(--icon-not-equal)}.icon.previous{-webkit-mask-image:var(--icon-previous);-webkit-mask-image:var(--icon-previous);mask-image:var(--icon-previous)}.icon.next{-webkit-mask-image:var(--icon-next);-webkit-mask-image:var(--icon-next);mask-image:var(--icon-next)}.icon.indicator{-webkit-mask-image:var(--icon-indicator);-webkit-mask-image:var(--icon-indicator);mask-image:var(--icon-indicator)}.icon.crosshair{-webkit-mask-image:var(--icon-crosshair);-webkit-mask-image:var(--icon-crosshair);mask-image:var(--icon-crosshair)}.icon.close{-webkit-mask-image:var(--icon-close);-webkit-mask-image:var(--icon-close);mask-image:var(--icon-close)}.icon.tick{-webkit-mask-image:var(--icon-tick);-webkit-mask-image:var(--icon-tick);mask-image:var(--icon-tick)}.icon.access{-webkit-mask-image:var(--icon-access);-webkit-mask-image:var(--icon-access);mask-image:var(--icon-access)}.reveal{opacity:var(--animation-reveal)}.reveal:hover{opacity:var(--animation-reveal-end)}body{--primary:#007bff;--primary-text:#343a40;--secondary:#6c757d;--secondary-text:#f8f9fa;--tertiary:salmon;--tertiary-text:salmon;--highlight:#007bff;--active:#e7f1ff;--light:#f8f9fa;--dark:#343a40;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--highlight-text:#343a40;--active-text:#0c63e4;--light-text:#f8f9fa;--dark-text:#343a40;--success-text:#28a745;--info-text:#343a40;--warning-text:#343a40;--danger-text:#dc3545;--block-spacing:1.5rem;--column-gap:.5rem;--icon-align-centre:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M352%2064c0-17.7-14.3-32-32-32H128c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h192c17.7%200%2032-14.3%2032-32m96%20128c0-17.7-14.3-32-32-32H32c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h384c17.7%200%2032-14.3%2032-32M0%20448c0%2017.7%2014.3%2032%2032%2032h384c17.7%200%2032-14.3%2032-32s-14.3-32-32-32H32c-17.7%200-32%2014.3-32%2032m352-128c0-17.7-14.3-32-32-32H128c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h192c17.7%200%2032-14.3%2032-32%22%2F%3E%3C%2Fsvg%3E);--icon-align-justify:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M448%2064c0-17.7-14.3-32-32-32H32C14.3%2032%200%2046.3%200%2064s14.3%2032%2032%2032h384c17.7%200%2032-14.3%2032-32m0%20256c0-17.7-14.3-32-32-32H32c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h384c17.7%200%2032-14.3%2032-32M0%20192c0%2017.7%2014.3%2032%2032%2032h384c17.7%200%2032-14.3%2032-32s-14.3-32-32-32H32c-17.7%200-32%2014.3-32%2032m448%20256c0-17.7-14.3-32-32-32H32c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h384c17.7%200%2032-14.3%2032-32%22%2F%3E%3C%2Fsvg%3E);--icon-align-left:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M288%2064c0%2017.7-14.3%2032-32%2032H32C14.3%2096%200%2081.7%200%2064s14.3-32%2032-32h224c17.7%200%2032%2014.3%2032%2032m0%20256c0%2017.7-14.3%2032-32%2032H32c-17.7%200-32-14.3-32-32s14.3-32%2032-32h224c17.7%200%2032%2014.3%2032%2032M0%20192c0-17.7%2014.3-32%2032-32h384c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H32c-17.7%200-32-14.3-32-32m448%20256c0%2017.7-14.3%2032-32%2032H32c-17.7%200-32-14.3-32-32s14.3-32%2032-32h384c17.7%200%2032%2014.3%2032%2032%22%2F%3E%3C%2Fsvg%3E);--icon-align-right:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M448%2064c0%2017.7-14.3%2032-32%2032H192c-17.7%200-32-14.3-32-32s14.3-32%2032-32h224c17.7%200%2032%2014.3%2032%2032m0%20256c0%2017.7-14.3%2032-32%2032H192c-17.7%200-32-14.3-32-32s14.3-32%2032-32h224c17.7%200%2032%2014.3%2032%2032M0%20192c0-17.7%2014.3-32%2032-32h384c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H32c-17.7%200-32-14.3-32-32m448%20256c0%2017.7-14.3%2032-32%2032H32c-17.7%200-32-14.3-32-32s14.3-32%2032-32h384c17.7%200%2032%2014.3%2032%2032%22%2F%3E%3C%2Fsvg%3E);--icon-indent:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M0%2064c0-17.7%2014.3-32%2032-32h384c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H32C14.3%2096%200%2081.7%200%2064m192%20128c0-17.7%2014.3-32%2032-32h192c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H224c-17.7%200-32-14.3-32-32m32%2096h192c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H224c-17.7%200-32-14.3-32-32s14.3-32%2032-32M0%20448c0-17.7%2014.3-32%2032-32h384c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H32c-17.7%200-32-14.3-32-32m127.8-179.4-102%2079.3c-10.5%208.2-25.8.7-25.8-12.6V176.7c0-13.3%2015.3-20.8%2025.8-12.6l101.9%2079.3c8.2%206.4%208.2%2018.9%200%2025.3z%22%2F%3E%3C%2Fsvg%3E);--icon-outdent:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M32%2064c0-17.7%2014.3-32%2032-32h384c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H64c-17.7%200-32-14.3-32-32m192%20128c0-17.7%2014.3-32%2032-32h192c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H256c-17.7%200-32-14.3-32-32m32%2096h192c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H256c-17.7%200-32-14.3-32-32s14.3-32%2032-32M32%20448c0-17.7%2014.3-32%2032-32h384c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H64c-17.7%200-32-14.3-32-32m.2-179.4c-8.2-6.4-8.2-18.9%200-25.3L134.1%20164c10.5-8.2%2025.8-.7%2025.8%2012.6v158.7c0%2013.3-15.3%2020.8-25.8%2012.6z%22%2F%3E%3C%2Fsvg%3E);--icon-smile:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20id%3D%22icon-smile%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M256%20352c37.2%200%2063.2-17.5%2078.4-33.9%208.9-9.7%2024.1-10.4%2033.9-1.4%209.7%209%2010.3%2024.2%201.3%2033.9C347.7%20374.5%20309.7%20400%20256%20400s-91.7-25.5-113.6-49.4c-9-9.7-9.3-24.9%201.3-33.9%209.8-9%2025-8.3%2033.9%201.4%2015.2%2016.4%2041.2%2033.9%2078.4%2033.9m-47.6-144c0%2017.7-14.4%2032-32%2032-17.7%200-32-14.3-32-32s14.3-32%2032-32c17.6%200%2032%2014.3%2032%2032m96%200c0-17.7%2014.3-32%2032-32%2017.6%200%2032%2014.3%2032%2032s-14.4%2032-32%2032c-17.7%200-32-14.3-32-32M512%20256c0%20141.4-114.6%20256-256%20256S0%20397.4%200%20256%20114.6%200%20256%200s256%20114.6%20256%20256M256%2048C141.1%2048%2048%20141.1%2048%20256s93.1%20208%20208%20208%20208-93.1%20208-208S370.9%2048%20256%2048%22%2F%3E%3C%2Fsvg%3E);--icon-bold:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20384%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M0%2064c0-17.7%2014.3-32%2032-32h192c70.7%200%20128%2057.3%20128%20128%200%2031.3-11.3%2060.1-30%2082.3%2037.1%2022.4%2062%2063.1%2062%20109.7%200%2070.7-57.3%20128-128%20128H32c-17.7%200-32-14.3-32-32s14.3-32%2032-32h16V96H32C14.3%2096%200%2081.7%200%2064m224%20160c35.3%200%2064-28.7%2064-64s-28.7-64-64-64H112v128zm-112%2064v128h144c35.3%200%2064-28.7%2064-64s-28.7-64-64-64H112%22%2F%3E%3C%2Fsvg%3E);--icon-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M152%20120c-26.51%200-48%2021.49-48%2048s21.49%2048%2048%2048%2048-21.49%2048-48-21.5-48-48-48m295.1-88h-384C28.65%2032-.01%2060.65-.01%2096v320c0%2035.35%2028.65%2064%2063.1%2064h384c35.35%200%2064-28.65%2064-64V96c.01-35.35-27.79-64-63.99-64m16%20377.3L326.3%20223.4c-2.5-4.6-8.2-7.4-14.3-7.4-6.113%200-11.82%202.768-15.21%207.379l-106.6%20144.1-37.09-46.1c-3.441-4.279-8.934-6.809-14.77-6.809-5.842%200-11.33%202.529-14.78%206.809l-75.52%2093.81c0-.03%200%20.03%200%200L47.99%2096c0-8.822%207.178-16%2016-16h384c8.822%200%2016%207.178%2016%2016v313.3z%22%2F%3E%3C%2Fsvg%3E);--icon-italic:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20384%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M128%2064c0-17.7%2014.3-32%2032-32h192c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032h-58.7L160%20416h64c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H32c-17.7%200-32-14.3-32-32s14.3-32%2032-32h58.7L224%2096h-64c-17.7%200-32-14.3-32-32%22%2F%3E%3C%2Fsvg%3E);--icon-link:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20id%3D%22icon-link%22%20viewBox%3D%220%200%20640%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M579.8%20267.7c56.5-56.5%2056.5-148%200-204.5-50-50-128.8-56.5-186.3-15.4l-1.6%201.1c-14.4%2010.3-17.7%2030.3-7.4%2044.6s30.3%2017.7%2044.6%207.4l1.6-1.1c32.1-22.9%2076-19.3%20103.8%208.6%2031.5%2031.5%2031.5%2082.5%200%20114L422.3%20334.8c-31.5%2031.5-82.5%2031.5-114%200-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4%206.9-34.4-7.4-44.6s-34.4-6.9-44.6%207.4l-1.1%201.6C206.5%20251.2%20213%20330%20263%20380c56.5%2056.5%20148%2056.5%20204.5%200zM60.2%20244.3c-56.5%2056.5-56.5%20148%200%20204.5%2050%2050%20128.8%2056.5%20186.3%2015.4l1.6-1.1c14.4-10.3%2017.7-30.3%207.4-44.6s-30.3-17.7-44.6-7.4l-1.6%201.1c-32.1%2022.9-76%2019.3-103.8-8.6C74%20372%2074%20321%20105.5%20289.5l112.2-112.3c31.5-31.5%2082.5-31.5%20114%200%2027.9%2027.9%2031.5%2071.8%208.6%20103.9l-1.1%201.6c-10.3%2014.4-6.9%2034.4%207.4%2044.6s34.4%206.9%2044.6-7.4l1.1-1.6C433.5%20260.8%20427%20182%20377%20132c-56.5-56.5-148-56.5-204.5%200z%22%2F%3E%3C%2Fsvg%3E);--icon-list-numbered:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22m61.77%20401%2017.5-20.15a19.92%2019.92%200%200%200%205.07-14.19v-3.31C84.34%20356%2080.5%20352%2073%20352H16a8%208%200%200%200-8%208v16a8%208%200%200%200%208%208h22.83a157%20157%200%200%200-11%2012.31l-5.61%207c-4%205.07-5.25%2010.13-2.8%2014.88l1.05%201.93c3%205.76%206.29%207.88%2012.25%207.88h4.73c10.33%200%2015.94%202.44%2015.94%209.09%200%204.72-4.2%208.22-14.36%208.22a41.5%2041.5%200%200%201-15.47-3.12c-6.49-3.88-11.74-3.5-15.6%203.12l-5.59%209.31c-3.72%206.13-3.19%2011.72%202.63%2015.94%207.71%204.69%2020.38%209.44%2037%209.44%2034.16%200%2048.5-22.75%2048.5-44.12-.03-14.38-9.12-29.76-28.73-34.88M496%20224H176a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h320a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16m0-160H176a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h320a16%2016%200%200%200%2016-16V80a16%2016%200%200%200-16-16m0%20320H176a16%2016%200%200%200-16%2016v32a16%2016%200%200%200%2016%2016h320a16%2016%200%200%200%2016-16v-32a16%2016%200%200%200-16-16M16%20160h64a8%208%200%200%200%208-8v-16a8%208%200%200%200-8-8H64V40a8%208%200%200%200-8-8H32a8%208%200%200%200-7.14%204.42l-8%2016A8%208%200%200%200%2024%2064h8v64H16a8%208%200%200%200-8%208v16a8%208%200%200%200%208%208m-3.91%20160H80a8%208%200%200%200%208-8v-16a8%208%200%200%200-8-8H41.32c3.29-10.29%2048.34-18.68%2048.34-56.44%200-29.06-25-39.56-44.47-39.56-21.36%200-33.8%2010-40.46%2018.75-4.37%205.59-3%2010.84%202.8%2015.37l8.58%206.88c5.61%204.56%2011%202.47%2016.12-2.44a13.44%2013.44%200%200%201%209.46-3.84c3.33%200%209.28%201.56%209.28%208.75C51%20248.19%200%20257.31%200%20304.59v4C0%20316%205.08%20320%2012.09%20320%22%2F%3E%3C%2Fsvg%3E);--icon-list:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M40%2048c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24V72c0-13.3-10.7-24-24-24zm152%2016c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zM16%20232v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24H40c-13.3%200-24%2010.7-24%2024m24%20136c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24z%22%2F%3E%3C%2Fsvg%3E);--icon-quote:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M0%20216C0%20149.7%2053.7%2096%20120%2096h8c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032h-8c-30.9%200-56%2025.1-56%2056v8h64c35.3%200%2064%2028.7%2064%2064v64c0%2035.3-28.7%2064-64%2064H64c-35.3%200-64-28.7-64-64V216m256%200c0-66.3%2053.7-120%20120-120h8c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032h-8c-30.9%200-56%2025.1-56%2056v8h64c35.3%200%2064%2028.7%2064%2064v64c0%2035.3-28.7%2064-64%2064h-64c-35.3%200-64-28.7-64-64V216%22%2F%3E%3C%2Fsvg%3E);--icon-box-open:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20640%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M58.9%2042.1c3-6.1%209.6-9.6%2016.3-8.7L320%2064l244.8-30.6c6.7-.8%2013.3%202.7%2016.3%208.7l41.7%2083.4c9%2017.9-.6%2039.6-19.8%2045.1l-163.4%2046.7c-13.9%204-28.8-1.9-36.2-14.3L320%2064l-83.4%20139c-7.4%2012.4-22.3%2018.3-36.2%2014.3L37.1%20170.6c-19.3-5.5-28.8-27.2-19.8-45.1zM321.1%20128l54.9%2091.4c14.9%2024.8%2044.6%2036.6%2072.5%2028.6L576%20211.6v167c0%2022-15%2041.2-36.4%2046.6l-204.1%2051c-10.2%202.6-20.9%202.6-31%200l-204.1-51C79%20419.7%2064%20400.5%2064%20378.5v-167L191.6%20248c27.8%208%2057.6-3.8%2072.5-28.6l54.8-91.4z%22%2F%3E%3C%2Fsvg%3E);--icon-box:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M50.7%2058.5%200%20160h208V32H93.7c-18.2%200-34.8%2010.3-43%2026.5M240%20160h208L397.3%2058.5c-8.2-16.2-24.8-26.5-43-26.5H240zm208%2032H0v224c0%2035.3%2028.7%2064%2064%2064h320c35.3%200%2064-28.7%2064-64z%22%2F%3E%3C%2Fsvg%3E);--icon-cube:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M234.5%205.7c13.9-5%2029.1-5%2043.1%200l192%2068.6c25.4%209.1%2042.4%2033.2%2042.4%2060.3v242.8c0%2027-17%2051.2-42.5%2060.3l-192%2068.6c-13.9%205-29.1%205-43.1%200l-192-68.6C17%20428.6%200%20404.5%200%20377.4V134.6c0-27%2017-51.2%2042.5-60.3zM256%2066%2082.3%20128%20256%20190l173.7-62zm32%20368.6%20160-57.1v-188l-160%2057.1z%22%2F%3E%3C%2Fsvg%3E);--icon-cubes:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20576%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22m290.8%2048.6%2078.4%2029.7-81.2%2031.2-81.2-31.2%2078.4-29.7c1.8-.7%203.8-.7%205.7%200zM136%2092.5v112.2c-1.3.4-2.6.8-3.9%201.3l-96%2036.4C14.4%20250.6%200%20271.5%200%20294.7v119.2c0%2022.2%2013.1%2042.3%2033.5%2051.3l96%2042.2c14.4%206.3%2030.7%206.3%2045.1%200L288%20457.5l113.5%2049.9c14.4%206.3%2030.7%206.3%2045.1%200l96-42.2c20.3-8.9%2033.5-29.1%2033.5-51.3V294.7c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-1.3-.5-2.6-.9-3.9-1.3V92.5c0-23.3-14.4-44.1-36.1-52.4L308%203.7c-12.8-4.8-26.9-4.8-39.7%200l-96%2036.4C150.4%2048.4%20136%2069.3%20136%2092.5m256%20118.1-82.4%2031.2v-89.2L392%20121zm-237.2%2040.3%2078.4%2029.7-81.2%2031.1-81.2-31.1%2078.4-29.7c1.8-.7%203.8-.7%205.7%200zm18.8%20204.4V354.8l82.4-31.6v95.9zm247.6-204.4c1.8-.7%203.8-.7%205.7%200l78.4%2029.7-81.3%2031.1-81.2-31.1zm102%20170.3-77.6%2034.1V354.8l82.4-31.6v90.7c0%203.2-1.9%206-4.8%207.3%22%2F%3E%3C%2Fsvg%3E);--icon-globe:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A%2F%2Ffontawesome.com%20License%20-%20https%3A%2F%2Ffontawesome.com%2Flicense%2Ffree%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M352%20256c0%2022.2-1.2%2043.6-3.3%2064H163.4c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6%203.3-64h185.3c2.2%2020.4%203.3%2041.8%203.3%2064m28.8-64h123.1c5.3%2020.5%208.1%2041.9%208.1%2064s-2.8%2043.5-8.1%2064H380.8c2.1-20.6%203.2-42%203.2-64s-1.1-43.4-3.2-64m112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6%2078.3%2020.7%20142%2077.5%20171.9%20151.6zm-149.1%200H167.7c6.1-36.4%2015.5-68.6%2027-94.7%2010.5-23.6%2022.2-40.7%2033.5-51.5C239.4%203.2%20248.7%200%20256%200s16.6%203.2%2027.8%2013.8c11.3%2010.8%2023%2027.9%2033.5%2051.5%2011.6%2026%2020.9%2058.2%2027%2094.7m-209%200H18.6c30-74.1%2093.6-130.9%20172-151.6-25.5%2034.2-45.3%2087.7-55.3%20151.6M8.1%20192h123.1c-2.1%2020.6-3.2%2042-3.2%2064s1.1%2043.4%203.2%2064H8.1C2.8%20299.5%200%20278.1%200%20256s2.8-43.5%208.1-64m186.6%20254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1%2036.4-15.5%2068.6-27%2094.6-10.5%2023.6-22.2%2040.7-33.5%2051.5-11.2%2010.7-20.5%2013.9-27.8%2013.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3%20352c10%2063.9%2029.8%20117.4%2055.3%20151.6-78.4-20.7-142-77.5-172-151.6zm358.1%200c-30%2074.1-93.6%20130.9-171.9%20151.6%2025.5-34.2%2045.2-87.7%2055.3-151.6h116.7z%22%2F%3E%3C%2Fsvg%3E);--icon-landmark:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M240.1%204.2c9.8-5.6%2021.9-5.6%2031.8%200l171.8%2098.1%204.3%201.7v.9l47.9%2027.4c12.6%207.2%2018.8%2022%2015.1%2036s-16.4%2023.8-30.9%2023.8H32c-14.5%200-27.2-9.8-30.9-23.8s2.5-28.8%2015.1-36L64%20104.9v-.9l4.4-1.6zM64%20224h64v192h40V224h64v192h48V224h64v192h40V224h64v196.3c.6.3%201.2.7%201.8%201.1l48%2032c11.7%207.8%2017%2022.4%2012.9%2035.9S494.1%20512%20480%20512H32c-14.1%200-26.5-9.2-30.6-22.7s1.1-28.1%2012.9-35.9l48-32c.6-.4%201.2-.7%201.8-1.1V224z%22%2F%3E%3C%2Fsvg%3E);--icon-landscape:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20640%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M560%20160c44.2%200%2080-35.8%2080-80S604.2%200%20560%200s-80%2035.8-80%2080%2035.8%2080%2080%2080M55.9%20512h523c33.8%200%2061.1-27.4%2061.1-61.1%200-11.2-3.1-22.2-8.9-31.8l-132-216.3C495%20196.1%20487.8%20192%20480%20192s-15%204.1-19.1%2010.7l-48.2%2079L286.8%2081c-6.6-10.6-18.3-17-30.8-17s-24.1%206.4-30.8%2017L8.6%20426.4C3%20435.3%200%20445.6%200%20456.1%200%20487%2025%20512%2055.9%20512%22%2F%3E%3C%2Fsvg%3E);--icon-shapes:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M315.4%2015.5C309.7%205.9%20299.2%200%20288%200s-21.7%205.9-27.4%2015.5l-96%20160c-5.9%209.9-6.1%2022.2-.4%2032.2s16.3%2016.2%2027.8%2016.2h192c11.5%200%2022.2-6.2%2027.8-16.2s5.5-22.3-.4-32.2zM288%20312v144c0%2022.1%2017.9%2040%2040%2040h144c22.1%200%2040-17.9%2040-40V312c0-22.1-17.9-40-40-40H328c-22.1%200-40%2017.9-40%2040M128%20512c70.7%200%20128-57.3%20128-128s-57.3-128-128-128S0%20313.3%200%20384s57.3%20128%20128%20128%22%2F%3E%3C%2Fsvg%3E);--icon-chevron-down:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20d%3D%22M233.4%20406.6c12.5%2012.5%2032.8%2012.5%2045.3%200l192-192c12.5-12.5%2012.5-32.8%200-45.3s-32.8-12.5-45.3%200L256%20338.7%2086.6%20169.4c-12.5-12.5-32.8-12.5-45.3%200s-12.5%2032.8%200%2045.3l192%20192z%22%2F%3E%3C%2Fsvg%3E);--icon-arrows-move:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A%2F%2Ffontawesome.com%20License%20-%20https%3A%2F%2Ffontawesome.com%2Flicense%2Ffree%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M278.6%209.4c-12.5-12.5-32.8-12.5-45.3%200l-64%2064c-12.5%2012.5-12.5%2032.8%200%2045.3s32.8%2012.5%2045.3%200l9.4-9.4V224H109.3l9.4-9.4c12.5-12.5%2012.5-32.8%200-45.3s-32.8-12.5-45.3%200l-64%2064c-12.5%2012.5-12.5%2032.8%200%2045.3l64%2064c12.5%2012.5%2032.8%2012.5%2045.3%200s12.5-32.8%200-45.3l-9.4-9.4%20114.7.1v114.7l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3%200s-12.5%2032.8%200%2045.3l64%2064c12.5%2012.5%2032.8%2012.5%2045.3%200l64-64c12.5-12.5%2012.5-32.8%200-45.3s-32.8-12.5-45.3%200l-9.4%209.4.1-114.7h114.7l-9.4%209.4c-12.5%2012.5-12.5%2032.8%200%2045.3s32.8%2012.5%2045.3%200l64-64c12.5-12.5%2012.5-32.8%200-45.3l-64-64c-12.5-12.5-32.8-12.5-45.3%200s-12.5%2032.8%200%2045.3l9.4%209.4L288%20224V109.3l9.4%209.4c12.5%2012.5%2032.8%2012.5%2045.3%200s12.5-32.8%200-45.3l-64-64z%22%2F%3E%3C%2Fsvg%3E);--icon-arrows-rotate:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A%2F%2Ffontawesome.com%20License%20-%20https%3A%2F%2Ffontawesome.com%2Flicense%2Ffree%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M142.9%20142.9c-17.5%2017.5-30.1%2038-37.8%2059.8-5.9%2016.7-24.2%2025.4-40.8%2019.5S38.9%20198%2044.8%20181.4c10.8-30.7%2028.4-59.4%2052.8-83.8%2087.2-87.2%20228.3-87.5%20315.8-1L455%2055c6.9-6.9%2017.2-8.9%2026.2-5.2S496%2062.3%20496%2072v128c0%2013.3-10.7%2024-24%2024H344c-9.7%200-18.5-5.8-22.2-14.8s-1.7-19.3%205.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3%201zM16%20312c0-13.3%2010.7-24%2024-24h128c9.7%200%2018.5%205.8%2022.2%2014.8s1.7%2019.3-5.2%2026.2l-41.1%2041.1c62.6%2061.5%20163.1%2061.2%20225.3-1%2017.5-17.5%2030.1-38%2037.8-59.8%205.9-16.7%2024.2-25.4%2040.8-19.5s25.4%2024.2%2019.5%2040.8c-10.8%2030.6-28.4%2059.3-52.9%2083.8-87.2%2087.2-228.3%2087.5-315.8%201L57%20457c-6.9%206.9-17.2%208.9-26.2%205.2S16%20449.7%2016%20440V312.1z%22%2F%3E%3C%2Fsvg%3E);--icon-asterisk:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20blue%29%22%20d%3D%22M417.1%20368c-5.937%2010.27-16.69%2016-27.75%2016a31.9%2031.9%200%200%201-15.97-4.281L256%20311.4V448c0%2017.67-14.33%2032-31.1%2032S192%20465.7%20192%20448V311.4L73.7%20379.69C68.67%20382.6%2063.17%20384%2057.75%20384c-11.06%200-21.81-5.734-27.75-16-8.828-15.31-3.594-34.88%2011.72-43.72L159.1%20256%2041.72%20187.7c-15.31-8.8-20.55-28.4-12.62-43.7%207.53-11.5%2020.16-17.3%2032.55-15.8%204.13.5%208.23%201.9%2012.07%204.1L192%20200.6V64c0-17.67%2014.33-32%2032-32s32%2014.33%2032%2032v136.6l118.3-68.29a32%2032%200%200%201%2012.07-4.051C398.7%20126.7%20411.4%20132.5%20417.1%20144c8.828%2015.31%203.594%2034.88-11.72%2043.72L288%20256l118.3%2068.28c15.3%208.82%2020.5%2028.42%2010.8%2043.72%22%2F%3E%3C%2Fsvg%3E);--icon-error:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--dangor%2C%20red%29%22%20d%3D%22M0%20256C0%20114.6%20114.6%200%20256%200s256%20114.6%20256%20256-114.6%20256-256%20256S0%20397.4%200%20256m175-47.9%2047.1%2047L175%20303c-9.3%209.4-9.3%2024.6%200%2033.1%209.4%2010.2%2024.6%2010.2%2033.1%200l47-46.2%2047.9%2046.2c9.4%2010.2%2024.6%2010.2%2033.1%200%2010.2-8.5%2010.2-23.7%200-33.1l-46.2-47.9%2046.2-47c10.2-8.5%2010.2-23.7%200-33.1-8.5-9.3-23.7-9.3-33.1%200l-47.9%2047.1-47-47.1c-8.5-9.3-23.7-9.3-33.1%200-9.3%209.4-9.3%2024.6%200%2033.1%22%2F%3E%3C%2Fsvg%3E);--icon-exclamation:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20128%20512%22%3E%3Cpath%20fill%3D%22var%28--fille%2C%20blue%29%22%20d%3D%22M64%20352c17.69%200%2032-14.32%2032-31.1V64.01C96%2046.34%2081.69%2032%2064%2032S32%2046.34%2032%2064.01v255.1C32%20337.7%2046.31%20352%2064%20352m0%2048c-22.09%200-40%2017.91-40%2040s17.91%2039.1%2040%2039.1%2040-17.9%2040-39.1-17.91-40-40-40%22%2F%3E%3C%2Fsvg%3E);--icon-hand:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20blue%29%22%20d%3D%22M480%20128v208c0%2097.05-78.95%20176-176%20176h-37.72c-53.42%200-103.7-20.8-141.4-58.58l-113.1-113.1C3.906%20332.5%200%20322.2%200%20312c0-21.3%2017.15-40%2040-40%2010.23%200%2020.47%203.906%2028.28%2011.72L128%20343.4V64c0-17.67%2014.33-32%2032-32s32%2014.33%2032%2032l.073%20176c.027%208.8%207.127%2016%2015.927%2016s16.07-7.164%2016.07-16L224%2032c0-17.67%2014.33-32%2032-32s32%2014.33%2032%2032l.048%20208c0%208.836%207.111%2016%2015.95%2016S320%20248.8%20320%20240V64c0-17.67%2014.33-32%2032-32s32%2014.33%2032%2032l.073%20176c0%208.836%207.09%2016%2015.93%2016S416%20248.8%20416%20240V128c0-17.67%2014.33-32%2032-32s32%2014.3%2032%2032%22%2F%3E%3C%2Fsvg%3E);--icon-info:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--info%2C%20lightblue%29%22%20d%3D%22M256%200C114.6%200%200%20114.6%200%20256s114.6%20256%20256%20256%20256-114.6%20256-256S397.4%200%20256%200m-24%20152c0-13.2%2010.8-24%2024-24s24%2010.75%2024%2024v128c0%2013.25-10.75%2024-24%2024s-24-10.7-24-24zm24%20248c-17.36%200-31.44-14.08-31.44-31.44s14.07-31.44%2031.44-31.44%2031.44%2014.08%2031.44%2031.44C287.4%20385.9%20273.4%20400%20256%20400%22%2F%3E%3C%2Fsvg%3E);--icon-question:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22%2300f%22%20d%3D%22M256%200C114.6%200%200%20114.6%200%20256s114.6%20256%20256%20256%20256-114.6%20256-256S397.4%200%20256%200m0%20400c-18%200-32-14-32-32s13.1-32%2032-32c17.1%200%2032%2014%2032%2032s-14.9%2032-32%2032m69.1-142L280%20286v2c0%2013-11%2024-24%2024s-24-11-24-24v-16c0-8%204-16%2012-21l57-34c7-4%2011-11%2011-19%200-12-10.9-22-22.9-22H238c-12.9%200-22%2010-22%2022%200%2013-11%2024-24%2024s-24-11-24-24c0-39%2031-70%2069.1-70h51.1c40.8%200%2071.8%2031%2071.8%2070%200%2024-13%2047-34.9%2060%22%2F%3E%3C%2Fsvg%3E);--icon-cancel:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20var%28--danger%2C%20red%29%29%22%20d%3D%22M512%20256c0%20141.4-114.6%20256-256%20256S0%20397.4%200%20256%20114.6%200%20256%200s256%20114.6%20256%20256M99.5%20144.8C77.15%20176.1%2064%20214.5%2064%20256c0%20106%2085.1%20192%20192%20192%2041.5%200%2079.9-13.1%20111.2-35.5zM448%20256c0-106.9-86-192-192-192-41.5%200-79.9%2013.15-111.2%2035.5l267.7%20267.7C434.9%20335.9%20448%20297.5%20448%20256%22%2F%3E%3C%2Fsvg%3E);--icon-success:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--success%2C%20green%29%22%20d%3D%22M0%20256C0%20114.6%20114.6%200%20256%200s256%20114.6%20256%20256-114.6%20256-256%20256S0%20397.4%200%20256m371.8-44.2c10.9-10.9%2010.9-28.7%200-39.6s-28.7-10.9-39.6%200L224%20280.4l-44.2-44.2c-10.9-10.9-28.7-10.9-39.6%200s-10.9%2028.7%200%2039.6l64%2064c10.9%2010.9%2028.7%2010.9%2039.6%200z%22%2F%3E%3C%2Fsvg%3E);--icon-user:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20blue%29%22%20d%3D%22M224%20256c70.7%200%20128-57.31%20128-128S294.7%200%20224%200%2096%2057.31%2096%20128s57.3%20128%20128%20128m50.7%2048H173.3C77.61%20304%200%20381.6%200%20477.3c0%2019.14%2015.52%2034.67%2034.66%2034.67h378.7C432.5%20512%20448%20496.5%20448%20477.3c0-95.7-77.6-173.3-173.3-173.3%22%2F%3E%3C%2Fsvg%3E);--icon-users:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20640%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20blue%29%22%20d%3D%22M319.9%20320c57.41%200%20103.1-46.56%20103.1-104s-46.54-104-103.1-104c-57.41%200-103.1%2046.56-103.1%20104-.9%2057.4%2045.7%20104%20103.1%20104m50%2032h-99.8C191.6%20352%20128%20411.7%20128%20485.3c0%2014.8%2012.7%2026.7%2028.4%2026.7h327.2c15.7%200%2028.4-11.9%2028.4-26.7%200-73.6-63.6-133.3-142.1-133.3M512%20160c44.18%200%2080-35.82%2080-80S556.2%200%20512%200c-44.18%200-80%2035.82-80%2080s35.8%2080%2080%2080m-328.1%2056c0-5.449.982-10.63%201.609-15.91C174.6%20194.1%20162.6%20192%20149.9%20192H88.08C39.44%20192%200%20233.8%200%20285.3%200%20295.6%207.887%20304%2017.62%20304h199.5c-20.42-23.8-33.22-54.3-33.22-88M128%20160c44.18%200%2080-35.82%2080-80S172.2%200%20128%200C83.82%200%2048%2035.82%2048%2080s35.82%2080%2080%2080m423.9%2032h-61.84c-12.8%200-24.88%203.037-35.86%208.24.6%205.26%201.6%2010.36%201.6%2015.76%200%2033.71-12.78%2064.21-33.16%2088h199.7c9.76%200%2017.66-8.4%2017.66-18.7%200-51.5-39.4-93.3-88.1-93.3%22%2F%3E%3C%2Fsvg%3E);--icon-warning:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20fill%3D%22var%28--warning%2C%20orange%29%22%20d%3D%22M506.3%20417%20293%2053c-16.33-28-57.54-28-73.98%200L5.82%20417c-16.41%2027.9%204.029%2063%2036.92%2063h426.6c32.76%200%2053.26-35%2036.96-63M232%20168c0-13.25%2010.75-24%2024-24s24%2010.8%2024%2024v128c0%2013.25-10.75%2024-23.1%2024S232%20309.3%20232%20296zm24%20248c-17.36%200-31.44-14.08-31.44-31.44s14.07-31.44%2031.44-31.44%2031.44%2014.08%2031.44%2031.44C287.4%20401.9%20273.4%20416%20256%20416%22%2F%3E%3C%2Fsvg%3E);--icon-play:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20384%20512%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M73%2039c-14.8-9.1-33.4-9.4-48.5-.9S0%2062.6%200%2080v352c0%2017.4%209.4%2033.4%2024.5%2041.9S58.2%20482%2073%20473l288-176c14.3-8.7%2023-24.2%2023-41s-8.7-32.2-23-41z%22%2F%3E%3C%2Fsvg%3E);--icon-mail:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A%2F%2Ffontawesome.com%20License%20-%20https%3A%2F%2Ffontawesome.com%2Flicense%2Ffree%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M48%2064C21.5%2064%200%2085.5%200%20112c0%2015.1%207.1%2029.3%2019.2%2038.4l217.6%20163.2c11.4%208.5%2027%208.5%2038.4%200l217.6-163.2c12.1-9.1%2019.2-23.3%2019.2-38.4%200-26.5-21.5-48-48-48zM0%20176v208c0%2035.3%2028.7%2064%2064%2064h384c35.3%200%2064-28.7%2064-64V176L294.4%20339.2a63.9%2063.9%200%200%201-76.8%200z%22%2F%3E%3C%2Fsvg%3E);--icon-phone:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A%2F%2Ffontawesome.com%20License%20-%20https%3A%2F%2Ffontawesome.com%2Flicense%2Ffree%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M164.9%2024.6c-7.7-18.6-28-28.5-47.4-23.2l-88%2024C12.1%2030.2%200%2046%200%2064c0%20247.4%20200.6%20448%20448%20448%2018%200%2033.8-12.1%2038.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3%2011.6L304.7%20368c-70.4-33.3-127.4-90.3-160.7-160.7l49.3-40.3c13.7-11.2%2018.4-30%2011.6-46.3l-40-96z%22%2F%3E%3C%2Fsvg%3E);--icon-mobile:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20384%20512%22%3E%3C%21--%21Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A%2F%2Ffontawesome.com%20License%20-%20https%3A%2F%2Ffontawesome.com%2Flicense%2Ffree%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M80%200C44.7%200%2016%2028.7%2016%2064v384c0%2035.3%2028.7%2064%2064%2064h224c35.3%200%2064-28.7%2064-64V64c0-35.3-28.7-64-64-64zm80%20432h64c8.8%200%2016%207.2%2016%2016s-7.2%2016-16%2016h-64c-8.8%200-16-7.2-16-16s7.2-16%2016-16%22%2F%3E%3C%2Fsvg%3E);--icon-phone-volume:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A%2F%2Ffontawesome.com%20License%20-%20https%3A%2F%2Ffontawesome.com%2Flicense%2Ffree%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M280%200c128.1%200%20232%20103.9%20232%20232%200%2013.3-10.7%2024-24%2024s-24-10.7-24-24c0-101.6-82.4-184-184-184-13.3%200-24-10.7-24-24s10.7-24%2024-24m8%20192a32%2032%200%201%201%200%2064%2032%2032%200%201%201%200-64m-32-72c0-13.3%2010.7-24%2024-24%2075.1%200%20136%2060.9%20136%20136%200%2013.3-10.7%2024-24%2024s-24-10.7-24-24c0-48.6-39.4-88-88-88-13.3%200-24-10.7-24-24M117.5%201.4c19.4-5.3%2039.7%204.6%2047.4%2023.2l40%2096c6.8%2016.3%202.1%2035.2-11.6%2046.3L144%20207.3c33.3%2070.4%2090.3%20127.4%20160.7%20160.7l40.3-49.3c11.2-13.7%2030-18.4%2046.3-11.6l96%2040c18.6%207.7%2028.5%2028%2023.2%2047.4l-24%2088C481.8%20499.9%20466%20512%20448%20512%20200.6%20512%200%20311.4%200%2064c0-18%2012.1-33.8%2029.5-38.6z%22%2F%3E%3C%2Fsvg%3E);--icon-facebook:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20d%3D%22M512%20256C512%20114.6%20397.4%200%20256%200S0%20114.6%200%20256c0%20120%2082.7%20220.8%20194.2%20248.5V334.2h-52.8V256h52.8v-33.7c0-87.1%2039.4-127.5%20125-127.5%2016.2%200%2044.2%203.2%2055.7%206.4V172c-6-.6-16.5-1-29.6-1-42%200-58.2%2015.9-58.2%2057.2V256h83.6l-14.4%2078.2H287v175.9C413.8%20494.8%20512%20386.9%20512%20256%22%2F%3E%3C%2Fsvg%3E);--icon-instagram:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M224.1%20141c-63.6%200-114.9%2051.3-114.9%20114.9s51.3%20114.9%20114.9%20114.9S339%20319.5%20339%20255.9%20287.7%20141%20224.1%20141m0%20189.6c-41.1%200-74.7-33.5-74.7-74.7s33.5-74.7%2074.7-74.7%2074.7%2033.5%2074.7%2074.7-33.6%2074.7-74.7%2074.7m146.4-194.3c0%2014.9-12%2026.8-26.8%2026.8-14.9%200-26.8-12-26.8-26.8s12-26.8%2026.8-26.8%2026.8%2012%2026.8%2026.8m76.1%2027.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9%200-35.8%201.7-67.6%209.9-93.9%2036.1s-34.4%2058-36.2%2093.9c-2.1%2037-2.1%20147.9%200%20184.9%201.7%2035.9%209.9%2067.7%2036.2%2093.9s58%2034.4%2093.9%2036.2c37%202.1%20147.9%202.1%20184.9%200%2035.9-1.7%2067.7-9.9%2093.9-36.2%2026.2-26.2%2034.4-58%2036.2-93.9%202.1-37%202.1-147.8%200-184.8M398.8%20388c-7.8%2019.6-22.9%2034.7-42.6%2042.6-29.5%2011.7-99.5%209-132.1%209s-102.7%202.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7%209-132.1c7.8-19.6%2022.9-34.7%2042.6-42.6%2029.5-11.7%2099.5-9%20132.1-9s102.7-2.6%20132.1%209c19.6%207.8%2034.7%2022.9%2042.6%2042.6%2011.7%2029.5%209%2099.5%209%20132.1s2.7%20102.7-9%20132.1%22%2F%3E%3C%2Fsvg%3E);--icon-tiktok:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M448%20209.9a210.1%20210.1%200%200%201-122.8-39.3v178.8A162.6%20162.6%200%201%201%20185%20188.3v89.9a74.6%2074.6%200%201%200%2052.2%2071.2V0h88a121%20121%200%200%200%201.9%2022.2%20122.2%20122.2%200%200%200%2053.9%2080.2%20121.4%20121.4%200%200%200%2067%2020.1z%22%2F%3E%3C%2Fsvg%3E);--icon-whatsapp:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M380.9%2097.1C339%2055.1%20283.2%2032%20223.9%2032c-122.4%200-222%2099.6-222%20222%200%2039.1%2010.2%2077.3%2029.6%20111L0%20480l117.7-30.9c32.4%2017.7%2068.9%2027%20106.1%2027h.1c122.3%200%20224.1-99.6%20224.1-222%200-59.3-25.2-115-67.1-157m-157%20341.6c-33.2%200-65.7-8.9-94-25.7l-6.7-4-69.8%2018.3L72%20359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2%200-101.7%2082.8-184.5%20184.6-184.5%2049.3%200%2095.6%2019.2%20130.4%2054.1s56.2%2081.2%2056.1%20130.5c0%20101.8-84.9%20184.6-186.6%20184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5%202.8s-14.3%2018-17.6%2021.8c-3.2%203.7-6.5%204.2-12%201.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8%205.7-9.1%2016.3-30.3%201.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7%201.4-14.8%206.9c-5.1%205.6-19.4%2019-19.4%2046.3s19.9%2053.7%2022.6%2057.4c2.8%203.7%2039.1%2059.7%2094.8%2083.8%2035.2%2015.2%2049%2016.5%2066.6%2013.9%2010.7-1.6%2032.8-13.4%2037.4-26.4s4.6-24.1%203.2-26.4c-1.3-2.5-5-3.9-10.5-6.6%22%2F%3E%3C%2Fsvg%3E);--icon-youtube:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20576%20512%22%3E%3Cpath%20d%3D%22M549.7%20124.1c-6.3-23.7-24.8-42.3-48.3-48.6C458.8%2064%20288%2064%20288%2064S117.2%2064%2074.6%2075.5c-23.5%206.3-42%2024.9-48.3%2048.6C14.9%20167%2014.9%20256.4%2014.9%20256.4s0%2089.4%2011.4%20132.3c6.3%2023.7%2024.8%2041.5%2048.3%2047.8C117.2%20448%20288%20448%20288%20448s170.8%200%20213.4-11.5c23.5-6.3%2042-24.2%2048.3-47.8%2011.4-42.9%2011.4-132.3%2011.4-132.3s0-89.4-11.4-132.3M232.2%20337.6V175.2l142.7%2081.2z%22%2F%3E%3C%2Fsvg%3E);--icon-x:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20d%3D%22M389.2%2048h70.6L305.6%20224.2%20487%20464H345L233.7%20318.6%20106.5%20464H35.8l164.9-188.5L26.8%2048h145.6l100.5%20132.9zm-24.8%20373.8h39.1L151.1%2088h-42z%22%2F%3E%3C%2Fsvg%3E);--icon-bluesky:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20d%3D%22M111.8%2062.2C170.2%20105.9%20233%20194.7%20256%20242.4c23-47.6%2085.8-136.4%20144.2-180.2%2042.1-31.6%20110.3-56%20110.3%2021.8%200%2015.5-8.9%20130.5-14.1%20149.2-18.2%2064.8-84.4%2081.4-143.3%2071.3C456%20322%20482.2%20380%20425.6%20438c-107.4%20110.2-154.3-27.6-166.3-62.9-1.7-4.9-2.6-7.8-3.3-7.8s-1.6%203-3.3%207.8c-12%2035.3-59%20173.1-166.3%2062.9-56.5-58-30.4-116%2072.5-133.5C100%20314.6%2033.8%20298%2015.7%20233.1%2010.4%20214.4%201.5%2099.4%201.5%2083.9c0-77.8%2068.2-53.4%20110.3-21.8z%22%2F%3E%3C%2Fsvg%3E);--icon-calculator:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20384%20512%22%3E%3Cpath%20d%3D%22M64%200C28.7%200%200%2028.7%200%2064v384c0%2035.3%2028.7%2064%2064%2064h256c35.3%200%2064-28.7%2064-64V64c0-35.3-28.7-64-64-64zm32%2064h192c17.7%200%2032%2014.3%2032%2032v32c0%2017.7-14.3%2032-32%2032H96c-17.7%200-32-14.3-32-32V96c0-17.7%2014.3-32%2032-32m32%20160a32%2032%200%201%201-64%200%2032%2032%200%201%201%2064%200M96%20352a32%2032%200%201%201%200-64%2032%2032%200%201%201%200%2064m-32%2064c0-17.7%2014.3-32%2032-32h96c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H96c-17.7%200-32-14.3-32-32m128-160a32%2032%200%201%201%200-64%2032%2032%200%201%201%200%2064m32%2064a32%2032%200%201%201-64%200%2032%2032%200%201%201%2064%200m64-64a32%2032%200%201%201%200-64%2032%2032%200%201%201%200%2064m32%2064a32%2032%200%201%201-64%200%2032%2032%200%201%201%2064%200m-32%20128a32%2032%200%201%201%200-64%2032%2032%200%201%201%200%2064%22%2F%3E%3C%2Fsvg%3E);--icon-plus:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M256%2080c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v144H48c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h144v144c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32V288h144c17.7%200%2032-14.3%2032-32s-14.3-32-32-32H256z%22%2F%3E%3C%2Fsvg%3E);--icon-minus:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M432%20256c0%2017.7-14.3%2032-32%2032H48c-17.7%200-32-14.3-32-32s14.3-32%2032-32h352c17.7%200%2032%2014.3%2032%2032%22%2F%3E%3C%2Fsvg%3E);--icon-plus-minus:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20384%20512%22%3E%3Cpath%20d%3D%22M224%2032c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v112H48c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h112v112c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32V208h112c17.7%200%2032-14.3%2032-32s-14.3-32-32-32H224zM0%20480c0%2017.7%2014.3%2032%2032%2032h320c17.7%200%2032-14.3%2032-32s-14.3-32-32-32H32c-17.7%200-32%2014.3-32%2032%22%2F%3E%3C%2Fsvg%3E);--icon-square-root:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20576%20512%22%3E%3Cpath%20d%3D%22M282.6%2078.1c8-27.3%2033-46.1%2061.4-46.1h200c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H344L238.7%20457c-3.6%2012.3-14.1%2021.2-26.8%2022.8s-25.1-4.6-31.5-15.6L77.6%20288H32c-17.7%200-32-14.3-32-32s14.3-32%2032-32h45.6c22.8%200%2043.8%2012.1%2055.3%2031.8l65.2%20111.8zm110.8%20155.3c12.5-12.5%2032.8-12.5%2045.3%200l41.3%2041.3%2041.4-41.4c12.5-12.5%2032.8-12.5%2045.3%200s12.5%2032.8%200%2045.3L525.3%20320l41.4%2041.4c12.5%2012.5%2012.5%2032.8%200%2045.3s-32.8%2012.5-45.3%200L480%20365.3l-41.4%2041.4c-12.5%2012.5-32.8%2012.5-45.3%200s-12.5-32.8%200-45.3l41.4-41.4-41.4-41.4c-12.5-12.5-12.5-32.8%200-45.3z%22%2F%3E%3C%2Fsvg%3E);--icon-times:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20384%20512%22%3E%3Cpath%20d%3D%22M342.6%20150.6c12.5-12.5%2012.5-32.8%200-45.3s-32.8-12.5-45.3%200L192%20210.7%2086.6%20105.4c-12.5-12.5-32.8-12.5-45.3%200s-12.5%2032.8%200%2045.3L146.7%20256%2041.4%20361.4c-12.5%2012.5-12.5%2032.8%200%2045.3s32.8%2012.5%2045.3%200L192%20301.3l105.4%20105.3c12.5%2012.5%2032.8%2012.5%2045.3%200s12.5-32.8%200-45.3L237.3%20256z%22%2F%3E%3C%2Fsvg%3E);--icon-divide:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M272%2096a48%2048%200%201%200-96%200%2048%2048%200%201%200%2096%200m0%20320a48%2048%200%201%200-96%200%2048%2048%200%201%200%2096%200m128-128c17.7%200%2032-14.3%2032-32s-14.3-32-32-32H48c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032z%22%2F%3E%3C%2Fsvg%3E);--icon-equal:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M48%20128c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h352c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20192c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h352c17.7%200%2032-14.3%2032-32s-14.3-32-32-32z%22%2F%3E%3C%2Fsvg%3E);--icon-not-equal:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20448%20512%22%3E%3Cpath%20d%3D%22M369.8%2037.4c14.7%209.8%2018.7%2029.7%208.9%2044.4L337.1%20144H400c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H294.5l-64%2096H400c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032H187.8l-65.2%2097.7c-9.8%2014.7-29.7%2018.7-44.4%208.9s-18.7-29.7-8.9-44.4l41.6-62.2H48c-17.7%200-32-14.3-32-32s14.3-32%2032-32h105.5l64-96H48c-17.7%200-32-14.3-32-32s14.3-32%2032-32h212.2l65.2-97.7c9.8-14.7%2029.7-18.7%2044.4-8.9%22%2F%3E%3C%2Fsvg%3E);--icon-previous:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20fill%3D%22var%28--fil%2C%20%2323fff%29%22%20d%3D%22M11.354%201.646a.5.5%200%200%201%200%20.708L5.707%208l5.647%205.646a.5.5%200%200%201-.708.708l-6-6a.5.5%200%200%201%200-.708l6-6a.5.5%200%200%201%20.708%200%22%2F%3E%3C%2Fsvg%3E);--icon-next:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20%2323fff%29%22%20d%3D%22M4.646%201.646a.5.5%200%200%201%20.708%200l6%206a.5.5%200%200%201%200%20.708l-6%206a.5.5%200%200%201-.708-.708L10.293%208%204.646%202.354a.5.5%200%200%201%200-.708%22%2F%3E%3C%2Fsvg%3E);--icon-indicator:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%3Cpath%20fill%3D%22none%22%20stroke%3D%22rgba%28280%2C0%2C0%2C.5%29%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%20d%3D%22m5%2014%206-6-6-6%22%2F%3E%3C%2Fsvg%3E);--icon-crosshair:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20id%3D%22root%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%3E%3Ccircle%20cx%3D%228%22%20cy%3D%228%22%20r%3D%226%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%2F%3E%3Cpath%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20d%3D%22M8%200v6.5M0%208h6.5M8%209.5V16M9.5%208H16%22%2F%3E%3C%2Fsvg%3E);--icon-close:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20fill%3D%22var%28--fill%2C%20black%29%22%20d%3D%22M4.707%203.293%203.293%204.707%2010.586%2012l-7.293%207.293%201.414%201.414L12%2013.414l7.293%207.293%201.414-1.414L13.414%2012l7.293-7.293-1.414-1.414L12%2010.586z%22%2F%3E%3C%2Fsvg%3E);--icon-tick:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20fill%3D%22none%22%20stroke%3D%22var%28--stroke%2C%20white%29%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%223%22%20d%3D%22m6%2010%203%203%206-6%22%2F%3E%3C%2Fsvg%3E);--icon-access:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%3E%3Cpath%20d%3D%22M512%20256c0%20141.4-114.6%20256-256%20256S0%20397.4%200%20256%20114.6%200%20256%200s256%20114.6%20256%20256m-350.5-86.1c-12.2-5.2-26.3.4-31.5%2012.6s.4%2026.3%2012.6%2031.5l11.9%205.1c17.3%207.4%2035.2%2012.9%2053.6%2016.3v50.1c0%204.3-.7%208.6-2.1%2012.6l-28.7%2086.1c-4.2%2012.6%202.6%2026.2%2015.2%2030.4s26.2-2.6%2030.4-15.2l24.4-73.2c1.3-3.8%204.8-6.4%208.8-6.4s7.6%202.6%208.8%206.4l24.4%2073.2c4.2%2012.6%2017.8%2019.4%2030.4%2015.2s19.4-17.8%2015.2-30.4l-28.7-86.1q-2.1-6.15-2.1-12.6v-50c18.4-3.5%2036.3-8.9%2053.6-16.3l11.9-5.1c12.2-5.2%2017.8-19.3%2012.6-31.5s-19.3-17.8-31.5-12.6l-12%205c-26.1%2011.2-54.2%2017-82.7%2017s-56.5-5.8-82.7-17l-11.9-5.1zM256%20160c22.1%200%2040-17.9%2040-40s-17.9-40-40-40-40%2017.9-40%2040%2017.9%2040%2040%2040%22%2F%3E%3C%2Fsvg%3E);--popup-background:#fff;--popup-border-radius:.5rem;--popup-border-width:1px;--popup-border-color:#000;--popup-inner-border-radius:calc(var(--border-radius-lg) - var(--border-width));--popup-box-shadow:var(--box-shadow);--popup-header-padding-x:1rem;--popup-header-padding-y:.5rem;--popup-header-font-size:1rem;--popup-header-color:inherit;--popup-header-background:var(--secondary-background);--popup-body-padding-x:1rem;--popup-body-padding-y:1rem;--popup-body-color:var(--body-color);--popup-arrow-width:1rem;--popup-arrow-height:.5rem;--popup-arrow-border:var(--popup-border-color);--tooltip-background:#222;--tooltip-color:white;--tooltip-padding:5px;--tooltip-border-radius:4px;--tooltip-font-size:90%;--justify:center;--padding-left:32px;--padding-right:32px;--border-radius:.25rem;--box-shadow:0px 5px 5px -3px rgba(0,0,0,.2),0px 8px 10px 1px rgba(0,0,0,.14),0px 3px 14px 2px rgba(0,0,0,.12);--animation-reveal:0;--animation-reveal-end:.5;--body-color-rgb:33,37,41;--body-bg-rgb:255,255,255;--font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--gradient:linear-gradient(180deg,rgba(255,255,255,.15),rgba(255,255,255,0));--body-font-family:var(--font-sans-serif);--body-font-size:1rem;--body-font-weight:400;--body-line-height:1.5;--body-color:#212529}::part(ripple){background-color:rgba(255,255,255,.7);border-radius:50%;animation:.6s linear ripple;position:absolute;transform:scale(0)}',function(t){let e=/(transition-?[0-9a-z]*)/;t.initTransitions=()=>{var t=document.querySelectorAll('[class*="transition"]');for(let e=0;e<t.length;e++){if(0==e)continue;let r=t[e],n=t[e-1];r.classList.remove("transition");let i=r.getAttribute("style");ez(n,r),setTimeout(()=>{r.classList.add("transition"),console.log(i),r.setAttribute("style",i)},10)}},t.transitionElement=t=>{let r=e.exec(t.className);if(r&&r.length>0){let e=r[r.length-1];console.log("Searching for transitions named: "+e);let n=Array.from(document.querySelectorAll(`.${e}`)),i=n.indexOf(t);if(0==i)return;let o=n[i-1];t.classList.remove("transition");let s=t.getAttribute("style");ez(o,t),setTimeout(()=>{t.classList.add("transition"),console.log(s),t.setAttribute("style",s)},10)}}}(Q4||(Q4={})),(Qr=Q5||(Q5={})).Primary="primary",Qr.Secondary="secondary",Qr.Tertiary="tertiary",Qr.Info="info",Qr.Success="success",Qr.Warning="warning",Qr.Danger="danger",Qr.Light="light",Qr.Dark="dark";let eZ=["color","background","stroke","fill","width","height","top","right","bottom","left","padding"];(s=document.createElement("style")).id="juel-styles",s.textContent=/*@__PURE__*/ew(eB),document.head.append(s),window.juel=Q2,window.$=/*@__PURE__*/ew(eQ),window.jQuery=/*@__PURE__*/ew(eQ),ej(),function(){let t=document.documentElement;function e(){t.style.setProperty("--vh",window.innerHeight/100+"px")}e(),["scroll","resize","fullscreenchange","fullscreenerror","touchcancel","touchend","touchmove","touchstart","mozbrowserscroll","mozbrowserscrollareachanged","mozbrowserscrollviewchange","mozbrowserresize","MozScrolledAreaChanged","mozbrowserresize","orientationchange"].forEach(function(t){window.addEventListener(t,t=>e())})}(),/*@__PURE__*/ew(eQ)(function(){for(let t of document.querySelectorAll(".reverse")){let e=eq(t.textContent);if(t.textContent=e,t.hasAttribute("href")){let e=t.getAttribute("href");if(e.startsWith("mailto")){let r=e.split(":");t.setAttribute("href",`mailto:${eq(r[1])}`)}else t.setAttribute("href",eq(e))}}eT(),function(){let t=eZ.map(t=>`[class*="${t}-"]`).join(" ,");for(let e of document.querySelectorAll(t))for(let t of e.classList)eZ.some(e=>t.startsWith(e))&&function(t,e){let r=e.split("-"),n=1,i=r[0],o=r[1];"var"==o||o.startsWith("bs-")?(n=2,o=`var(--${r[2]}`):("radial"==o||"conic"==o)&&(n=2);let s=r.slice(n).map(t=>{if(Object.values(Q5).includes(t))return`var(--${t})`;switch(t){case"n":return"to top";case"ne":return"to top right";case"e":return"to right";case"se":return"to bottom right";case"s":return"to bottom";case"sw":return"to bottom left";case"w":return"to left";case"nw":return"to top left";default:return t.startsWith("#")||(t=t.replace(/([a-zA-Z])(\d+)/g,"$1 $2")),t=t.replace(/_/g," ").replace(/:/g,"-").replace(/pc/g,"%")}});if(1==s.length)t.nodeName.toLowerCase().startsWith("juel-")?t.style.setProperty(`--${i}`,s[0]):t.style[i]=s[0];else{let e="radial"==o?`radial-gradient(${s.join(", ")})`:"conic"==o?`conic-gradient(${s.join(", ")})`:`linear-gradient(${s.join(", ")})`;console.log(e),t.nodeName.toLowerCase().startsWith("juel-")?t.style.setProperty(`--${i}`,e):t.style[i]=e}}(e,t)}(),Q3.documentClick(),Q4.initTransitions()});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let eF=t=>(e,r)=>{void 0!==r?r.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};var eX=ek("lQqDW"),eV=ek("hyL8v");function eU(t,e,r,n,i,o,s){try{var a=t[o](s),l=a.value}catch(t){r(t);return}a.done?e(l):Promise.resolve(l).then(n,i)}function eW(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){eU(o,n,i,s,a,"next",t)}function a(t){eU(o,n,i,s,a,"throw",t)}s(void 0)})}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let eH=globalThis,eY=eH.ShadowRoot&&(void 0===eH.ShadyCSS||eH.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,eG=Symbol(),eK=new WeakMap;class eJ{get styleSheet(){let t=this.o,e=this.t;if(eY&&void 0===t){let r=void 0!==e&&1===e.length;r&&(t=eK.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&eK.set(e,t))}return t}toString(){return this.cssText}constructor(t,e,r){if(this._$cssResult$=!0,r!==eG)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}}let e0=t=>new eJ("string"==typeof t?t:t+"",void 0,eG),e1=(t,...e)=>new eJ(1===t.length?t[0]:e.reduce((e,r,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+t[n+1],t[0]),t,eG),e2=(t,e)=>{if(eY)t.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(let r of e){let e=document.createElement("style"),n=eH.litNonce;void 0!==n&&e.setAttribute("nonce",n),e.textContent=r.cssText,t.appendChild(e)}},e3=eY?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(let r of t.cssRules)e+=r.cssText;return e0(e)})(t):t,{is:e4,defineProperty:e5,getOwnPropertyDescriptor:e6,getOwnPropertyNames:e8,getOwnPropertySymbols:e7,getPrototypeOf:e9}=Object,rt=globalThis,re=rt.trustedTypes,rr=re?re.emptyScript:"",rn=rt.reactiveElementPolyfillSupport,ri=(t,e)=>t,ro={toAttribute(t,e){switch(e){case Boolean:t=t?rr:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=null!==t;break;case Number:r=null===t?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch(t){r=null}}return r}},rs=(t,e)=>!e4(t,e),ra={attribute:!0,type:String,converter:ro,reflect:!1,hasChanged:rs};null!==(Q8=(Q6=Symbol).metadata)&&void 0!==Q8||(Q6.metadata=Symbol("metadata")),null!==(Q7=rt.litPropertyMetadata)&&void 0!==Q7||(rt.litPropertyMetadata=new WeakMap);class rl extends HTMLElement{static addInitializer(t){var e;this._$Ei(),(null!==(e=this.l)&&void 0!==e?e:this.l=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=ra){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){let r=Symbol(),n=this.getPropertyDescriptor(t,r,e);void 0!==n&&e5(this.prototype,t,n)}}static getPropertyDescriptor(t,e,r){var n;let{get:i,set:o}=null!==(n=e6(this.prototype,t))&&void 0!==n?n:{get(){return this[e]},set(t){this[e]=t}};return{get(){return null==i?void 0:i.call(this)},set(e){let n=null==i?void 0:i.call(this);o.call(this,e),this.requestUpdate(t,n,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){var e;return null!==(e=this.elementProperties.get(t))&&void 0!==e?e:ra}static _$Ei(){if(this.hasOwnProperty(ri("elementProperties")))return;let t=e9(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(ri("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ri("properties"))){let t=this.properties;for(let e of[...e8(t),...e7(t)])this.createProperty(e,t[e])}let t=this[Symbol.metadata];if(null!==t){let e=litPropertyMetadata.get(t);if(void 0!==e)for(let[t,r]of e)this.elementProperties.set(t,r)}for(let[t,e]of(this._$Eh=new Map,this.elementProperties)){let r=this._$Eu(t,e);void 0!==r&&this._$Eh.set(r,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){let e=[];if(Array.isArray(t))for(let r of new Set(t.flat(1/0).reverse()))e.unshift(e3(r));else void 0!==t&&e.push(e3(t));return e}static _$Eu(t,e){let r=e.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof t?t.toLowerCase():void 0}_$Ev(){var t;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach(t=>t(this))}addController(t){var e,r;(null!==(r=this._$EO)&&void 0!==r?r:this._$EO=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&(null===(e=t.hostConnected)||void 0===e||e.call(t))}removeController(t){var e;null===(e=this._$EO)||void 0===e||e.delete(t)}_$E_(){let t=new Map;for(let e of this.constructor.elementProperties.keys())this.hasOwnProperty(e)&&(t.set(e,this[e]),delete this[e]);t.size>0&&(this._$Ep=t)}createRenderRoot(){var t;let e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return e2(e,this.constructor.elementStyles),e}connectedCallback(){var t,e;null!==(e=this.renderRoot)&&void 0!==e||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$EO)||void 0===t||t.forEach(t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)})}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$EO)||void 0===t||t.forEach(t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)})}attributeChangedCallback(t,e,r){this._$AK(t,r)}_$EC(t,e){let r=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,r);if(void 0!==n&&!0===r.reflect){var i;let o=(void 0!==(null===(i=r.converter)||void 0===i?void 0:i.toAttribute)?r.converter:ro).toAttribute(e,r.type);this._$Em=t,null==o?this.removeAttribute(n):this.setAttribute(n,o),this._$Em=null}}_$AK(t,e){let r=this.constructor,n=r._$Eh.get(t);if(void 0!==n&&this._$Em!==n){var i;let t=r.getPropertyOptions(n),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:ro;this._$Em=n,this[n]=o.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,r){if(void 0!==t){var n;if(null!=r||(r=this.constructor.getPropertyOptions(t)),!(null!==(n=r.hasChanged)&&void 0!==n?n:rs)(this[t],e))return;this.P(t,e,r)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,e,r){var n;this._$AL.has(t)||this._$AL.set(t,e),!0===r.reflect&&this._$Em!==t&&(null!==(n=this._$Ej)&&void 0!==n?n:this._$Ej=new Set).add(t)}_$ET(){var t=this;return eW(function*(){t.isUpdatePending=!0;try{yield t._$ES}catch(t){Promise.reject(t)}let e=t.scheduleUpdate();return null!=e&&(yield e),!t.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t,e;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(null!==(t=this.renderRoot)&&void 0!==t||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}let e=this.constructor.elementProperties;if(e.size>0)for(let[t,r]of e)!0!==r.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],r)}let r=!1,n=this._$AL;try{(r=this.shouldUpdate(n))?(this.willUpdate(n),null===(e=this._$EO)||void 0===e||e.forEach(t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)}),this.update(n)):this._$EU()}catch(t){throw r=!1,this._$EU(),t}r&&this._$AE(n)}willUpdate(t){}_$AE(t){var e;null===(e=this._$EO)||void 0===e||e.forEach(t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}}rl.elementStyles=[],rl.shadowRootOptions={mode:"open"},rl[ri("elementProperties")]=new Map,rl[ri("finalized")]=new Map,null==rn||rn({ReactiveElement:rl}),(null!==(Q9=rt.reactiveElementVersions)&&void 0!==Q9?Q9:rt.reactiveElementVersions=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let rh={attribute:!0,type:String,converter:ro,reflect:!1,hasChanged:rs},rc=(t=rh,e,r)=>{let{kind:n,metadata:i}=r,o=globalThis.litPropertyMetadata.get(i);if(void 0===o&&globalThis.litPropertyMetadata.set(i,o=new Map),o.set(r.name,t),"accessor"===n){let{name:n}=r;return{set(r){let i=e.get.call(this);e.set.call(this,r),this.requestUpdate(n,i,t)},init(e){return void 0!==e&&this.P(n,void 0,t),e}}}if("setter"===n){let{name:n}=r;return function(r){let i=this[n];e.call(this,r),this.requestUpdate(n,i,t)}}throw Error("Unsupported decorator location: "+n)};function ru(t){return(e,r)=>"object"==typeof r?rc(t,e,r):((t,e,r)=>{let n=e.hasOwnProperty(r);return e.constructor.createProperty(r,n?(0,eV._)((0,eX._)({},t),{wrapped:!0}):t),n?Object.getOwnPropertyDescriptor(e,r):void 0})(t,e,r)}var eX=ek("lQqDW"),eV=ek("hyL8v");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function rd(t){return ru((0,eV._)((0,eX._)({},t),{state:!0,attribute:!1}))}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let rf=(t,e,r)=>(r.configurable=!0,r.enumerable=!0,Reflect.decorate&&"object"!=typeof e&&Object.defineProperty(t,e,r),r);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function rp(t){return(e,r)=>{let{slot:n,selector:i}=null!=t?t:{},o="slot"+(n?`[name=${n}]`:":not([name])");return rf(e,r,{get(){var e,r;let n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(o),s=null!==(r=null==n?void 0:n.assignedElements(t))&&void 0!==r?r:[];return void 0===i?s:s.filter(t=>t.matches(i))}})}}let rg=globalThis,rm=rg.trustedTypes,rv=rm?rm.createPolicy("lit-html",{createHTML:t=>t}):void 0,ry="$lit$",rb=`lit$${Math.random().toFixed(9).slice(2)}$`,rO="?"+rb,rw=`<${rO}>`,rx=document,r_=()=>rx.createComment(""),rk=t=>null===t||"object"!=typeof t&&"function"!=typeof t,rS=Array.isArray,rC=t=>rS(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),rA="[ 	\n\f\r]",rE=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,rT=/-->/g,rP=/>/g,rI=RegExp(`>|${rA}(?:([^\\s"'>=/]+)(${rA}*=${rA}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),rR=/'/g,rM=/"/g,rN=/^(?:script|style|textarea|title)$/i,rD=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),rL=rD(1),r$=(rD(2),rD(3),Symbol.for("lit-noChange")),rq=Symbol.for("lit-nothing"),rQ=new WeakMap,rB=rx.createTreeWalker(rx,129);function rj(t,e){if(!rS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==rv?rv.createHTML(e):e}let rz=(t,e)=>{let r=t.length-1,n=[],i,o=2===e?"<svg>":3===e?"<math>":"",s=rE;for(let e=0;e<r;e++){let r=t[e],a,l,h=-1,c=0;for(;c<r.length&&(s.lastIndex=c,null!==(l=s.exec(r)));)c=s.lastIndex,s===rE?"!--"===l[1]?s=rT:void 0!==l[1]?s=rP:void 0!==l[2]?(rN.test(l[2])&&(i=RegExp("</"+l[2],"g")),s=rI):void 0!==l[3]&&(s=rI):s===rI?">"===l[0]?(s=null!=i?i:rE,h=-1):void 0===l[1]?h=-2:(h=s.lastIndex-l[2].length,a=l[1],s=void 0===l[3]?rI:'"'===l[3]?rM:rR):s===rM||s===rR?s=rI:s===rT||s===rP?s=rE:(s=rI,i=void 0);let u=s===rI&&t[e+1].startsWith("/>")?" ":"";o+=s===rE?r+rw:h>=0?(n.push(a),r.slice(0,h)+ry+r.slice(h)+rb+u):r+rb+(-2===h?e:u)}return[rj(t,o+(t[r]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),n]};class rZ{static createElement(t,e){let r=rx.createElement("template");return r.innerHTML=t,r}constructor({strings:t,_$litType$:e},r){let n;this.parts=[];let i=0,o=0,s=t.length-1,a=this.parts,[l,h]=rz(t,e);if(this.el=rZ.createElement(l,r),rB.currentNode=this.el.content,2===e||3===e){let t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(n=rB.nextNode())&&a.length<s;){if(1===n.nodeType){if(n.hasAttributes())for(let t of n.getAttributeNames())if(t.endsWith(ry)){let e=h[o++],r=n.getAttribute(t).split(rb),s=/([.?@])?(.*)/.exec(e);a.push({type:1,index:i,name:s[2],strings:r,ctor:"."===s[1]?rW:"?"===s[1]?rH:"@"===s[1]?rY:rU}),n.removeAttribute(t)}else t.startsWith(rb)&&(a.push({type:6,index:i}),n.removeAttribute(t));if(rN.test(n.tagName)){let t=n.textContent.split(rb),e=t.length-1;if(e>0){n.textContent=rm?rm.emptyScript:"";for(let r=0;r<e;r++)n.append(t[r],r_()),rB.nextNode(),a.push({type:2,index:++i});n.append(t[e],r_())}}}else if(8===n.nodeType){if(n.data===rO)a.push({type:2,index:i});else{let t=-1;for(;-1!==(t=n.data.indexOf(rb,t+1));)a.push({type:7,index:i}),t+=rb.length-1}}i++}}}function rF(t,e,r=t,n){var i,o,s;if(e===r$)return e;let a=void 0!==n?null===(i=r.o)||void 0===i?void 0:i[n]:r.l,l=rk(e)?void 0:e._$litDirective$;return(null==a?void 0:a.constructor)!==l&&(null==a||null===(o=a._$AO)||void 0===o||o.call(a,!1),void 0===l?a=void 0:(a=new l(t))._$AT(t,r,n),void 0!==n?(null!==(s=r.o)&&void 0!==s?s:r.o=[])[n]=a:r.l=a),void 0!==a&&(e=rF(t,a._$AS(t,e.values),a,n)),e}class rX{get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;let{el:{content:r},parts:n}=this._$AD,i=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:rx).importNode(r,!0);rB.currentNode=i;let o=rB.nextNode(),s=0,a=0,l=n[0];for(;void 0!==l;){if(s===l.index){let e;2===l.type?e=new rV(o,o.nextSibling,this,t):1===l.type?e=new l.ctor(o,l.name,l.strings,this,t):6===l.type&&(e=new rG(o,this,t)),this._$AV.push(e),l=n[++a]}s!==(null==l?void 0:l.index)&&(o=rB.nextNode(),s++)}return rB.currentNode=rx,i}p(t){let e=0;for(let r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(t,r,e),e+=r.strings.length-2):r._$AI(t[e])),e++}constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}}class rV{get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this.v}get parentNode(){let t=this._$AA.parentNode,e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){rk(t=rF(this,t,e))?t===rq||null==t||""===t?(this._$AH!==rq&&this._$AR(),this._$AH=rq):t!==this._$AH&&t!==r$&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):rC(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==rq&&rk(this._$AH)?this._$AA.nextSibling.data=t:this.T(rx.createTextNode(t)),this._$AH=t}$(t){var e;let{values:r,_$litType$:n}=t,i="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=rZ.createElement(rj(n.h,n.h[0]),this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.p(r);else{let t=new rX(i,this),e=t.u(this.options);t.p(r),this.T(e),this._$AH=t}}_$AC(t){let e=rQ.get(t.strings);return void 0===e&&rQ.set(t.strings,e=new rZ(t)),e}k(t){rS(this._$AH)||(this._$AH=[],this._$AR());let e=this._$AH,r,n=0;for(let i of t)n===e.length?e.push(r=new rV(this.O(r_()),this.O(r_()),this,this.options)):r=e[n],r._$AI(i),n++;n<e.length&&(this._$AR(r&&r._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var r;for(null===(r=this._$AP)||void 0===r||r.call(this,!1,!0,e);t&&t!==this._$AB;){let e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this.v=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}constructor(t,e,r,n){var i;this.type=2,this._$AH=rq,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=r,this.options=n,this.v=null===(i=null==n?void 0:n.isConnected)||void 0===i||i}}class rU{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,r,n){let i=this.strings,o=!1;if(void 0===i)(o=!rk(t=rF(this,t,e,0))||t!==this._$AH&&t!==r$)&&(this._$AH=t);else{let n,s;let a=t;for(t=i[0],n=0;n<i.length-1;n++)(s=rF(this,a[r+n],e,n))===r$&&(s=this._$AH[n]),o||(o=!rk(s)||s!==this._$AH[n]),s===rq?t=rq:t!==rq&&(t+=(null!=s?s:"")+i[n+1]),this._$AH[n]=s}o&&!n&&this.j(t)}j(t){t===rq?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}constructor(t,e,r,n,i){this.type=1,this._$AH=rq,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=rq}}class rW extends rU{j(t){this.element[this.name]=t===rq?void 0:t}constructor(){super(...arguments),this.type=3}}class rH extends rU{j(t){this.element.toggleAttribute(this.name,!!t&&t!==rq)}constructor(){super(...arguments),this.type=4}}class rY extends rU{_$AI(t,e=this){var r;if((t=null!==(r=rF(this,t,e,0))&&void 0!==r?r:rq)===r$)return;let n=this._$AH,i=t===rq&&n!==rq||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==rq&&(n===rq||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,r;"function"==typeof this._$AH?this._$AH.call(null!==(r=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==r?r:this.element,t):this._$AH.handleEvent(t)}constructor(t,e,r,n,i){super(t,e,r,n,i),this.type=5}}class rG{get _$AU(){return this._$AM._$AU}_$AI(t){rF(this,t)}constructor(t,e,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=r}}let rK=rg.litHtmlPolyfillSupport;null==rK||rK(rZ,rV),(null!==(Bt=rg.litHtmlVersions)&&void 0!==Bt?Bt:rg.litHtmlVersions=[]).push("3.2.0");let rJ=(t,e,r)=>{var n,i;let o=null!==(n=null==r?void 0:r.renderBefore)&&void 0!==n?n:e,s=o._$litPart$;if(void 0===s){let t=null!==(i=null==r?void 0:r.renderBefore)&&void 0!==i?i:null;o._$litPart$=s=new rV(e.insertBefore(r_(),t),t,void 0,null!=r?r:{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class r0 extends rl{createRenderRoot(){var t,e;let r=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=r.firstChild),r}update(t){let e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this.o=rJ(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this.o)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this.o)||void 0===t||t.setConnected(!1)}render(){return r$}constructor(){super(...arguments),this.renderOptions={host:this},this.o=void 0}}r0._$litElement$=!0,r0.finalized=!0,null===(Be=(Br=globalThis).litElementHydrateSupport)||void 0===Be||Be.call(Br,{LitElement:r0});let r1=globalThis.litElementPolyfillSupport;null==r1||r1({LitElement:r0}),(null!==(Bi=(Bn=globalThis).litElementVersions)&&void 0!==Bi?Bi:Bn.litElementVersions=[]).push("4.1.0");var r2={};r2="@keyframes ripple{to{opacity:0;transform:scale(4)}}.ripple-container{pointer-events:none;width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden}";class r3{static init(t){let e=t.querySelector("#juel-ripple-styles");e||((e=document.createElement("style")).textContent=/*@__PURE__*/ew(r2),t.prepend(e))}static createRipple(t){let e=t.currentTarget,r=document.createElement("span");r.classList.add("ripple-container");let n=e.getBoundingClientRect(),i=document.createElement("span");i.setAttribute("part","ripple"),i.classList.add("ripple");let o=Math.max(n.width,n.height);i.style.width=i.style.height=`${o}px`;let s=t.clientX-n.left-o/2,a=t.clientY-n.top-o/2;i.style.left=`${s}px`,i.style.top=`${a}px`,i.style.position="absolute",i.style.borderRadius="50%",i.style.background="rgba(0, 0, 0, 0.3)",i.style.transform="scale(0)",i.style.animation="ripple 0.6s ease-out forwards",i.style.pointerEvents="none",r.appendChild(i),e.appendChild(r),i.addEventListener("animationend",()=>{r.remove()})}}var r4=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};class r5 extends r0{firstUpdated(t){this.ripple&&r3.init(this.shadowRoot),this.parentElement&&"childFirstUpdated"in this.parentElement&&this.parentElement.childFirstUpdated(this),$.when($.ready).then(()=>{this.ready()}),super.firstUpdated(t)}updateChildren(){for(let t of this.children)"requestUpdate"in t&&t.requestUpdate()}childFirstUpdated(t){}childUpdated(t){}ready(){}childrenLoaded(){}updated(t){this.parentElement&&"childUpdated"in this.parentElement&&this.parentElement.childUpdated(this),$.when($.ready).then(()=>{this.load(t)}),this.loaded=!0,super.updated(t)}load(t){this.childrenLoaded();let e=function(t,e){for(;(t=t.parentElement)&&e(t.parentElement););return t}(this,t=>t.nodeName.startsWith("JUEL"));e&&"childrenUpdated"in e&&e.childrenLoaded()}getChildren(){return Array.from(this.children)}listEventNames(){return Object.keys(this).filter(t=>t.startsWith("on")&&"function"==typeof this[t])}get(t){return t in this?this[t]:null}set(t,e){t in this&&(this[t]=e)}fire(t,e){let r=new CustomEvent(t,{detail:e});this.dispatchEvent(r)}handleClick(t){this.ripple&&r3.createRipple(t)}constructor(){super(...arguments),this.loaded=!1,this.ripple=!0}}function r6(t,e,r){let n=new CustomEvent(e,{detail:r});t.dispatchEvent(n),t.juelParent&&t.juelParent.dispatchEvent(n)}r4([ru()],r5.prototype,"juelParent",void 0),r4([ru({type:Boolean})],r5.prototype,"ripple",void 0),(Qn=Bo||(Bo={})).id="id",Qn.name="name",Qn.description="description",Qn.text="text",Qn.label="label";var eX=ek("lQqDW");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let r8=t=>(...e)=>({_$litDirective$:t,values:e});class r7{get _$AU(){return this._$AM._$AU}_$AT(t,e,r){this.t=t,this._$AM=e,this.i=r}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}constructor(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class r9 extends r7{render(t){if(t===rq||null==t)return this._t=void 0,this.it=t;if(t===r$)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;let e=[t];return e.raw=e,this._t={_$litType$:this.constructor.resultType,strings:e,values:[]}}constructor(t){if(super(t),this.it=rq,2!==t.type)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}}r9.directiveName="unsafeHTML",r9.resultType=1;let nt=r8(r9);var ne=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};class nr extends r5{firstUpdated(t){this.titleSlotSelector=`[slot="${this.titleAttrName}"]`,this.titleDataSelector=`[data-${this.titleAttrName}]`,this.itemsContainer=this.shadowRoot.querySelector(`.${this.itemsContainerClass}`),this.titlesContainer=this.shadowRoot.querySelector(`.${this.titlesContainerClass}`),this.readyPromise=new Promise(t=>{this.readyResolve=t}),super.firstUpdated(t)}ready(){setTimeout(()=>{this.requestUpdate(),this.ready(),this.readyResolve("")})}ready(){this.selectItem(0)}itemsCreated(){this.selectItem(0)}selectItem(t){let e=this.itemsContainer.querySelector(`[data-index="${t}"]`);if(e){this.selectedIndex=t;let r=$(e);if(this.shouldToggleActive&&e.classList.contains("active"))e.classList.remove("active");else{r.siblings().removeClass("active"),e.classList.add("active");let t=r.outerWidth();t>0&&this.style.setProperty("--item-width",t.toString());let n=r.outerHeight();n>0&&this.style.setProperty("--item-height",n.toString())}}if(this.titlesContainer){let e=this.titlesContainer.querySelector(`[data-index="${t}"]`);e&&($(e).siblings().removeClass("active").removeClass("open"),e.classList.add("active"),e.classList.contains("group")&&e.classList.add("open"))}}isItem(t,e){if((t.hasAttribute(`data-${this.titleAttrName}`)||!1==t.hasAttribute("slot")&&0==e)&&["TEMPLATE","H1","H2","H3","H4","H5","H6"].every(e=>e!=t.nodeName))return!0;{let e=this.titleIsNext?t.nextElementSibling:t.previousElementSibling;if(e&&e.matches(this.titleSlotSelector))return!0}return!1}itemifyChildren(t,e=0,r,n,i=null){let o=-1;(t=t.filter(t=>this.isItem(t,e)))&&t.length>0&&(this.hasUpdated,this.itemsCount=t.length,t.forEach((t,s)=>{o++;let a=r?`${r}-${o}`:`item-${o}`,l=n?`${n}-${o}`:`${o}`,h=!1,c=`${a}-${this.titleAttrName}`,u=this.titleIsNext?t.nextElementSibling:t.previousElementSibling;u&&u.matches(this.titleSlotSelector)&&(h=!0,u.setAttribute("slot",c)),t.setAttribute("slot",a),t.classList.add("item"),!1==this.itemsDraggable&&(t.setAttribute("draggable","false"),t.setAttribute("ondragstart","event.preventDefault();")),e>0&&(t.remove(),this.append(t),i&&i.classList.add("group"));let d=document.createElement("div");d.className="item",d.setAttribute("data-index",l),d.draggable=!1;let f=o;i||"true"!=this.selectable||(d.onclick=()=>{this.selectItem(f)});let p=document.createElement("div");if(p.className=this.titleAttrName,h){let t=document.createElement("slot");t.name=c,p.append(t),"UL"==this.itemsContainer.nodeName?this.itemsContainer.append(p):i?(p.setAttribute("data-index",l),p.onclick=()=>{this.selectItem(f)},this.titlesContainer.append(p)):d.append(p)}else t.dataset[this.titleAttrName]&&(p.textContent=t.dataset[this.titleAttrName],i&&"true"==this.selectable?(p.setAttribute("data-index",l),p.onclick=()=>{this.selectItem(f)},i.append(p)):d.append(p));let g=document.createElement("slot");g.name=a;let m=document.createElement("div");m.classList.add("item-content"),m.append(g),d.append(m),this.itemifyChildren(Array.prototype.slice.call(t.children),e+1,a,l,p),this.itemsContainer.append(d)}))}itemsForSlot(t){let e=t.target;setTimeout(()=>{if(this.itemsContainer&&"SLOT"==e.nodeName&&!1==this.hasAddedItems){let t=e.assignedElements();this.hasAddedItems=!0,this.titlesContainer?this.itemifyChildren(t,0,null,null,this.titlesContainer):this.itemifyChildren(t,0,null,null),this.itemsCreated()}})}constructor(){super(),this.selectable="true",this.itemsContainerClass="items",this.titlesContainerClass="titles",this.titleAttrName="title",this.titleIsNext=!1,this.hasAddedItems=!1,this.itemsDraggable=!0,this.shouldToggleActive=!0}}ne([ru({type:Number})],nr.prototype,"position",void 0),ne([ru()],nr.prototype,"selectable",void 0),ne([rd()],nr.prototype,"selectedIndex",void 0);var nn=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};class ni extends nr{firstUpdated(t){super.firstUpdated(t),this.templatePromise=new Promise(t=>{setTimeout(()=>{let e=this.querySelector("template");!this.template&&e?this.template=e.innerHTML:this.template||(this.template=`\${this.${this.textField}}`),0==[...this.children].filter(t=>"TEMPLATE"!=t.nodeName).length&&this.shadowRoot.querySelector("slot"),e&&!this.itemTemplate&&(this.itemTemplate=t=>new Promise((r,n)=>{var i;r((i=e.innerHTML,RegExp('((?<!".+)this(\\.\\w+)+(?!.+"))',"g").test(i)&&(i=i.replace(RegExp('((?<!".+)this(\\.\\w+)+(?!.+"))',"g"),"unsafeHTML($1)")),Function("html","unsafeHTML","return html`"+i+"`;").call(t,rL,nt)))})),(this.data&&!this.fields||this.fields.length<=0)&&this.fieldsFromData(),t(this.template)})})}fieldsFromData(){this.data&&this.data[0]&&(this.fields=Object.keys(this.data[0]).map(t=>({name:t,text:eM(t),visible:!0})))}onInput(t){let e=null;if((e=t.composed?t.composedPath()[0]:t.target)&&"value"in e){let e=t.target;e.value?this.search(e.value):this.searchResult=null}}search(t){if(this.textField&&this.data&&this.data.length>0){let e=[],r=[];this.fields&&this.fields.length>0?r=this.fields.filter(t=>t.visible).map(t=>t.name):r.unshift(this.textField);let n=this.data.filter(n=>{let i=!1;for(let o of r)o in n&&n[o]&&n[o].toString().toLowerCase().includes(t.toLowerCase())&&(e.push(o),i=!0);return i}).map(e=>{let n=(0,eX._)({},e),i=RegExp(`(?<!https?.+)(${t})`,"gi");for(let t of r){let e=t.toLowerCase();if(n[t]&&!e.includes("image")&&!e.includes("route")&&!e.includes("link")){let e=n[t].toString();i.test(e)&&(e=e.replace(i,"<b>$1</b>"),n[t]=e)}}return n});this.searchResult={data:n,term:t,fields:e}}else{let e=[...this.children].filter(t=>t.classList.contains("juel-item")).filter(e=>!!e.textContent.toLowerCase().includes(t.toLowerCase())).map(e=>{let r={},n=RegExp(`(?<!<[\\w="\\s]*)(${t})(?![\\w\\s]*>)`,"gi");return r[this.textField]=e.innerHTML.replace(n,"<b>$1</b>"),r});this.searchResult={data:e,term:t}}}retrieveDataStrings(){if(this.itemTemplate&&this.data&&this.data.length>0)for(let t of(this.retrievedDataStrings||(this.retrievedDataStrings=[]),this.data))this.itemTemplate(t).then(t=>{this.retrievedDataStrings.push(t)})}constructor(){super(),this.data=[],this.textField="text"}}nn([ru({type:Array})],ni.prototype,"data",void 0),nn([ru()],ni.prototype,"itemTemplate",void 0),nn([ru({attribute:"key-field"})],ni.prototype,"keyField",void 0),nn([ru({attribute:"text-field"})],ni.prototype,"textField",void 0),nn([ru({type:Array})],ni.prototype,"fields",void 0),nn([rd()],ni.prototype,"searchResult",void 0);var no=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};class ns extends ni{firstUpdated(t){super.firstUpdated(t)}addItem(t){if(!1==this.items.includes(t)){this.items.push(t);let e=this.items.indexOf(t);if(t.id||(t.id=`${this.IdPrefix}-${e}`),t.setAttribute("data-index",e.toString()),this.itemsClickEvent){if(t.title){let r=t.shadowRoot.querySelector(".title");r&&(r.onclick=t=>{this.handleClick(t),this.selectItem(e)})}else t.onclick=t=>{this.handleClick(t),this.selectItem(e)}}}}handleClick(t){r3.createRipple(t)}getItems(){return this.items}getPlaceholder(){if(null!=this.placeholderIndex){if(this.selectedData&&this.selectedData.length>0){let t;return"object"==typeof(t=this.multiselect&&this.selectedData.length>this.placeholderIndex?this.selectedData[this.placeholderIndex]:this.selectItem[0])&&this.textField&&this.textField in t?t[this.textField]:"object"==typeof t?Bo.description in t?t[Bo.description]:Bo.name in t?t[Bo.name]:Bo.text in t?t[Bo.text]:Bo.label in t?t[Bo.label]:"":t}{let t=this.getElementAtIndex(this.placeholderIndex);if(t){let e=this.getSlottedItem(t);if(e)return e.textContent}}}}createFormInput(){let t=document.createElement("select");for(let e of this.data.map(t=>{let e=document.createElement("option");return e.textContent=t,e.value=t,e}))t.append(e);return t}search(t){this.selectedIndexes=[],this.selectedData=[],super.search(t)}getSelectedData(){return this.selectedData}getElementAtIndex(t){return this.shadowRoot.querySelector(`[data-index="${t}"]`)}setSelectedIndexes(t){for(let e of t)this.selectItem(e)}getSelectedIndexes(){return this.selectedIndexes}getSlottedItem(t){let e=t.querySelector("slot");return e?this.querySelector(`[slot="${e.name}"]`):null}selectItem(t){let e=this.getItems().find(e=>e.matches(`[data-index="${t}"]`));if(e){let r=$(e),n=r.data(ns.ValueKey);!n&&this.data&&this.data.length>t&&(n=this.data[t]),this.multiselect||(r.siblings().each((t,e)=>{$(e).removeClass(ns.selectedClass);let r=this.getSlottedItem(e);r&&$(r).find(`.${ns.appearClass}`).hide("slow")}),this.selectedIndexes=[],this.selectedData=[]),r.hasClass(ns.selectedClass)?this.onItemDeselected(t,e):this.onItemSelected(t,e)}}onItemSelected(t,e){let r=$(e),n=r.data(ns.ValueKey);r.addClass(ns.selectedClass);let i=this.getSlottedItem(e);i&&$(i).find(`.${ns.appearClass}`).show("slow"),this.selectedIndexes.push(t),n&&this.selectedData.push(n);let o={index:t,value:n||(i?i.textContent:e.textContent)};r6(this,QJ.Selected,o)}onItemDeselected(t,e){let r=$(e),n=r.data(ns.ValueKey);r.removeClass(ns.selectedClass);let i=this.getSlottedItem(e);i&&$(i).find(`.${ns.appearClass}`).hide("slow"),this.selectedIndexes=this.selectedIndexes.filter(e=>e!=t),n&&(this.selectedData=this.selectedData.filter(t=>t!=n));let o={index:t,value:n||(i?i.textContent:e.textContent)};r6(this,QJ.Deselected,o)}slotChange(t){}constructor(){super(),this.IdPrefix="item",this.items=[],this.multiselect=!1,this.placeholderIndex=null,this.selectedIndexes=[],this.selectedData=[],this.itemsClickEvent=!0}}ns.selectedClass="selected",ns.appearClass="juel-appear",ns.ValueKey="value",no([ru({type:Boolean})],ns.prototype,"multiselect",void 0),no([ru({type:Boolean})],ns.prototype,"input",void 0),no([rd()],ns.prototype,"placeholderIndex",void 0);class na extends r5{addItem(t){!1==this.items.includes(t)&&this.items.push(t)}firstUpdated(t){super.firstUpdated(t),r3.init(this.shadowRoot),"addItem"in this.parentElement&&this.parentElement.addItem(this)}clickListener(t){"onItemDeselected"in this.parentElement&&this.classList.contains(ns.selectedClass)?this.parentElement.onItemDeselected(null,this):"onItemSelected"in this.parentElement&&this.classList.contains(ns.selectedClass)&&this.parentElement.onItemSelected(null,this)}constructor(){super(...arguments),this.items=[]}}!function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);o>3&&s&&Object.defineProperty(e,r,s)}([ru()],na.prototype,"value",void 0);var eX=ek("lQqDW");function nl(t){return t.trim().split(";").map(t=>{let e=t.trim().split(":"),r=e[0],n=e[1]?e[1].trim():"",i={};return i[r]="true"==n||"false"!=n&&n,i}).reduce((t,e)=>(0,eX._)({},t,e))}var nh=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};class nc extends na{performFilter(t,e){let r;r=t in this.filter&&("*"==e||this.filter[t]==e)||t in this.filter==!1&&!1==e;let n=$(this);"fade"===this.effect?r?n.fadeIn("slow"):n.fadeOut("slow"):r?n.show("slow"):n.hide("slow")}}nh([ru({converter:nl})],nc.prototype,"filter",void 0),nh([ru()],nc.prototype,"effect",void 0);var nu={};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function nd(t,e,r){return t?e(t):null==r?void 0:r(t)}nu="#item{background-color:var(--background-color,var(--light));color:var(--color);padding:var(--padding)}#item:hover{background-color:rgba(0,0,0,.1)}.content{max-height:var(--max-height);padding:var(--padding);overflow:var(--overflow,auto);transition:var(--transition);border-top-left-radius:var(--border-top-left-radius);border-top-right-radius:var(--border-top-right-radius)}.title{padding:var(--title-padding);text-align:left;border-radius:0;border-top-left-radius:var(--title-border-top-left-radius);border-top-right-radius:var(--title-border-top-right-radius);overflow-anchor:none;background-color:var(--title-background-color,var(--light,#fff));color:var(--title-color,var(--dark-text,#212529));cursor:pointer;border:0;align-items:center;font-size:1rem;transition:color .15s;display:flex;position:relative}.title:hover{background-color:var(--active);color:var(--active-text)}.title:after{width:var(--title-after-width);height:var(--title-after-width);content:var(--title-after-content);background-image:var(--title-after-background-image);background-repeat:no-repeat;background-size:var(--title-after-width);transition:var(--title-after-transition);transform:var(--title-after-transform);flex-shrink:0;margin-left:auto}#items{background-color:var(--background-color,var(--light));flex-direction:var(--flex-direction,column);align-items:var(--align-items,center);border-radius:var(--border-radius);box-shadow:var(--box-shadow);padding:4px 0;display:none}#items.open{display:block}::slotted(juel-item){--padding:8px 12px}";/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let{I:nf}={M:ry,P:rb,A:rO,C:1,L:rz,R:rX,D:rC,V:rF,I:rV,H:rU,N:rH,U:rY,B:rW,F:rG},np=t=>void 0===t.strings,ng=(t,e)=>{var r;let n=t._$AN;if(void 0===n)return!1;for(let t of n)null===(r=t._$AO)||void 0===r||r.call(t,e,!1),ng(t,e);return!0},nm=t=>{let e,r;do{if(void 0===(e=t._$AM))break;(r=e._$AN).delete(t),t=e}while(0===(null==r?void 0:r.size))},nv=t=>{for(let e;e=t._$AM;t=e){let r=e._$AN;if(void 0===r)e._$AN=r=new Set;else if(r.has(t))break;r.add(t),nO(e)}};function ny(t){void 0!==this._$AN?(nm(this),this._$AM=t,nv(this)):this._$AM=t}function nb(t,e=!1,r=0){let n=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size){if(e){if(Array.isArray(n))for(let t=r;t<n.length;t++)ng(n[t],!1),nm(n[t]);else null!=n&&(ng(n,!1),nm(n))}else ng(this,t)}}let nO=t=>{var e,r;2==t.type&&(null!==(e=t._$AP)&&void 0!==e||(t._$AP=nb),null!==(r=t._$AQ)&&void 0!==r||(t._$AQ=ny))};class nw extends r7{_$AT(t,e,r){super._$AT(t,e,r),nv(this),this.isConnected=t._$AU}_$AO(t,e=!0){var r,n;t!==this.isConnected&&(this.isConnected=t,t?null===(r=this.reconnected)||void 0===r||r.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),e&&(ng(this,t),nm(this))}setValue(t){if(np(this.t))this.t._$AI(t,this);else{let e=[...this.t._$AH];e[this.i]=t,this.t._$AI(e,this,0)}}disconnected(){}reconnected(){}constructor(){super(...arguments),this._$AN=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let nx=()=>new n_;class n_{}let nk=new WeakMap,nS=r8(class extends nw{render(t){return rq}update(t,[e]){var r;let n=e!==this.Y;return n&&void 0!==this.Y&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=e,this.ht=null===(r=t.options)||void 0===r?void 0:r.host,this.rt(this.ct=t.element)),rq}rt(t){if(this.isConnected||(t=void 0),"function"==typeof this.Y){var e;let r=null!==(e=this.ht)&&void 0!==e?e:globalThis,n=nk.get(r);void 0===n&&(n=new WeakMap,nk.set(r,n)),void 0!==n.get(this.Y)&&this.Y.call(this.ht,void 0),n.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){var t,e,r;return"function"==typeof this.Y?null===(t=nk.get(null!==(r=this.ht)&&void 0!==r?r:globalThis))||void 0===t?void 0:t.get(this.Y):null===(e=this.Y)||void 0===e?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var eX=ek("lQqDW"),eV=ek("hyL8v"),eX=ek("lQqDW"),eV=ek("hyL8v");function nC(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var eX=ek("lQqDW");let nA=Math.min,nE=Math.max,nT=Math.round,nP=Math.floor,nI=t=>({x:t,y:t}),nR={left:"right",right:"left",bottom:"top",top:"bottom"},nM={start:"end",end:"start"};function nN(t,e){return"function"==typeof t?t(e):t}function nD(t){return t.split("-")[0]}function nL(t){return t.split("-")[1]}function n$(t){return"x"===t?"y":"x"}function nq(t){return"y"===t?"height":"width"}function nQ(t){return["top","bottom"].includes(nD(t))?"y":"x"}function nB(t){return t.replace(/start|end/g,t=>nM[t])}function nj(t){return t.replace(/left|right|bottom|top/g,t=>nR[t])}function nz(t){let{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function nZ(t,e,r){let n,{reference:i,floating:o}=t,s=nQ(e),a=n$(nQ(e)),l=nq(a),h=nD(e),c="y"===s,u=i.x+i.width/2-o.width/2,d=i.y+i.height/2-o.height/2,f=i[l]/2-o[l]/2;switch(h){case"top":n={x:u,y:i.y-o.height};break;case"bottom":n={x:u,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:d};break;case"left":n={x:i.x-o.width,y:d};break;default:n={x:i.x,y:i.y}}switch(nL(e)){case"start":n[a]-=f*(r&&c?-1:1);break;case"end":n[a]+=f*(r&&c?-1:1)}return n}let nF=(Qi=eW(function*(t,e,r){let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=yield null==s.isRTL?void 0:s.isRTL(e),h=yield s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:u}=nZ(h,n,l),d=n,f={},p=0;for(let r=0;r<a.length;r++){let{name:o,fn:g}=a[r],{x:m,y:v,data:y,reset:b}=yield g({x:c,y:u,initialPlacement:n,placement:d,strategy:i,middlewareData:f,rects:h,platform:s,elements:{reference:t,floating:e}});c=null!=m?m:c,u=null!=v?v:u,f=(0,eV._)((0,eX._)({},f),{[o]:(0,eX._)({},f[o],y)}),b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(h=!0===b.rects?yield s.getElementRects({reference:t,floating:e,strategy:i}):b.rects),{x:c,y:u}=nZ(h,d,l)),r=-1)}return{x:c,y:u,placement:d,strategy:i,middlewareData:f}}),function(t,e,r){return Qi.apply(this,arguments)});function nX(t,e){return nV.apply(this,arguments)}function nV(){return(nV=eW(function*(t,e){var r;void 0===e&&(e={});let{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:u="floating",altBoundary:d=!1,padding:f=0}=nN(e,t),p="number"!=typeof f?(0,eX._)({top:0,right:0,bottom:0,left:0},f):{top:f,right:f,bottom:f,left:f},g=a[d?"floating"===u?"reference":"floating":u],m=nz((yield o.getClippingRect({element:null==(r=yield null==o.isElement?void 0:o.isElement(g))||r?g:g.contextElement||(yield null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:l}))),v="floating"===u?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=yield null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating),b=(yield null==o.isElement?void 0:o.isElement(y))&&(yield null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},O=nz(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(m.top-O.top+p.top)/b.y,bottom:(O.bottom-m.bottom+p.bottom)/b.y,left:(m.left-O.left+p.left)/b.x,right:(O.right-m.right+p.right)/b.x}})).apply(this,arguments)}function nU(){return(nU=eW(function*(t,e){let{placement:r,platform:n,elements:i}=t,o=yield null==n.isRTL?void 0:n.isRTL(i.floating),s=nD(r),a=nL(r),l="y"===nQ(r),h=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,u=nN(e,t),{mainAxis:d,crossAxis:f,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*c,y:d*h}:{x:d*h,y:f*c}})).apply(this,arguments)}function nW(){return"undefined"!=typeof window}function nH(t){return nK(t)?(t.nodeName||"").toLowerCase():"#document"}function nY(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function nG(t){var e;return null==(e=(nK(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function nK(t){return!!nW()&&(t instanceof Node||t instanceof nY(t).Node)}function nJ(t){return!!nW()&&(t instanceof Element||t instanceof nY(t).Element)}function n0(t){return!!nW()&&(t instanceof HTMLElement||t instanceof nY(t).HTMLElement)}function n1(t){return!!nW()&&"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof nY(t).ShadowRoot)}function n2(t){let{overflow:e,overflowX:r,overflowY:n,display:i}=n8(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function n3(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch(t){return!1}})}function n4(t){let e=n5(),r=nJ(t)?n8(t):t;return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!e&&!!r.backdropFilter&&"none"!==r.backdropFilter||!e&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some(t=>(r.willChange||"").includes(t))||["paint","layout","strict","content"].some(t=>(r.contain||"").includes(t))}function n5(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function n6(t){return["html","body","#document"].includes(nH(t))}function n8(t){return nY(t).getComputedStyle(t)}function n7(t){return nJ(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function n9(t){if("html"===nH(t))return t;let e=t.assignedSlot||t.parentNode||n1(t)&&t.host||nG(t);return n1(e)?e.host:e}function it(t,e,r){var n;void 0===e&&(e=[]),void 0===r&&(r=!0);let i=function t(e){let r=n9(e);return n6(r)?e.ownerDocument?e.ownerDocument.body:e.body:n0(r)&&n2(r)?r:t(r)}(t),o=i===(null==(n=t.ownerDocument)?void 0:n.body),s=nY(i);if(o){let t=ie(s);return e.concat(s,s.visualViewport||[],n2(i)?i:[],t&&r?it(t):[])}return e.concat(i,it(i,[],r))}function ie(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ir(t){let e=n8(t),r=parseFloat(e.width)||0,n=parseFloat(e.height)||0,i=n0(t),o=i?t.offsetWidth:r,s=i?t.offsetHeight:n,a=nT(r)!==o||nT(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function ii(t){return nJ(t)?t:t.contextElement}function io(t){let e=ii(t);if(!n0(e))return nI(1);let r=e.getBoundingClientRect(),{width:n,height:i,$:o}=ir(e),s=(o?nT(r.width):r.width)/n,a=(o?nT(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}let is=/*#__PURE__*/nI(0);function ia(t){let e=nY(t);return n5()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:is}function il(t,e,r,n){var i;void 0===e&&(e=!1),void 0===r&&(r=!1);let o=t.getBoundingClientRect(),s=ii(t),a=nI(1);e&&(n?nJ(n)&&(a=io(n)):a=io(t));let l=(void 0===(i=r)&&(i=!1),n&&(!i||n===nY(s))&&i)?ia(s):nI(0),h=(o.left+l.x)/a.x,c=(o.top+l.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(s){let t=nY(s),e=n&&nJ(n)?nY(n):n,r=t,i=ie(r);for(;i&&n&&e!==r;){let t=io(i),e=i.getBoundingClientRect(),n=n8(i),o=e.left+(i.clientLeft+parseFloat(n.paddingLeft))*t.x,s=e.top+(i.clientTop+parseFloat(n.paddingTop))*t.y;h*=t.x,c*=t.y,u*=t.x,d*=t.y,h+=o,c+=s,i=ie(r=nY(i))}}return nz({width:u,height:d,x:h,y:c})}function ih(t,e){let r=n7(t).scrollLeft;return e?e.left+r:il(nG(t)).left+r}function ic(t,e,r){void 0===r&&(r=!1);let n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-(r?0:ih(t,n)),y:n.top+e.scrollTop}}function iu(t,e,r){let n;if("viewport"===e)n=function(t,e){let r=nY(t),n=nG(t),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;let t=n5();(!t||t&&"fixed"===e)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}(t,r);else if("document"===e)n=function(t){let e=nG(t),r=n7(t),n=t.ownerDocument.body,i=nE(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=nE(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight),s=-r.scrollLeft+ih(t),a=-r.scrollTop;return"rtl"===n8(n).direction&&(s+=nE(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}(nG(t));else if(nJ(e))n=function(t,e){let r=il(t,!0,"fixed"===e),n=r.top+t.clientTop,i=r.left+t.clientLeft,o=n0(t)?io(t):nI(1),s=t.clientWidth*o.x;return{width:s,height:t.clientHeight*o.y,x:i*o.x,y:n*o.y}}(e,r);else{let r=ia(t);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return nz(n)}function id(t){return"static"===n8(t).position}function ip(t,e){if(!n0(t)||"fixed"===n8(t).position)return null;if(e)return e(t);let r=t.offsetParent;return nG(t)===r&&(r=r.ownerDocument.body),r}function ig(t,e){let r=nY(t);if(n3(t))return r;if(!n0(t)){let e=n9(t);for(;e&&!n6(e);){if(nJ(e)&&!id(e))return e;e=n9(e)}return r}let n=ip(t,e);for(;n&&["table","td","th"].includes(nH(n))&&id(n);)n=ip(n,e);return n&&n6(n)&&id(n)&&!n4(n)?r:n||function(t){let e=n9(t);for(;n0(e)&&!n6(e);){if(n4(e))return e;if(n3(e))break;e=n9(e)}return null}(t)||r}let im=(Qo=eW(function*(t){let e=this.getOffsetParent||ig,r=this.getDimensions,n=yield r(t.floating);return{reference:function(t,e,r){let n=n0(e),i=nG(e),o="fixed"===r,s=il(t,!0,o,e),a={scrollLeft:0,scrollTop:0},l=nI(0);if(n||!n&&!o){if(("body"!==nH(e)||n2(i))&&(a=n7(e)),n){let t=il(e,!0,o,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else i&&(l.x=ih(i))}let h=!i||n||o?nI(0):ic(i,a);return{x:s.left+a.scrollLeft-l.x-h.x,y:s.top+a.scrollTop-l.y-h.y,width:s.width,height:s.height}}(t.reference,(yield e(t.floating)),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}}),function(t){return Qo.apply(this,arguments)}),iv={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t,o="fixed"===i,s=nG(n),a=!!e&&n3(e.floating);if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},h=nI(1),c=nI(0),u=n0(n);if((u||!u&&!o)&&(("body"!==nH(n)||n2(s))&&(l=n7(n)),n0(n))){let t=il(n);h=io(n),c.x=t.x+n.clientLeft,c.y=t.y+n.clientTop}let d=!s||u||o?nI(0):ic(s,l,!0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-l.scrollLeft*h.x+c.x+d.x,y:r.y*h.y-l.scrollTop*h.y+c.y+d.y}},getDocumentElement:nG,getClippingRect:function(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t,o=[..."clippingAncestors"===r?n3(e)?[]:function(t,e){let r=e.get(t);if(r)return r;let n=it(t,[],!1).filter(t=>nJ(t)&&"body"!==nH(t)),i=null,o="fixed"===n8(t).position,s=o?n9(t):t;for(;nJ(s)&&!n6(s);){let e=n8(s),r=n4(s);r||"fixed"!==e.position||(i=null),(o?!r&&!i:!r&&"static"===e.position&&!!i&&["absolute","fixed"].includes(i.position)||n2(s)&&!r&&function t(e,r){let n=n9(e);return!(n===r||!nJ(n)||n6(n))&&("fixed"===n8(n).position||t(n,r))}(t,s))?n=n.filter(t=>t!==s):i=e,s=n9(s)}return e.set(t,n),n}(e,this._c):[].concat(r),n],s=o[0],a=o.reduce((t,r)=>{let n=iu(e,r,i);return t.top=nE(n.top,t.top),t.right=nA(n.right,t.right),t.bottom=nA(n.bottom,t.bottom),t.left=nE(n.left,t.left),t},iu(e,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:ig,getElementRects:im,getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){let{width:e,height:r}=ir(t);return{width:e,height:r}},getScale:io,isElement:nJ,isRTL:function(t){return"rtl"===n8(t).direction}};function iy(t,e,r,n){let i;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:h=!1}=n,c=ii(t),u=o||s?[...c?it(c):[],...it(e)]:[];u.forEach(t=>{o&&t.addEventListener("scroll",r,{passive:!0}),s&&t.addEventListener("resize",r)});let d=c&&l?function(t,e){let r,n=null,i=nG(t);function o(){var t;clearTimeout(r),null==(t=n)||t.disconnect(),n=null}return!function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();let{left:h,top:c,width:u,height:d}=t.getBoundingClientRect();if(a||e(),!u||!d)return;let f=nP(c),p=nP(i.clientWidth-(h+u)),g={rootMargin:-f+"px "+-p+"px "+-nP(i.clientHeight-(c+d))+"px "+-nP(h)+"px",threshold:nE(0,nA(1,l))||1},m=!0;function v(t){let e=t[0].intersectionRatio;if(e!==l){if(!m)return s();e?s(!1,e):r=setTimeout(()=>{s(!1,1e-7)},1e3)}m=!1}try{n=new IntersectionObserver(v,(0,eV._)((0,eX._)({},g),{root:i.ownerDocument}))}catch(t){n=new IntersectionObserver(v,g)}n.observe(t)}(!0),o}(c,r):null,f=-1,p=null;a&&(p=new ResizeObserver(t=>{let[n]=t;n&&n.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var t;null==(t=p)||t.observe(e)})),r()}),c&&!h&&p.observe(c),p.observe(e));let g=h?il(t):null;return h&&function e(){let n=il(t);g&&(n.x!==g.x||n.y!==g.y||n.width!==g.width||n.height!==g.height)&&r(),g=n,i=requestAnimationFrame(e)}(),r(),()=>{var t;u.forEach(t=>{o&&t.removeEventListener("scroll",r),s&&t.removeEventListener("resize",r)}),null==d||d(),null==(t=p)||t.disconnect(),p=null,h&&cancelAnimationFrame(i)}}let ib=function(t){return void 0===t&&(t=0),{name:"offset",options:t,fn:e=>eW(function*(){var r,n;let{x:i,y:o,placement:s,middlewareData:a}=e,l=yield function(t,e){return nU.apply(this,arguments)}(e,t);return s===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:(0,eV._)((0,eX._)({},l),{placement:s})}})()}},iO=(t,e,r)=>{let n=new Map,i=(0,eX._)({platform:iv},r),o=(0,eV._)((0,eX._)({},i.platform),{_c:n});return nF(t,e,(0,eV._)((0,eX._)({},i),{platform:o}))};var iw=function(t,e){return(iw=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function ix(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}iw(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function i_(t,e){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function ik(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function iS(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function iC(t,e,r){if(r||2==arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function iA(t){return this instanceof iA?(this.v=t,this):new iA(t)}function iE(t){return"function"==typeof t}function iT(t){var e=t(function(t){Error.call(t),t.stack=Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}"function"==typeof SuppressedError&&SuppressedError;var iP=iT(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}});function iI(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var iR=function(){var t;function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t,e,r,n,i,o=this._parentage;if(o){if(this._parentage=null,Array.isArray(o))try{for(var s=ik(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else o.remove(this)}var l=this.initialTeardown;if(iE(l))try{l()}catch(t){i=t instanceof iP?t.errors:[t]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var c=ik(h),u=c.next();!u.done;u=c.next()){var d=u.value;try{iD(d)}catch(t){i=null!=i?i:[],t instanceof iP?i=iC(iC([],iS(i)),iS(t.errors)):i.push(t)}}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}if(i)throw new iP(i)}},e.prototype.add=function(t){var r;if(t&&t!==this){if(this.closed)iD(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}},e.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},e.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},e.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&iI(e,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&iI(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),iM=iR.EMPTY;function iN(t){return t instanceof iR||t&&"closed"in t&&iE(t.remove)&&iE(t.add)&&iE(t.unsubscribe)}function iD(t){iE(t)?t():t.unsubscribe()}var iL=function(t){function e(e,r){return t.call(this)||this}return ix(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(iR),i$={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=i$.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,iC([t,e],iS(r))):setInterval.apply(void 0,iC([t,e],iS(r)))},clearInterval:function(t){var e=i$.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},iq=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return ix(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r,n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),i$.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&i$.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r,n=!1;try{this.work(t)}catch(t){n=!0,r=t||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,iI(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(iL),iQ={now:function(){return(iQ.delegate||Date).now()},delegate:void 0},iB=function(){function t(e,r){void 0===r&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(r,e)},t.now=iQ.now,t}(),ij=new(function(t){function e(e,r){void 0===r&&(r=iB.now);var n=t.call(this,e,r)||this;return n.actions=[],n._active=!1,n}return ix(e,t),e.prototype.flush=function(t){var e,r=this.actions;if(this._active){r.push(t);return}this._active=!0;do if(e=t.execute(t.state,t.delay))break;while(t=r.shift())if(this._active=!1,e){for(;t=r.shift();)t.unsubscribe();throw e}},e}(iB))(iq);function iz(t){return function(e){if(iE(null==e?void 0:e.lift))return e.lift(function(e){try{return t(e,this)}catch(t){this.error(t)}});throw TypeError("Unable to lift unknown Observable type")}}var iZ={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},iF={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=iF.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,iC([t,e],iS(r))):setTimeout.apply(void 0,iC([t,e],iS(r)))},clearTimeout:function(t){var e=iF.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function iX(t){iF.setTimeout(function(){var e=iZ.onUnhandledError;if(e)e(t);else throw t})}function iV(){}var iU=iW("C",void 0,void 0);function iW(t,e,r){return{kind:t,value:e,error:r}}var iH=null;function iY(t){if(iZ.useDeprecatedSynchronousErrorHandling){var e=!iH;if(e&&(iH={errorThrown:!1,error:null}),t(),e){var r=iH,n=r.errorThrown,i=r.error;if(iH=null,n)throw i}}else t()}var iG=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,iN(e)&&e.add(r)):r.destination=i4,r}return ix(e,t),e.create=function(t,e,r){return new i1(t,e,r)},e.prototype.next=function(t){this.isStopped?i3(iW("N",t,void 0),this):this._next(t)},e.prototype.error=function(t){this.isStopped?i3(iW("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?i3(iU,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(iR),iK=Function.prototype.bind;function iJ(t,e){return iK.call(t,e)}var i0=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){i2(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){i2(t)}else i2(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){i2(t)}},t}(),i1=function(t){function e(e,r,n){var i,o,s=t.call(this)||this;return iE(e)||!e?i={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&iZ.useDeprecatedNextContext?((o=Object.create(e)).unsubscribe=function(){return s.unsubscribe()},i={next:e.next&&iJ(e.next,o),error:e.error&&iJ(e.error,o),complete:e.complete&&iJ(e.complete,o)}):i=e,s.destination=new i0(i),s}return ix(e,t),e}(iG);function i2(t){iZ.useDeprecatedSynchronousErrorHandling?iZ.useDeprecatedSynchronousErrorHandling&&iH&&(iH.errorThrown=!0,iH.error=t):iX(t)}function i3(t,e){var r=iZ.onStoppedNotification;r&&iF.setTimeout(function(){return r(t,e)})}var i4={closed:!0,next:iV,error:function(t){throw t},complete:iV};function i5(t,e,r,n,i){return new i6(t,e,r,n,i)}var i6=function(t){function e(e,r,n,i,o,s){var a=t.call(this,e)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return ix(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),r||null===(e=this.onFinalize)||void 0===e||e.call(this)}},e}(iG);function i8(t,e){return void 0===e&&(e=ij),iz(function(r,n){var i=null,o=null,s=null,a=function(){if(i){i.unsubscribe(),i=null;var t=o;o=null,n.next(t)}};function l(){var r=s+t,o=e.now();if(o<r){i=this.schedule(void 0,r-o),n.add(i);return}a()}r.subscribe(i5(n,function(r){o=r,s=e.now(),i||(i=e.schedule(l,t),n.add(i))},function(){a(),n.complete()},void 0,function(){o=i=null}))})}var i7=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t},i9="function"==typeof Symbol&&Symbol.observable||"@@observable",ot=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,i=this,o=(n=t)&&n instanceof iG||n&&iE(n.next)&&iE(n.error)&&iE(n.complete)&&iN(n)?t:new i1(t,e,r);return iY(function(){var t=i.operator,e=i.source;o.add(t?t.call(o,e):e?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=oe(e))(function(e,n){var i=new i1({next:function(e){try{t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:e});r.subscribe(i)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[i9]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===t.length?function(t){return t}:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)})(this)},t.prototype.toPromise=function(t){var e=this;return new(t=oe(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function oe(t){var e;return null!==(e=null!=t?t:iZ.Promise)&&void 0!==e?e:Promise}var or="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function on(t){if(t instanceof ot)return t;if(null!=t){if(iE(t[i9]))return new ot(function(e){var r=t[i9]();if(iE(r.subscribe))return r.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(i7(t))return new ot(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()});if(iE(null==t?void 0:t.then))return new ot(function(e){t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,iX)});if(Symbol.asyncIterator&&iE(null==t?void 0:t[Symbol.asyncIterator]))return oi(t);if(iE(null==t?void 0:t[or]))return new ot(function(e){var r,n;try{for(var i=ik(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()});if(iE(null==t?void 0:t.getReader))return oi(function(t){return function(t,e,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(t){return function(e){return Promise.resolve(e).then(t,h)}}),n[Symbol.asyncIterator]=function(){return this},n;function s(t,e){i[t]&&(n[t]=function(e){return new Promise(function(r,n){o.push([t,e,r,n])>1||a(t,e)})},e&&(n[t]=e(n[t])))}function a(t,e){try{var r;(r=i[t](e)).value instanceof iA?Promise.resolve(r.value.v).then(l,h):c(o[0][2],r)}catch(t){c(o[0][3],t)}}function l(t){a("next",t)}function h(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function(){var e,r,n;return i_(this,function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,iA(e.read())];case 3:if(n=(r=i.sent()).value,!r.done)return[3,5];return[4,iA(void 0)];case 4:return[2,i.sent()];case 5:return[4,iA(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}(t))}throw TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function oi(t){return new ot(function(e){(function(t,e){var r,n,i,o,s,a,l,h;return s=this,a=void 0,l=void 0,h=function(){var s;return i_(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),r=function(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=ik(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,i){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,i,(e=t[r](e)).done,e.value)})}}}(t),a.label=1;case 1:return[4,r.next()];case 2:if((n=a.sent()).done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i={error:a.sent()},[3,11];case 6:if(a.trys.push([6,,9,10]),!(n&&!n.done&&(o=r.return)))return[3,8];return[4,o.call(r)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})},new(l||(l=Promise))(function(t,e){function r(t){try{i(h.next(t))}catch(t){e(t)}}function n(t){try{i(h.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):((i=e.value)instanceof l?i:new l(function(t){t(i)})).then(r,n)}i((h=h.apply(s,a||[])).next())})})(t,e).catch(function(t){return e.error(t)})})}function oo(t,e){return iz(function(r,n){var i=0;r.subscribe(i5(n,function(r){n.next(t.call(e,r,i++))}))})}var os=Array.isArray,oa=["addListener","removeListener"],ol=["addEventListener","removeEventListener"],oh=["on","off"];function oc(t,e,r,n){if(iE(r)&&(n=r,r=void 0),n)return oc(t,e,r).pipe((i=n,oo(function(t){return os(t)?i.apply(void 0,iC([],iS(t))):i(t)})));var i,o=iS(iE(t.addEventListener)&&iE(t.removeEventListener)?ol.map(function(n){return function(i){return t[n](e,i,r)}}):iE(t.addListener)&&iE(t.removeListener)?oa.map(ou(t,e)):iE(t.on)&&iE(t.off)?oh.map(ou(t,e)):[],2),s=o[0],a=o[1];if(!s&&i7(t))return(function t(e,r,n){return(void 0===n&&(n=1/0),iE(r))?t(function(t,n){return oo(function(e,i){return r(t,e,n,i)})(on(e(t,n)))},n):("number"==typeof r&&(n=r),iz(function(t,r){var i,o,s,a,l,h,c,u,d;return i=n,s=[],a=0,l=0,h=!1,c=function(){!h||s.length||a||r.complete()},u=function(t){return a<i?d(t):s.push(t)},d=function(t){a++;var n=!1;on(e(t,l++)).subscribe(i5(r,function(t){o?u(t):r.next(t)},function(){n=!0},void 0,function(){if(n)try{for(a--;s.length&&a<i;)!function(){var t=s.shift();d(t)}();c()}catch(t){r.error(t)}}))},t.subscribe(i5(r,u,function(){h=!0,c()})),function(){}}))})(function(t){return oc(t,e,r)})(on(t));if(!s)throw TypeError("Invalid event target");return new ot(function(t){var e=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.next(1<e.length?e:e[0])};return s(e),function(){return a(e)}})}function ou(t,e){return function(r){return function(n){return t[r](e,n)}}}function od(t,e,r){if(!r||typeof r.value!==Bs.typeOfFunction)throw TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Bs.boolTrue,get:function(){var t=r.value.bind(this);return Object.defineProperty(this,e,{value:t,configurable:Bs.boolTrue,writable:Bs.boolTrue}),t}}}(Qs=Bs||(Bs={})).typeOfFunction="function",Qs.boolTrue=!0;var of=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let op=class extends nc{slotChangeTitle(t){this.title="true"}ready(){let t=null,e=()=>{let e=window.matchMedia("(max-width: 768px)").matches;if(t&&(t(),t=null),this.removeEventListener("mouseenter",this.handleMouseEnter),this.removeEventListener("click",this.onClickSmallScreen),this.mouseLeaveSubscription&&(this.mouseLeaveSubscription.unsubscribe(),this.mouseLeaveSubscription=null),e)this.addEventListener("click",this.onClickSmallScreen);else{if(!t){var r;this.floatingInstance=function(t,e,r={}){var n;let i;let o=({x:t,y:r,placement:n})=>{Object.assign(e.style,{position:"absolute",left:`${t}px`,top:`${r}px`}),e.dataset.placement=n},s=(n=eW(function*(){let{x:n,y:i,placement:s}=yield iO(t,e,r);o({x:n,y:i,placement:s})}),function(){return n.apply(this,arguments)});return i=iy(t,e,s),s(),{update:s,destroy:()=>{i&&i()}}}(this,this.itemsRef.value,{placement:"bottom-start",strategy:"fixed",middleware:[ib({crossAxis:12}),(void 0===r&&(r={}),{name:"flip",options:r,fn:t=>eW(function*(){var e,n,i,o,s;let{placement:a,middlewareData:l,rects:h,initialPlacement:c,platform:u,elements:d}=t,f=nN(r,t),{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:b=!0}=f,O=nC(f,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(e=l.arrow)&&e.alignmentOffset)return{};let w=nD(a),x=nQ(c),k=nD(c)===c,S=yield null==u.isRTL?void 0:u.isRTL(d.floating),C=m||(k||!b?[nj(c)]:function(t){let e=nj(t);return[nB(t),e,nB(e)]}(c)),A="none"!==y;!m&&A&&C.push(...function(t,e,r,n){let i=nL(t),o=function(t,e,r){let n=["left","right"],i=["right","left"];switch(t){case"top":case"bottom":if(r)return e?i:n;return e?n:i;case"left":case"right":return e?["top","bottom"]:["bottom","top"];default:return[]}}(nD(t),"start"===r,n);return i&&(o=o.map(t=>t+"-"+i),e&&(o=o.concat(o.map(nB)))),o}(c,b,y,S));let E=[c,...C],T=yield nX(t,O),P=[],I=(null==(n=l.flip)?void 0:n.overflows)||[];if(p&&P.push(T[w]),g){let t=function(t,e,r){void 0===r&&(r=!1);let n=nL(t),i=n$(nQ(t)),o=nq(i),s="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=nj(s)),[s,nj(s)]}(a,h,S);P.push(T[t[0]],T[t[1]])}if(I=[...I,{placement:a,overflows:P}],!P.every(t=>t<=0)){let t=((null==(i=l.flip)?void 0:i.index)||0)+1,e=E[t];if(e)return{data:{index:t,overflows:I},reset:{placement:e}};let r=null==(o=I.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:o.placement;if(!r)switch(v){case"bestFit":{let t=null==(s=I.filter(t=>{if(A){let e=nQ(t.placement);return e===x||"y"===e}return!0}).map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:s[0];t&&(r=t);break}case"initialPlacement":r=c}if(a!==r)return{reset:{placement:r}}}return{}})()})]}),t=this.floatingInstance.destroy,this.addEventListener("mouseenter",this.handleMouseEnter)}this.itemsOpen||(this.itemsRef.value.style.display="none")}};e(),window.addEventListener("resize",e),window.addEventListener("unload",()=>{t&&t(),this.mouseLeaveSubscription&&this.mouseLeaveSubscription.unsubscribe(),window.removeEventListener("resize",e)})}handleMouseEnter(){this.itemsOpen||this.toggleOpen(),this.floatingInstance.update(),this.mouseLeaveSubscription&&(this.mouseLeaveSubscription.unsubscribe(),this.mouseLeaveSubscription=null),this.handleMouseLeave()}handleMouseLeave(){console.log("Mouse leave");let t=oc(this,"mouseleave").pipe(i8(800));this.mouseLeaveSubscription=t.subscribe(()=>{this.itemsOpen&&this.toggleOpen()})}onClickSmallScreen(){this.itemsRef.value.style.position="relative",this.itemsRef.value.style.top="initial",this.itemsRef.value.style.left="initial",this.toggleOpen()}toggleOpen(){this.itemsOpen?(this.itemsOpen=!1,this.itemsRef.value.style.display="none"):(this.itemsOpen=!0,this.itemsRef.value.style.display="flex")}titleSlotChange(t){}render(){return rL`<div id="item" part="item"><span part="title" class="title">
            <slot @slotchange="${this.titleSlotChange}" name="title">${this.title}</slot></span>
            <div part="content" class="content">${nd(this.href,()=>rL`<a href="${this.href}"><slot></slot></a>`,()=>rL`<slot></slot>`)}
            </div>
            <div ${nS(this.itemsRef)} id="items" part="items">
                <slot name="items"></slot>
            </div>
        <div>`}constructor(){super(...arguments),this.itemsRef=nx(),this.itemsOpen=!1,this.mouseLeaveSubscription=null}};op.styles=e0(/*@__PURE__*/ew(nu)),of([ru()],op.prototype,"title",void 0),of([ru()],op.prototype,"href",void 0),of([od],op.prototype,"handleMouseEnter",null),of([od],op.prototype,"handleMouseLeave",null),of([od],op.prototype,"onClickSmallScreen",null),op=of([eF("juel-item")],op);var og={};function om(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ov(t){var e=om(t).Element;return t instanceof e||t instanceof Element}function oy(t){var e=om(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ob(t){if("undefined"==typeof ShadowRoot)return!1;var e=om(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}og='.icon{display:inline-block;-webkit-mask-position:50%;mask-position:50%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.icon.lg{width:48px;height:48px}.icon.sm{width:16px;height:16px}.icon.md{width:32px;height:32px}.primary{background-color:var(--background-color,var(--primary));color:var(--color,white);border:1px solid var(--background-color,var(--primary))}.primary.alert{background-color:var(--background-color,#a3cfff);color:var(--color,var(--primary))!important}.primary .icon:not(.empty){background-color:var(--color,white)}.primary:hover{background-color:var(--hover-background-color,var(--color,#a3cfff));color:var(--hover-color,white);border-color:var(--hover-border-color,#a3cfff)}.primary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.primary:active{box-shadow:0 0 10px var(--background-color,var(--primary))}.primary.outline{background-color:initial;color:var(--background-color,var(--primary));border-color:var(--background-color,var(--primary))}.primary.outline:hover{background-color:var(--background-color,var(--primary));color:var(--color,white)}.primary.right-rounded{border-right:1px solid var(--background-color,var(--primary))}.primary.left-rounded{border-left:1px solid var(--background-color,var(--primary))}.primary-border{border:1px solid var(--background-color,#004a99)}.secondary{background-color:var(--background-color,var(--secondary));color:var(--color,white);border:1px solid var(--background-color,var(--secondary))}.secondary.alert{background-color:var(--background-color,#c2c6ca);color:var(--color,var(--secondary))!important}.secondary .icon:not(.empty){background-color:var(--color,white)}.secondary:hover{background-color:var(--hover-background-color,var(--color,#c2c6ca));color:var(--hover-color,white);border-color:var(--hover-border-color,#c2c6ca)}.secondary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.secondary:active{box-shadow:0 0 10px var(--background-color,var(--secondary))}.secondary.outline{background-color:initial;color:var(--background-color,var(--secondary));border-color:var(--background-color,var(--secondary))}.secondary.outline:hover{background-color:var(--background-color,var(--secondary));color:var(--color,white)}.secondary.right-rounded{border-right:1px solid var(--background-color,var(--secondary))}.secondary.left-rounded{border-left:1px solid var(--background-color,var(--secondary))}.secondary-border{border:1px solid var(--background-color,#3d4246)}.tertiary{background-color:var(--background-color,var(--tertiary));color:var(--color,white);border:1px solid var(--background-color,var(--tertiary))}.tertiary.alert{background-color:var(--background-color,#fff);color:var(--color,var(--tertiary))!important}.tertiary .icon:not(.empty){background-color:var(--color,white)}.tertiary:hover{background-color:var(--hover-background-color,var(--color,#fff));color:var(--hover-color,white);border-color:var(--hover-border-color,#fff)}.tertiary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.tertiary:active{box-shadow:0 0 10px var(--background-color,var(--tertiary))}.tertiary.outline{background-color:initial;color:var(--background-color,var(--tertiary));border-color:var(--background-color,var(--tertiary))}.tertiary.outline:hover{background-color:var(--background-color,var(--tertiary));color:var(--color,white)}.tertiary.right-rounded{border-right:1px solid var(--background-color,var(--tertiary))}.tertiary.left-rounded{border-left:1px solid var(--background-color,var(--tertiary))}.tertiary-border{border:1px solid var(--background-color,#f7270f)}.light{background-color:var(--background-color,var(--light));color:var(--color,black);border:1px solid var(--background-color,var(--light))}.light.alert{background-color:var(--background-color,#99a7b6);color:var(--color,var(--light))!important}.light .icon:not(.empty){background-color:var(--color,black)}.light:hover{background-color:var(--hover-background-color,var(--color,#99a7b6));color:var(--hover-color,black);border-color:var(--hover-border-color,#99a7b6)}.light:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,black))}.light:active{box-shadow:0 0 10px var(--background-color,var(--light))}.light.outline{background-color:initial;color:var(--background-color,var(--light));border-color:var(--background-color,var(--light))}.light.outline:hover{background-color:var(--background-color,var(--light));color:var(--color,black)}.light.right-rounded{border-right:1px solid var(--background-color,var(--light))}.light.left-rounded{border-left:1px solid var(--background-color,var(--light))}.light-border{border:1px solid var(--background-color,#bcc6cf)}.dark{background-color:var(--background-color,var(--dark));color:var(--color,white);border:1px solid var(--background-color,var(--dark))}.dark.alert{background-color:var(--background-color,#808c98);color:var(--color,var(--dark))!important}.dark .icon:not(.empty){background-color:var(--color,white)}.dark:hover{background-color:var(--hover-background-color,var(--color,#808c98));color:var(--hover-color,white);border-color:var(--hover-border-color,#808c98)}.dark:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.dark:active{box-shadow:0 0 10px var(--background-color,var(--dark))}.dark.outline{background-color:initial;color:var(--background-color,var(--dark));border-color:var(--background-color,var(--dark))}.dark.outline:hover{background-color:var(--background-color,var(--dark));color:var(--color,white)}.dark.right-rounded{border-right:1px solid var(--background-color,var(--dark))}.dark.left-rounded{border-left:1px solid var(--background-color,var(--dark))}.dark-border{border:1px solid var(--background-color,#060708)}.success{background-color:var(--background-color,var(--success));color:var(--color,white);border:1px solid var(--background-color,var(--success))}.success.alert{background-color:var(--background-color,#8ee4a2);color:var(--color,var(--success))!important}.success .icon:not(.empty){background-color:var(--color,white)}.success:hover{background-color:var(--hover-background-color,var(--color,#8ee4a2));color:var(--hover-color,white);border-color:var(--hover-border-color,#8ee4a2)}.success:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.success:active{box-shadow:0 0 10px var(--background-color,var(--success))}.success.outline{background-color:initial;color:var(--background-color,var(--success));border-color:var(--background-color,var(--success))}.success.outline:hover{background-color:var(--background-color,var(--success));color:var(--color,white)}.success.right-rounded{border-right:1px solid var(--background-color,var(--success))}.success.left-rounded{border-left:1px solid var(--background-color,var(--success))}.success-border{border:1px solid var(--background-color,#145523)}.info{background-color:var(--background-color,var(--info));color:var(--color,white);border:1px solid var(--background-color,var(--info))}.info.alert{background-color:var(--background-color,#83e1ef);color:var(--color,var(--info))!important}.info .icon:not(.empty){background-color:var(--color,white)}.info:hover{background-color:var(--hover-background-color,var(--color,#83e1ef));color:var(--hover-color,white);border-color:var(--hover-border-color,#83e1ef)}.info:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.info:active{box-shadow:0 0 10px var(--background-color,var(--info))}.info.outline{background-color:initial;color:var(--background-color,var(--info));border-color:var(--background-color,var(--info))}.info.outline:hover{background-color:var(--background-color,var(--info));color:var(--color,white)}.info.right-rounded{border-right:1px solid var(--background-color,var(--info))}.info.left-rounded{border-left:1px solid var(--background-color,var(--info))}.info-border{border:1px solid var(--background-color,#0c525d)}.warning{background-color:var(--background-color,var(--warning));color:var(--color,black);border:1px solid var(--background-color,var(--warning))}.warning.alert{background-color:var(--background-color,#634a00);color:var(--color,var(--warning))!important}.warning .icon:not(.empty){background-color:var(--color,black)}.warning:hover{background-color:var(--hover-background-color,var(--color,#634a00));color:var(--hover-color,black);border-color:var(--hover-border-color,#634a00)}.warning:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,black))}.warning:active{box-shadow:0 0 10px var(--background-color,var(--warning))}.warning.outline{background-color:initial;color:var(--background-color,var(--warning));border-color:var(--background-color,var(--warning))}.warning.outline:hover{background-color:var(--background-color,var(--warning));color:var(--color,black)}.warning.right-rounded{border-right:1px solid var(--background-color,var(--warning))}.warning.left-rounded{border-left:1px solid var(--background-color,var(--warning))}.warning-border{border:1px solid var(--background-color,#a07800)}.danger{background-color:var(--background-color,var(--danger));color:var(--color,white);border:1px solid var(--background-color,var(--danger))}.danger.alert{background-color:var(--background-color,#f4c0c5);color:var(--color,var(--danger))!important}.danger .icon:not(.empty){background-color:var(--color,white)}.danger:hover{background-color:var(--hover-background-color,var(--color,#f4c0c5));color:var(--hover-color,white);border-color:var(--hover-border-color,#f4c0c5)}.danger:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.danger:active{box-shadow:0 0 10px var(--background-color,var(--danger))}.danger.outline{background-color:initial;color:var(--background-color,var(--danger));border-color:var(--background-color,var(--danger))}.danger.outline:hover{background-color:var(--background-color,var(--danger));color:var(--color,white)}.danger.right-rounded{border-right:1px solid var(--background-color,var(--danger))}.danger.left-rounded{border-left:1px solid var(--background-color,var(--danger))}.danger-border{border:1px solid var(--background-color,#921925)}#dropdown-toggle{text-align:center;vertical-align:middle;cursor:pointer;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;display:inline-block}#dropdown-toggle:after{vertical-align:.255em;content:"";border:.3em solid transparent;border-top-color:currentColor;border-bottom:0;display:inline-block}:host{display:inline-block;position:relative}input.text{width:100%}.input-group{flex-direction:var(--direction,row);margin:var(--margin);border-radius:.25rem;flex-wrap:wrap;display:inline-flex}.input-group div{display:inline-flex}.input-group.labels-vertical label{flex-basis:100%}.rounded{border-radius:var(--border-radius,.25rem)}.right-rounded{border-top-right-radius:var(--border-top-right-radius,.25rem);border-bottom-right-radius:var(--border-bottom-right-radius,.25rem)}.left-rounded{border-top-left-radius:var(--border-top-left-radius,.25rem);border-bottom-left-radius:var(--border-bottom-left-radius,.25rem)}.no-rounded{border-radius:0}slot[name=dropdown]{z-index:1000;color:#212529;text-align:left;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem;width:100%;margin:0;font-size:1rem;display:none;position:absolute}::slotted(ul){flex-direction:column;margin:0;padding:.5rem 1rem;list-style:none;display:flex}::slotted(ol){flex-direction:column;margin:0;padding:.5rem 0;list-style:none;display:flex}.btn{position:relative;overflow:hidden}.btn-group{vertical-align:middle;display:inline-flex;position:relative}button{font-weight:var(--font-weight,400);color:var(--color,#212529);text-align:center;text-transform:var(--text-transform);vertical-align:middle;cursor:pointer;-webkit-user-select:none;user-select:none;padding:var(--padding,.375rem .75rem);line-height:1.5;font-size:var(--font-size,1rem);align-items:center;text-decoration:none;display:inline-flex;position:relative}';var oO=Math.max,ow=Math.min,ox=Math.round;function o_(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ok(){return!/^((?!chrome|android).)*safari/i.test(o_())}function oS(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&oy(t)&&(i=t.offsetWidth>0&&ox(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&ox(n.height)/t.offsetHeight||1);var s=(ov(t)?om(t):window).visualViewport,a=!ok()&&r,l=(n.left+(a&&s?s.offsetLeft:0))/i,h=(n.top+(a&&s?s.offsetTop:0))/o,c=n.width/i,u=n.height/o;return{width:c,height:u,top:h,right:l+c,bottom:h+u,left:l,x:l,y:h}}function oC(t){var e=om(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function oA(t){return t?(t.nodeName||"").toLowerCase():null}function oE(t){return((ov(t)?t.ownerDocument:t.document)||window.document).documentElement}function oT(t){return oS(oE(t)).left+oC(t).scrollLeft}function oP(t){return om(t).getComputedStyle(t)}function oI(t){var e=oP(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function oR(t){var e=oS(t),r=t.offsetWidth,n=t.offsetHeight;return 1>=Math.abs(e.width-r)&&(r=e.width),1>=Math.abs(e.height-n)&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function oM(t){return"html"===oA(t)?t:t.assignedSlot||t.parentNode||(ob(t)?t.host:null)||oE(t)}function oN(t,e){void 0===e&&(e=[]);var r,n=function t(e){return["html","body","#document"].indexOf(oA(e))>=0?e.ownerDocument.body:oy(e)&&oI(e)?e:t(oM(e))}(t),i=n===(null==(r=t.ownerDocument)?void 0:r.body),o=om(n),s=i?[o].concat(o.visualViewport||[],oI(n)?n:[]):n,a=e.concat(s);return i?a:a.concat(oN(oM(s)))}function oD(t){return oy(t)&&"fixed"!==oP(t).position?t.offsetParent:null}function oL(t){for(var e=om(t),r=oD(t);r&&["table","td","th"].indexOf(oA(r))>=0&&"static"===oP(r).position;)r=oD(r);return r&&("html"===oA(r)||"body"===oA(r)&&"static"===oP(r).position)?e:r||function(t){var e=/firefox/i.test(o_());if(/Trident/i.test(o_())&&oy(t)&&"fixed"===oP(t).position)return null;var r=oM(t);for(ob(r)&&(r=r.host);oy(r)&&0>["html","body"].indexOf(oA(r));){var n=oP(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(t)||e}var o$="bottom",oq="right",oQ="left",oB="auto",oj=["top",o$,oq,oQ],oz="start",oZ="viewport",oF="popper",oX=/*#__PURE__*/oj.reduce(function(t,e){return t.concat([e+"-"+oz,e+"-end"])},[]),oV=/*#__PURE__*/[].concat(oj,[oB]).reduce(function(t,e){return t.concat([e,e+"-"+oz,e+"-end"])},[]),oU=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],oW={placement:"bottom",modifiers:[],strategy:"absolute"};function oH(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}var oY={passive:!0};function oG(t){return t.split("-")[0]}function oK(t){return t.split("-")[1]}function oJ(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function o0(t){var e,r=t.reference,n=t.element,i=t.placement,o=i?oG(i):null,s=i?oK(i):null,a=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(o){case"top":e={x:a,y:r.y-n.height};break;case o$:e={x:a,y:r.y+r.height};break;case oq:e={x:r.x+r.width,y:l};break;case oQ:e={x:r.x-n.width,y:l};break;default:e={x:r.x,y:r.y}}var h=o?oJ(o):null;if(null!=h){var c="y"===h?"height":"width";switch(s){case oz:e[h]=e[h]-(r[c]/2-n[c]/2);break;case"end":e[h]=e[h]+(r[c]/2-n[c]/2)}}return e}var o1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function o2(t){var e,r,n,i,o,s,a,l=t.popper,h=t.popperRect,c=t.placement,u=t.variation,d=t.offsets,f=t.position,p=t.gpuAcceleration,g=t.adaptive,m=t.roundOffsets,v=t.isFixed,y=d.x,b=void 0===y?0:y,O=d.y,w=void 0===O?0:O,x="function"==typeof m?m({x:b,y:w}):{x:b,y:w};b=x.x,w=x.y;var k=d.hasOwnProperty("x"),S=d.hasOwnProperty("y"),C=oQ,A="top",E=window;if(g){var T=oL(l),P="clientHeight",I="clientWidth";T===om(l)&&"static"!==oP(T=oE(l)).position&&"absolute"===f&&(P="scrollHeight",I="scrollWidth"),("top"===c||(c===oQ||c===oq)&&"end"===u)&&(A=o$,w-=(v&&T===E&&E.visualViewport?E.visualViewport.height:T[P])-h.height,w*=p?1:-1),(c===oQ||("top"===c||c===o$)&&"end"===u)&&(C=oq,b-=(v&&T===E&&E.visualViewport?E.visualViewport.width:T[I])-h.width,b*=p?1:-1)}var R=Object.assign({position:f},g&&o1),M=!0===m?(e={x:b,y:w},r=om(l),n=e.x,i=e.y,{x:ox(n*(o=r.devicePixelRatio||1))/o||0,y:ox(i*o)/o||0}):{x:b,y:w};return(b=M.x,w=M.y,p)?Object.assign({},R,((a={})[A]=S?"0":"",a[C]=k?"0":"",a.transform=1>=(E.devicePixelRatio||1)?"translate("+b+"px, "+w+"px)":"translate3d("+b+"px, "+w+"px, 0)",a)):Object.assign({},R,((s={})[A]=S?w+"px":"",s[C]=k?b+"px":"",s.transform="",s))}var o3={left:"right",right:"left",bottom:"top",top:"bottom"};function o4(t){return t.replace(/left|right|bottom|top/g,function(t){return o3[t]})}var o5={start:"end",end:"start"};function o6(t){return t.replace(/start|end/g,function(t){return o5[t]})}function o8(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&ob(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function o7(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function o9(t,e,r){var n,i,o,s,a,l,h,c,u,d;return e===oZ?o7(function(t,e){var r=om(t),n=oE(t),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var h=ok();(h||!h&&"fixed"===e)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+oT(t),y:l}}(t,r)):ov(e)?((n=oS(e,!1,"fixed"===r)).top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n):o7((i=oE(t),s=oE(i),a=oC(i),l=null==(o=i.ownerDocument)?void 0:o.body,h=oO(s.scrollWidth,s.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=oO(s.scrollHeight,s.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),u=-a.scrollLeft+oT(i),d=-a.scrollTop,"rtl"===oP(l||s).direction&&(u+=oO(s.clientWidth,l?l.clientWidth:0)-h),{width:h,height:c,x:u,y:d}))}function st(){return{top:0,right:0,bottom:0,left:0}}function se(t){return Object.assign({},st(),t)}function sr(t,e){return e.reduce(function(e,r){return e[r]=t,e},{})}function sn(t,e){void 0===e&&(e={});var r,n,i,o,s,a,l,h,c=e,u=c.placement,d=void 0===u?t.placement:u,f=c.strategy,p=void 0===f?t.strategy:f,g=c.boundary,m=c.rootBoundary,v=c.elementContext,y=void 0===v?oF:v,b=c.altBoundary,O=c.padding,w=void 0===O?0:O,x=se("number"!=typeof w?w:sr(w,oj)),k=t.rects.popper,S=t.elements[void 0!==b&&b?y===oF?"reference":oF:y],C=(r=ov(S)?S:S.contextElement||oE(t.elements.popper),n=void 0===g?"clippingParents":g,i=void 0===m?oZ:m,l=(a=[].concat("clippingParents"===n?(o=oN(oM(r)),ov(s=["absolute","fixed"].indexOf(oP(r).position)>=0&&oy(r)?oL(r):r)?o.filter(function(t){return ov(t)&&o8(t,s)&&"body"!==oA(t)}):[]):[].concat(n),[i]))[0],(h=a.reduce(function(t,e){var n=o9(r,e,p);return t.top=oO(n.top,t.top),t.right=ow(n.right,t.right),t.bottom=ow(n.bottom,t.bottom),t.left=oO(n.left,t.left),t},o9(r,l,p))).width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h),A=oS(t.elements.reference),E=o0({reference:A,element:k,strategy:"absolute",placement:d}),T=o7(Object.assign({},k,E)),P=y===oF?T:A,I={top:C.top-P.top+x.top,bottom:P.bottom-C.bottom+x.bottom,left:C.left-P.left+x.left,right:P.right-C.right+x.right},R=t.modifiersData.offset;if(y===oF&&R){var M=R[d];Object.keys(I).forEach(function(t){var e=[oq,o$].indexOf(t)>=0?1:-1,r=["top",o$].indexOf(t)>=0?"y":"x";I[t]+=M[r]*e})}return I}function si(t,e,r){return oO(t,ow(e,r))}function so(t,e,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function ss(t){return["top",oq,o$,oQ].some(function(e){return t[e]>=0})}var sa=(Qh=void 0===(Ql=(Qa={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=void 0===i||i,s=n.resize,a=void 0===s||s,l=om(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(t){t.addEventListener("scroll",r.update,oY)}),a&&l.addEventListener("resize",r.update,oY),function(){o&&h.forEach(function(t){t.removeEventListener("scroll",r.update,oY)}),a&&l.removeEventListener("resize",r.update,oY)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,r=t.name;e.modifiersData[r]=o0({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=r.adaptive,o=r.roundOffsets,s=void 0===o||o,a={placement:oG(e.placement),variation:oK(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:void 0===n||n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,o2(Object.assign({},a,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:void 0===i||i,roundOffsets:s})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,o2(Object.assign({},a,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},n=e.attributes[t]||{},i=e.elements[t];oy(i)&&oA(i)&&(Object.assign(i.style,r),Object.keys(n).forEach(function(t){var e=n[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(t){var n=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:r[t]).reduce(function(t,e){return t[e]="",t},{});oy(n)&&oA(n)&&(Object.assign(n.style,o),Object.keys(i).forEach(function(t){n.removeAttribute(t)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=void 0===i?[0,0]:i,s=oV.reduce(function(t,r){var n,i,s,a,l,h;return t[r]=(n=e.rects,s=[oQ,"top"].indexOf(i=oG(r))>=0?-1:1,l=(a="function"==typeof o?o(Object.assign({},n,{placement:r})):o)[0],h=a[1],l=l||0,h=(h||0)*s,[oQ,oq].indexOf(i)>=0?{x:h,y:l}:{x:l,y:h}),t},{}),a=s[e.placement],l=a.x,h=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[n]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=void 0===i||i,s=r.altAxis,a=void 0===s||s,l=r.fallbackPlacements,h=r.padding,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.flipVariations,p=void 0===f||f,g=r.allowedAutoPlacements,m=e.options.placement,v=oG(m)===m,y=l||(v||!p?[o4(m)]:function(t){if(oG(t)===oB)return[];var e=o4(t);return[o6(t),e,o6(e)]}(m)),b=[m].concat(y).reduce(function(t,r){var n,i,o,s,a,l,d,f,m,v,y,b;return t.concat(oG(r)===oB?(i=(n={placement:r,boundary:c,rootBoundary:u,padding:h,flipVariations:p,allowedAutoPlacements:g}).placement,o=n.boundary,s=n.rootBoundary,a=n.padding,l=n.flipVariations,f=void 0===(d=n.allowedAutoPlacements)?oV:d,0===(y=(v=(m=oK(i))?l?oX:oX.filter(function(t){return oK(t)===m}):oj).filter(function(t){return f.indexOf(t)>=0})).length&&(y=v),Object.keys(b=y.reduce(function(t,r){return t[r]=sn(e,{placement:r,boundary:o,rootBoundary:s,padding:a})[oG(r)],t},{})).sort(function(t,e){return b[t]-b[e]})):r)},[]),O=e.rects.reference,w=e.rects.popper,x=new Map,k=!0,S=b[0],C=0;C<b.length;C++){var A=b[C],E=oG(A),T=oK(A)===oz,P=["top",o$].indexOf(E)>=0,I=P?"width":"height",R=sn(e,{placement:A,boundary:c,rootBoundary:u,altBoundary:d,padding:h}),M=P?T?oq:oQ:T?o$:"top";O[I]>w[I]&&(M=o4(M));var N=o4(M),D=[];if(o&&D.push(R[E]<=0),a&&D.push(R[M]<=0,R[N]<=0),D.every(function(t){return t})){S=A,k=!1;break}x.set(A,D)}if(k)for(var q=p?3:1,Q=function(t){var e=b.find(function(e){var r=x.get(e);if(r)return r.slice(0,t).every(function(t){return t})});if(e)return S=e,"break"},B=q;B>0&&"break"!==Q(B);B--);e.placement!==S&&(e.modifiersData[n]._skip=!0,e.placement=S,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=r.altAxis,s=r.boundary,a=r.rootBoundary,l=r.altBoundary,h=r.padding,c=r.tether,u=void 0===c||c,d=r.tetherOffset,f=void 0===d?0:d,p=sn(e,{boundary:s,rootBoundary:a,padding:h,altBoundary:l}),g=oG(e.placement),m=oK(e.placement),v=!m,y=oJ(g),b="x"===y?"y":"x",O=e.modifiersData.popperOffsets,w=e.rects.reference,x=e.rects.popper,k="function"==typeof f?f(Object.assign({},e.rects,{placement:e.placement})):f,S="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(O){if(void 0===i||i){var E,T="y"===y?"top":oQ,P="y"===y?o$:oq,I="y"===y?"height":"width",R=O[y],M=R+p[T],N=R-p[P],D=u?-x[I]/2:0,q=m===oz?w[I]:x[I],Q=m===oz?-x[I]:-w[I],B=e.elements.arrow,j=u&&B?oR(B):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:st(),Z=z[T],F=z[P],X=si(0,w[I],j[I]),V=v?w[I]/2-D-X-Z-S.mainAxis:q-X-Z-S.mainAxis,U=v?-w[I]/2+D+X+F+S.mainAxis:Q+X+F+S.mainAxis,W=e.elements.arrow&&oL(e.elements.arrow),H=W?"y"===y?W.clientTop||0:W.clientLeft||0:0,Y=null!=(E=null==C?void 0:C[y])?E:0,G=si(u?ow(M,R+V-Y-H):M,R,u?oO(N,R+U-Y):N);O[y]=G,A[y]=G-R}if(void 0!==o&&o){var K,J,tt="x"===y?"top":oQ,te="x"===y?o$:oq,tr=O[b],tn="y"===b?"height":"width",ti=tr+p[tt],to=tr-p[te],ts=-1!==["top",oQ].indexOf(g),ta=null!=(J=null==C?void 0:C[b])?J:0,tl=ts?ti:tr-w[tn]-x[tn]-ta+S.altAxis,th=ts?tr+w[tn]+x[tn]-ta-S.altAxis:to,tc=u&&ts?(K=si(tl,tr,th))>th?th:K:si(u?tl:ti,tr,u?th:to);O[b]=tc,A[b]=tc-tr}e.modifiersData[n]=A}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=oG(r.placement),l=oJ(a),h=[oQ,oq].indexOf(a)>=0?"height":"width";if(o&&s){var c,u=se("number"!=typeof(c="function"==typeof(c=i.padding)?c(Object.assign({},r.rects,{placement:r.placement})):c)?c:sr(c,oj)),d=oR(o),f="y"===l?"top":oQ,p="y"===l?o$:oq,g=r.rects.reference[h]+r.rects.reference[l]-s[l]-r.rects.popper[h],m=s[l]-r.rects.reference[l],v=oL(o),y=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,b=u[f],O=y-d[h]-u[p],w=y/2-d[h]/2+(g/2-m/2),x=si(b,w,O);r.modifiersData[n]=((e={})[l]=x,e.centerOffset=x-w,e)}},effect:function(t){var e=t.state,r=t.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&o8(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=sn(e,{elementContext:"reference"}),a=sn(e,{altBoundary:!0}),l=so(s,n),h=so(a,i,o),c=ss(l),u=ss(h);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:c,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}}]}).defaultModifiers)?[]:Ql,Qu=void 0===(Qc=Qa.defaultOptions)?oW:Qc,function(t,e,r){void 0===r&&(r=Qu);var n,i,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},oW,Qu),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(r){var n,i,a,c,u,d="function"==typeof r?r(o.options):r;h(),o.options=Object.assign({},Qu,o.options,d),o.scrollParents={reference:ov(t)?oN(t):t.contextElement?oN(t.contextElement):[],popper:oN(e)};var f=(i=Object.keys(n=[].concat(Qh,o.options.modifiers).reduce(function(t,e){var r=t[e.name];return t[e.name]=r?Object.assign({},r,e,{options:Object.assign({},r.options,e.options),data:Object.assign({},r.data,e.data)}):e,t},{})).map(function(t){return n[t]}),a=new Map,c=new Set,u=[],i.forEach(function(t){a.set(t.name,t)}),i.forEach(function(t){c.has(t.name)||function t(e){c.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!c.has(e)){var r=a.get(e);r&&t(r)}}),u.push(e)}(t)}),oU.reduce(function(t,e){return t.concat(u.filter(function(t){return t.phase===e}))},[]));return o.orderedModifiers=f.filter(function(t){return t.enabled}),o.orderedModifiers.forEach(function(t){var e=t.name,r=t.options,n=t.effect;if("function"==typeof n){var i=n({state:o,name:e,instance:l,options:void 0===r?{}:r});s.push(i||function(){})}}),l.update()},forceUpdate:function(){if(!a){var t=o.elements,e=t.reference,r=t.popper;if(oH(e,r)){o.rects={reference:(i=oL(r),s="fixed"===o.options.strategy,h=oy(i),f=oy(i)&&(u=ox((c=i.getBoundingClientRect()).width)/i.offsetWidth||1,d=ox(c.height)/i.offsetHeight||1,1!==u||1!==d),p=oE(i),g=oS(e,f,s),m={scrollLeft:0,scrollTop:0},v={x:0,y:0},(h||!h&&!s)&&(("body"!==oA(i)||oI(p))&&(m=(n=i)!==om(n)&&oy(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:oC(n)),oy(i)?(v=oS(i,!0),v.x+=i.clientLeft,v.y+=i.clientTop):p&&(v.x=oT(p))),{x:g.left+m.scrollLeft-v.x,y:g.top+m.scrollTop-v.y,width:g.width,height:g.height}),popper:oR(r)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(t){return o.modifiersData[t.name]=Object.assign({},t.data)});for(var n,i,s,h,c,u,d,f,p,g,m,v,y=0;y<o.orderedModifiers.length;y++){if(!0===o.reset){o.reset=!1,y=-1;continue}var b=o.orderedModifiers[y],O=b.fn,w=b.options,x=void 0===w?{}:w,k=b.name;"function"==typeof O&&(o=O({state:o,options:x,name:k,instance:l})||o)}}}},update:(n=function(){return new Promise(function(t){l.forceUpdate(),t(o)})},function(){return i||(i=new Promise(function(t){Promise.resolve().then(function(){i=void 0,t(n())})})),i}),destroy:function(){h(),a=!0}};if(!oH(t,e))return l;function h(){s.forEach(function(t){return t()}),s=[]}return l.setOptions(r).then(function(t){!a&&r.onFirstUpdate&&r.onFirstUpdate(t)}),l});(Qd=Ba||(Ba={})).Default="default",Qd.Outline="outline";/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let sl=r8(class extends r7{render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,n;if(void 0===this.st){for(let n in this.st=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(t=>""!==t))),e)!e[n]||(null===(r=this.nt)||void 0===r?void 0:r.has(n))||this.st.add(n);return this.render(e)}let i=t.element.classList;for(let t of this.st)t in e||(i.remove(t),this.st.delete(t));for(let t in e){let r=!!e[t];r===this.st.has(t)||(null===(n=this.nt)||void 0===n?void 0:n.has(t))||(r?(i.add(t),this.st.add(t)):(i.remove(t),this.st.delete(t)))}return r$}constructor(t){var e;if(super(t),1!==t.type||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}});var sh=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};class sc extends r5{firstUpdated(t){super.firstUpdated(),r3.init(this.shadowRoot),this.$this=$(this),this.addEventListener("keyup",t=>{"Enter"==t.key&&this.nextOrSubmit()})}nextOrSubmit(){if(0==this.$this.nextAll(sc.InputElementNames).length){let t=this.closest("juel-steps");if(t)t.next(),$.tabNext();else{let t=this.closest("form");t&&"requestSubmit"in t?t.requestSubmit():t&&t.submit()}}else $.tabNext()}focus(t){this.input.value?this.input.value.focus():super.focus(t)}onClick(t){r3.createRipple(t)}prependSlotChange(t){t.target.assignedNodes().length>0&&!this.hasPrepend&&(this.hasPrepend=!0,this.requestUpdate())}appendSlotChange(t){t.target.assignedNodes().length>0&&!this.hasAppend&&(this.hasAppend=!0,this.requestUpdate())}dropdownSlotChange(t){t.target.assignedNodes().length>0&&!this.hasDropdown&&(this.hasDropdown=!0,this.requestUpdate())}toggleDropdown(){var t=this.shadowRoot.querySelector('slot[name="dropdown"]');!1==this.dropdownShown?(this.dropdown=sa(this.shadowRoot.querySelector("#dropdown-toggle"),t,{placement:"bottom-end"}),t.style.display="initial",this.dropdownShown=!0):(this.dropdown.destroy(),t.style.display="none",this.dropdownShown=!1)}getInputClass(){let t=this.type;return this.renderStyle&&(t+=` ${this.renderStyle}`),t}getIconStyle(){let t={};return this.glyph&&(t["mask-image"]=`var(--icon-${this.glyph})`,t["mask-repeat"]="no-repeat",t["mask-position"]="center"),t}renderInput(){}render(){let t={"input-group":!0};return!this.parentElement||"renderStyle"in this.parentElement||(t[`${this.type}-border`]=!0),rL`${nd(!this.hideLabel,()=>rL`<label part="label" for="text"><slot>${this.label}</slot></label>`)}
        <div part="input-group" class="${sl(t)}"> 
            <div><slot name="prepend"></slot>
                ${this.renderInput()}
            ${nd(this.hasDropdown,()=>rL`<button id="dropdown-toggle" @click="${this.toggleDropdown}"></button>`)}
            <slot @slotchange="${this.dropdownSlotChange}" name="dropdown" style="display: none"></slot>
            <slot name="append"></slot></div>
        </div>`}constructor(){super(),this.type=Q5.Primary,this.renderStyle=Ba.Default,this.input=nx(),this.dropdownShown=!1,this.type=Q5.Primary,this.renderStyle=Ba.Default}}sc.InputElementNames="juel-text, juel-memo, juel-range, juel-tickbox, juel-radio",sh([ru()],sc.prototype,"value",void 0),sh([ru()],sc.prototype,"type",void 0),sh([ru({attribute:"render-style"})],sc.prototype,"renderStyle",void 0),sh([ru({type:Boolean})],sc.prototype,"addonActive",void 0),sh([ru()],sc.prototype,"label",void 0),sh([ru()],sc.prototype,"glyph",void 0),sh([ru({type:Boolean,attribute:"hide-label"})],sc.prototype,"hideLabel",void 0),sh([ru()],sc.prototype,"name",void 0),sh([ru({type:Boolean})],sc.prototype,"active",void 0),sh([ru({attribute:"label-position"})],sc.prototype,"labelPosition",void 0),sh([od],sc.prototype,"nextOrSubmit",null),sh([od],sc.prototype,"toggleDropdown",null),(Bl||(Bl={})).ButtonClicked="button-clicked";/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let su="important",sd=" !"+su,sf=r8(class extends r7{render(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return null==n?e:e+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${n};`},"")}update(t,[e]){let{style:r}=t.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(e)),this.render(e);for(let t of this.ft)null==e[t]&&(this.ft.delete(t),t.includes("-")?r.removeProperty(t):r[t]=null);for(let t in e){let n=e[t];if(null!=n){this.ft.add(t);let e="string"==typeof n&&n.endsWith(sd);t.includes("-")||e?r.setProperty(t,e?n.slice(0,-11):n,e?su:""):r[t]=n}}return r$}constructor(t){var e;if(super(t),1!==t.type||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}});var sp=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let sg=class extends sc{disconnectedCallback(){this.isRipple&&this.shadowRoot.firstElementChild}onClick(t){if(super.onClick(t),this.fire(Bl.ButtonClicked,t),!0==this.submit){let t=this.closest("form");t&&("requestSubmit"in t?t.requestSubmit():t.submit())}}renderInput(){let t=this.getIconStyle();t["margin-right"]="0.5rem";let e=this.getInputClass();return rL`<button type="${this.submit?"submit":"button"}" part="button" class="${e}"
                part="button" @click="${this.onClick}"><slot>${nd(this.glyph,()=>rL`<div class="icon sm" style="${sf(t)}"></div>`)}${this.label}</slot></button>`}constructor(){super(),this.submit=!1,this.hideLabel=!0}};sg.styles=e0(/*@__PURE__*/ew(og)),sp([ru({type:Boolean})],sg.prototype,"submit",void 0),sg=sp([eF("juel-button")],sg);var sm={};sm=".primary{background-color:var(--background-color,var(--primary));color:var(--color,white);border:1px solid var(--background-color,var(--primary))}.primary.alert{background-color:var(--background-color,#a3cfff);color:var(--color,var(--primary))!important}.primary .icon:not(.empty){background-color:var(--color,white)}.primary:hover{background-color:var(--hover-background-color,var(--color,#a3cfff));color:var(--hover-color,white);border-color:var(--hover-border-color,#a3cfff)}.primary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.primary:active{box-shadow:0 0 10px var(--background-color,var(--primary))}.primary.outline{background-color:initial;color:var(--background-color,var(--primary));border-color:var(--background-color,var(--primary))}.primary.outline:hover{background-color:var(--background-color,var(--primary));color:var(--color,white)}.primary.right-rounded{border-right:1px solid var(--background-color,var(--primary))}.primary.left-rounded{border-left:1px solid var(--background-color,var(--primary))}.primary-border{border:1px solid var(--background-color,#004a99)}.secondary{background-color:var(--background-color,var(--secondary));color:var(--color,white);border:1px solid var(--background-color,var(--secondary))}.secondary.alert{background-color:var(--background-color,#c2c6ca);color:var(--color,var(--secondary))!important}.secondary .icon:not(.empty){background-color:var(--color,white)}.secondary:hover{background-color:var(--hover-background-color,var(--color,#c2c6ca));color:var(--hover-color,white);border-color:var(--hover-border-color,#c2c6ca)}.secondary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.secondary:active{box-shadow:0 0 10px var(--background-color,var(--secondary))}.secondary.outline{background-color:initial;color:var(--background-color,var(--secondary));border-color:var(--background-color,var(--secondary))}.secondary.outline:hover{background-color:var(--background-color,var(--secondary));color:var(--color,white)}.secondary.right-rounded{border-right:1px solid var(--background-color,var(--secondary))}.secondary.left-rounded{border-left:1px solid var(--background-color,var(--secondary))}.secondary-border{border:1px solid var(--background-color,#3d4246)}.tertiary{background-color:var(--background-color,var(--tertiary));color:var(--color,white);border:1px solid var(--background-color,var(--tertiary))}.tertiary.alert{background-color:var(--background-color,#fff);color:var(--color,var(--tertiary))!important}.tertiary .icon:not(.empty){background-color:var(--color,white)}.tertiary:hover{background-color:var(--hover-background-color,var(--color,#fff));color:var(--hover-color,white);border-color:var(--hover-border-color,#fff)}.tertiary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.tertiary:active{box-shadow:0 0 10px var(--background-color,var(--tertiary))}.tertiary.outline{background-color:initial;color:var(--background-color,var(--tertiary));border-color:var(--background-color,var(--tertiary))}.tertiary.outline:hover{background-color:var(--background-color,var(--tertiary));color:var(--color,white)}.tertiary.right-rounded{border-right:1px solid var(--background-color,var(--tertiary))}.tertiary.left-rounded{border-left:1px solid var(--background-color,var(--tertiary))}.tertiary-border{border:1px solid var(--background-color,#f7270f)}.light{background-color:var(--background-color,var(--light));color:var(--color,black);border:1px solid var(--background-color,var(--light))}.light.alert{background-color:var(--background-color,#99a7b6);color:var(--color,var(--light))!important}.light .icon:not(.empty){background-color:var(--color,black)}.light:hover{background-color:var(--hover-background-color,var(--color,#99a7b6));color:var(--hover-color,black);border-color:var(--hover-border-color,#99a7b6)}.light:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,black))}.light:active{box-shadow:0 0 10px var(--background-color,var(--light))}.light.outline{background-color:initial;color:var(--background-color,var(--light));border-color:var(--background-color,var(--light))}.light.outline:hover{background-color:var(--background-color,var(--light));color:var(--color,black)}.light.right-rounded{border-right:1px solid var(--background-color,var(--light))}.light.left-rounded{border-left:1px solid var(--background-color,var(--light))}.light-border{border:1px solid var(--background-color,#bcc6cf)}.dark{background-color:var(--background-color,var(--dark));color:var(--color,white);border:1px solid var(--background-color,var(--dark))}.dark.alert{background-color:var(--background-color,#808c98);color:var(--color,var(--dark))!important}.dark .icon:not(.empty){background-color:var(--color,white)}.dark:hover{background-color:var(--hover-background-color,var(--color,#808c98));color:var(--hover-color,white);border-color:var(--hover-border-color,#808c98)}.dark:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.dark:active{box-shadow:0 0 10px var(--background-color,var(--dark))}.dark.outline{background-color:initial;color:var(--background-color,var(--dark));border-color:var(--background-color,var(--dark))}.dark.outline:hover{background-color:var(--background-color,var(--dark));color:var(--color,white)}.dark.right-rounded{border-right:1px solid var(--background-color,var(--dark))}.dark.left-rounded{border-left:1px solid var(--background-color,var(--dark))}.dark-border{border:1px solid var(--background-color,#060708)}.success{background-color:var(--background-color,var(--success));color:var(--color,white);border:1px solid var(--background-color,var(--success))}.success.alert{background-color:var(--background-color,#8ee4a2);color:var(--color,var(--success))!important}.success .icon:not(.empty){background-color:var(--color,white)}.success:hover{background-color:var(--hover-background-color,var(--color,#8ee4a2));color:var(--hover-color,white);border-color:var(--hover-border-color,#8ee4a2)}.success:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.success:active{box-shadow:0 0 10px var(--background-color,var(--success))}.success.outline{background-color:initial;color:var(--background-color,var(--success));border-color:var(--background-color,var(--success))}.success.outline:hover{background-color:var(--background-color,var(--success));color:var(--color,white)}.success.right-rounded{border-right:1px solid var(--background-color,var(--success))}.success.left-rounded{border-left:1px solid var(--background-color,var(--success))}.success-border{border:1px solid var(--background-color,#145523)}.info{background-color:var(--background-color,var(--info));color:var(--color,white);border:1px solid var(--background-color,var(--info))}.info.alert{background-color:var(--background-color,#83e1ef);color:var(--color,var(--info))!important}.info .icon:not(.empty){background-color:var(--color,white)}.info:hover{background-color:var(--hover-background-color,var(--color,#83e1ef));color:var(--hover-color,white);border-color:var(--hover-border-color,#83e1ef)}.info:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.info:active{box-shadow:0 0 10px var(--background-color,var(--info))}.info.outline{background-color:initial;color:var(--background-color,var(--info));border-color:var(--background-color,var(--info))}.info.outline:hover{background-color:var(--background-color,var(--info));color:var(--color,white)}.info.right-rounded{border-right:1px solid var(--background-color,var(--info))}.info.left-rounded{border-left:1px solid var(--background-color,var(--info))}.info-border{border:1px solid var(--background-color,#0c525d)}.warning{background-color:var(--background-color,var(--warning));color:var(--color,black);border:1px solid var(--background-color,var(--warning))}.warning.alert{background-color:var(--background-color,#634a00);color:var(--color,var(--warning))!important}.warning .icon:not(.empty){background-color:var(--color,black)}.warning:hover{background-color:var(--hover-background-color,var(--color,#634a00));color:var(--hover-color,black);border-color:var(--hover-border-color,#634a00)}.warning:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,black))}.warning:active{box-shadow:0 0 10px var(--background-color,var(--warning))}.warning.outline{background-color:initial;color:var(--background-color,var(--warning));border-color:var(--background-color,var(--warning))}.warning.outline:hover{background-color:var(--background-color,var(--warning));color:var(--color,black)}.warning.right-rounded{border-right:1px solid var(--background-color,var(--warning))}.warning.left-rounded{border-left:1px solid var(--background-color,var(--warning))}.warning-border{border:1px solid var(--background-color,#a07800)}.danger{background-color:var(--background-color,var(--danger));color:var(--color,white);border:1px solid var(--background-color,var(--danger))}.danger.alert{background-color:var(--background-color,#f4c0c5);color:var(--color,var(--danger))!important}.danger .icon:not(.empty){background-color:var(--color,white)}.danger:hover{background-color:var(--hover-background-color,var(--color,#f4c0c5));color:var(--hover-color,white);border-color:var(--hover-border-color,#f4c0c5)}.danger:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.danger:active{box-shadow:0 0 10px var(--background-color,var(--danger))}.danger.outline{background-color:initial;color:var(--background-color,var(--danger));border-color:var(--background-color,var(--danger))}.danger.outline:hover{background-color:var(--background-color,var(--danger));color:var(--color,white)}.danger.right-rounded{border-right:1px solid var(--background-color,var(--danger))}.danger.left-rounded{border-left:1px solid var(--background-color,var(--danger))}.danger-border{border:1px solid var(--background-color,#921925)}.icon{display:inline-block;-webkit-mask-position:50%;mask-position:50%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.icon.lg{width:48px;height:48px}.icon.sm{width:16px;height:16px}.icon.md{width:32px;height:32px}:host{display:inline-block}button{cursor:pointer;border:none;border-radius:50%;outline:none;justify-content:center;align-items:center;width:48px;height:48px;transition:background-color .3s;display:flex}button:hover{background-color:var(--hover-background-color,#005a9e)}button:active{background-color:var(--active-background-color,#003a75)}button:focus{box-shadow:0 0 0 3px var(--focus-shadow-color,rgba(0,120,212,.5))}.icon{font-size:var(--font-size,24px)}";var sv=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let sy=class extends sc{connectedCallback(){var t,e;super.connectedCallback(),this.isIcon=(t=this.icon,!(RegExp("^(?:\\p{Emoji_Presentation}|\\p{Emoji}\\uFE0F|\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?)$","u").test(t)||(e=this.icon,/^data:([a-z]+\/[a-z0-9\-\+\.]+)?(;[a-z\-]+\=[a-z0-9\-]+)*(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*?)$/i.test(e))))}render(){let t=this.isIcon?`mask-image: var(--icon-${this.icon});`:"",e=this.getInputClass();return!0==this.isIcon&&(e="icon "+e),rL`
      <button @click=${this._handleClick} style="${t}" class="${e}" aria-label="${this.label}">
      ${nd(!1==this.isIcon,()=>rL`<span class="icon empty">${this.icon}</span>`)}
      </button>
    `}_handleClick(t){super.onClick(t),this.dispatchEvent(new Event("icon-button-click"))}constructor(){super(...arguments),this.icon="",this.label="Button"}};sy.styles=e0(/*@__PURE__*/ew(sm)),sv([ru({type:String})],sy.prototype,"icon",void 0),sv([ru({type:String})],sy.prototype,"label",void 0),sy=sv([eF("juel-icon-button")],sy);var sb={};function sO(t){let e=parseFloat(t);if(!isNaN(e))return e;if("true"==t)return!0;if("false"==t)return!1;{if(!t.includes(";"))return t.trim();let e=t.split(";"),r={};for(let t of e){let e=t.split(":");r[e[0]]=e[1]}return r}}function sw(t=" "){return e=>e.includes(t)?e.split(t).map(t=>sO(t)):[sO(e)]}sb=':host{display:inline-block}.switch{width:60px;height:34px;display:block;position:relative}.custom{display:flex}#trigger{z-index:101;width:100%;height:100%;position:absolute;top:0}.slider{cursor:pointer;background-color:#ccc;transition:all .4s;position:absolute;top:0;bottom:0;left:0;right:0}.slider:before{content:"";background-color:#fff;width:26px;height:26px;transition:all .4s;position:absolute;bottom:4px;left:4px}label.checked .slider{background-color:#2196f3}label:focus .slider{box-shadow:0 0 1px #2196f3}label.checked .slider:before{transform:translate(26px)}.slider.rounded{border-radius:34px}.slider.rounded:before{border-radius:50%}',(Bh||(Bh={})).Toggled="toggled";let sx=r8(class extends r7{render(t,e){}update(t,e){let r=t.element,n=r,i={};if(e[0]instanceof HTMLElement){var o;n=e[0],i=null!==(o=e[1])&&void 0!==o?o:{}}else e[0]&&(i=e[0]);let{prefix:s,keys:a}=i,l=getComputedStyle(r),h=s?`--${s}`:"--",c=!s&&!a;for(let t=0;t<l.length;t++){let e=l[t];if(c||s&&e.startsWith(h)||a&&a.includes(e)){let t=l.getPropertyValue(e);n.style.setProperty(e,t)}}}constructor(t){if(super(t),6!==t.type)throw Error("forwardCustomProps can only be used on elements")}});var s_=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let sk=class extends sc{get currentState(){return this.states[this.index]}toggle(){this.checked=!this.checked,this.index=(this.index+1)%this.states.length;let t=this.states[this.index];this.classList.remove(...this.states),this.classList.add(t);let e={value:2==this.states.length?t==this.states[1]:t};r6(this,Bh.Toggled,e)}reset(){this.checked=!1,this.shadowRoot.getElementById("checkbox").checked=!1}check(t,e){e.checked&&(null==e.type&&null==this.type||e.type==this.type)&&e.toggle()}singularCheck(){!1==this.contained?$(this).siblings("juel-toggle").each(this.check.bind(this)):$(this).parentsUntil(this.container).parent().find("juel-toggle").not(this).each(this.check.bind(this))}checkChange(t){let e=t.target;this.checked=e.checked,this.checked?(this.classList.remove("unchecked"),this.classList.add("checked")):(this.classList.remove("checked"),this.classList.add("unchecked")),this.checked}toggleClicked(t){t.stopPropagation(),super.onClick(t),this.toggle(),!0==this.singular&&this.singularCheck()}renderChecked(t,e){let r={};return e&&(r["mask-image"]=`var(--icon-${e})`,r["mask-repeat"]="no-repeat",r["mask-position"]=t?"left":"center"),rL`<slot name="${this.checked?"checked":"unchecked"}">${nd(!t&&e,()=>rL`<juel-icon-button ${this.glyph?sx({keys:this.glyph.split("|").map(t=>`--icon-${t}`)}):""} icon="${e}"></juel-icon-button>`,()=>nd(t||e,()=>rL`<juel-button ${this.glyph?sx({keys:this.glyph.split("|").map(t=>`--icon-${t}`)}):""} type="${this.currentState}" label="${t}" glyph="${e}" id="trigger">${t}</juel-button`,()=>rL`<span class="${this.rounded?"slider rounded":"slider"}"></span>`))}</slot>`}render(){let t,e;if(this.label&&this.label.includes("|")){let e=this.label.split("|");this.index>=0&&this.index<e.length&&(t=e[this.index])}if(this.glyph&&this.glyph.includes("|")){let t=this.glyph.split("|");this.index>=0&&this.index<t.length&&(e=t[this.index])}let r={};return this.checked?r.checked=!0:r.unchecked=!0,this.custom?r.custom=!0:t||e||(r.switch=!0),rL`<label class="${sl(r)}" @click="${this.toggleClicked}">
      ${nd(this.checked,()=>this.renderChecked(t,e),()=>this.renderChecked(t,e))}
    </label>`}constructor(){super(...arguments),this.defaultWidth=60,this.defaultHeight=34,this.rounded=!1,this.singular=!1,this.contained=!1,this.container=".container",this.content=null,this.custom=!1,this.width=null,this.height=null,this.checked=!1,this.states=["secondary","primary"],this.index=0}};sk.styles=e0(/*@__PURE__*/ew(sb)),s_([ru({type:Boolean})],sk.prototype,"rounded",void 0),s_([ru({type:Boolean})],sk.prototype,"singular",void 0),s_([ru({type:Boolean})],sk.prototype,"contained",void 0),s_([ru({type:String})],sk.prototype,"container",void 0),s_([ru({type:String})],sk.prototype,"content",void 0),s_([ru({type:Boolean})],sk.prototype,"custom",void 0),s_([ru({type:Number})],sk.prototype,"width",void 0),s_([ru({type:Number})],sk.prototype,"height",void 0),s_([ru({type:Boolean})],sk.prototype,"checked",void 0),s_([ru({type:String,converter:sw("|")})],sk.prototype,"states",void 0),s_([rd()],sk.prototype,"index",void 0),sk=s_([eF("juel-toggle")],sk);var sS=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};(Qf=Bc||(Bc={})).None="none",Qf.Single="single",Qf.Multiple="multiple",Qf.Check="check";let sC=class extends r0{handleCellClick(t,e,r){this.dispatchEvent(new CustomEvent("cell-clicked",{detail:{row:t,column:e,value:t[e]},bubbles:!0,composed:!0}))}handleRowClick(t,e,r){this.selection===Bc.Single?(this.selectedRows.clear(),this.selectedRows.add(e)):this.selection===Bc.Multiple&&(this.selectedRows.has(e)?this.selectedRows.delete(e):this.selectedRows.add(e)),this.dispatchEvent(new CustomEvent("row-selected",{detail:{selectedRows:Array.from(this.selectedRows)},bubbles:!0,composed:!0})),this.requestUpdate()}handleCheckboxChange(t,e){e.target.checked?this.selectedRows.add(t):this.selectedRows.delete(t),this.dispatchEvent(new CustomEvent("row-selected",{detail:{selectedRows:Array.from(this.selectedRows)},bubbles:!0,composed:!0})),this.requestUpdate()}render(){let t=this.columns&&this.columns.length>0?this.columns.map(t=>t.field||""):this.data.length>0?Object.keys(this.data[0]):[];return rL`
      <table>
        <thead>
          <tr>
            ${this.selection===Bc.Check?rL`<th></th>`:""}
            ${t.map(t=>rL`<th>${t}</th>`)}
          </tr>
        </thead>
        <tbody>
          ${this.data.map((e,r)=>rL`
            <tr class=${this.selectedRows.has(r)?"selected":""}>
              ${this.selection===Bc.Check?rL`
                <td>
                  <input 
                    type="checkbox" 
                    .checked=${this.selectedRows.has(r)} 
                    @change=${t=>this.handleCheckboxChange(r,t)}
                  />
                </td>
              `:""}
              ${t.map(t=>rL`
                <td 
                  @click=${n=>{this.selection!==Bc.Check&&this.selection!==Bc.None&&this.handleRowClick(e,r,n),this.handleCellClick(e,t,n)}}
                >
                  ${e[t]}
                </td>
              `)}
            </tr>
          `)}
        </tbody>
      </table>
      <slot name="columns" hidden></slot>
    `}constructor(){super(...arguments),this.data=[],this.selection=Bc.None,this.selectedRows=new Set}};sC.styles=e1`
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
    }
    th {
      background-color: #f4f4f4;
      text-align: left;
    }
    tr:hover {
      background-color: var(--hover-color, #f9f9f9);
      cursor: pointer;
    }
    tr.selected {
      background-color: var(--selected-color, #d3e4ff);
    }
  `,sS([ru({type:Array})],sC.prototype,"data",void 0),sS([ru({type:String})],sC.prototype,"selection",void 0),sS([rp({slot:"columns"})],sC.prototype,"columns",void 0),sC=sS([eF("juel-table")],sC);let sA=class extends r0{render(){return rL`<slot></slot>`}constructor(){super(...arguments),this.field="",this.header=""}};sS([ru({type:String})],sA.prototype,"field",void 0),sS([ru({type:String})],sA.prototype,"header",void 0),sA=sS([eF("juel-column")],sA);var sE=t=>!!(t&&t.Window)&&t instanceof t.Window;function sT(t){a=t;let e=t.document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),l=t}function sP(t){return sE(t)?t:(t.ownerDocument||t).defaultView||l.window}"undefined"!=typeof window&&window&&sT(window);let sI=t=>!!t&&"object"==typeof t,sR=t=>"function"==typeof t;var sM={window:t=>t===l||sE(t),docFrag:t=>sI(t)&&11===t.nodeType,object:sI,func:sR,number:t=>"number"==typeof t,bool:t=>"boolean"==typeof t,string:t=>"string"==typeof t,element:t=>{if(!t||"object"!=typeof t)return!1;let e=sP(t)||l;return/object|function/.test(typeof Element)?t instanceof Element||t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName},plainObject:t=>sI(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString()),array:t=>sI(t)&&void 0!==t.length&&sR(t.splice)};function sN(t){let{interaction:e}=t;if("drag"!==e.prepared.name)return;let r=e.prepared.axis;"x"===r?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===r&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}function sD(t){let{iEvent:e,interaction:r}=t;if("drag"!==r.prepared.name)return;let n=r.prepared.axis;if("x"===n||"y"===n){let t="x"===n?"y":"x";e.page[t]=r.coords.start.page[t],e.client[t]=r.coords.start.client[t],e.delta[t]=0}}let sL={id:"actions/drag",install:function(t){let{actions:e,Interactable:r,defaults:n}=t;r.prototype.draggable=sL.draggable,e.map.drag=sL,e.methodDict.drag="draggable",n.actions.drag=sL.defaults},listeners:{"interactions:before-action-move":sN,"interactions:action-resume":sN,"interactions:action-move":sD,"auto-start:check":t=>{let{interaction:e,interactable:r,buttons:n}=t,i=r.options.drag;if(!(!(i&&i.enabled)||e.pointerIsDown&&/mouse|pointer/.test(e.pointerType)&&(n&r.options.drag.mouseButtons)==0))return t.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(t){return sM.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):sM.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:sN,move:sD,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:()=>"move",filterEventType:t=>0===t.search("drag")},s$={init:function(t){s$.document=t.document,s$.DocumentFragment=t.DocumentFragment||sq,s$.SVGElement=t.SVGElement||sq,s$.SVGSVGElement=t.SVGSVGElement||sq,s$.SVGElementInstance=t.SVGElementInstance||sq,s$.Element=t.Element||sq,s$.HTMLElement=t.HTMLElement||s$.Element,s$.Event=t.Event,s$.Touch=t.Touch||sq,s$.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function sq(){}let sQ={init:function(t){let e=s$.Element,r=t.navigator||{};sQ.supportsTouch="ontouchstart"in t||sM.func(t.DocumentTouch)&&s$.document instanceof t.DocumentTouch,sQ.supportsPointerEvent=!1!==r.pointerEnabled&&!!s$.PointerEvent,sQ.isIOS=/iP(hone|od|ad)/.test(r.platform),sQ.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),sQ.isIe9=/MSIE 9/.test(r.userAgent),sQ.isOperaMobile="Opera"===r.appName&&sQ.supportsTouch&&/Presto/.test(r.userAgent),sQ.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",sQ.pEventTypes=sQ.supportsPointerEvent?s$.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,sQ.wheelEvent=s$.document&&"onmousewheel"in s$.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function sB(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function sj(t,e){for(;sM.element(t);){if(sZ(t,e))return t;t=sz(t)}return null}function sz(t){let e=t.parentNode;if(sM.docFrag(e))for(;(e=e.host)&&sM.docFrag(e);)continue;return e}function sZ(t,e){return l!==a&&(e=e.replace(/\/deep\//g," ")),t[sQ.prefixedMatchesSelector](e)}let sF=t=>t.parentNode||t.host;function sX(t,e){let r;let n=[],i=t;for(;(r=sF(i))&&i!==e&&r!==i.ownerDocument;)n.unshift(i),i=r;return n}function sV(t,e,r){for(;sM.element(t);){if(sZ(t,e))return!0;if((t=sz(t))===r)return sZ(t,e)}return!1}function sU(t){return t.correspondingUseElement||t}function sW(t){let e=t instanceof s$.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function sH(t){let e=sW(t);if(!sQ.isIOS7&&e){var r;let n={x:(r=(r=sP(t))||l).scrollX||r.document.documentElement.scrollLeft,y:r.scrollY||r.document.documentElement.scrollTop};e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e}function sY(t){let e=[];for(;t;)e.push(t),t=sz(t);return e}function sG(t){return!!sM.string(t)&&(s$.document.querySelector(t),!0)}function sK(t,e){for(let r in e)t[r]=e[r];return t}function sJ(t,e,r){return"parent"===t?sz(r):"self"===t?e.getRect(r):sj(r,t)}function s0(t,e,r,n){let i=t;return sM.string(i)?i=sJ(i,e,r):sM.func(i)&&(i=i(...n)),sM.element(i)&&(i=sH(i)),i}function s1(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function s2(t){return t&&!("x"in t&&"y"in t)&&((t=sK({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function s3(t,e,r){t.left&&(e.left+=r.x),t.right&&(e.right+=r.x),t.top&&(e.top+=r.y),t.bottom&&(e.bottom+=r.y),e.width=e.right-e.left,e.height=e.bottom-e.top}function s4(t,e,r){let n=r&&t.options[r];return s1(s0(n&&n.origin||t.options.origin,t,e,[t&&e]))||{x:0,y:0}}function s5(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t=>!0,n=arguments.length>3?arguments[3]:void 0;if(n=n||{},sM.string(t)&&-1!==t.search(" ")&&(t=s6(t)),sM.array(t))return t.forEach(t=>s5(t,e,r,n)),n;if(sM.object(t)&&(e=t,t=""),sM.func(e)&&r(t))n[t]=n[t]||[],n[t].push(e);else if(sM.array(e))for(let i of e)s5(t,i,r,n);else if(sM.object(e))for(let i in e)s5(s6(i).map(e=>`${t}${e}`),e[i],r,n);return n}function s6(t){return t.trim().split(/ +/)}var s8=(t,e)=>Math.sqrt(t*t+e*e);let s7=["webkit","moz"];function s9(t,e){for(let r in t.__set||(t.__set={}),e)s7.some(t=>0===r.indexOf(t))||"function"==typeof t[r]||"__set"===r||Object.defineProperty(t,r,{get:()=>r in t.__set?t.__set[r]:t.__set[r]=e[r],set(e){t.__set[r]=e},configurable:!0});return t}function at(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function ae(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function ar(t){return t instanceof s$.Event||t instanceof s$.Touch}function an(t,e,r){return t=t||"page",(r=r||{}).x=e[t+"X"],r.y=e[t+"Y"],r}function ai(t,e){return e=e||{x:0,y:0},sQ.isOperaMobile&&ar(t)?(an("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):an("page",t,e),e}function ao(t){return sM.number(t.pointerId)?t.pointerId:t.identifier}function as(t){let e=[];return sM.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function aa(t){let e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(let r of t)for(let t in e)e[t]+=r[t];for(let r in e)e[r]/=t.length;return e}function al(t){if(!t.length)return null;let e=as(t),r=Math.min(e[0].pageX,e[1].pageX),n=Math.min(e[0].pageY,e[1].pageY),i=Math.max(e[0].pageX,e[1].pageX),o=Math.max(e[0].pageY,e[1].pageY);return{x:r,y:n,left:r,top:n,right:i,bottom:o,width:i-r,height:o-n}}function ah(t,e){let r=e+"X",n=e+"Y",i=as(t);return s8(i[0][r]-i[1][r],i[0][n]-i[1][n])}function ac(t,e){let r=e+"X",n=e+"Y",i=as(t),o=i[1][r]-i[0][r];return 180*Math.atan2(i[1][n]-i[0][n],o)/Math.PI}function au(t){return sM.string(t.pointerType)?t.pointerType:sM.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof s$.Touch?"touch":"mouse"}function ad(t){let e=sM.func(t.composedPath)?t.composedPath():t.path;return[sU(e?e[0]:t.target),sU(t.currentTarget)]}function af(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}class ap{preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}constructor(t){this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}}Object.defineProperty(ap.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});let ag=(t,e)=>t.splice(t.indexOf(e),1),am=(t,e)=>{for(let r of e)t.push(r);return t},av=t=>am([],t),ay=(t,e)=>{for(let r=0;r<t.length;r++)if(e(t[r],r,t))return r;return -1},ab=(t,e)=>t[ay(t,e)];class aO extends ap{reject(){let{dropState:t}=this._interaction;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target){if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){let e=ay(t.activeDrops,t=>{let{dropzone:e,element:r}=t;return e===this.dropzone&&r===this.target});t.activeDrops.splice(e,1);let r=new aO(t,this.dragEvent,"dropdeactivate");r.dropzone=this.dropzone,r.target=this.target,this.dropzone.fire(r)}else this.dropzone.fire(new aO(t,this.dragEvent,"dragleave"))}}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}constructor(t,e,r){super(e._interaction),this.dropzone=void 0,this.dragEvent=void 0,this.relatedTarget=void 0,this.draggable=void 0,this.propagationStopped=!1,this.immediatePropagationStopped=!1;let{element:n,dropzone:i}="dragleave"===r?t.prev:t.cur;this.type=r,this.target=n,this.currentTarget=n,this.dropzone=i,this.dragEvent=e,this.relatedTarget=e.target,this.draggable=e.interactable,this.timeStamp=e.timeStamp}}function aw(t,e){for(let{dropzone:r,element:n}of t.slice())e.dropzone=r,e.target=n,r.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}function ax(t,e){let r=function(t,e){let{interactables:r}=t,n=[];for(let t of r.list){if(!t.options.drop.enabled)continue;let r=t.options.drop.accept;if(!(sM.element(r)&&r!==e||sM.string(r)&&!sZ(e,r)||sM.func(r)&&!r({dropzone:t,draggableElement:e})))for(let r of t.getAllElements())r!==e&&n.push({dropzone:t,element:r,rect:t.getRect(r)})}return n}(t,e);for(let t of r)t.rect=t.dropzone.getRect(t.element);return r}function a_(t,e,r){let{dropState:n,interactable:i,element:o}=t,s=[];for(let{dropzone:t,element:a,rect:l}of n.activeDrops){let n=t.dropCheck(e,r,i,o,a,l);s.push(n?a:null)}let a=function(t){let e,r=[];for(let n=0;n<t.length;n++){let i;let o=t[n],s=t[e];if(!o||n===e)continue;if(!s){e=n;continue}let a=sF(o),l=sF(s);if(a===o.ownerDocument)continue;if(l===o.ownerDocument){e=n;continue}if(a===l){(parseInt(sP(o).getComputedStyle(o).zIndex,10)||0)>=(parseInt(sP(s).getComputedStyle(s).zIndex,10)||0)&&(e=n);continue}if(r=r.length?r:sX(s),s instanceof s$.HTMLElement&&o instanceof s$.SVGElement&&!(o instanceof s$.SVGSVGElement)){if(o===l)continue;i=o.ownerSVGElement}else i=o;let h=sX(i,s.ownerDocument),c=0;for(;h[c]&&h[c]===r[c];)c++;let u=[h[c-1],h[c],r[c]];if(u[0]){let t=u[0].lastChild;for(;t;){if(t===u[1]){e=n,r=h;break}if(t===u[2])break;t=t.previousSibling}}}return e}(s);return n.activeDrops[a]||null}function ak(t,e,r){let n=t.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===r.type&&(i.activate=new aO(n,r,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===r.type&&(i.deactivate=new aO(n,r,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),n.rejected||(n.cur.element!==n.prev.element&&(n.prev.dropzone&&(i.leave=new aO(n,r,"dragleave"),r.dragLeave=i.leave.target=n.prev.element,r.prevDropzone=i.leave.dropzone=n.prev.dropzone),n.cur.dropzone&&(i.enter=new aO(n,r,"dragenter"),r.dragEnter=n.cur.element,r.dropzone=n.cur.dropzone)),"dragend"===r.type&&n.cur.dropzone&&(i.drop=new aO(n,r,"drop"),r.dropzone=n.cur.dropzone,r.relatedTarget=n.cur.element),"dragmove"===r.type&&n.cur.dropzone&&(i.move=new aO(n,r,"dropmove"),r.dropzone=n.cur.dropzone)),i}function aS(t,e){let r=t.dropState,{activeDrops:n,cur:i,prev:o}=r;e.leave&&o.dropzone.fire(e.leave),e.enter&&i.dropzone.fire(e.enter),e.move&&i.dropzone.fire(e.move),e.drop&&i.dropzone.fire(e.drop),e.deactivate&&aw(n,e.deactivate),r.prev.dropzone=i.dropzone,r.prev.element=i.element}function aC(t,e){let{interaction:r,iEvent:n,event:i}=t;if("dragmove"!==n.type&&"dragend"!==n.type)return;let o=r.dropState;e.dynamicDrop&&(o.activeDrops=ax(e,r.element));let s=a_(r,n,i);o.rejected=o.rejected&&!!s&&s.dropzone===o.cur.dropzone&&s.element===o.cur.element,o.cur.dropzone=s&&s.dropzone,o.cur.element=s&&s.element,o.events=ak(r,i,n)}let aA={id:"actions/drop",install:function(t){let{actions:e,interactStatic:r,Interactable:n,defaults:i}=t;t.usePlugin(sL),n.prototype.dropzone=function(t){return function(t,e){if(sM.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){let r=s5(e.listeners),n=Object.keys(r).reduce((t,e)=>(t[/^(enter|leave)/.test(e)?`drag${e}`:/^(activate|deactivate|move)/.test(e)?`drop${e}`:e]=r[e],t),{}),i=t.options.drop.listeners;i&&t.off(i),t.on(n),t.options.drop.listeners=n}return sM.func(e.ondrop)&&t.on("drop",e.ondrop),sM.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),sM.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),sM.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),sM.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),sM.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:sM.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return sM.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,t)},n.prototype.dropCheck=function(t,e,r,n,i,o){return function(t,e,r,n,i,o,s){let a=!1;if(!(s=s||t.getRect(o)))return!!t.options.drop.checker&&t.options.drop.checker(e,r,a,t,o,n,i);let l=t.options.drop.overlap;if("pointer"===l){let t=s4(n,i,"drag"),r=ai(e);r.x+=t.x,r.y+=t.y;let o=r.x>s.left&&r.x<s.right,l=r.y>s.top&&r.y<s.bottom;a=o&&l}let h=n.getRect(i);if(h&&"center"===l){let t=h.left+h.width/2,e=h.top+h.height/2;a=t>=s.left&&t<=s.right&&e>=s.top&&e<=s.bottom}return h&&sM.number(l)&&(a=Math.max(0,Math.min(s.right,h.right)-Math.max(s.left,h.left))*Math.max(0,Math.min(s.bottom,h.bottom)-Math.max(s.top,h.top))/(h.width*h.height)>=l),t.options.drop.checker&&(a=t.options.drop.checker(e,r,a,t,o,n,i)),a}(this,t,e,r,n,i,o)},r.dynamicDrop=function(e){return sM.bool(e)?(t.dynamicDrop=e,r):t.dynamicDrop},sK(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,i.actions.drop=aA.defaults},listeners:{"interactions:before-action-start":t=>{let{interaction:e}=t;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":(t,e)=>{let{interaction:r,event:n,iEvent:i}=t;if("drag"!==r.prepared.name)return;let o=r.dropState;o.activeDrops=[],o.events={},o.activeDrops=ax(e,r.element),o.events=ak(r,n,i),o.events.activate&&(aw(o.activeDrops,o.events.activate),e.fire("actions/drop:start",{interaction:r,dragEvent:i}))},"interactions:action-move":aC,"interactions:after-action-move":(t,e)=>{let{interaction:r,iEvent:n}=t;if("drag"!==r.prepared.name)return;let i=r.dropState;aS(r,i.events),e.fire("actions/drop:move",{interaction:r,dragEvent:n}),i.events={}},"interactions:action-end":(t,e)=>{if("drag"!==t.interaction.prepared.name)return;let{interaction:r,iEvent:n}=t;aC(t,e),aS(r,r.dropState.events),e.fire("actions/drop:end",{interaction:r,dragEvent:n})},"interactions:stop":t=>{let{interaction:e}=t;if("drag"!==e.prepared.name)return;let{dropState:r}=e;r&&(r.activeDrops=null,r.events=null,r.cur.dropzone=null,r.cur.element=null,r.prev.dropzone=null,r.prev.element=null,r.rejected=!1)}},getActiveDrops:ax,getDrop:a_,getDropEvents:ak,fireDropEvents:aS,filterEventType:t=>0===t.search("drag")||0===t.search("drop"),defaults:{enabled:!1,accept:null,overlap:"pointer"}};function aE(t){let{interaction:e,iEvent:r,phase:n}=t;if("gesture"!==e.prepared.name)return;let i=e.pointers.map(t=>t.pointer),o=e.interactable.options.deltaSource;if(r.touches=[i[0],i[1]],"start"===n)r.distance=ah(i,o),r.box=al(i),r.scale=1,r.ds=0,r.angle=ac(i,o),r.da=0,e.gesture.startDistance=r.distance,e.gesture.startAngle=r.angle;else if("end"===n||e.pointers.length<2){let t=e.prevEvent;r.distance=t.distance,r.box=t.box,r.scale=t.scale,r.ds=0,r.angle=t.angle,r.da=0}else r.distance=ah(i,o),r.box=al(i),r.scale=r.distance/e.gesture.startDistance,r.angle=ac(i,o),r.ds=r.scale-e.gesture.scale,r.da=r.angle-e.gesture.angle;e.gesture.distance=r.distance,e.gesture.angle=r.angle,sM.number(r.scale)&&r.scale!==1/0&&!isNaN(r.scale)&&(e.gesture.scale=r.scale)}let aT={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){let{actions:e,Interactable:r,defaults:n}=t;r.prototype.gesturable=function(t){return sM.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):sM.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},e.map.gesture=aT,e.methodDict.gesture="gesturable",n.actions.gesture=aT.defaults},listeners:{"interactions:action-start":aE,"interactions:action-move":aE,"interactions:action-end":aE,"interactions:new":t=>{let{interaction:e}=t;e.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":t=>{if(t.interaction.pointers.length<2)return;let e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}},defaults:{},getCursor:()=>"",filterEventType:t=>0===t.search("gesture")};function aP(t){let{iEvent:e,interaction:r}=t;"resize"===r.prepared.name&&r.resizeAxes&&(r.interactable.options.resize.square?("y"===r.resizeAxes?e.delta.x=e.delta.y:e.delta.y=e.delta.x,e.axes="xy"):(e.axes=r.resizeAxes,"x"===r.resizeAxes?e.delta.y=0:"y"===r.resizeAxes&&(e.delta.x=0)))}let aI={id:"actions/resize",before:["actions/drag"],install:function(t){let{actions:e,browser:r,Interactable:n,defaults:i}=t;aI.cursors=r.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},aI.defaultMargin=r.supportsTouch||r.supportsPointerEvent?20:10,n.prototype.resizable=function(e){return sM.object(e)?(this.options.resize.enabled=!1!==e.enabled,this.setPerAction("resize",e),this.setOnEvents("resize",e),sM.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=t.defaults.actions.resize.axis),sM.bool(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:sM.bool(e.square)&&(this.options.resize.square=e.square),this):sM.bool(e)?(this.options.resize.enabled=e,this):this.options.resize},e.map.resize=aI,e.methodDict.resize="resizable",i.actions.resize=aI.defaults},listeners:{"interactions:new":t=>{let{interaction:e}=t;e.resizeAxes="xy"},"interactions:action-start":t=>{!function(t){let{iEvent:e,interaction:r}=t;if("resize"!==r.prepared.name||!r.prepared.edges)return;let n=r.rect;r._rects={start:sK({},n),corrected:sK({},n),previous:sK({},n),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.edges=r.prepared.edges,e.rect=r._rects.corrected,e.deltaRect=r._rects.delta}(t),aP(t)},"interactions:action-move":t=>{!function(t){let{iEvent:e,interaction:r}=t;if("resize"!==r.prepared.name||!r.prepared.edges)return;let n=r.interactable.options.resize.invert,i=r.rect,{start:o,corrected:s,delta:a,previous:l}=r._rects;if(sK(l,s),"reposition"===n||"negate"===n){if(sK(s,i),"reposition"===n){if(s.top>s.bottom){let t=s.top;s.top=s.bottom,s.bottom=t}if(s.left>s.right){let t=s.left;s.left=s.right,s.right=t}}}else s.top=Math.min(i.top,o.bottom),s.bottom=Math.max(i.bottom,o.top),s.left=Math.min(i.left,o.right),s.right=Math.max(i.right,o.left);for(let t in s.width=s.right-s.left,s.height=s.bottom-s.top,s)a[t]=s[t]-l[t];e.edges=r.prepared.edges,e.rect=s,e.deltaRect=a}(t),aP(t)},"interactions:action-end":function(t){let{iEvent:e,interaction:r}=t;"resize"===r.prepared.name&&r.prepared.edges&&(e.edges=r.prepared.edges,e.rect=r._rects.corrected,e.deltaRect=r._rects.delta)},"auto-start:check":function(t){let{interaction:e,interactable:r,element:n,rect:i,buttons:o}=t;if(!i)return;let s=sK({},e.coords.cur.page),a=r.options.resize;if(!(!(a&&a.enabled)||e.pointerIsDown&&/mouse|pointer/.test(e.pointerType)&&(o&a.mouseButtons)==0)){if(sM.object(a.edges)){let r={left:!1,right:!1,top:!1,bottom:!1};for(let t in r)r[t]=function(t,e,r,n,i,o,s){if(!e)return!1;if(!0===e){let e=sM.number(o.width)?o.width:o.right-o.left,n=sM.number(o.height)?o.height:o.bottom-o.top;if(s=Math.min(s,Math.abs(("left"===t||"right"===t?e:n)/2)),e<0&&("left"===t?t="right":"right"===t&&(t="left")),n<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t){let t=e>=0?o.left:o.right;return r.x<t+s}if("top"===t){let t=n>=0?o.top:o.bottom;return r.y<t+s}if("right"===t)return r.x>(e>=0?o.right:o.left)-s;if("bottom"===t)return r.y>(n>=0?o.bottom:o.top)-s}return!!sM.element(n)&&(sM.element(e)?e===n:sV(n,e,i))}(t,a.edges[t],s,e._latestPointer.eventTarget,n,i,a.margin||aI.defaultMargin);r.left=r.left&&!r.right,r.top=r.top&&!r.bottom,(r.left||r.right||r.top||r.bottom)&&(t.action={name:"resize",edges:r})}else{let e="y"!==a.axis&&s.x>i.right-aI.defaultMargin,r="x"!==a.axis&&s.y>i.bottom-aI.defaultMargin;(e||r)&&(t.action={name:"resize",axes:(e?"x":"")+(r?"y":"")})}return!t.action&&void 0}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor(t){let{edges:e,axis:r,name:n}=t,i=aI.cursors,o=null;if(r)o=i[n+r];else if(e){let t="";for(let r of["top","bottom","left","right"])e[r]&&(t+=r);o=i[t]}return o},filterEventType:t=>0===t.search("resize"),defaultMargin:null},aR=0;var aM={request:e=>t(e),cancel:t=>e(t),init:function(r){if(t=r.requestAnimationFrame,e=r.cancelAnimationFrame,!t)for(let n of["ms","moz","webkit","o"])t=r[`${n}RequestAnimationFrame`],e=r[`${n}CancelAnimationFrame`]||r[`${n}CancelRequestAnimationFrame`];t=t&&t.bind(r),e=e&&e.bind(r),t||(t=t=>{let e=Date.now(),n=Math.max(0,16-(e-aR)),i=r.setTimeout(()=>{t(e+n)},n);return aR=e+n,i},e=t=>clearTimeout(t))}};let aN={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start(t){aN.isScrolling=!0,aM.cancel(aN.i),t.autoScroll=aN,aN.interaction=t,aN.prevTime=aN.now(),aN.i=aM.request(aN.scroll)},stop(){aN.isScrolling=!1,aN.interaction&&(aN.interaction.autoScroll=null),aM.cancel(aN.i)},scroll(){let{interaction:t}=aN,{interactable:e,element:r}=t,n=t.prepared.name,i=e.options[n].autoScroll,o=aD(i.container,e,r),s=aN.now(),a=(s-aN.prevTime)/1e3,l=i.speed*a;if(l>=1){let n={x:aN.x*l,y:aN.y*l};if(n.x||n.y){let i=aL(o);sM.window(o)?o.scrollBy(n.x,n.y):o&&(o.scrollLeft+=n.x,o.scrollTop+=n.y);let s=aL(o),a={x:s.x-i.x,y:s.y-i.y};(a.x||a.y)&&e.fire({type:"autoscroll",target:r,interactable:e,delta:a,interaction:t,container:o})}aN.prevTime=s}aN.isScrolling&&(aM.cancel(aN.i),aN.i=aM.request(aN.scroll))},check(t,e){var r;return null==(r=t.options[e].autoScroll)?void 0:r.enabled},onInteractionMove(t){let e,r,n,i,{interaction:o,pointer:s}=t;if(!(o.interacting()&&aN.check(o.interactable,o.prepared.name)))return;if(o.simulation){aN.x=aN.y=0;return}let{interactable:a,element:l}=o,h=o.prepared.name,c=a.options[h].autoScroll,u=aD(c.container,a,l);if(sM.window(u))i=s.clientX<aN.margin,e=s.clientY<aN.margin,r=s.clientX>u.innerWidth-aN.margin,n=s.clientY>u.innerHeight-aN.margin;else{let t=sW(u);i=s.clientX<t.left+aN.margin,e=s.clientY<t.top+aN.margin,r=s.clientX>t.right-aN.margin,n=s.clientY>t.bottom-aN.margin}aN.x=r?1:i?-1:0,aN.y=n?1:e?-1:0,aN.isScrolling||(aN.margin=c.margin,aN.speed=c.speed,aN.start(o))}};function aD(t,e,r){return(sM.string(t)?sJ(t,e,r):t)||sP(r)}function aL(t){return sM.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}let a$={id:"auto-scroll",install:function(t){let{defaults:e,actions:r}=t;t.autoScroll=aN,aN.now=()=>t.now(),r.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=aN.defaults},listeners:{"interactions:new":t=>{let{interaction:e}=t;e.autoScroll=null},"interactions:destroy":t=>{let{interaction:e}=t;e.autoScroll=null,aN.stop(),aN.interaction&&(aN.interaction=null)},"interactions:stop":aN.stop,"interactions:action-move":t=>aN.onInteractionMove(t)}};function aq(t,e){let r=!1;return function(){return r||(l.console.warn(e),r=!0),t.apply(this,arguments)}}function aQ(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}function aB(t){return sM.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function aj(t){return sM.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}var az={id:"auto-start/interactableMethods",install:function(t){let{Interactable:e}=t;e.prototype.getAction=function(e,r,n,i){let o=function(t,e,r,n,i){let o=t.getRect(n),s={action:null,interactable:t,interaction:r,element:n,rect:o,buttons:e.buttons||({0:1,1:4,3:8,4:16})[e.button]};return i.fire("auto-start:check",s),s.action}(this,r,n,i,t);return this.options.actionChecker?this.options.actionChecker(e,r,o,this,i,n):o},e.prototype.ignoreFrom=aq(function(t){return this._backCompatOption("ignoreFrom",t)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=aq(function(t){return this._backCompatOption("allowFrom",t)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=aj,e.prototype.styleCursor=aB}};function aZ(t,e,r,n,i){return e.testIgnoreAllow(e.options[t.name],r,n)&&e.options[t.name].enabled&&aV(e,r,t,i)?t:null}function aF(t,e,r,n,i){let o=[],s=[],a=n;function l(t){o.push(t),s.push(a)}for(;sM.element(a);){o=[],s=[],i.interactables.forEachMatch(a,l);let h=function(t,e,r,n,i,o,s){for(let a=0,l=n.length;a<l;a++){let l=n[a],h=i[a],c=l.getAction(e,r,t,h);if(!c)continue;let u=aZ(c,l,h,o,s);if(u)return{action:u,interactable:l,element:h}}return{action:null,interactable:null,element:null}}(t,e,r,o,s,n,i);if(h.action&&!h.interactable.options[h.action.name].manualStart)return h;a=sz(a)}return{action:null,interactable:null,element:null}}function aX(t,e,r){let{action:n,interactable:i,element:o}=e;n=n||{name:null},t.interactable=i,t.element=o,aQ(t.prepared,n),t.rect=i&&n.name?i.getRect(o):null,aH(t,r),r.fire("autoStart:prepared",{interaction:t})}function aV(t,e,r,n){let i=t.options,o=i[r.name].max,s=i[r.name].maxPerElement,a=n.autoStart.maxInteractions,l=0,h=0,c=0;if(!(o&&s&&a))return!1;for(let i of n.interactions.list){let n=i.prepared.name;if(i.interacting()&&(++l>=a||i.interactable===t&&((h+=n===r.name?1:0)>=o||i.element===e&&(c++,n===r.name&&c>=s))))return!1}return a>0}function aU(t,e){return sM.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function aW(t,e,r){let{cursorElement:n}=r.autoStart;n&&n!==t&&(n.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,r.autoStart.cursorElement=e?t:null}function aH(t,e){let{interactable:r,element:n,prepared:i}=t;if(!("mouse"===t.pointerType&&r&&r.options.styleCursor)){e.autoStart.cursorElement&&aW(e.autoStart.cursorElement,"",e);return}let o="";if(i.name){let s=r.options[i.name].cursorChecker;o=sM.func(s)?s(i,r,n,t._interacting):e.actions.map[i.name].getCursor(i)}aW(t.element,o||"",e)}let aY={id:"auto-start/base",before:["actions"],install:function(t){let{interactStatic:e,defaults:r}=t;t.usePlugin(az),r.base.actionChecker=null,r.base.styleCursor=!0,sK(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=e=>aU(e,t),t.autoStart={maxInteractions:1/0,withinInteractionLimit:aV,cursorElement:null}},listeners:{"interactions:down":function(t,e){let{interaction:r,pointer:n,event:i,eventTarget:o}=t;if(r.interacting())return;let s=aF(r,n,i,o,e);aX(r,s,e)},"interactions:move":(t,e)=>{!function(t,e){let{interaction:r,pointer:n,event:i,eventTarget:o}=t;if("mouse"!==r.pointerType||r.pointerIsDown||r.interacting())return;let s=aF(r,n,i,o,e);aX(r,s,e)}(t,e),function(t,e){let{interaction:r}=t;if(!r.pointerIsDown||r.interacting()||!r.pointerWasMoved||!r.prepared.name)return;e.fire("autoStart:before-start",t);let{interactable:n}=r,i=r.prepared.name;i&&n&&(n.options[i].manualStart||!aV(n,r.element,r.prepared,e)?r.stop():(r.start(r.prepared,n,r.element),aH(r,e)))}(t,e)},"interactions:stop":function(t,e){let{interaction:r}=t,{interactable:n}=r;n&&n.options.styleCursor&&aW(r.element,"",e)}},maxInteractions:aU,withinInteractionLimit:aV,validateAction:aZ};var aG={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){let{interaction:r,eventTarget:n,dx:i,dy:o}=t;if("drag"!==r.prepared.name)return;let s=Math.abs(i),a=Math.abs(o),l=r.interactable.options.drag,h=l.startAxis,c=s>a?"x":s<a?"y":"xy";if(r.prepared.axis="start"===l.lockAxis?c[0]:l.lockAxis,"xy"!==c&&"xy"!==h&&h!==c){r.prepared.name=null;let t=n,i=function(i){if(i===r.interactable)return;let o=r.interactable.options.drag;if(!o.manualStart&&i.testIgnoreAllow(o,t,n)){let o=i.getAction(r.downPointer,r.downEvent,r,t);if(o&&"drag"===o.name&&function(t,e){if(!e)return!1;let r=e.options.drag.startAxis;return"xy"===t||"xy"===r||r===t}(c,i)&&aY.validateAction(o,i,t,n,e))return i}};for(;sM.element(t);){let n=e.interactables.forEachMatch(t,i);if(n){r.prepared.name="drag",r.interactable=n,r.element=t;break}t=sz(t)}}}}};function aK(t){let e=t.prepared&&t.prepared.name;if(!e)return null;let r=t.interactable.options;return r[e].hold||r[e].delay}let aJ={id:"auto-start/hold",install:function(t){let{defaults:e}=t;t.usePlugin(aY),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":t=>{let{interaction:e}=t;e.autoStartHoldTimer=null},"autoStart:prepared":t=>{let{interaction:e}=t,r=aK(e);r>0&&(e.autoStartHoldTimer=setTimeout(()=>{e.start(e.prepared,e.interactable,e.element)},r))},"interactions:move":t=>{let{interaction:e,duplicate:r}=t;e.autoStartHoldTimer&&e.pointerWasMoved&&!r&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":t=>{let{interaction:e}=t;aK(e)>0&&(e.prepared.name=null)}},getHoldDuration:aK},a0=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):sM.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function a1(t){let{interaction:e,event:r}=t;e.interactable&&e.interactable.checkAndPreventDefault(r)}var a2={id:"core/interactablePreventDefault",install:function(t){let{Interactable:e}=t;e.prototype.preventDefault=a0,e.prototype.checkAndPreventDefault=function(e){return function(t,e,r){let n=t.options.preventDefault;if("never"!==n){if("always"===n){r.preventDefault();return}if(e.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){let t=sP(r.target).document,n=e.getDocOptions(t);if(!(n&&n.events)||!1!==n.events.passive)return}!/^(mouse|pointer|touch)*(down|start)/i.test(r.type)&&(sM.element(r.target)&&sZ(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault())}}(this,t,e)},t.interactions.docEvents.push({type:"dragstart",listener(e){for(let r of t.interactions.list)if(r.element&&(r.element===e.target||sB(r.element,e.target))){r.interactable.checkAndPreventDefault(e);return}}})},listeners:["down","move","up","cancel"].reduce((t,e)=>(t[`interactions:${e}`]=a1,t),{})};function a3(t,e){if(e.phaselessTypes[t])return!0;for(let r in e.map)if(0===t.indexOf(r)&&t.substr(r.length)in e.phases)return!0;return!1}var a4=((Qp=a4||{}).touchAction="touchAction",Qp.boxSizing="boxSizing",Qp.noListeners="noListeners",Qp);let a5="[interact.js] ",a6={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},a8=[{name:a4.touchAction,perform(t){let{element:e}=t;return!!e&&!function(t,e,r){let n=t;for(;sM.element(n);){if(a7(n,e,r))return!0;n=sz(n)}return!1}(e,"touchAction",/pan-|pinch|none/)},getInfo(t){let{element:e}=t;return[e,a6.touchAction]},text:'Consider adding CSS "touch-action: none" to this element\n'},{name:a4.boxSizing,perform(t){let{element:e}=t;return"resize"===t.prepared.name&&e instanceof s$.HTMLElement&&!a7(e,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo(t){let{element:e}=t;return[e,a6.boxSizing]}},{name:a4.noListeners,perform(t){var e;let r=t.prepared.name;return!((null==(e=t.interactable)?void 0:e.events.types[`${r}move`])||[]).length},getInfo:t=>[t.prepared.name,t.interactable],text:"There are no listeners set for this action"}];function a7(t,e,r){let n=t.style[e]||l.getComputedStyle(t)[e];return r.test((n||"").toString())}function a9(t){let e={};for(let r in t){let n=t[r];sM.plainObject(n)?e[r]=a9(n):sM.array(n)?e[r]=av(n):e[r]=n}return e}class lt{start(t,e){var r;let{phase:n}=t,{interaction:i}=this,o=function(t){let e=t.interactable.options[t.prepared.name],r=e.modifiers;return r&&r.length?r:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(t=>{let r=e[t];return r&&r.enabled&&{options:r,methods:r._methods}}).filter(t=>!!t)}(i);this.prepareStates(o),this.startEdges=sK({},i.edges),this.edges=sK({},this.startEdges),this.startOffset=(r=i.rect)?{left:e.x-r.left,top:e.y-r.top,right:r.right-e.x,bottom:r.bottom-e.y}:{left:0,top:0,right:0,bottom:0},this.startDelta={x:0,y:0};let s=this.fillArg({phase:n,pageCoords:e,preEnd:!1});return this.result=le(),this.startAll(s),this.result=this.setAll(s)}fillArg(t){let{interaction:e}=this;return t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect||(t.rect=e.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}startAll(t){for(let e of this.states)e.methods.start&&(t.state=e,e.methods.start(t))}setAll(t){let{phase:e,preEnd:r,skipModifiers:n,rect:i,edges:o}=t;t.coords=sK({},t.pageCoords),t.rect=sK({},i),t.edges=sK({},o);let s=n?this.states.slice(n):this.states,a=le(t.coords,t.rect);for(let n of s){var l;let{options:i}=n,o=sK({},t.coords),s=null;null!=(l=n.methods)&&l.set&&this.shouldDo(i,r,e)&&(t.state=n,s=n.methods.set(t),s3(t.edges,t.rect,{x:t.coords.x-o.x,y:t.coords.y-o.y})),a.eventProps.push(s)}sK(this.edges,t.edges),a.delta.x=t.coords.x-t.pageCoords.x,a.delta.y=t.coords.y-t.pageCoords.y,a.rectDelta.left=t.rect.left-i.left,a.rectDelta.right=t.rect.right-i.right,a.rectDelta.top=t.rect.top-i.top,a.rectDelta.bottom=t.rect.bottom-i.bottom;let h=this.result.coords,c=this.result.rect;if(h&&c){let t=a.rect.left!==c.left||a.rect.right!==c.right||a.rect.top!==c.top||a.rect.bottom!==c.bottom;a.changed=t||h.x!==a.coords.x||h.y!==a.coords.y}return a}applyToInteraction(t){let{interaction:e}=this,{phase:r}=t,n=e.coords.cur,i=e.coords.start,{result:o,startDelta:s}=this,a=o.delta;for(let[t,e]of("start"===r&&sK(this.startDelta,o.delta),[[i,s],[n,a]]))t.page.x+=e.x,t.page.y+=e.y,t.client.x+=e.x,t.client.y+=e.y;let{rectDelta:l}=this.result,h=t.rect||e.rect;h.left+=l.left,h.right+=l.right,h.top+=l.top,h.bottom+=l.bottom,h.width=h.right-h.left,h.height=h.bottom-h.top}setAndApply(t){let{interaction:e}=this,{phase:r,preEnd:n,skipModifiers:i}=t,o=this.setAll(this.fillArg({preEnd:n,phase:r,pageCoords:t.modifiedCoords||e.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&e.interacting())return!1;if(t.modifiedCoords){let{page:r}=e.coords.cur,n={x:t.modifiedCoords.x-r.x,y:t.modifiedCoords.y-r.y};o.coords.x+=n.x,o.coords.y+=n.y,o.delta.x+=n.x,o.delta.y+=n.y}this.applyToInteraction(t)}beforeEnd(t){let{interaction:e,event:r}=t,n=this.states;if(!n||!n.length)return;let i=!1;for(let e of n){t.state=e;let{options:r,methods:n}=e,o=n.beforeEnd&&n.beforeEnd(t);if(o)return this.endResult=o,!1;i=i||!i&&this.shouldDo(r,!0,t.phase,!0)}i&&e.move({event:r,preEnd:!0})}stop(t){let{interaction:e}=t;if(!this.states||!this.states.length)return;let r=sK({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);for(let t of(this.fillArg(r),this.states))r.state=t,t.methods.stop&&t.methods.stop(r);this.states=null,this.endResult=null}prepareStates(t){this.states=[];for(let e=0;e<t.length;e++){let{options:r,methods:n,name:i}=t[e];this.states.push({options:r,methods:n,index:e,name:i})}return this.states}restoreInteractionCoords(t){let{interaction:{coords:e,rect:r,modification:n}}=t;if(!n.result)return;let{startDelta:i}=n,{delta:o,rectDelta:s}=n.result;for(let[t,r]of[[e.start,i],[e.cur,o]])t.page.x-=r.x,t.page.y-=r.y,t.client.x-=r.x,t.client.y-=r.y;r.left-=s.left,r.right-=s.right,r.top-=s.top,r.bottom-=s.bottom}shouldDo(t,e,r,n){return!!t&&!1!==t.enabled&&(!n||!!t.endOnly)&&(!t.endOnly||!!e)&&("start"!==r||!!t.setStart)}copyFrom(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map(t=>a9(t)),this.result=le(sK({},t.result.coords),sK({},t.result.rect))}destroy(){for(let t in this)this[t]=null}constructor(t){this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=le(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}}function le(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function lr(t,e){let{defaults:r}=t,n={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},i=t=>{let i=t||{};for(let t in i.enabled=!1!==i.enabled,r)t in i||(i[t]=r[t]);let o={options:i,methods:n,name:e,enable:()=>(i.enabled=!0,o),disable:()=>(i.enabled=!1,o)};return o};return e&&"string"==typeof e&&(i._defaults=r,i._methods=n),i}function ln(t){let{iEvent:e,interaction:r}=t,n=r.modification.result;n&&(e.modifiers=n.eventProps)}let li={id:"modifiers/base",before:["actions"],install:t=>{t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":t=>{let{interaction:e}=t;e.modification=new lt(e)},"interactions:before-action-start":t=>{let{interaction:e}=t,r=t.interaction.modification;r.start(t,e.coords.start.page),e.edges=r.edges,r.applyToInteraction(t)},"interactions:before-action-move":t=>{let{interaction:e}=t,{modification:r}=e,n=r.setAndApply(t);return e.edges=r.edges,n},"interactions:before-action-end":t=>{let{interaction:e}=t,{modification:r}=e,n=r.beforeEnd(t);return e.edges=r.startEdges,n},"interactions:action-start":ln,"interactions:action-move":ln,"interactions:action-end":ln,"interactions:after-action-start":t=>t.interaction.modification.restoreInteractionCoords(t),"interactions:after-action-move":t=>t.interaction.modification.restoreInteractionCoords(t),"interactions:stop":t=>t.interaction.modification.stop(t)}},lo={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class ls extends ap{getSwipe(){let t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);let r=112.5<=e&&e<247.5,n=202.5<=e&&e<337.5,i=!r&&(292.5<=e||e<67.5),o=!n&&22.5<=e&&e<157.5;return{up:n,down:o,left:r,right:i,angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}constructor(t,e,r,n,i,o,s){super(t),this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.axes=void 0,this.preEnd=void 0,i=i||t.element;let a=t.interactable,l=(a&&a.options||lo).deltaSource,h=s4(a,i,r),c="start"===n,u="end"===n,d=c?this:t.prevEvent,f=c?t.coords.start:u?{page:d.page,client:d.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;this.page=sK({},f.page),this.client=sK({},f.client),this.rect=sK({},t.rect),this.timeStamp=f.timeStamp,u||(this.page.x-=h.x,this.page.y-=h.y,this.client.x-=h.x,this.client.y-=h.y),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.buttons=e.buttons,this.target=i,this.currentTarget=i,this.preEnd=o,this.type=s||r+(n||""),this.interactable=a,this.t0=c?t.pointers[t.pointers.length-1].downTime:d.t0,this.x0=t.coords.start.page.x-h.x,this.y0=t.coords.start.page.y-h.y,this.clientX0=t.coords.start.client.x-h.x,this.clientY0=t.coords.start.client.y-h.y,c||u?this.delta={x:0,y:0}:this.delta={x:this[l].x-d[l].x,y:this[l].y-d[l].y},this.dt=t.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=sK({},t.coords.velocity[l]),this.speed=s8(this.velocity.x,this.velocity.y),this.swipe=u||"inertiastart"===n?this.getSwipe():null}}Object.defineProperties(ls.prototype,{pageX:{get(){return this.page.x},set(t){this.page.x=t}},pageY:{get(){return this.page.y},set(t){this.page.y=t}},clientX:{get(){return this.client.x},set(t){this.client.x=t}},clientY:{get(){return this.client.y},set(t){this.client.y=t}},dx:{get(){return this.delta.x},set(t){this.delta.x=t}},dy:{get(){return this.delta.y},set(t){this.delta.y=t}},velocityX:{get(){return this.velocity.x},set(t){this.velocity.x=t}},velocityY:{get(){return this.velocity.y},set(t){this.velocity.y=t}}});class la{constructor(t,e,r,n,i){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=e,this.event=r,this.downTime=n,this.downTarget=i}}let ll=((Qg={}).interactable="",Qg.element="",Qg.prepared="",Qg.pointerIsDown="",Qg.pointerWasMoved="",Qg._proxy="",Qg),lh=((Qm={}).start="",Qm.move="",Qm.end="",Qm.stop="",Qm.interacting="",Qm),lc=0;class lu{get pointerMoveTolerance(){return 1}pointerDown(t,e,r){let n=this.updatePointer(t,e,r,!0),i=this.pointers[n];this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:r,pointerIndex:n,pointerInfo:i,type:"down",interaction:this})}start(t,e,r){return!this.interacting()&&!!this.pointerIsDown&&!(this.pointers.length<("gesture"===t.name?2:1))&&!!e.options[t.name].enabled&&(aQ(this.prepared,t),this.interactable=e,this.element=r,this.rect=e.getRect(r),this.edges=this.prepared.edges?sK({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,e,r){let n,i;this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,r,!1);let o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(n=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=s8(n,i)>this.pointerMoveTolerance);let s=this.getPointerIndex(t),a={pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:e,type:"move",eventTarget:r,dx:n,dy:i,duplicate:o,interaction:this};o||function(t,e){let r=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/r,t.page.y=e.page.y/r,t.client.x=e.client.x/r,t.client.y=e.client.y/r,t.timeStamp=r}(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",a),o||this.simulation||(this.interacting()&&(a.type=null,this.move(a)),this.pointerWasMoved&&at(this.coords.prev,this.coords.cur))}move(t){t&&t.event||ae(this.coords.delta),(t=sK({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}pointerUp(t,e,r,n){let i=this.getPointerIndex(t);-1===i&&(i=this.updatePointer(t,e,r,!1));let o=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire(`interactions:${o}`,{pointer:t,pointerIndex:i,pointerInfo:this.pointers[i],event:e,eventTarget:r,type:o,curEventTarget:n,interaction:this}),this.simulation||this.end(e),this.removePointer(t,e)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){let e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,!0===e&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){let e=ao(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:ay(this.pointers,t=>t.id===e)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,e,r,n){var i,o,s;let a=ao(t),l=this.getPointerIndex(t),h=this.pointers[l];return n=!1!==n&&(n||/(down|start)$/i.test(e.type)),h?h.pointer=t:(h=new la(a,t,e,null,null),l=this.pointers.length,this.pointers.push(h)),!function(t,e,r){var n;let i=e.length>1?aa(e):e[0];ai(i,t.page),n=(n=t.client)||{},sQ.isOperaMobile&&ar(i)?an("screen",i,n):an("client",i,n),t.timeStamp=r}(this.coords.cur,this.pointers.map(t=>t.pointer),this._now()),i=this.coords.delta,o=this.coords.prev,s=this.coords.cur,i.page.x=s.page.x-o.page.x,i.page.y=s.page.y-o.page.y,i.client.x=s.client.x-o.client.x,i.client.y=s.client.y-o.client.y,i.timeStamp=s.timeStamp-o.timeStamp,n&&(this.pointerIsDown=!0,h.downTime=this.coords.cur.timeStamp,h.downTarget=r,s9(this.downPointer,t),this.interacting()||(at(this.coords.start,this.coords.cur),at(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,r),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:r,down:n,pointerInfo:h,pointerIndex:l,interaction:this}),l}removePointer(t,e){let r=this.getPointerIndex(t);if(-1===r)return;let n=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:r,pointerInfo:n,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}_updateLatestPointer(t,e,r){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=r}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,e,r,n){return new ls(this,t,this.prepared.name,e,this.element,r,n)}_fireEvent(t){var e;null==(e=this.interactable)||e.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){let{event:e,phase:r,preEnd:n,type:i}=t,{rect:o}=this;if(o&&"move"===r&&(s3(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire(`interactions:before-action-${r}`,t))return!1;let s=t.iEvent=this._createPreparedEvent(e,r,n,i);return this._scopeFire(`interactions:action-${r}`,t),"start"===r&&(this.prevEvent=s),this._fireEvent(s),this._scopeFire(`interactions:after-action-${r}`,t),!0}_now(){return Date.now()}constructor(t){this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=aq(function(t){this.move(t)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:af(),prev:af(),cur:af(),delta:af(),velocity:af()},this._id=lc++;let{pointerType:e,scopeFire:r}=t;this._scopeFire=r,this.pointerType=e;let n=this;for(let t in this._proxy={},ll)Object.defineProperty(this._proxy,t,{get:()=>n[t]});for(let t in lh)Object.defineProperty(this._proxy,t,{value:function(){return n[t](...arguments)}});this._scopeFire("interactions:new",{interaction:this})}}function ld(t){let{interaction:e}=t;lf(e)}function lf(t){if(!(t.offset.pending.x||t.offset.pending.y))return!1;let{pending:e}=t.offset;return lg(t.coords.cur,e),lg(t.coords.delta,e),s3(t.edges,t.rect,e),e.x=0,e.y=0,!0}function lp(t){let{x:e,y:r}=t;this.offset.pending.x+=e,this.offset.pending.y+=r,this.offset.total.x+=e,this.offset.total.y+=r}function lg(t,e){let{page:r,client:n}=t,{x:i,y:o}=e;r.x+=i,r.y+=o,n.x+=i,n.y+=o}lh.offsetBy="";let lm={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install(t){t.Interaction.prototype.offsetBy=lp},listeners:{"interactions:new":t=>{let{interaction:e}=t;e.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":t=>{let{interaction:e}=t;e.pointerIsDown&&(lg(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)},"interactions:before-action-start":ld,"interactions:before-action-move":ld,"interactions:before-action-end":function(t){let{interaction:e}=t;if(lf(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){let{interaction:e}=t;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}};class lv{start(t){let{interaction:e}=this,r=ly(e);if(!r||!r.enabled)return!1;let{client:n}=e.coords.velocity,i=s8(n.x,n.y),o=this.modification||(this.modification=new lt(e));if(o.copyFrom(e.modification),this.t0=e._now(),this.allowResume=r.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-e.coords.cur.timeStamp<50&&i>r.minSpeed&&i>r.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:t,phase:"inertiastart"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=!0,e.simulation=this,!0}startInertia(){let t=this.interaction.coords.velocity.client,e=ly(this.interaction),r=e.resistance,n=-Math.log(e.endSpeed/this.v0)/r;this.targetOffset={x:(t.x-n)/r,y:(t.y-n)/r},this.te=n,this.lambda_v0=r/this.v0,this.one_ve_v0=1-e.endSpeed/this.v0;let{modification:i,modifierArg:o}=this;o.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},i.result=i.setAll(o),i.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+i.result.delta.x,y:this.targetOffset.y+i.result.delta.y}),this.onNextFrame(()=>this.inertiaTick())}startSmoothEnd(){this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(()=>this.smoothEndTick())}onNextFrame(t){this.timeout=aM.request(()=>{this.active&&t()})}inertiaTick(){let{interaction:t}=this,e=ly(t).resistance,r=(t._now()-this.t0)/1e3;if(r<this.te){var n,i,o,s;let a;let l=1-(Math.exp(-e*r)-this.lambda_v0)/this.one_ve_v0,h={x:(a=this.isModified?(n=this.targetOffset.x,i=this.targetOffset.y,o=this.modifiedOffset.x,s=this.modifiedOffset.y,{x:lb(l,0,n,o),y:lb(l,0,i,s)}):{x:this.targetOffset.x*l,y:this.targetOffset.y*l}).x-this.currentOffset.x,y:a.y-this.currentOffset.y};this.currentOffset.x+=h.x,this.currentOffset.y+=h.y,t.offsetBy(h),t.move(),this.onNextFrame(()=>this.inertiaTick())}else t.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}smoothEndTick(){let{interaction:t}=this,e=t._now()-this.t0,{smoothEndDuration:r}=ly(t);if(e<r){var n,i;let o={x:(n=e,-this.targetOffset.x*(n/=r)*(n-2)+0),y:(i=e,-this.targetOffset.y*(i/=r)*(i-2)+0)},s={x:o.x-this.currentOffset.x,y:o.y-this.currentOffset.y};this.currentOffset.x+=s.x,this.currentOffset.y+=s.y,t.offsetBy(s),t.move({skipModifiers:this.modifierCount}),this.onNextFrame(()=>this.smoothEndTick())}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}resume(t){let{pointer:e,event:r,eventTarget:n}=t,{interaction:i}=this;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(e,r,n,!0),i._doPhase({interaction:i,event:r,phase:"resume"}),at(i.coords.prev,i.coords.cur),this.stop()}end(){this.interaction.move(),this.interaction.end(),this.stop()}stop(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,aM.cancel(this.timeout)}constructor(t){this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=t}}function ly(t){let{interactable:e,prepared:r}=t;return e&&e.options&&r.name&&e.options[r.name].inertia}function lb(t,e,r,n){let i=1-t;return i*i*e+2*i*t*r+t*t*n}function lO(t,e){for(let r of e){if(t.immediatePropagationStopped)break;r(t)}}class lw{fire(t){let e;let r=this.global;(e=this.types[t.type])&&lO(t,e),!t.propagationStopped&&r&&(e=r[t.type])&&lO(t,e)}on(t,e){let r=s5(t,e);for(t in r)this.types[t]=am(this.types[t]||[],r[t])}off(t,e){let r=s5(t,e);for(t in r){let e=this.types[t];if(e&&e.length)for(let n of r[t]){let t=e.indexOf(n);-1!==t&&e.splice(t,1)}}}getRect(t){return null}constructor(t){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=sK({},t||{})}}class lx{preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}constructor(t){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,s9(this,t)}}function l_(t){return sM.object(t)?{capture:!!t.capture,passive:!!t.passive}:{capture:!!t,passive:!1}}function lk(t,e){return t===e||("boolean"==typeof t?!!e.capture===t&&!1==!!e.passive:!!t.capture==!!e.capture&&!!t.passive==!!e.passive)}var lS={id:"events",install:function(t){var e;let r=[],n={},i=[],o={add:s,remove:a,addDelegate:function(t,e,r,o,a){let c=l_(a);if(!n[r])for(let t of(n[r]=[],i))s(t,r,l),s(t,r,h,!0);let u=n[r],d=ab(u,r=>r.selector===t&&r.context===e);d||(d={selector:t,context:e,listeners:[]},u.push(d)),d.listeners.push({func:o,options:c})},removeDelegate:function(t,e,r,i,o){let s;let c=l_(o),u=n[r],d=!1;if(u)for(s=u.length-1;s>=0;s--){let n=u[s];if(n.selector===t&&n.context===e){let{listeners:t}=n;for(let n=t.length-1;n>=0;n--){let o=t[n];if(o.func===i&&lk(o.options,c)){t.splice(n,1),t.length||(u.splice(s,1),a(e,r,l),a(e,r,h,!0)),d=!0;break}}if(d)break}}},delegateListener:l,delegateUseCapture:h,delegatedEvents:n,documents:i,targets:r,supportsOptions:!1,supportsPassive:!1};function s(t,e,n,i){if(!t.addEventListener)return;let s=l_(i),a=ab(r,e=>e.eventTarget===t);a||(a={eventTarget:t,events:{}},r.push(a)),a.events[e]||(a.events[e]=[]),ab(a.events[e],t=>t.func===n&&lk(t.options,s))||(t.addEventListener(e,n,o.supportsOptions?s:s.capture),a.events[e].push({func:n,options:s}))}function a(t,e,n,i){if(!t.addEventListener||!t.removeEventListener)return;let s=ay(r,e=>e.eventTarget===t),l=r[s];if(!l||!l.events)return;if("all"===e){for(e in l.events)l.events.hasOwnProperty(e)&&a(t,e,"all");return}let h=!1,c=l.events[e];if(c){if("all"===n){for(let r=c.length-1;r>=0;r--){let n=c[r];a(t,e,n.func,n.options)}return}{let r=l_(i);for(let i=0;i<c.length;i++){let s=c[i];if(s.func===n&&lk(s.options,r)){t.removeEventListener(e,n,o.supportsOptions?r:r.capture),c.splice(i,1),0===c.length&&(delete l.events[e],h=!0);break}}}}h&&!Object.keys(l.events).length&&r.splice(s,1)}function l(t,e){let r=l_(e),i=new lx(t),o=n[t.type],[s]=ad(t),a=s;for(;sM.element(a);){for(let t=0;t<o.length;t++){let e=o[t],{selector:n,context:l}=e;if(sZ(a,n)&&sB(l,s)&&sB(l,a)){let{listeners:t}=e;for(let e of(i.currentTarget=a,t))lk(e.options,r)&&e.func(i)}}a=sz(a)}}function h(t){return l.call(this,t,!0)}return null==(e=t.document)||e.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),t.events=o,o}};let lC={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(t){for(let e of lC.methodOrder){let r=lC[e](t);if(r)return r}return null},simulationResume(t){let{pointerType:e,eventType:r,eventTarget:n,scope:i}=t;if(!/down|start/i.test(r))return null;for(let t of i.interactions.list){let r=n;if(t.simulation&&t.simulation.allowResume&&t.pointerType===e)for(;r;){if(r===t.element)return t;r=sz(r)}}return null},mouseOrPen(t){let e,{pointerId:r,pointerType:n,eventType:i,scope:o}=t;if("mouse"!==n&&"pen"!==n)return null;for(let t of o.interactions.list)if(t.pointerType===n){if(t.simulation&&!lA(t,r))continue;if(t.interacting())return t;e||(e=t)}if(e)return e;for(let t of o.interactions.list)if(t.pointerType===n&&!(/down/i.test(i)&&t.simulation))return t;return null},hasPointer(t){let{pointerId:e,scope:r}=t;for(let t of r.interactions.list)if(lA(t,e))return t;return null},idle(t){let{pointerType:e,scope:r}=t;for(let t of r.interactions.list){if(1===t.pointers.length){let e=t.interactable;if(e&&!(e.options.gesture&&e.options.gesture.enabled))continue}else if(t.pointers.length>=2)continue;if(!t.interacting()&&e===t.pointerType)return t}return null}};function lA(t,e){return t.pointers.some(t=>{let{id:r}=t;return r===e})}let lE=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function lT(t,e){return function(r){let n=e.interactions.list,i=au(r),[o,s]=ad(r),a=[];if(/^touch/.test(r.type))for(let t of(e.prevTouchTime=e.now(),r.changedTouches)){let n=ao(t),l={pointer:t,pointerId:n,pointerType:i,eventType:r.type,eventTarget:o,curEventTarget:s,scope:e},h=lP(l);a.push([l.pointer,l.eventTarget,l.curEventTarget,h])}else{let t=!1;if(!sQ.supportsPointerEvent&&/mouse/.test(r.type)){for(let e=0;e<n.length&&!t;e++)t="mouse"!==n[e].pointerType&&n[e].pointerIsDown;t=t||e.now()-e.prevTouchTime<500||0===r.timeStamp}if(!t){let t={pointer:r,pointerId:ao(r),pointerType:i,eventType:r.type,curEventTarget:s,eventTarget:o,scope:e},n=lP(t);a.push([t.pointer,t.eventTarget,t.curEventTarget,n])}}for(let[e,n,i,o]of a)o[t](e,r,n,i)}}function lP(t){let{pointerType:e,scope:r}=t,n={interaction:lC.search(t),searchDetails:t};return r.fire("interactions:find",n),n.interaction||r.interactions.new({pointerType:e})}function lI(t,e){let{doc:r,scope:n,options:i}=t,{interactions:{docEvents:o},events:s}=n,a=s[e];for(let t in n.browser.isIOS&&!i.events&&(i.events={passive:!1}),s.delegatedEvents)a(r,t,s.delegateListener),a(r,t,s.delegateUseCapture,!0);let l=i&&i.events;for(let{type:t,listener:e}of o)a(r,t,e,l)}let lR={id:"core/interactions",install:function(t){let e;let r={};for(let e of lE)r[e]=lT(e,t);let n=sQ.pEventTypes;function i(){for(let e of t.interactions.list)if(e.pointerIsDown&&"touch"===e.pointerType&&!e._interacting)for(let r of e.pointers)t.documents.some(t=>{let{doc:e}=t;return sB(e,r.downTarget)})||e.removePointer(r.pointer,r.event)}(e=s$.PointerEvent?[{type:n.down,listener:i},{type:n.down,listener:r.pointerDown},{type:n.move,listener:r.pointerMove},{type:n.up,listener:r.pointerUp},{type:n.cancel,listener:r.pointerUp}]:[{type:"mousedown",listener:r.pointerDown},{type:"mousemove",listener:r.pointerMove},{type:"mouseup",listener:r.pointerUp},{type:"touchstart",listener:i},{type:"touchstart",listener:r.pointerDown},{type:"touchmove",listener:r.pointerMove},{type:"touchend",listener:r.pointerUp},{type:"touchcancel",listener:r.pointerUp}]).push({type:"blur",listener(e){for(let r of t.interactions.list)r.documentBlur(e)}}),t.prevTouchTime=0,t.Interaction=class extends lu{get pointerMoveTolerance(){return t.interactions.pointerMoveTolerance}set pointerMoveTolerance(e){t.interactions.pointerMoveTolerance=e}_now(){return t.now()}},t.interactions={list:[],new(e){e.scopeFire=(e,r)=>t.fire(e,r);let r=new t.Interaction(e);return t.interactions.list.push(r),r},listeners:r,docEvents:e,pointerMoveTolerance:1},t.usePlugin(a2)},listeners:{"scope:add-document":t=>lI(t,"add"),"scope:remove-document":t=>lI(t,"remove"),"interactable:unset":(t,e)=>{let{interactable:r}=t;for(let t=e.interactions.list.length-1;t>=0;t--){let n=e.interactions.list[t];n.interactable===r&&(n.stop(),e.fire("interactions:destroy",{interaction:n}),n.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(t,1))}}},onDocSignal:lI,doOnInteractions:lT,methodNames:lE};var lM=((Qv=lM||{})[Qv.On=0]="On",Qv[Qv.Off=1]="Off",Qv);class lN{get _defaults(){return{base:{},perAction:{},actions:{}}}setOnEvents(t,e){return sM.func(e.onstart)&&this.on(`${t}start`,e.onstart),sM.func(e.onmove)&&this.on(`${t}move`,e.onmove),sM.func(e.onend)&&this.on(`${t}end`,e.onend),sM.func(e.oninertiastart)&&this.on(`${t}inertiastart`,e.oninertiastart),this}updatePerActionListeners(t,e,r){var n;let i=null==(n=this._actions.map[t])?void 0:n.filterEventType,o=t=>(null==i||i(t))&&a3(t,this._actions);(sM.array(e)||sM.object(e))&&this._onOff(lM.Off,t,e,void 0,o),(sM.array(r)||sM.object(r))&&this._onOff(lM.On,t,r,void 0,o)}setPerAction(t,e){let r=this._defaults;for(let n in e){let i=this.options[t],o=e[n];"listeners"===n&&this.updatePerActionListeners(t,i.listeners,o),sM.array(o)?i[n]=av(o):sM.plainObject(o)?(i[n]=sK(i[n]||{},a9(o)),sM.object(r.perAction[n])&&"enabled"in r.perAction[n]&&(i[n].enabled=!1!==o.enabled)):sM.bool(o)&&sM.object(r.perAction[n])?i[n].enabled=o:i[n]=o}}getRect(t){return t=t||(sM.element(this.target)?this.target:null),sM.string(this.target)&&(t=t||this._context.querySelector(this.target)),sH(t)}rectChecker(t){return sM.func(t)?(this.getRect=e=>{let r=sK({},t.apply(this,e));return"width"in r||(r.width=r.right-r.left,r.height=r.bottom-r.top),r},this):null===t?(delete this.getRect,this):this.getRect}_backCompatOption(t,e){if(sG(e)||sM.object(e)){for(let r in this.options[t]=e,this._actions.map)this.options[r][t]=e;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource}getAllElements(){let{target:t}=this;return sM.string(t)?Array.from(this._context.querySelectorAll(t)):sM.func(t)&&t.getAllElements?t.getAllElements():sM.element(t)?[t]:[]}context(){return this._context}inContext(t){return this._context===t.ownerDocument||sB(this._context,t)}testIgnoreAllow(t,e,r){return!this.testIgnore(t.ignoreFrom,e,r)&&this.testAllow(t.allowFrom,e,r)}testAllow(t,e,r){return!t||!!sM.element(r)&&(sM.string(t)?sV(r,t,e):!!sM.element(t)&&sB(t,r))}testIgnore(t,e,r){return!!(t&&sM.element(r))&&(sM.string(t)?sV(r,t,e):!!sM.element(t)&&sB(t,r))}fire(t){return this.events.fire(t),this}_onOff(t,e,r,n,i){sM.object(e)&&!sM.array(e)&&(n=r,r=null);let o=s5(e,r,i);for(let e in o)for(let r of("wheel"===e&&(e=sQ.wheelEvent),o[e]))a3(e,this._actions)?this.events[t===lM.On?"on":"off"](e,r):sM.string(this.target)?this._scopeEvents[t===lM.On?"addDelegate":"removeDelegate"](this.target,this._context,e,r,n):this._scopeEvents[t===lM.On?"add":"remove"](this.target,e,r,n);return this}on(t,e,r){return this._onOff(lM.On,t,e,r)}off(t,e,r){return this._onOff(lM.Off,t,e,r)}set(t){let e=this._defaults;for(let r in sM.object(t)||(t={}),this.options=a9(e.base),this._actions.methodDict){let n=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,sK(sK({},e.perAction),e.actions[r])),this[n](t[r])}for(let e in t){if("getRect"===e){this.rectChecker(t.getRect);continue}sM.func(this[e])&&this[e](t[e])}return this}unset(){if(sM.string(this.target))for(let t in this._scopeEvents.delegatedEvents){let e=this._scopeEvents.delegatedEvents[t];for(let r=e.length-1;r>=0;r--){let{selector:n,context:i,listeners:o}=e[r];n===this.target&&i===this._context&&e.splice(r,1);for(let e=o.length-1;e>=0;e--)this._scopeEvents.removeDelegate(this.target,this._context,t,o[e][0],o[e][1])}}else this._scopeEvents.remove(this.target,"all")}constructor(t,e,r,n){this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new lw,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=e.actions,this.target=t,this._context=e.context||r,this._win=sP(sG(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=n,this.set(e)}}class lD{new(t,e){e=sK(e||{},{actions:this.scope.actions});let r=new this.scope.Interactable(t,e,this.scope.document,this.scope.events);return this.scope.addDocument(r._doc),this.list.push(r),sM.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(r)):(r.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:t,options:e,interactable:r,win:this.scope._win}),r}getExisting(t,e){let r=e&&e.context||this.scope.document,n=sM.string(t),i=n?this.selectorMap[t]:t[this.scope.id];if(i)return ab(i,e=>e._context===r&&(n||e.inContext(t)))}forEachMatch(t,e){for(let r of this.list){let n;if((sM.string(r.target)?sM.element(t)&&sZ(t,r.target):t===r.target)&&r.inContext(t)&&(n=e(r)),void 0!==n)return n}}constructor(t){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":t=>{let{interactable:e}=t,{target:r}=e,n=sM.string(r)?this.selectorMap[r]:r[this.scope.id],i=ay(n,t=>t===e);n.splice(i,1)}})}}function lL(t){return t&&t.replace(/\/.*$/,"")}let l$=new class{addListeners(t,e){this.listenerMaps.push({id:e,map:t})}fire(t,e){for(let{map:{[t]:r}}of this.listenerMaps)if(r&&!1===r(e,this,t))return!1}init(t){return this.isInitialized||(this.isInitialized=!0,sM.window(t)&&sT(t),s$.init(t),sQ.init(t),aM.init(t),this.window=t,this.document=t.document,this.usePlugin(lR),this.usePlugin(lS)),this}pluginIsInstalled(t){let{id:e}=t;return e?!!this._plugins.map[e]:-1!==this._plugins.list.indexOf(t)}usePlugin(t,e){if(!this.isInitialized||this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){let e=0,r=this.listenerMaps.length,n=t.before.reduce((t,e)=>(t[e]=!0,t[lL(e)]=!0,t),{});for(;e<r;e++){let t=this.listenerMaps[e].id;if(t&&(n[t]||n[lL(t)]))break}this.listenerMaps.splice(e,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,e){if(-1!==this.getDocIndex(t))return!1;let r=sP(t);e=e?sK({},e):{},this.documents.push({doc:t,options:e}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:e})}removeDocument(t){let e=this.getDocIndex(t),r=sP(t),n=this.documents[e].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(e,1),this.events.documents.splice(e,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:n})}getDocIndex(t){for(let e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return -1}getDocOptions(t){let e=this.getDocIndex(t);return -1===e?null:this.documents[e].options}now(){return(this.window.Date||Date).now()}constructor(){this.id=`__interact_scope_${Math.floor(100*Math.random())}`,this.isInitialized=!1,this.listenerMaps=[],this.browser=sQ,this.defaults=a9(lo),this.Eventable=lw,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(t){let e=(r,n)=>{let i=t.interactables.getExisting(r,n);return i||((i=t.interactables.new(r,n)).events.global=e.globalEvents),i};return e.getPointerAverage=aa,e.getTouchBBox=al,e.getTouchDistance=ah,e.getTouchAngle=ac,e.getElementRect=sH,e.getElementClientRect=sW,e.matchesSelector=sZ,e.closest=sj,e.globalEvents={},e.version="1.10.27",e.scope=t,e.use=function(t,e){return this.scope.usePlugin(t,e),this},e.isSet=function(t,e){return!!this.scope.interactables.get(t,e&&e.context)},e.on=aq(function(t,e,r){if(sM.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),sM.array(t)){for(let n of t)this.on(n,e,r);return this}if(sM.object(t)){for(let r in t)this.on(r,t[r],e);return this}return a3(t,this.scope.actions)?this.globalEvents[t]?this.globalEvents[t].push(e):this.globalEvents[t]=[e]:this.scope.events.add(this.scope.document,t,e,{options:r}),this},"The interact.on() method is being deprecated"),e.off=aq(function(t,e,r){if(sM.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),sM.array(t)){for(let n of t)this.off(n,e,r);return this}if(sM.object(t)){for(let r in t)this.off(r,t[r],e);return this}if(a3(t,this.scope.actions)){let r;t in this.globalEvents&&-1!==(r=this.globalEvents[t].indexOf(e))&&this.globalEvents[t].splice(r,1)}else this.scope.events.remove(this.scope.document,t,e,r);return this},"The interact.off() method is being deprecated"),e.debug=function(){return this.scope},e.supportsTouch=function(){return sQ.supportsTouch},e.supportsPointerEvent=function(){return sQ.supportsPointerEvent},e.stop=function(){for(let t of this.scope.interactions.list)t.stop();return this},e.pointerMoveTolerance=function(t){return sM.number(t)?(this.scope.interactions.pointerMoveTolerance=t,this):this.scope.interactions.pointerMoveTolerance},e.addDocument=function(t,e){this.scope.addDocument(t,e)},e.removeDocument=function(t){this.scope.removeDocument(t)},e}(this),this.InteractEvent=ls,this.Interactable=void 0,this.interactables=new lD(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=t=>this.removeDocument(t.target);let t=this;this.Interactable=class extends lN{get _defaults(){return t.defaults}set(e){return super.set(e),t.fire("interactable:set",{options:e,interactable:this}),this}unset(){super.unset();let e=t.interactables.list.indexOf(this);e<0||(t.interactables.list.splice(e,1),t.fire("interactable:unset",{interactable:this}))}}}},lq=l$.interactStatic,lQ="undefined"!=typeof globalThis?globalThis:window;l$.init(lQ);var lB=/*#__PURE__*/Object.freeze({__proto__:null,edgeTarget:()=>{},elements:()=>{},grid:t=>{let e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(e=>{let[r,n]=e;return r in t||n in t}),r=(r,n)=>{let{range:i,limits:o={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:s={x:0,y:0}}=t,a={range:i,grid:t,x:null,y:null};for(let[i,l]of e){let e=Math.round((r-s.x)/t[i]),h=Math.round((n-s.y)/t[l]);a[i]=Math.max(o.left,Math.min(o.right,e*t[i]+s.x)),a[l]=Math.max(o.top,Math.min(o.bottom,h*t[l]+s.y))}return a};return r.grid=t,r.coordFields=e,r}});let lj={id:"snappers",install(t){let{interactStatic:e}=t;e.snappers=sK(e.snappers||{},lB),e.createSnapGrid=e.snappers.grid}};var eX=ek("lQqDW"),eV=ek("hyL8v");function lz(t,e,r){let{startCoords:n,edgeSign:i}=t;e?r.y=n.y+(r.x-n.x)*i.y:r.x=n.x+(r.y-n.y)*i.x}function lZ(t,e,r,n){let{startRect:i,startCoords:o,ratio:s,edgeSign:a}=t;if(e){let t=n.width/s;r.y=o.y+(t-i.height)*a.y}else{let t=n.height*s;r.x=o.x+(t-i.width)*a.x}}var lF=lr({start(t){let{state:e,rect:r,edges:n,pageCoords:i}=t,{ratio:o,enabled:s}=e.options,{equalDelta:a,modifiers:l}=e.options;"preserve"===o&&(o=r.width/r.height),e.startCoords=sK({},i),e.startRect=sK({},r),e.ratio=o,e.equalDelta=a;let h=e.linkedEdges={top:n.top||n.left&&!n.bottom,left:n.left||n.top&&!n.right,bottom:n.bottom||n.right&&!n.top,right:n.right||n.bottom&&!n.left};if(e.xIsPrimaryAxis=!!(n.left||n.right),e.equalDelta){let t=(h.left?1:-1)*(h.top?1:-1);e.edgeSign={x:t,y:t}}else e.edgeSign={x:h.left?-1:1,y:h.top?-1:1};if(!1!==s&&sK(n,h),!(null!=l&&l.length))return;let c=new lt(t.interaction);c.copyFrom(t.interaction.modification),c.prepareStates(l),e.subModification=c,c.startAll((0,eX._)({},t))},set(t){let{state:e,rect:r,coords:n}=t,{linkedEdges:i}=e,o=sK({},n),s=e.equalDelta?lz:lZ;if(sK(t.edges,i),s(e,e.xIsPrimaryAxis,n,r),!e.subModification)return null;let a=sK({},r);s3(i,a,{x:n.x-o.x,y:n.y-o.y});let l=e.subModification.setAll((0,eV._)((0,eX._)({},t),{rect:a,edges:i,pageCoords:n,prevCoords:n,prevRect:a})),{delta:h}=l;return l.changed&&(s(e,Math.abs(h.x)>Math.abs(h.y),l.coords,l.rect),sK(n,l.coords)),l.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}},"aspectRatio");function lX(t,e,r){return sM.func(t)?s0(t,e.interactable,e.element,[r.x,r.y,e]):s0(t,e.interactable,e.element)}let lV={start:function(t){let{rect:e,startOffset:r,state:n,interaction:i,pageCoords:o}=t,{options:s}=n,{elementRect:a}=s,l=sK({left:0,top:0,right:0,bottom:0},s.offset||{});if(e&&a){let t=lX(s.restriction,i,o);if(t){let r=t.right-t.left-e.width,n=t.bottom-t.top-e.height;r<0&&(l.left+=r,l.right+=r),n<0&&(l.top+=n,l.bottom+=n)}l.left+=r.left-e.width*a.left,l.top+=r.top-e.height*a.top,l.right+=r.right-e.width*(1-a.right),l.bottom+=r.bottom-e.height*(1-a.bottom)}n.offset=l},set:function(t){var e;let{coords:r,interaction:n,state:i}=t,{options:o,offset:s}=i,a=lX(o.restriction,n,r);if(!a)return;let l=((e=a)&&!("left"in e&&"top"in e)&&((e=sK({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e);r.x=Math.max(Math.min(l.right-s.right,r.x),l.left+s.left),r.y=Math.max(Math.min(l.bottom-s.bottom,r.y),l.top+s.top)},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};var lU=lr(lV,"restrict");let lW={top:1/0,left:1/0,bottom:-1/0,right:-1/0},lH={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function lY(t,e){for(let r of["top","left","bottom","right"])r in t||(t[r]=e[r]);return t}let lG={noInner:lW,noOuter:lH,start:function(t){let e,{interaction:r,startOffset:n,state:i}=t,{options:o}=i;o&&(e=s1(lX(o.offset,r,r.coords.start.page))),e=e||{x:0,y:0},i.offset={top:e.y+n.top,left:e.x+n.left,bottom:e.y-n.bottom,right:e.x-n.right}},set:function(t){let{coords:e,edges:r,interaction:n,state:i}=t,{offset:o,options:s}=i;if(!r)return;let a=sK({},e),l=lX(s.inner,n,a)||{},h=lX(s.outer,n,a)||{};lY(l,lW),lY(h,lH),r.top?e.y=Math.min(Math.max(h.top+o.top,a.y),l.top+o.top):r.bottom&&(e.y=Math.max(Math.min(h.bottom+o.bottom,a.y),l.bottom+o.bottom)),r.left?e.x=Math.min(Math.max(h.left+o.left,a.x),l.left+o.left):r.right&&(e.x=Math.max(Math.min(h.right+o.right,a.x),l.right+o.right))},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};var lK=lr(lG,"restrictEdges");let lJ=sK({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(_){}},lV.defaults);var l0=lr({start:lV.start,set:lV.set,defaults:lJ},"restrictRect");let l1={width:-1/0,height:-1/0},l2={width:1/0,height:1/0};var l3=lr({start:function(t){return lG.start(t)},set:function(t){let{interaction:e,state:r,rect:n,edges:i}=t,{options:o}=r;if(!i)return;let s=s2(lX(o.min,e,t.coords))||l1,a=s2(lX(o.max,e,t.coords))||l2;r.options={endOnly:o.endOnly,inner:sK({},lG.noInner),outer:sK({},lG.noOuter)},i.top?(r.options.inner.top=n.bottom-s.height,r.options.outer.top=n.bottom-a.height):i.bottom&&(r.options.inner.bottom=n.top+s.height,r.options.outer.bottom=n.top+a.height),i.left?(r.options.inner.left=n.right-s.width,r.options.outer.left=n.right-a.width):i.right&&(r.options.inner.right=n.left+s.width,r.options.outer.right=n.left+a.width),lG.set(t),r.options=o},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");let l4={start:function(t){let e;let{interaction:r,interactable:n,element:i,rect:o,state:s,startOffset:a}=t,{options:l}=s,h=l.offsetWithOrigin?function(t){let{element:e}=t.interaction;return s1(s0(t.state.options.origin,null,null,[e]))||s4(t.interactable,e,t.interaction.prepared.name)}(t):{x:0,y:0};"startCoords"===l.offset?e={x:r.coords.start.page.x,y:r.coords.start.page.y}:(e=s1(s0(l.offset,n,i,[r]))||{x:0,y:0},e.x+=h.x,e.y+=h.y);let{relativePoints:c}=l;s.offsets=o&&c&&c.length?c.map((t,r)=>({index:r,relativePoint:t,x:a.left-o.width*t.x+e.x,y:a.top-o.height*t.y+e.y})):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){let{interaction:e,coords:r,state:n}=t,{options:i,offsets:o}=n,s=s4(e.interactable,e.element,e.prepared.name),a=sK({},r),l=[];for(let t of(i.offsetWithOrigin||(a.x-=s.x,a.y-=s.y),o)){let r=a.x-t.x,n=a.y-t.y;for(let o=0,s=i.targets.length;o<s;o++){let s;let a=i.targets[o];(s=sM.func(a)?a(r,n,e._proxy,t,o):a)&&l.push({x:(sM.number(s.x)?s.x:r)+t.x,y:(sM.number(s.y)?s.y:n)+t.y,range:sM.number(s.range)?s.range:i.range,source:a,index:o,offset:t})}}let h={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(let t of l){let e=t.range,r=t.x-a.x,n=t.y-a.y,i=s8(r,n),o=i<=e;e===1/0&&h.inRange&&h.range!==1/0&&(o=!1),(!h.target||(o?h.inRange&&e!==1/0?i/e<h.distance/h.range:e===1/0&&h.range!==1/0||i<h.distance:!h.inRange&&i<h.distance))&&(h.target=t,h.distance=i,h.range=e,h.inRange=o,h.delta.x=r,h.delta.y=n)}return h.inRange&&(r.x=h.target.x,r.y=h.target.y),n.closest=h,h},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};var l5=lr(l4,"snap");let l6={start:function(t){let{state:e,edges:r}=t,{options:n}=e;if(!r)return null;t.state={options:{targets:null,relativePoints:[{x:r.left?0:1,y:r.top?0:1}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],l4.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){let{interaction:e,state:r,coords:n}=t,{options:i,offsets:o}=r,s={x:n.x-o[0].x,y:n.y-o[0].y};for(let t of(r.options=sK({},i),r.options.targets=[],i.targets||[])){let n;if(n=sM.func(t)?t(s.x,s.y,e):t){for(let[t,e]of r.targetFields)if(t in n||e in n){n.x=n[t],n.y=n[e];break}r.options.targets.push(n)}}let a=l4.set(t);return r.options=i,a},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};var l8=lr(l6,"snapSize"),l7=lr({start:function(t){let{edges:e}=t;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],l6.start(t)):null},set:l6.set,defaults:sK(a9(l6.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges");let l9=()=>{};l9._defaults={};var ht={aspectRatio:lF,restrictEdges:lK,restrict:lU,restrictRect:l0,restrictSize:l3,snapEdges:l7,snap:l5,snapSize:l8,spring:l9,avoid:l9,transform:l9,rubberband:l9};class he extends ap{_subtractOrigin(t){let{x:e,y:r}=t;return this.pageX-=e,this.pageY-=r,this.clientX-=e,this.clientY-=r,this}_addOrigin(t){let{x:e,y:r}=t;return this.pageX+=e,this.pageY+=r,this.clientX+=e,this.clientY+=r,this}preventDefault(){this.originalEvent.preventDefault()}constructor(t,e,r,n,i,o){if(super(i),s9(this,r),r!==e&&s9(this,e),this.timeStamp=o,this.originalEvent=r,this.type=t,this.pointerId=ao(e),this.pointerType=au(e),this.target=n,this.currentTarget=null,"tap"===t){let t=i.getPointerIndex(e);this.dt=this.timeStamp-i.pointers[t].downTime;let r=this.timeStamp-i.tapTime;this.double=!!i.prevTap&&"doubletap"!==i.prevTap.type&&i.prevTap.target===this.target&&r<500}else"doubletap"===t&&(this.dt=e.timeStamp-i.tapTime,this.double=!0)}}let hr={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=hr,t.defaults.actions.pointerEvents=hr.defaults,sK(t.actions.phaselessTypes,hr.types)},listeners:{"interactions:new":function(t){let{interaction:e}=t;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){let{down:e,pointerInfo:r}=t;(e||!r.hold)&&(r.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){let{interaction:r,pointer:n,event:i,eventTarget:o,duplicate:s}=t;s||r.pointerIsDown&&!r.pointerWasMoved||(r.pointerIsDown&&ho(t),hn({interaction:r,pointer:n,event:i,eventTarget:o,type:"move"},e))},"interactions:down":(t,e)=>{(function(t,e){let{interaction:r,pointer:n,event:i,eventTarget:o,pointerIndex:s}=t,a=r.pointers[s].hold,l=sY(o),h={interaction:r,pointer:n,event:i,eventTarget:o,type:"hold",targets:[],path:l,node:null};for(let t of l)h.node=t,e.fire("pointerEvents:collect-targets",h);if(!h.targets.length)return;let c=1/0;for(let t of h.targets){let e=t.eventable.options.holdDuration;e<c&&(c=e)}a.duration=c,a.timeout=setTimeout(()=>{hn({interaction:r,eventTarget:o,pointer:n,event:i,type:"hold"},e)},c)})(t,e),hn(t,e)},"interactions:up":(t,e)=>{ho(t),hn(t,e),function(t,e){let{interaction:r,pointer:n,event:i,eventTarget:o}=t;r.pointerWasMoved||hn({interaction:r,eventTarget:o,pointer:n,event:i,type:"tap"},e)}(t,e)},"interactions:cancel":(t,e)=>{ho(t),hn(t,e)}},PointerEvent:he,fire:hn,collectEventTargets:hi,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function hn(t,e){let{interaction:r,pointer:n,event:i,eventTarget:o,type:s,targets:a=hi(t,e)}=t,l=new he(s,n,i,o,r,e.now());e.fire("pointerEvents:new",{pointerEvent:l});for(let t=0;t<a.length;t++){let e=a[t];for(let t in e.props||{})l[t]=e.props[t];let r=s4(e.eventable,e.node);if(l._subtractOrigin(r),l.eventable=e.eventable,l.currentTarget=e.node,e.eventable.fire(l),l._addOrigin(r),l.immediatePropagationStopped||l.propagationStopped&&t+1<a.length&&a[t+1].node!==l.currentTarget)break}if(e.fire("pointerEvents:fired",{interaction:r,pointer:n,event:i,eventTarget:o,targets:a,type:s,pointerEvent:l}),"tap"===s){let t=l.double?hn({interaction:r,pointer:n,event:i,eventTarget:o,type:"doubletap"},e):l;r.prevTap=t,r.tapTime=t.timeStamp}return l}function hi(t,e){let{interaction:r,pointer:n,event:i,eventTarget:o,type:s}=t,a=r.getPointerIndex(n),l=r.pointers[a];if("tap"===s&&(r.pointerWasMoved||!(l&&l.downTarget===o)))return[];let h=sY(o),c={interaction:r,pointer:n,event:i,eventTarget:o,type:s,path:h,targets:[],node:null};for(let t of h)c.node=t,e.fire("pointerEvents:collect-targets",c);return"hold"===s&&(c.targets=c.targets.filter(t=>{var e,n;return t.eventable.options.holdDuration===(null==(e=r.pointers[a])?void 0:null==(n=e.hold)?void 0:n.duration)})),c.targets}function ho(t){let{interaction:e,pointerIndex:r}=t,n=e.pointers[r].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}var hs=/*#__PURE__*/Object.freeze({__proto__:null,default:hr});function ha(t){let{interaction:e}=t;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}let hl={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(hr);let{pointerEvents:e}=t;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((t,e)=>(t[`pointerEvents:${e}`]=ha,t),{"pointerEvents:new":function(t){let{pointerEvent:e}=t;"hold"===e.type&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){let{interaction:r,pointerEvent:n,eventTarget:i,targets:o}=t;if("hold"!==n.type||!o.length)return;let s=o[0].eventable.options.holdRepeatInterval;s<=0||(r.holdIntervalHandle=setTimeout(()=>{e.pointerEvents.fire({interaction:r,eventTarget:i,type:"hold",pointer:n,event:n},e)},s))}})},hh={id:"pointer-events/interactableTargets",install:function(t){let{Interactable:e}=t;e.prototype.pointerEvents=function(t){return sK(this.events.options,t),this};let r=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){let n=r.call(this,t,e);return n===this&&(this.events.options[t]=e),n}},listeners:{"pointerEvents:collect-targets":(t,e)=>{let{targets:r,node:n,type:i,eventTarget:o}=t;e.interactables.forEachMatch(n,t=>{let e=t.events,s=e.options;e.types[i]&&e.types[i].length&&t.testIgnoreAllow(s,n,o)&&r.push({node:n,eventable:e,props:{interactable:t}})})},"interactable:new":t=>{let{interactable:e}=t;e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":(t,e)=>{let{interactable:r,options:n}=t;sK(r.events.options,e.pointerEvents.defaults),sK(r.events.options,n.pointerEvents||{})}}};lq.use(a2),lq.use(lm),lq.use({id:"pointer-events",install(t){t.usePlugin(hs),t.usePlugin(hl),t.usePlugin(hh)}}),lq.use({id:"inertia",before:["modifiers","actions"],install:function(t){let{defaults:e}=t;t.usePlugin(lm),t.usePlugin(li),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":t=>{let{interaction:e}=t;e.inertia=new lv(e)},"interactions:before-action-end":function(t){let{interaction:e,event:r}=t;return!e._interacting||e.simulation?null:!e.inertia.start(r)&&null},"interactions:down":function(t){let{interaction:e,eventTarget:r}=t,n=e.inertia;if(!n.active)return;let i=r;for(;sM.element(i);){if(i===e.element){n.resume(t);break}i=sz(i)}},"interactions:stop":function(t){let{interaction:e}=t,r=e.inertia;r.active&&r.stop()},"interactions:before-action-resume":t=>{let{modification:e}=t.interaction;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":t=>t.interaction.modification.setAndApply(t),"interactions:action-resume":ln,"interactions:action-inertiastart":ln,"interactions:after-action-inertiastart":t=>t.interaction.modification.restoreInteractionCoords(t),"interactions:after-action-resume":t=>t.interaction.modification.restoreInteractionCoords(t)}}),lq.use({id:"modifiers",install(t){let{interactStatic:e}=t;for(let r in t.usePlugin(li),t.usePlugin(lj),e.modifiers=ht,ht){let{_defaults:e,_methods:n}=ht[r];e._methods=n,t.defaults.perAction[r]=e}}}),lq.use({id:"auto-start",install(t){t.usePlugin(aY),t.usePlugin(aJ),t.usePlugin(aG)}}),lq.use({id:"actions",install(t){t.usePlugin(aT),t.usePlugin(aI),t.usePlugin(sL),t.usePlugin(aA)}}),lq.use(a$),lq.use({id:"reflow",install:function(t){let{Interactable:e}=t;t.actions.phases.reflow=!0,e.prototype.reflow=function(e){return function(t,e,r){let n=t.getAllElements(),i=r.window.Promise,o=i?[]:null;for(let s of n){let n;let a=t.getRect(s);if(!a)break;let l=ab(r.interactions.list,r=>r.interacting()&&r.interactable===t&&r.element===s&&r.prepared.name===e.name);if(l)l.move(),o&&(n=l._reflowPromise||new i(t=>{l._reflowResolve=t}));else{let i=s2(a),o={coords:{page:{x:i.x,y:i.y},client:{x:i.x,y:i.y},timeStamp:r.now()},get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault(){}};n=function(t,e,r,n,i){let o=t.interactions.new({pointerType:"reflow"}),s={interaction:o,event:i,pointer:i,eventTarget:r,phase:"reflow"};o.interactable=e,o.element=r,o.prevEvent=i,o.updatePointer(i,i,r,!0),ae(o.coords.delta),aQ(o.prepared,n),o._doPhase(s);let{Promise:a}=t.window,l=a?new a(t=>{o._reflowResolve=t}):void 0;return o._reflowPromise=l,o.start(n,e,r),o._interacting?(o.move(s),o.end(i)):(o.stop(),o._reflowResolve()),o.removePointer(i,i),l}(r,t,s,e,o)}o&&o.push(n)}return o&&i.all(o).then(()=>t)}(this,e,t)}},listeners:{"interactions:stop":(t,e)=>{let{interaction:r}=t;"reflow"===r.pointerType&&(r._reflowResolve&&r._reflowResolve(),ag(e.interactions.list,r))}}}),lq.use({id:"dev-tools",install:function(t){let{logger:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{Interactable:r,defaults:n}=t;t.logger=e||console,n.base.devTools={ignore:{}},r.prototype.devTools=function(t){return t?(sK(this.options.devTools,t),this):this.options.devTools};let{_onOff:i}=r.prototype;r.prototype._onOff=function(e,r,n,o,s){if(sM.string(this.target)||this.target.addEventListener)return i.call(this,e,r,n,o,s);sM.object(r)&&!sM.array(r)&&(o=n,n=null);let a=s5(r,n,s);for(let e in a)a3(e,t.actions)||t.logger.warn(a5+`Can't add native "${e}" event listener to target without \`addEventListener(type, listener, options)\` prop.`);return i.call(this,e,a,o)}},listeners:{"interactions:action-start":(t,e)=>{let{interaction:r}=t;for(let t of a8){let n=r.interactable&&r.interactable.options;!(n&&n.devTools&&n.devTools.ignore[t.name])&&t.perform(r)&&e.logger.warn(a5+t.text,...t.getInfo(r))}}},checks:a8,CheckName:a4,links:a6,prefix:a5}),lq.default=lq;var hc={};hc="#container{z-index:101;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:fixed;top:0;left:0}#container.modal{pointer-events:all;background-color:#3a474d}";class hu{showDialog(t){return new Promise(e=>{let r=this.dialogs.find(e=>e.id==t);if(console.log(r),r){for(let e of this.dialogs.filter(e=>e.id!=t&&(!r.group||e.group&&r.group.some(t=>0>e.group.indexOf(t)))))console.log("Not supposed to close"),e.close();r.modal?this.element.container.classList.add("modal"):this.element.container.classList.remove("modal"),this.element.container.style.display="flex",r.show(e)}})}close(t,e){let r=this.dialogs.find(e=>e.id==t);r&&r.close(e)}constructor(t){this.element=t,this.dialogs=[]}}let hd=class extends ns{firstUpdated(t){this.container=this.shadowRoot.querySelector("#container")}show(t){this.service.showDialog(t)}close(t,e){this.service.close(t,e)}render(){return rL`<div class="container">
            <slot></slot>
            </div>`}constructor(){super(),"interact"in window||(window.interact=lq),this.service=new hu(this)}};hd.styles=e0(/*@__PURE__*/ew(hc)),hd=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}([eF("juel-dialog-manager")],hd);var hf={};function hp(t){var e=$(t.target),r=(parseFloat(e.data("x"))||0)+t.dx,n=(parseFloat(e.data("y"))||0)+t.dy;e.css("transform",`translate(${r}px, ${n}px)`),e.data("x",r),e.data("y",n)}hf=".dialog{z-index:101;background-color:#fff;border-radius:4px;flex-direction:column;width:fit-content;max-height:100%;display:none;position:absolute;top:50%;left:50%;overflow:hidden;box-shadow:0 22px 64px rgba(0,0,0,.22)}.dialog.shown{display:flex}.dialog.initial{transform:translate(-50%)translateY(-50%)}::slotted(:not(juel-dialog)){display:block!important}@media (max-device-width:600px){.dialog-body{width:100%;height:100%;box-shadow:initial}}.dialog-body{padding:1.25rem}.titlebar{background-color:rgba(243,245,247,.56);border-bottom:none;padding:.6875rem 1.25rem;font-size:1.25rem;line-height:1.875rem}.titlebar .close{float:right;background-image:var(--icon-close);color:#fff;text-align:center;cursor:pointer;background-position:50%;background-repeat:no-repeat;border:none;border-radius:50%;width:25px;height:25px;margin-top:3%;line-height:50px}.titlebar .close:hover{background-color:#cfcfcf;box-shadow:0 0 0 6px #cfcfcf}";var hg=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hm=class extends na{firstUpdated(t){if(this.ondragstart=t=>t.preventDefault(),"addItem"in this.parentElement){if(this.parentElement.addItem(this),this.trigger){let t=document.querySelector(this.trigger);if(console.log(t),t){let e=this;t.addEventListener("click",()=>{e.show()})}}!ej()&&this.draggable?lq(this.dialog.value).draggable({inertia:!0,allowFrom:".titlebar",listeners:{move:t=>{let e,r;var n=$(t.target);{let i=n.position();e=(parseFloat(n.data("x"))||i.left)+t.dx,r=(parseFloat(n.data("y"))||i.top)+t.dy}n.css("left",`${e}px`),n.css("top",`${r}px`),n.data("x",e),n.data("y",r)},start:t=>{this.initial=!1},end(t){}}}):this.location&&this.size&&"top"===this.location&&(this.style.top=`calc(var(--vh) * -${this.size})`,this.style.height=`calc(var(--vh) * ${this.size})`)}}show(){this.shown=!0}close(){this.shown=!1}render(){let t={dialog:!0,shown:this.shown,initial:this.initial};return rL`<div part="dialog" class="${sl(t)}" ondragstart="event.preventDefault()" ${nS(this.dialog)}>
                        <div part="dialog-title" class="titlebar">
                            <slot name="title"><span>${this.title}</span></slot>
                            <div class="close" @click="${this.close}"></div>
                        </div>
                        <div part="dialog-body" class="dialog-body">
                            <slot></slot>
                        </div>
                    </div>`}constructor(){super(...arguments),this.model=!1,this.draggable=!1,this.dialog=nx(),this.initial=!0}};hm.styles=e0(/*@__PURE__*/ew(hf)),hg([ru()],hm.prototype,"title",void 0),hg([ru()],hm.prototype,"location",void 0),hg([ru()],hm.prototype,"size",void 0),hg([ru()],hm.prototype,"trigger",void 0),hg([ru({converter:sw()})],hm.prototype,"group",void 0),hg([ru()],hm.prototype,"model",void 0),hg([ru()],hm.prototype,"draggable",void 0),hg([rd()],hm.prototype,"shown",void 0),hg([rd()],hm.prototype,"initial",void 0),hm=hg([eF("juel-dialog")],hm);var hv={};hv="@keyframes move-down{0%{transform:translateY(-50px)}to{transform:translateY(0)}}.modal{background:rgba(0,0,0,.5);justify-content:center;align-items:center;width:100vw;height:100vh;display:none;position:fixed;top:0;left:0}.modal.open{display:flex}.modal.open .container{animation:.6s ease-out move-down}.container{background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;width:90%;max-width:450px;position:relative}.header{border-bottom:1px solid #dee2e6;flex-shrink:0;justify-content:space-between;align-items:center;padding:1rem;display:flex}.content{pointer-events:auto;background-color:#fff;background-clip:padding-box;outline:0;flex-direction:column;padding:1rem;display:flex;position:relative}.close{cursor:pointer;background-image:var(--icon-close);opacity:.5;background-position:50%;background-repeat:no-repeat;width:26px;height:26px;margin-top:3%}.close:hover{opacity:1}::slotted(h1){margin:0}::slotted(h2){margin:0}::slotted(h3){margin:0}::slotted(h4){margin:0}::slotted(h5){margin:0}::slotted(h6){margin:0}";var hy=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hb=class extends r5{load(){this.trigger&&$(this.trigger).on("click",()=>{this.open()})}open(){$(this.shadowRoot.querySelector(".modal")).addClass("open")}close(){$(this.shadowRoot.querySelector(".modal")).removeClass("open")}render(){return rL`<div class="modal">
            <div class="container">
            <div class="header"><slot name="title"></slot><span class="close" @click="${this.close}"></span></div>
            <div class="content">
            <slot></slot>
            </div>
            </div>
        </div>`}};hb.styles=e0(/*@__PURE__*/ew(hv)),hy([ru()],hb.prototype,"trigger",void 0),hb=hy([eF("juel-modal")],hb);var hO={};hO='.icon{display:inline-block;-webkit-mask-position:50%;mask-position:50%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.icon.lg{width:48px;height:48px}.icon.sm{width:16px;height:16px}.icon.md{width:32px;height:32px}.primary{background-color:var(--background-color,var(--primary));color:var(--color,white);border:1px solid var(--background-color,var(--primary))}.primary.alert{background-color:var(--background-color,#a3cfff);color:var(--color,var(--primary))!important}.primary .icon:not(.empty){background-color:var(--color,white)}.primary:hover{background-color:var(--hover-background-color,var(--color,#a3cfff));color:var(--hover-color,white);border-color:var(--hover-border-color,#a3cfff)}.primary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.primary:active{box-shadow:0 0 10px var(--background-color,var(--primary))}.primary.outline{background-color:initial;color:var(--background-color,var(--primary));border-color:var(--background-color,var(--primary))}.primary.outline:hover{background-color:var(--background-color,var(--primary));color:var(--color,white)}.primary.right-rounded{border-right:1px solid var(--background-color,var(--primary))}.primary.left-rounded{border-left:1px solid var(--background-color,var(--primary))}.primary-border{border:1px solid var(--background-color,#004a99)}.secondary{background-color:var(--background-color,var(--secondary));color:var(--color,white);border:1px solid var(--background-color,var(--secondary))}.secondary.alert{background-color:var(--background-color,#c2c6ca);color:var(--color,var(--secondary))!important}.secondary .icon:not(.empty){background-color:var(--color,white)}.secondary:hover{background-color:var(--hover-background-color,var(--color,#c2c6ca));color:var(--hover-color,white);border-color:var(--hover-border-color,#c2c6ca)}.secondary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.secondary:active{box-shadow:0 0 10px var(--background-color,var(--secondary))}.secondary.outline{background-color:initial;color:var(--background-color,var(--secondary));border-color:var(--background-color,var(--secondary))}.secondary.outline:hover{background-color:var(--background-color,var(--secondary));color:var(--color,white)}.secondary.right-rounded{border-right:1px solid var(--background-color,var(--secondary))}.secondary.left-rounded{border-left:1px solid var(--background-color,var(--secondary))}.secondary-border{border:1px solid var(--background-color,#3d4246)}.tertiary{background-color:var(--background-color,var(--tertiary));color:var(--color,white);border:1px solid var(--background-color,var(--tertiary))}.tertiary.alert{background-color:var(--background-color,#fff);color:var(--color,var(--tertiary))!important}.tertiary .icon:not(.empty){background-color:var(--color,white)}.tertiary:hover{background-color:var(--hover-background-color,var(--color,#fff));color:var(--hover-color,white);border-color:var(--hover-border-color,#fff)}.tertiary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.tertiary:active{box-shadow:0 0 10px var(--background-color,var(--tertiary))}.tertiary.outline{background-color:initial;color:var(--background-color,var(--tertiary));border-color:var(--background-color,var(--tertiary))}.tertiary.outline:hover{background-color:var(--background-color,var(--tertiary));color:var(--color,white)}.tertiary.right-rounded{border-right:1px solid var(--background-color,var(--tertiary))}.tertiary.left-rounded{border-left:1px solid var(--background-color,var(--tertiary))}.tertiary-border{border:1px solid var(--background-color,#f7270f)}.light{background-color:var(--background-color,var(--light));color:var(--color,black);border:1px solid var(--background-color,var(--light))}.light.alert{background-color:var(--background-color,#99a7b6);color:var(--color,var(--light))!important}.light .icon:not(.empty){background-color:var(--color,black)}.light:hover{background-color:var(--hover-background-color,var(--color,#99a7b6));color:var(--hover-color,black);border-color:var(--hover-border-color,#99a7b6)}.light:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,black))}.light:active{box-shadow:0 0 10px var(--background-color,var(--light))}.light.outline{background-color:initial;color:var(--background-color,var(--light));border-color:var(--background-color,var(--light))}.light.outline:hover{background-color:var(--background-color,var(--light));color:var(--color,black)}.light.right-rounded{border-right:1px solid var(--background-color,var(--light))}.light.left-rounded{border-left:1px solid var(--background-color,var(--light))}.light-border{border:1px solid var(--background-color,#bcc6cf)}.dark{background-color:var(--background-color,var(--dark));color:var(--color,white);border:1px solid var(--background-color,var(--dark))}.dark.alert{background-color:var(--background-color,#808c98);color:var(--color,var(--dark))!important}.dark .icon:not(.empty){background-color:var(--color,white)}.dark:hover{background-color:var(--hover-background-color,var(--color,#808c98));color:var(--hover-color,white);border-color:var(--hover-border-color,#808c98)}.dark:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.dark:active{box-shadow:0 0 10px var(--background-color,var(--dark))}.dark.outline{background-color:initial;color:var(--background-color,var(--dark));border-color:var(--background-color,var(--dark))}.dark.outline:hover{background-color:var(--background-color,var(--dark));color:var(--color,white)}.dark.right-rounded{border-right:1px solid var(--background-color,var(--dark))}.dark.left-rounded{border-left:1px solid var(--background-color,var(--dark))}.dark-border{border:1px solid var(--background-color,#060708)}.success{background-color:var(--background-color,var(--success));color:var(--color,white);border:1px solid var(--background-color,var(--success))}.success.alert{background-color:var(--background-color,#8ee4a2);color:var(--color,var(--success))!important}.success .icon:not(.empty){background-color:var(--color,white)}.success:hover{background-color:var(--hover-background-color,var(--color,#8ee4a2));color:var(--hover-color,white);border-color:var(--hover-border-color,#8ee4a2)}.success:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.success:active{box-shadow:0 0 10px var(--background-color,var(--success))}.success.outline{background-color:initial;color:var(--background-color,var(--success));border-color:var(--background-color,var(--success))}.success.outline:hover{background-color:var(--background-color,var(--success));color:var(--color,white)}.success.right-rounded{border-right:1px solid var(--background-color,var(--success))}.success.left-rounded{border-left:1px solid var(--background-color,var(--success))}.success-border{border:1px solid var(--background-color,#145523)}.info{background-color:var(--background-color,var(--info));color:var(--color,white);border:1px solid var(--background-color,var(--info))}.info.alert{background-color:var(--background-color,#83e1ef);color:var(--color,var(--info))!important}.info .icon:not(.empty){background-color:var(--color,white)}.info:hover{background-color:var(--hover-background-color,var(--color,#83e1ef));color:var(--hover-color,white);border-color:var(--hover-border-color,#83e1ef)}.info:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.info:active{box-shadow:0 0 10px var(--background-color,var(--info))}.info.outline{background-color:initial;color:var(--background-color,var(--info));border-color:var(--background-color,var(--info))}.info.outline:hover{background-color:var(--background-color,var(--info));color:var(--color,white)}.info.right-rounded{border-right:1px solid var(--background-color,var(--info))}.info.left-rounded{border-left:1px solid var(--background-color,var(--info))}.info-border{border:1px solid var(--background-color,#0c525d)}.warning{background-color:var(--background-color,var(--warning));color:var(--color,black);border:1px solid var(--background-color,var(--warning))}.warning.alert{background-color:var(--background-color,#634a00);color:var(--color,var(--warning))!important}.warning .icon:not(.empty){background-color:var(--color,black)}.warning:hover{background-color:var(--hover-background-color,var(--color,#634a00));color:var(--hover-color,black);border-color:var(--hover-border-color,#634a00)}.warning:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,black))}.warning:active{box-shadow:0 0 10px var(--background-color,var(--warning))}.warning.outline{background-color:initial;color:var(--background-color,var(--warning));border-color:var(--background-color,var(--warning))}.warning.outline:hover{background-color:var(--background-color,var(--warning));color:var(--color,black)}.warning.right-rounded{border-right:1px solid var(--background-color,var(--warning))}.warning.left-rounded{border-left:1px solid var(--background-color,var(--warning))}.warning-border{border:1px solid var(--background-color,#a07800)}.danger{background-color:var(--background-color,var(--danger));color:var(--color,white);border:1px solid var(--background-color,var(--danger))}.danger.alert{background-color:var(--background-color,#f4c0c5);color:var(--color,var(--danger))!important}.danger .icon:not(.empty){background-color:var(--color,white)}.danger:hover{background-color:var(--hover-background-color,var(--color,#f4c0c5));color:var(--hover-color,white);border-color:var(--hover-border-color,#f4c0c5)}.danger:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.danger:active{box-shadow:0 0 10px var(--background-color,var(--danger))}.danger.outline{background-color:initial;color:var(--background-color,var(--danger));border-color:var(--background-color,var(--danger))}.danger.outline:hover{background-color:var(--background-color,var(--danger));color:var(--color,white)}.danger.right-rounded{border-right:1px solid var(--background-color,var(--danger))}.danger.left-rounded{border-left:1px solid var(--background-color,var(--danger))}.danger-border{border:1px solid var(--background-color,#921925)}:host{border-radius:4px;padding:16px;transition:opacity .3s;display:block;position:relative}:host([hidden]){display:none}.alert{align-items:flex-start;gap:12px;padding:8px;display:flex}.icon-slot{flex-shrink:0}.content{flex-grow:1}.title{margin-bottom:4px;font-weight:700}.close-button{cursor:pointer;background-color:rgba(255,255,255,.8);border:none;border-radius:50%;justify-content:center;align-items:center;width:32px;height:32px;transition:background-color .2s;display:flex;position:absolute;top:8px;right:8px}.close-button:hover{background-color:#fff}.close-button:focus{outline:2px solid rgba(0,0,0,.2)}.close-button:after{content:"";width:16px;height:16px;-webkit-mask-image:var(--icon-close);-webkit-mask-image:var(--icon-close);mask-image:var(--icon-close);-webkit-mask-position:50%;mask-position:50%;-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-image:var(--icon-close);background-color:var(--dark,black);-webkit-mask-position:50%;-webkit-mask-size:contain;-webkit-mask-repeat:no-repeat}';var hw=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hx=class extends r0{_handleClose(){this._visible=!1,this.requestUpdate()}updated(t){super.updated(t),this._visible||this.setAttribute("hidden","")}render(){if(!this._visible)return rL``;let t=`alert ${this.type}`;return this.renderStyle&&(t+=` ${this.renderStyle}`),rL`
      <div class="${t}">
        ${this.icon?rL`<slot name="icon" class="icon-slot"></slot>`:""}
        <div class="content">
          ${this.title?rL`<div class="title">${this.title}</div>`:""}
          <slot></slot>
        </div>
        ${this.closeable?rL`<button class="close-button" @click="${this._handleClose}"></button>`:""}
      </div>
    `}constructor(){super(...arguments),this.title="",this.closeable=!1,this.icon=!1,this.elevation=0,this.dense=!1,this._visible=!0}};hx.styles=e0(/*@__PURE__*/ew(hO)),hw([ru({type:String})],hx.prototype,"title",void 0),hw([ru({type:Boolean})],hx.prototype,"closeable",void 0),hw([ru({type:Boolean})],hx.prototype,"icon",void 0),hw([ru()],hx.prototype,"type",void 0),hw([ru({attribute:"render-style"})],hx.prototype,"renderStyle",void 0),hw([ru({type:Number})],hx.prototype,"elevation",void 0),hw([ru({type:Boolean})],hx.prototype,"dense",void 0),hx=hw([eF("juel-alert")],hx);var h_={};h_=".primary{background-color:var(--background-color,var(--primary));color:var(--color,white);border:1px solid var(--background-color,var(--primary))}.primary.alert{background-color:var(--background-color,#a3cfff);color:var(--color,var(--primary))!important}.primary .icon:not(.empty){background-color:var(--color,white)}.primary:hover{background-color:var(--hover-background-color,var(--color,#a3cfff));color:var(--hover-color,white);border-color:var(--hover-border-color,#a3cfff)}.primary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.primary:active{box-shadow:0 0 10px var(--background-color,var(--primary))}.primary.outline{background-color:initial;color:var(--background-color,var(--primary));border-color:var(--background-color,var(--primary))}.primary.outline:hover{background-color:var(--background-color,var(--primary));color:var(--color,white)}.primary.right-rounded{border-right:1px solid var(--background-color,var(--primary))}.primary.left-rounded{border-left:1px solid var(--background-color,var(--primary))}.primary-border{border:1px solid var(--background-color,#004a99)}.secondary{background-color:var(--background-color,var(--secondary));color:var(--color,white);border:1px solid var(--background-color,var(--secondary))}.secondary.alert{background-color:var(--background-color,#c2c6ca);color:var(--color,var(--secondary))!important}.secondary .icon:not(.empty){background-color:var(--color,white)}.secondary:hover{background-color:var(--hover-background-color,var(--color,#c2c6ca));color:var(--hover-color,white);border-color:var(--hover-border-color,#c2c6ca)}.secondary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.secondary:active{box-shadow:0 0 10px var(--background-color,var(--secondary))}.secondary.outline{background-color:initial;color:var(--background-color,var(--secondary));border-color:var(--background-color,var(--secondary))}.secondary.outline:hover{background-color:var(--background-color,var(--secondary));color:var(--color,white)}.secondary.right-rounded{border-right:1px solid var(--background-color,var(--secondary))}.secondary.left-rounded{border-left:1px solid var(--background-color,var(--secondary))}.secondary-border{border:1px solid var(--background-color,#3d4246)}.tertiary{background-color:var(--background-color,var(--tertiary));color:var(--color,white);border:1px solid var(--background-color,var(--tertiary))}.tertiary.alert{background-color:var(--background-color,#fff);color:var(--color,var(--tertiary))!important}.tertiary .icon:not(.empty){background-color:var(--color,white)}.tertiary:hover{background-color:var(--hover-background-color,var(--color,#fff));color:var(--hover-color,white);border-color:var(--hover-border-color,#fff)}.tertiary:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.tertiary:active{box-shadow:0 0 10px var(--background-color,var(--tertiary))}.tertiary.outline{background-color:initial;color:var(--background-color,var(--tertiary));border-color:var(--background-color,var(--tertiary))}.tertiary.outline:hover{background-color:var(--background-color,var(--tertiary));color:var(--color,white)}.tertiary.right-rounded{border-right:1px solid var(--background-color,var(--tertiary))}.tertiary.left-rounded{border-left:1px solid var(--background-color,var(--tertiary))}.tertiary-border{border:1px solid var(--background-color,#f7270f)}.light{background-color:var(--background-color,var(--light));color:var(--color,black);border:1px solid var(--background-color,var(--light))}.light.alert{background-color:var(--background-color,#99a7b6);color:var(--color,var(--light))!important}.light .icon:not(.empty){background-color:var(--color,black)}.light:hover{background-color:var(--hover-background-color,var(--color,#99a7b6));color:var(--hover-color,black);border-color:var(--hover-border-color,#99a7b6)}.light:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,black))}.light:active{box-shadow:0 0 10px var(--background-color,var(--light))}.light.outline{background-color:initial;color:var(--background-color,var(--light));border-color:var(--background-color,var(--light))}.light.outline:hover{background-color:var(--background-color,var(--light));color:var(--color,black)}.light.right-rounded{border-right:1px solid var(--background-color,var(--light))}.light.left-rounded{border-left:1px solid var(--background-color,var(--light))}.light-border{border:1px solid var(--background-color,#bcc6cf)}.dark{background-color:var(--background-color,var(--dark));color:var(--color,white);border:1px solid var(--background-color,var(--dark))}.dark.alert{background-color:var(--background-color,#808c98);color:var(--color,var(--dark))!important}.dark .icon:not(.empty){background-color:var(--color,white)}.dark:hover{background-color:var(--hover-background-color,var(--color,#808c98));color:var(--hover-color,white);border-color:var(--hover-border-color,#808c98)}.dark:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.dark:active{box-shadow:0 0 10px var(--background-color,var(--dark))}.dark.outline{background-color:initial;color:var(--background-color,var(--dark));border-color:var(--background-color,var(--dark))}.dark.outline:hover{background-color:var(--background-color,var(--dark));color:var(--color,white)}.dark.right-rounded{border-right:1px solid var(--background-color,var(--dark))}.dark.left-rounded{border-left:1px solid var(--background-color,var(--dark))}.dark-border{border:1px solid var(--background-color,#060708)}.success{background-color:var(--background-color,var(--success));color:var(--color,white);border:1px solid var(--background-color,var(--success))}.success.alert{background-color:var(--background-color,#8ee4a2);color:var(--color,var(--success))!important}.success .icon:not(.empty){background-color:var(--color,white)}.success:hover{background-color:var(--hover-background-color,var(--color,#8ee4a2));color:var(--hover-color,white);border-color:var(--hover-border-color,#8ee4a2)}.success:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.success:active{box-shadow:0 0 10px var(--background-color,var(--success))}.success.outline{background-color:initial;color:var(--background-color,var(--success));border-color:var(--background-color,var(--success))}.success.outline:hover{background-color:var(--background-color,var(--success));color:var(--color,white)}.success.right-rounded{border-right:1px solid var(--background-color,var(--success))}.success.left-rounded{border-left:1px solid var(--background-color,var(--success))}.success-border{border:1px solid var(--background-color,#145523)}.info{background-color:var(--background-color,var(--info));color:var(--color,white);border:1px solid var(--background-color,var(--info))}.info.alert{background-color:var(--background-color,#83e1ef);color:var(--color,var(--info))!important}.info .icon:not(.empty){background-color:var(--color,white)}.info:hover{background-color:var(--hover-background-color,var(--color,#83e1ef));color:var(--hover-color,white);border-color:var(--hover-border-color,#83e1ef)}.info:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.info:active{box-shadow:0 0 10px var(--background-color,var(--info))}.info.outline{background-color:initial;color:var(--background-color,var(--info));border-color:var(--background-color,var(--info))}.info.outline:hover{background-color:var(--background-color,var(--info));color:var(--color,white)}.info.right-rounded{border-right:1px solid var(--background-color,var(--info))}.info.left-rounded{border-left:1px solid var(--background-color,var(--info))}.info-border{border:1px solid var(--background-color,#0c525d)}.warning{background-color:var(--background-color,var(--warning));color:var(--color,black);border:1px solid var(--background-color,var(--warning))}.warning.alert{background-color:var(--background-color,#634a00);color:var(--color,var(--warning))!important}.warning .icon:not(.empty){background-color:var(--color,black)}.warning:hover{background-color:var(--hover-background-color,var(--color,#634a00));color:var(--hover-color,black);border-color:var(--hover-border-color,#634a00)}.warning:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,black))}.warning:active{box-shadow:0 0 10px var(--background-color,var(--warning))}.warning.outline{background-color:initial;color:var(--background-color,var(--warning));border-color:var(--background-color,var(--warning))}.warning.outline:hover{background-color:var(--background-color,var(--warning));color:var(--color,black)}.warning.right-rounded{border-right:1px solid var(--background-color,var(--warning))}.warning.left-rounded{border-left:1px solid var(--background-color,var(--warning))}.warning-border{border:1px solid var(--background-color,#a07800)}.danger{background-color:var(--background-color,var(--danger));color:var(--color,white);border:1px solid var(--background-color,var(--danger))}.danger.alert{background-color:var(--background-color,#f4c0c5);color:var(--color,var(--danger))!important}.danger .icon:not(.empty){background-color:var(--color,white)}.danger:hover{background-color:var(--hover-background-color,var(--color,#f4c0c5));color:var(--hover-color,white);border-color:var(--hover-border-color,#f4c0c5)}.danger:hover .icon:not(.empty){background-color:var(--hover-color,var(--color,white))}.danger:active{box-shadow:0 0 10px var(--background-color,var(--danger))}.danger.outline{background-color:initial;color:var(--background-color,var(--danger));border-color:var(--background-color,var(--danger))}.danger.outline:hover{background-color:var(--background-color,var(--danger));color:var(--color,white)}.danger.right-rounded{border-right:1px solid var(--background-color,var(--danger))}.danger.left-rounded{border-left:1px solid var(--background-color,var(--danger))}.danger-border{border:1px solid var(--background-color,#921925)}.position{position:absolute}.position.outside{z-index:1000}.position.n{top:0}.position.n.outside{transform:translateY(-50%)}.position.ne{top:0;right:0}.position.ne.outside{transform:translate(50%,-50%)}.position.e{right:0}.position.e.outside{transform:translate(50%)}.position.se{bottom:0;right:0}.position.se.outside{transform:translate(50%,50%)}.position.s{bottom:0}.position.s.outside{transform:translateY(50%)}.position.sw{bottom:0;left:0}.position.sw.outside{transform:translate(-50%,50%)}.position.w{left:0}.position.w.outside{transform:translate(-50%)}.position.nw{top:0;left:0}.position.nw.outside{transform:translate(-50%,-50%)}#root{color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;padding:.35em .65em;font-size:.75em;font-weight:700;line-height:1;display:inline-block}",(Qy=Bu||(Bu={})).North="n",Qy.NorthEast="ne",Qy.East="e",Qy.SouthEast="se",Qy.South="s",Qy.SouthWest="sw",Qy.West="w",Qy.NorthWest="nw";var hk=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hS=class extends r5{render(){let t=this.type;return this.renderStyle!=Ba.Default&&(t+=` ${this.renderStyle}`),this.position&&(t+=` position outside ${this.position}`),rL`<span id="root" class="${t}"><slot>${this.label}<slot></span>`}constructor(){super(),this.type=Q5.Primary,this.renderStyle=Ba.Default,this.position=Bu.NorthEast}};hS.styles=e0(/*@__PURE__*/ew(h_)),hk([ru()],hS.prototype,"label",void 0),hk([ru()],hS.prototype,"type",void 0),hk([ru({attribute:"render-style"})],hS.prototype,"renderStyle",void 0),hk([ru()],hS.prototype,"position",void 0),hS=hk([eF("juel-badge")],hS);var hC=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hA=class extends r5{slotChange(t){!function t(e,r){for(let n of e){r(lq(n));let e=n.children;if(e&&0!=e.length)for(let n of e)t([n],r)}}(this.elements,t=>{t.draggable({listeners:{move:hp}})})}render(){return rL`<div>
            <slot @slotchange="${this.slotChange}"></slot>
        <div>`}constructor(){super(),"interact"in window||(window.interact=lq)}};hC([rp()],hA.prototype,"elements",void 0),hA=hC([eF("juel-draggable")],hA);var hE={};hE=":host{display:inline-flex;position:relative}*{height:100%}.container{perspective:1000px;background-color:transparent;border:1px solid #f1f1f1;width:300px;height:200px}#inner{text-align:center;width:100%;height:100%;transform-style:preserve-3d;transition:transform .8s;position:relative}#inner .front,#inner .back{backface-visibility:hidden;width:100%;height:100%}#inner.flip:not(.vertical){transform:rotateY(180deg)}#inner.flip.vertical,#inner.vertical .back{transform:rotateX(180deg)}.front{position:relative}.back{position:absolute;top:0;transform:rotateY(180deg)}::slotted(*){width:100%;height:100%}";var hT=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hP=class extends r5{init(){let t;switch(this.trigger){case"click":t="click";break;case"hover":t="mouseenter"}$(this.shadowRoot.getElementById("container")).off().on(t,()=>{let t=this.shadowRoot.getElementById("inner");this.vertical&&t.classList.add("vertical"),t.classList.toggle("flip")})}ready(){this.init()}render(){return rL` <div id="container">
        <div id="inner">
          <div class="front" part="front">
            <slot name="front"></front>>
          </div>
          <div class="back" part="back">
            <slot name="back"></slot>
          </div>
        </div>
      </div> `}constructor(){super(),this.vertical=!1,this.trigger="click"}};hP.styles=e0(/*@__PURE__*/ew(hE)),hT([ru({type:Boolean})],hP.prototype,"vertical",void 0),hT([ru()],hP.prototype,"trigger",void 0),hP=hT([eF("juel-flip")],hP);var hI={};function hR(t){try{let e=new URL(t).hostname.toLowerCase();if(["youtube.com","youtu.be","vimeo.com","dailymotion.com"].some(t=>e.includes(t)))return{type:"video",platform:e};if(["soundcloud.com","spotify.com","bandcamp.com"].some(t=>e.includes(t)))return{type:"audio",platform:e}}catch(t){}let e=t.match(/\.([a-z0-9]+)$/i);if(e){let t=e[1].toLowerCase();if(["mp4","mkv","avi","mov","webm","flv","wmv"].includes(t))return{type:"video"};if(["mp3","wav","ogg","flac","aac","m4a"].includes(t))return{type:"audio"}}return{type:"image"}}hI=":host{width:100%;height:100%;position:absolute}#container.background{position:absolute;top:0;bottom:0;left:0;right:0}#container.background video{object-fit:var(--object-fit,cover);width:100%;height:100%}#container.background div{background-size:var(--background-size,unset);background-position:var(--background-position,unset);width:100%;height:100%}";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let hM=(t,e,r)=>{for(let r of e)if(r[0]===t)return(0,r[1])();return null==r?void 0:r()};var hN=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hD=class extends r5{attributeChangedCallback(t,e,r){if("src"==t&&r&&r.includes(" ")){let t=r.split(" ");this.index=Math.floor(Math.random()*t.length)}super.attributeChangedCallback(t,e,r)}getSrc(){return this.src.includes(" ")?this.src.split(" ")[this.index]:this.src}render(){let t,e;if(this.src.includes(" ")?(t=this.src.split(" "),this.sourceType=hR(t[0])):this.sourceType=hR(this.src),console.log(this.sourceType),this.src){let t=new Image;t.src=t.src}let r={background:this.background};return this.src.includes(" ")&&this.blend&&(e={"background-image":(t=this.src.split(" ")).map(t=>`url(${t})`).join(", "),"background-blend-mode":`${this.blend}`}),rL`<div id="container" class="${sl(r)}">
        ${hM(this.sourceType.type,[["video",()=>nd(this.background,()=>rL`<video autoplay muted loop src="${this.getSrc()}" >`,()=>rL`<video controls src="${this.src}" >`)],["audio",()=>nd(this.background,()=>rL`<audio autoplay muted loop src="${this.getSrc()}" >`,()=>rL`<audio controls src="${this.src}" >`)],["image",()=>nd(t&&this.blend,()=>rL`<div style="${sf(e)}"></div>`,()=>rL`<img src="${this.getSrc()}" >`)]])}
        </div>`}constructor(){super(...arguments),this.blend="unset"}};hD.styles=e0(/*@__PURE__*/ew(hI)),hN([ru()],hD.prototype,"src",void 0),hN([ru()],hD.prototype,"blend",void 0),hN([ru({type:Boolean})],hD.prototype,"background",void 0),hD=hN([eF("juel-media")],hD);var hL=ek("7jDie"),h$={};function hq(t,e,r){if(!r||typeof r.value!==Bd.typeOfFunction)throw TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Bd.boolTrue,get:function(){var t=r.value.bind(this);return Object.defineProperty(this,e,{value:t,configurable:Bd.boolTrue,writable:Bd.boolTrue}),t}}}Object.defineProperty(h$,"__esModule",{value:!0}),(Qb=Bd||(Bd={})).typeOfFunction="function",Qb.boolTrue=!0,h$.bind=hq,h$.default=hq;class hQ{initTemplates(){for(let t of this.templates)if(t.hasAttribute("name"))this.mainTemplateReady.then(e=>{let r=t.getAttribute("name");if(r){var n=$(e).find(`.${r}`);if(n.length>0){let r=$(t.content.cloneNode(!0)).find("svg").children(),s=n[0].getBBox(),a=s.width,l=s.height;for(let t of(n.empty(),r))n[0].append(t);let h=n[0].getBBox();n[0].getBoundingClientRect();let c=Math.min(a/h.width,l/h.height);var i=e.getBBox().width/2-s.width/2,o=s.y;n.attr({transform:`translate(${i}, ${o}) scale(${c}, ${c})`})}}});else{let e=t.content.cloneNode(!0),r=$(e).find(".text"),n=this.element.shadowRoot.querySelector("slot"),i=function(t){let e=[];for(let r of Array.from(t.assignedNodes()))if(r.nodeType==Node.TEXT_NODE)e.push(r);else if(r.nodeType==Node.ELEMENT_NODE){let t=function(t){let e=[];return!function t(r){r.nodeType===Node.TEXT_NODE?e.push(r):r.nodeType===Node.ELEMENT_NODE&&r.childNodes.forEach(t)}(t),e}(r);t&&t.length>0&&t.forEach(t=>e.push(t))}return e}(n);console.log("Num text nodes: "+i.length);let o=i.reduce((t,e)=>t+e.textContent.trim()+" ","").trim();if(console.log(o),o&&r.length>0){let t=r.children();t.length;let e=o.trim().split(" ");for(let r of t){let t=r.textContent.split(" ");if(t.length<=e.length){let n=e.splice(0,t.length);r.textContent=n.join(" ")}else r.textContent=e.join(" ")}n.parentElement.style.display="none"}this.element.shadowRoot.querySelector(".svg-container").prepend(e),this.mainTemplateResolver(this.element.shadowRoot.querySelector("svg"))}}constructor(t,e){this.element=t,this.templates=e,this.mainTemplateReady=new Promise((t,e)=>{this.mainTemplateResolver=t}),this.initTemplates()}}var hB={rect:new class{draw(t,e,r){let n=Math.max(e,r)/2;return t.rect(e,r).center(n,n)}},circle:new class{draw(t,e,r){let n=Math.max(e,r),i=n/2;return t.circle(n).center(i,i)}},triangle:new class{draw(t,e,r){let n=Math.max(e,r),i=n/2,o=`${i},0 ${n},${n} 0,${n}`;return t.polygon(o).center(i,i)}},hexagon:new class{draw(t,e,r){let n=Math.max(e,r);return t.polygon("50,0 100,25 100,75 50,100 0,75 0,25").center(n/2,n/2)}},arrow:new class{draw(t,e,r){let n=.4*e,i=.5*r,o=`
        0,0
        ${e/2},${i}
        ${n/2},${i}
        ${n/2},${r}
        ${-n/2},${r}
        ${-n/2},${i}
        ${-e/2},${i}
      `;return t.polygon(o.trim()).center(e/2,r/2)}},tab:new class{draw(t,e,r){let n=Math.max(e,r),i=.6*n,o=.2*n,s=`
    M ${e/2-n/2},${r/2+i/2}
    L ${e/2-n/2},${r/2-i/2+o}
    Q ${e/2-n/2},${r/2-i/2} ${e/2-n/2+o},${r/2-i/2}
    L ${e/2+n/2-o},${r/2-i/2} 
    Q ${e/2+n/2},${r/2-i/2} ${e/2+n/2},${r/2-i/2+o}
    L ${e/2+n/2},${r/2+i/2}
    Z
  `;return t.path(s)}}},hj={};function hz(t){let e=t.node;if("svg"===e.tagName&&!(e=e.querySelector("polygon, polyline, path")))throw Error("No polygon, polyline, or path found in the SVG element.");if("polygon"===e.tagName||"polyline"===e.tagName)return e.getAttribute("points").trim().split(/\s+/).map(t=>t.split(",").map(Number));if("path"===e.tagName){let t=e.getAttribute("d");if(!t)throw Error('Path element is missing "d" attribute.');return function(t){let e=t.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/gi),r=[],n=[0,0];return e.forEach(t=>{var e;let i=t[0],o=(null===(e=t.slice(1).trim().match(/-?\d*\.?\d+(?=[\s,]|$)/g))||void 0===e?void 0:e.map(Number))||[];switch(i){case"M":case"L":for(let t=0;t<o.length;t+=2)n=[o[t],o[t+1]],r.push([...n]);break;case"H":o.forEach(t=>{n=[t,n[1]],r.push([...n])});break;case"V":o.forEach(t=>{n=[n[0],t],r.push([...n])});break;case"C":for(let t=0;t<o.length;t+=6)n=[o[t+4],o[t+5]],r.push([...n]);break;case"Q":for(let t=0;t<o.length;t+=4)n=[o[t+2],o[t+3]],r.push([...n]);break;case"T":for(let t=0;t<o.length;t+=2)n=[o[t],o[t+1]],r.push([...n]);break;case"A":for(let t=0;t<o.length;t+=7)n=[o[t+5],o[t+6]],r.push([...n])}}),r}(t)}throw Error("Unsupported SVG node type.")}hj=".rotate.n{transform:rotate(0)}.rotate.ne{transform:rotate(45deg)}.rotate.e{transform:rotate(90deg)}.rotate.se{transform:rotate(135deg)}.rotate.s{transform:rotate(180deg)}.rotate.sw{transform:rotate(225deg)}.rotate.w{transform:rotate(270deg)}.rotate.nw{transform:rotate(315deg)}:host{width:var(--width,300px);height:var(--height,300px);text-align:center;justify-content:center;align-items:center;font-size:large;display:inline-flex;position:relative}span.content,div.svg-container{position:absolute}div.svg-container{width:100%;height:100%}span.content{z-index:1}svg{width:100%;height:100%}.resize-handles{pointer-events:auto;z-index:2;border:2px dashed rgba(0,0,0,.5);width:100%;height:100%;position:absolute;top:0;left:0}.draggable-point{cursor:grab;z-index:3;background-color:rgba(0,0,255,.7);border:1px solid #000;border-radius:50%;width:10px;height:10px;position:absolute}";var hZ=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hF=class extends r0{render(){return rL`<span class="content"><slot></slot></span><div part="shape" class="svg-container rotate ${this.direction}"></dov>`}firstUpdated(t){super.firstUpdated(t),$.when($.ready).then(this.ready),this.resizeObserver=new ResizeObserver(()=>this.handleResize()),this.resizeObserver.observe(this),this.editable&&this.addResizeHandles()}ready(){var t;this.svgContainerRef=this.shadowRoot.querySelector("div.svg-container");let e=((t=this.shadowRoot.querySelector("slot"))?Array.from(t.assignedNodes()).filter(t=>t.nodeType===Node.ELEMENT_NODE):[]).filter(t=>"template"==t.nodeName.toLowerCase());if(e.length>0)this.sts=new hQ(this,e);else if(!this.shape&&!this.src&&(this.setDefaultStyles(),this.draw||(this.draw=(0,hL.SVG)(),this.draw.addTo(this.svgContainerRef).viewbox(0,0,this.clientWidth,this.clientHeight).attr({preserveAspectRatio:"none",width:"100%",height:"100%"})),this.drawShape(),this.shape&&this.args&&this.shape.attr(this.args),this.hover)){let[t,e]=function(t,e){let r=hz(t),n=hz(e),i=r.length,o=n.length;if(i===o)return[t,e];let s=i<o?r:n,a=i<o?n:r,l=Math.abs(i-o);for(let t=0;t<l;t++)s.push([...s[s.length-1]]);function h(t,e){if("svg"===t.type){let r=t.findOne("polygon, path");if(console.log(r),console.log(e),"polygon"===r.type)r.plot(e);else if("path"===r.type){let t=function(t){if(0===t.length)return"";let e=`M ${t[0][0]} ${t[0][1]}`;for(let r=1;r<t.length;r++)e+=` L ${t[r][0]} ${t[r][1]}`;return e+" Z"}(e);r.plot(t)}}else"polygon"===t.type?t.plot(e):t.type}return h(t,i<o?s:a),h(e,i<o?a:s),[t,e]}(this.initialShape,this.shape);console.log(t,e),this.initialShape=t,this.shape=e,this.addEventListener("mouseenter",()=>{this.initialShapeCopy||(this.initialShapeCopy=this.initialShape.clone());let t=hz(this.shape);this.initialShape.animate(1e3).plot(t)}),this.addEventListener("mouseleave",()=>{let t=hz(this.initialShapeCopy);this.initialShape.animate(1e3).plot(t)})}if(this.src){if(this.draw)this.draw.image(this.src);else{let t=new Image;t.src=this.src,this.shadowRoot.prepend(t)}}this.text&&(this.container||(this.container=this.draw.group()),this.textEl||(this.textEl=this.container.add(this.shape).text(this.text)),this.textEl.attr(this.textArgs)),this.editable&&this.addDraggablePoints()}handleResize(){if(this.shape){let t=this.clientWidth,e=this.clientHeight;this.shape.size(t,e)}this.draw&&this.draw.size(this.clientWidth,this.clientHeight)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver&&this.resizeObserver.disconnect()}setDefaultStyles(){this.style.getPropertyValue("--fill")||this.style.setProperty("--fill","#E6904B"),this.style.getPropertyValue("--stroke")||this.style.setProperty("--stroke","black")}drawShape(){if(this.draw&&this.type){if(this.type in hB){let t=hB[this.type];this.shape=t.draw(this.draw,this.clientWidth,this.clientHeight)}else{let t=QH.get(this.type);t&&(this.shape=this.draw.svg(t))}if(this.hover){"svg"!==this.shape.type?this.shape.remove():this.isPath=!0;let t=`${this.clientWidth},0 ${this.clientWidth},${this.clientHeight} 0,${this.clientHeight} 0,0`;this.initialShape=this.draw.polygon(t).fill("#ffcc00")}}}addResizeHandles(){let t=document.createElement("div");t.classList.add("resize-handles"),this.shadowRoot.appendChild(t),lq(t).resizable({edges:{left:!0,right:!0,bottom:!0,top:!0}}).on("resizemove",t=>{let{width:e,height:r}=t.rect;this.style.width=`${e}px`,this.style.height=`${r}px`,this.handleResize()})}addDraggablePoints(){if(this.shape&&"polygon"===this.shape.type){let t=hz(this.shape);t.forEach((e,r)=>{let n=document.createElement("div");n.classList.add("draggable-point"),n.style.position="absolute",n.style.left=`${e[0]}px`,n.style.top=`${e[1]}px`,this.shadowRoot.appendChild(n),lq(n).draggable({listeners:{move:r=>{let i=r.dx,o=r.dy;e[0]+=i,e[1]+=o,n.style.left=`${e[0]}px`,n.style.top=`${e[1]}px`,this.shape.plot(t)}}})})}}addCenteredText(){let t=Math.max(this.clientWidth,this.clientHeight)/2;this.draw.text(this.text).font({size:16,anchor:"middle",fill:"#ffffff"}).center(t,t)}constructor(){super(),this.direction=Bu.North,this.editable=!1,this.isPath=!1,this.type="circle",this.args={fill:"var(--fill, #E6904B)"},this.textArgs={x:"50%",y:"50%","dominant-baseline":"middle","text-anchor":"middle"}}};hF.styles=e0(/*@__PURE__*/ew(hj)),hZ([ru()],hF.prototype,"type",void 0),hZ([ru()],hF.prototype,"src",void 0),hZ([ru({type:String})],hF.prototype,"direction",void 0),hZ([ru({converter:nl})],hF.prototype,"args",void 0),hZ([ru({attribute:"text-attr",converter:nl})],hF.prototype,"textArgs",void 0),hZ([ru()],hF.prototype,"text",void 0),hZ([ru()],hF.prototype,"hover",void 0),hZ([ru({type:Boolean})],hF.prototype,"editable",void 0),hZ([/*@__PURE__*/ew(h$)],hF.prototype,"ready",null),hF=hZ([eF("juel-shape")],hF);var hX={};hX=":host{display:inline-block;position:relative}.tooltip{color:#fff;z-index:1000;white-space:nowrap;background:#000;border-radius:4px;padding:8px;font-size:14px;display:none;position:absolute}.tooltip[visible]{display:block}";var hV=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hU=class extends r0{firstUpdated(){this.tooltipRef=this.shadowRoot.querySelector(".tooltip"),this.triggerRef=this.shadowRoot.querySelector(".trigger"),this.triggerRef.addEventListener("mouseenter",()=>this.showTooltip()),this.triggerRef.addEventListener("mouseleave",()=>this.hideTooltip()),this.triggerRef.addEventListener("focus",()=>this.showTooltip()),this.triggerRef.addEventListener("blur",()=>this.hideTooltip())}showTooltip(){var t=this;return eW(function*(){t.visible=!0,t.cleanup=iy(t.triggerRef,t.tooltipRef,()=>{var e;iO(t.triggerRef,t.tooltipRef,{middleware:[ib(8),(void 0===e&&(e={}),{name:"shift",options:e,fn:t=>eW(function*(){let{x:r,y:n,placement:i}=t,o=nN(e,t),{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:t=>{let{x:e,y:r}=t;return{x:e,y:r}}}}=o,h=nC(o,["mainAxis","crossAxis","limiter"]),c={x:r,y:n},u=yield nX(t,h),d=nQ(nD(i)),f=n$(d),p=c[f],g=c[d];if(s){let t="y"===f?"top":"left",e="y"===f?"bottom":"right",r=p+u[t],n=p-u[e];p=nE(r,nA(p,n))}if(a){let t="y"===d?"top":"left",e="y"===d?"bottom":"right",r=g+u[t],n=g-u[e];g=nE(r,nA(g,n))}let m=l.fn((0,eV._)((0,eX._)({},t),{[f]:p,[d]:g}));return(0,eV._)((0,eX._)({},m),{data:{x:m.x-r,y:m.y-n,enabled:{[f]:s,[d]:a}}})})()})]}).then(({x:e,y:r})=>{Object.assign(t.tooltipRef.style,{left:`${e}px`,top:`${r}px`})})})})()}hideTooltip(){this.visible=!1,this.cleanup&&(this.cleanup(),this.cleanup=void 0)}render(){return rL`
        <div class="trigger">
          <slot></slot>
        </div>
        <div class="tooltip" ?visible="${this.visible}">
          <slot name="tip">${this.text}</slot>
        </div>
      `}constructor(){super(...arguments),this.visible=!1}};hU.styles=e0(/*@__PURE__*/ew(hX)),hV([ru({type:Boolean})],hU.prototype,"visible",void 0),hV([ru()],hU.prototype,"text",void 0),hU=hV([eF("juel-tooltip")],hU);var hW=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let hH=class extends r0{connectedCallback(){super.connectedCallback(),window.addEventListener("scroll",this.handleScroll)}disconnectedCallback(){window.removeEventListener("scroll",this.handleScroll),super.disconnectedCallback()}render(){return rL`
      <div
        class="parallax-container"
        style="--section-height: ${this.height}px;"
      >
        <div
          class="parallax-image"
          style="background-image: url(${this.image});"
        ></div>
        <div class="content">
          <slot></slot>
        </div>
      </div>
    `}constructor(){super(...arguments),this.image="",this.height=500,this.intensity=.5,this.handleScroll=()=>{let t=this.shadowRoot.querySelector(".parallax-image"),e=window.scrollY*this.intensity;t&&(t.style.transform=`translateY(${e}px)`)}}};hH.styles=e1`
    :host {
      display: block;
      position: relative;
      width: 100%;
      overflow: hidden;
    }
    .parallax-container {
      position: relative;
      height: var(--section-height, 500px);
      overflow: hidden;
    }
    .parallax-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: calc(var(--section-height, 500px) * 2);
      background-size: cover;
      background-position: center;
      will-change: transform;
    }
    .content {
      position: relative;
      z-index: 1;
      text-align: center;
      padding: 50px;
      background: #f4f4f4;
    }
  `,hW([ru({type:String})],hH.prototype,"image",void 0),hW([ru({type:Number})],hH.prototype,"height",void 0),hW([ru({type:Number})],hH.prototype,"intensity",void 0),hH=hW([eF("juel-parallax")],hH);let hY=class extends r0{render(){return rL`
      <div class="card">
        <div class="card-header">
          <slot name="header"></slot>
        </div>
        <div class="card-image">
          <slot name="image"></slot>
        </div>
        <div class="card-body">
          <slot></slot>
        </div>
        <div class="card-footer">
          <slot name="footer"></slot>
        </div>
      </div>
    `}};function hG(t,e,r=null,n=null){var i=[];for(let o of Array.from(t.children)){if(o.matches(e)&&i.push(o),r&&o.matches(r)){n&&n(),console.log("Break!!");break}hG(o,e,r)}return i}function hK(t,e,r){let n=!1,i=$(t),o=hG(t,e,r);if(t.nextElementSibling){for(let t of i.nextAll().toArray())if(o=o.concat(hG(t,e,r,()=>n=!0)),n)break}if(!1==n&&t.parentElement){for(let t of i.parent().nextAll().toArray())if(o=o.concat(hG(t,e,r,()=>n=!0)),n)break}return o}hY.styles=e1`
    .card {
      border: 1px solid #e0e0e0;
      border-radius: 0.5rem;
      display: flex;
    flex-direction: column;
    }

    .card-image ::slotted(*) {
      width: 100%;
          display: block;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    border-top-left-radius: inherit;
    border-top-right-radius: inherit;
    }

    .card-header {
      display: flex;
    padding: 16px;
    align-items: center;
    border-top-left-radius: inherit;
    border-top-right-radius: inherit;
    }

    .card-body {
          flex-grow: 1;
    padding: 16px;
    }

    .card-footer {
      display: flex;
    padding: 8px;
    align-items: center;
    }

    ::slotted([slot='header']),
    ::slotted([slot='footer']) {
      display: block;
    }
  `,hY=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}([eF("juel-card")],hY);var hJ={};hJ="juel-contents a{display:flex}juel-contents a hr{border:none;border-bottom-style:dotted;flex-grow:1}";var h0=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let h1=class extends r0{createRenderRoot(){return this}populateContents(){let t;this.contents=[];var e=[];let r=$(this).parents("section").last();if(r.length>0&&(t=r[0].nextElementSibling))do e=e.concat($(t).find("h1").toArray());while(t=t.nextElementSibling)else e=Array.from(document.querySelectorAll("h1"));for(let t of e){let e=t.id;if(t.hasAttribute("id")||(e=t.textContent.replace(/\s+/g,"-").toLowerCase(),t.setAttribute("id",e)),"true"==this.link){let r=document.createElement("a");r.className="heading-link",r.href=`#${e}`;let n=QH.use("link");r.append(n),t.prepend(r)}let r={id:e,title:t.textContent},n=t.closest("section");for(let e of(n&&n.hasAttribute("data-page")&&(r.page=parseFloat(n.dataset.page)),hK(t,"h2","h1")))this.populateChildren(e,2,r);this.contents.push(r)}}populateChildren(t,e,r){let n=t.id;if(t.hasAttribute("id")||(n=t.textContent.replace(/\s+/g,"-").toLowerCase(),t.setAttribute("id",n)),"true"==this.link){let e=document.createElement("a");e.className="heading-link",e.href=`#${n}`;let r=QH.use("link");e.append(r),t.prepend(e)}let i={id:t.id,title:t.textContent},o=t.closest("section");for(let r of(o&&o.hasAttribute("data-page")&&(i.page=parseFloat(o.dataset.page)),hK(t,`h${e+1}`,`h${e}`)))this.populateChildren(r,e+1,i);r.children?r.children.push(i):r.children=[i]}firstUpdated(){let t="reportReady"in window?window.reportReady:$.ready;$.when(t).then(()=>{if("true"==this.link){let t=document.createElement("div");t.className="hidden",t.append(QH.get("link")),this.prepend(t)}this.populateContents()})}renderContentsItem(t){return rL`<li part="list-item">
            <a part="link" href="#${t.id}">${nd(!t.page,()=>t.title,()=>rL`<span>${t.title}</span><hr/><span>${t.page}</span>`)}</a>
            ${t.children?rL`<ul>
                    ${t.children.map(this.renderContentsItem)}
                </ul>`:""}
        </li>`}render(){return rL`
            <style>${/*@__PURE__*/ew(hJ)}</style>
            <ul id="toc">
                ${this.contents?this.contents.map(this.renderContentsItem):""}
            </ul>
        `}constructor(){super(),this.link="false"}};h0([ru()],h1.prototype,"link",void 0),h0([rd()],h1.prototype,"contents",void 0),h0([/*@__PURE__*/ew(h$)],h1.prototype,"renderContentsItem",null),h1=h0([eF("juel-contents")],h1);var h2=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let h3=class extends r0{_onInput(t){let e=t.target;this.value=e.value,this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:this.value}}))}render(){return rL`
      ${this.label?rL`<label for="text-input">${this.label}</label>`:""}
      <input id="text-input" type="text" .value="${this.value}" @input="${this._onInput}" />
    `}constructor(){super(...arguments),this.value=""}};h3.styles=e1`
    :host {
      display: block;
      font-family: Arial, sans-serif;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
    }

    input {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
  `,h2([ru({type:String})],h3.prototype,"label",void 0),h2([ru({type:String})],h3.prototype,"value",void 0),h3=h2([eF("juel-text")],h3);var h4=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let h5=class extends r0{handleInput(t){let e=t.target;this.value=e.value;let r=new CustomEvent("value-changed",{detail:{value:this.value},bubbles:!0,composed:!0});this.dispatchEvent(r)}render(){return rL`
      ${this.label?rL`<label for="email-input">${this.label}</label>`:null}
      <input
        id="email-input"
        type="email"
        .value=${this.value}
        @input=${this.handleInput}
      />
    `}constructor(){super(...arguments),this.label="",this.value=""}};h5.styles=e1`
    :host {
      display: block;
      font-family: Arial, sans-serif;
    }

    label {
      display: block;
      margin-bottom: 4px;
      font-weight: bold;
    }

    input {
      width: 100%;
      padding: 8px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    input:focus {
      border-color: #0078d4;
      outline: none;
    }
  `,h4([ru({type:String})],h5.prototype,"label",void 0),h4([ru({type:String})],h5.prototype,"value",void 0),h5=h4([eF("juel-email")],h5);var h6=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let h8=class extends r0{handleInput(t){let e=t.target;this.value=Number(e.value),this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:this.value},bubbles:!0,composed:!0}))}render(){return rL`
      <div>
        ${this.label?rL`<label for="number-input">${this.label}</label>`:""}
        <input
          id="number-input"
          type="number"
          .value=${String(this.value)}
          @input=${this.handleInput}
        />
      </div>
    `}constructor(){super(...arguments),this.value=0}};h8.styles=e1`
    :host {
      display: inline-block;
      font-family: Arial, sans-serif;
    }
    label {
      margin-right: 8px;
      font-weight: bold;
    }
    input[type="number"] {
      padding: 4px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  `,h6([ru({type:String})],h8.prototype,"label",void 0),h6([ru({type:Number})],h8.prototype,"value",void 0),h8=h6([eF("juel-number")],h8);var h7=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let h9=class extends r5{_onCheckboxChange(t){let e=t.target;this.value=e.checked;let r={value:this.value};this.fire(QJ.ValueChanged,r)}render(){let t={};return this.glyph&&(t["--glyph"]=`var(--icon-${this.glyph})`),rL`
      <div class="checkbox-container" style="${sf(t)}">
        <input
          id="checkbox"
          type="checkbox"
          .checked="${this.value}"
          @change="${this._onCheckboxChange}"
        />
        ${this.label?rL`<label for="checkbox">${this.label}</label>`:""}
      </div>
    `}constructor(){super(...arguments),this.label="",this.value=!1}};h9.styles=e1`
    :host {
      display: block;
      font-family: Arial, sans-serif;
    }
    .checkbox-container {
      display: flex;
      align-items: center;
      cursor: pointer;
      user-select: none;
    }
    .checkbox-container input[type="checkbox"] {
      appearance: none;
      width: 24px;
      height: 24px;
      border: 2px solid #007bff;
      border-radius: 4px;
      outline: none;
      cursor: pointer;
      transition: background-color 0.2s, border-color 0.2s;
    }
    .checkbox-container input[type="checkbox"]:checked {
      background-color: #007bff;
      border-color: #007bff;
    }
    .checkbox-container input[type="checkbox"]:checked::after {
      content: '';
      display: block;
      width: 20px;
      height: 20px;
      mask-image: var(--glyph, var(--icon-tick));
      mask-repeat: no-repeat;
      background-color: white;
    }
    .checkbox-container label {
      margin-left: 8px;
      font-size: 14px;
      color: #333;
    }
  `,h7([ru({type:String})],h9.prototype,"label",void 0),h7([ru({type:String})],h9.prototype,"glyph",void 0),h7([ru({type:Boolean,reflect:!0})],h9.prototype,"value",void 0),h9=h7([eF("juel-check")],h9);var ct=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let ce=class extends r0{handleInput(t){let e=t.target;this.value=e.value,this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:this.value},bubbles:!0,composed:!0}))}render(){return rL`
      ${this.label?rL`<label for="input">${this.label}</label>`:""}
      <input
        id="input"
        .value=${this.value}
        @input=${this.handleInput}
        type=${this.type}
      />
    `}constructor(){super(...arguments),this.value="",this.type="date"}};ce.styles=e1`
    :host {
      display: block;
      font-family: Arial, sans-serif;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #495057;
    }

    input {
      display: block;
      width: 100%;
      padding: 0.375rem 0.75rem;
      font-size: 1rem;
      line-height: 1.5;
      color: #495057;
      background-color: #fff;
      background-clip: padding-box;
      border: 1px solid #ced4da;
      border-radius: 0.25rem;
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    input:focus {
      color: #495057;
      background-color: #fff;
      border-color: #80bdff;
      outline: 0;
      box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }

    input:hover {
      border-color: #86b7fe;
    }
  `,ct([ru({type:String})],ce.prototype,"label",void 0),ct([ru({type:String})],ce.prototype,"value",void 0),ct([ru({type:String})],ce.prototype,"type",void 0),ce=ct([eF("juel-date")],ce);var cr=iT(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),cn=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return ix(e,t),e.prototype.lift=function(t){var e=new ci(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new cr},e.prototype.next=function(t){var e=this;iY(function(){var r,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=ik(e.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(t)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},e.prototype.error=function(t){var e=this;iY(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}})},e.prototype.complete=function(){var t=this;iY(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this.hasError,n=this.isStopped,i=this.observers;return r||n?iM:(this.currentObservers=null,i.push(t),new iR(function(){e.currentObservers=null,iI(i,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,r=this.thrownError,n=this.isStopped;e?t.error(r):n&&t.complete()},e.prototype.asObservable=function(){var t=new ot;return t.source=this,t},e.create=function(t,e){return new ci(t,e)},e}(ot),ci=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return ix(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:iM},e}(cn),co=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let cs=class extends r0{connectedCallback(){super.connectedCallback(),this.filteredData=JSON.parse(JSON.stringify(this.data)),this.searchSubject.pipe(i8(300)).subscribe(t=>{this.searchTerm=t.toLowerCase(),this.filterData()})}disconnectedCallback(){super.disconnectedCallback(),this.searchSubject.unsubscribe()}handleInputChange(t){let e=t.target;this.searchSubject.next(e.value||"")}handleChange(){let t=this.selectElement.selectedOptions[0];this.value=t?JSON.parse(t.value):null,this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:this.value},bubbles:!0,composed:!0}))}handleClear(){this.value=null,this.selectElement.value="",this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:this.value},bubbles:!0,composed:!0}))}filterData(){let t=e=>Object.keys(e).some(r=>r===this.childrenField&&Array.isArray(e[r])?(e[r]=e[r].filter(t),e[r].length>0):String(e[r]).toLowerCase().includes(this.searchTerm));this.filteredData=JSON.parse(JSON.stringify(this.data)).filter(t)}renderOptionsList(t){return t.map(t=>this.childrenField in t&&Array.isArray(t[this.childrenField])?rL`
          <optgroup label="${t[this.textField]}">
            ${this.renderOptionsList(t[this.childrenField])}
          </optgroup>
        `:rL`
          <option value='${JSON.stringify(t[this.valueField])}' ?selected="${JSON.stringify(this.value)===JSON.stringify(t[this.valueField])}">
            ${t[this.textField]}
          </option>
        `)}render(){let t=this.filteredData.length>0?this.filteredData:this.data;return rL`
      ${this.label?rL`<label for="select-element">${this.label}</label>`:""}
      ${this.enableSearch?rL`<input
            type="text"
            placeholder="Search..."
            @input="${this.handleInputChange}"
          />`:""}
      <div style="display: flex; align-items: center;">
        <select
          id="select-element"
          @change="${this.handleChange}"
          .value="${JSON.stringify(this.value)||""}"
        >
          <option value="" ?selected="${!this.value}">${this.placeholder}</option>
          ${t.length>0?this.renderOptionsList(t):rL`<option disabled>No matches found</option>`}
        </select>
        <button class="clear-button" @click="${this.handleClear}">Clear</button>
      </div>
    `}constructor(){super(...arguments),this.label="",this.value=null,this.data=[],this.enableSearch=!1,this.textField="text",this.valueField="value",this.childrenField="children",this.placeholder="-- Select an option --",this.searchTerm="",this.filteredData=[],this.searchSubject=new cn}};cs.styles=e1`
    :host {
      display: inline-block;
      font-family: Arial, sans-serif;
    }

    label {
      display: block;
      margin-bottom: 0.5em;
      font-weight: bold;
    }

    input {
      width: calc(100% - 2em);
      padding: 0.5em;
      margin-bottom: 0.5em;
      font-size: 1em;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }

    select {
      width: calc(100% - 2em);
      padding: 0.5em;
      font-size: 1em;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }

    select:focus {
      outline: none;
      border-color: #0078d4;
      box-shadow: 0 0 3px rgba(0, 120, 212, 0.5);
    }

    .clear-button {
      margin-left: 0.5em;
      padding: 0.5em;
      font-size: 1em;
      background-color: #f5f5f5;
      border: 1px solid #ccc;
      border-radius: 4px;
      cursor: pointer;
    }

    .clear-button:hover {
      background-color: #e0e0e0;
    }
  `,co([ru({type:String})],cs.prototype,"label",void 0),co([ru({type:Object})],cs.prototype,"value",void 0),co([ru({type:Array})],cs.prototype,"data",void 0),co([ru({type:Boolean,attribute:"enable-search"})],cs.prototype,"enableSearch",void 0),co([ru({type:String,attribute:"text-field"})],cs.prototype,"textField",void 0),co([ru({type:String,attribute:"value-field"})],cs.prototype,"valueField",void 0),co([ru({type:String,attribute:"children-field"})],cs.prototype,"childrenField",void 0),co([ru({type:String})],cs.prototype,"placeholder",void 0),co([rd()],cs.prototype,"searchTerm",void 0),co([rd()],cs.prototype,"filteredData",void 0),co([(QO="select",(t,e,r)=>{let n=t=>{var e,r;return null!==(r=null===(e=t.renderRoot)||void 0===e?void 0:e.querySelector(QO))&&void 0!==r?r:null};return rf(t,e,{get(){return n(this)}})})],cs.prototype,"selectElement",void 0),cs=co([eF("juel-select")],cs);var ca=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let cl=class extends r0{handleSubmit(t){t.preventDefault();let e=new FormData(t.target),r={};this.formDefinition.fields.forEach(t=>{r[t.name]=e.get(t.name)}),this.dispatchEvent(new CustomEvent("form-submit",{detail:r}))}renderField(t){return rL`
      <label for="${t.name}">${t.name}</label>
      ${"select"===t.type&&t.options?rL`
        <select name="${t.name}" id="${t.name}">
          ${t.options.map(t=>rL`<option value="${t}">${t}</option>`)}
        </select>
      `:rL`
        <input 
          type="${t.type}" 
          name="${t.name}" 
          id="${t.name}" 
          .value="${t.defaultValue||""}" 
        />
      `}
    `}render(){return rL`
      <form @submit="${this.handleSubmit}">
        ${this.formDefinition&&this.formDefinition.fields?rL`${this.formDefinition.fields.map(t=>this.renderField(t))}
        <button type="submit">Submit</button>
      </form>`:""}
    `}constructor(){super(...arguments),this.formDefinition={fields:[]}}};cl.styles=e1`
    form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    label {
      font-weight: bold;
    }
  `,ca([ru({type:Object})],cl.prototype,"formDefinition",void 0),cl=ca([eF("juel-form")],cl);var ch=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let cc=class extends r0{render(){var t,e;return rL`
      <juel-button @button-clicked=${this.startSelection}>Select Point</juel-button>
      ${this.input?rL`
            <div style="display: inline-block; margin-left: 1rem;">
              <label style="margin-right: 0.5rem;">
                X:
                <input
                  type="number"
                  name="x-coordinate"
                  .value=${null!==(t=this.manualX)&&void 0!==t?t:""}
                  @input=${this.handleInputChange}
                  style="width: 4rem; margin-right: 0.5rem;"
                />
              </label>
              <label>
                Y:
                <input
                  type="number"
                  name="y-coordinate"
                  .value=${null!==(e=this.manualY)&&void 0!==e?e:""}
                  @input=${this.handleInputChange}
                  style="width: 4rem;"
                />
              </label>
            </div>
          `:""}
    `}constructor(){super(...arguments),this.selecting=!1,this.input=!1,this.manualX=null,this.manualY=null,this.handleClickOutside=t=>{if(!this.selecting)return;if(2===t.button){this.cancelSelection(),this.dispatchEvent(new CustomEvent("point-cancelled",{bubbles:!0,composed:!0}));return}let e=t.clientX,r=t.clientY;this.manualX=e,this.manualY=r,this.endSelection(),this.dispatchEvent(new CustomEvent("point-selected",{detail:{x:e,y:r},bubbles:!0,composed:!0}))},this.handleKeydown=t=>{this.selecting&&"Escape"===t.key&&(this.cancelSelection(),this.dispatchEvent(new CustomEvent("point-cancelled",{bubbles:!0,composed:!0})))},this.startSelection=()=>{if(this.selecting)return;this.selecting=!0;let t=document.createElement("style");t.id="crosshair-cursor-style",t.textContent=`
      .crosshair-cursor {
        cursor: var(--icon-crosshair) 18 18, auto;
      }
      .selection-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.3);
        z-index: 9999;
        pointer-events: none;
      }
    `,document.head.appendChild(t);let e=document.createElement("div");e.id="selection-overlay",e.className="selection-overlay",document.body.appendChild(e),document.body.classList.add("crosshair-cursor"),document.addEventListener("click",this.handleClickOutside,!0),document.addEventListener("contextmenu",this.handleClickOutside,!0),document.addEventListener("keydown",this.handleKeydown,!0)},this.endSelection=()=>{this.selecting=!1;let t=document.getElementById("crosshair-cursor-style");t&&t.remove();let e=document.getElementById("selection-overlay");e&&e.remove(),document.body.classList.remove("crosshair-cursor"),document.removeEventListener("click",this.handleClickOutside,!0),document.removeEventListener("contextmenu",this.handleClickOutside,!0),document.removeEventListener("keydown",this.handleKeydown,!0)},this.cancelSelection=()=>{this.endSelection()},this.handleInputChange=t=>{let e=t.target,r=e.value;"X"===e.label?this.manualX=r:"Y"===e.label&&(this.manualY=r)}}};cc.styles=e1`
    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      cursor: pointer;
    }

    :host {
      all: initial;
    }
  `,ch([rd()],cc.prototype,"selecting",void 0),ch([ru({type:Boolean})],cc.prototype,"input",void 0),cc=ch([eF("juel-point-selector")],cc);var cu={};cu='/*!\n * Quill Editor v2.0.3\n * https://quilljs.com\n * Copyright (c) 2017-2024, Slab\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n.ql-container{box-sizing:border-box;height:100%;margin:0;font-family:Helvetica,Arial,sans-serif;font-size:13px;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container:not(.ql-disabled) li[data-list=checked]>.ql-ui,.ql-container:not(.ql-disabled) li[data-list=unchecked]>.ql-ui{cursor:pointer}.ql-clipboard{height:1px;position:absolute;top:50%;left:-100000px;overflow-y:hidden}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word;outline:none;height:100%;padding:12px 15px;line-height:1.42;overflow-y:auto}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0}@supports (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-set:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor table{border-collapse:collapse}.ql-editor td{border:1px solid #000;padding:2px 5px}.ql-editor ol{padding-left:1.5em}.ql-editor li{padding-left:1.5em;list-style-type:none;position:relative}.ql-editor li>.ql-ui:before{text-align:right;white-space:nowrap;width:1.2em;margin-left:-1.5em;margin-right:.3em;display:inline-block}.ql-editor li[data-list=checked]>.ql-ui,.ql-editor li[data-list=unchecked]>.ql-ui{color:#777}.ql-editor li[data-list=bullet]>.ql-ui:before{content:"•"}.ql-editor li[data-list=checked]>.ql-ui:before{content:"☑"}.ql-editor li[data-list=unchecked]>.ql-ui:before{content:"☐"}@supports (counter-set:none){.ql-editor li[data-list]{counter-set:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list]{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered]{counter-increment:list-0}.ql-editor li[data-list=ordered]>.ql-ui:before{content:counter(list-0,decimal)". "}.ql-editor li[data-list=ordered].ql-indent-1{counter-increment:list-1}.ql-editor li[data-list=ordered].ql-indent-1>.ql-ui:before{content:counter(list-1,lower-alpha)". "}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-set:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-2{counter-increment:list-2}.ql-editor li[data-list=ordered].ql-indent-2>.ql-ui:before{content:counter(list-2,lower-roman)". "}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-set:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-3{counter-increment:list-3}.ql-editor li[data-list=ordered].ql-indent-3>.ql-ui:before{content:counter(list-3,decimal)". "}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-set:list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-4{counter-increment:list-4}.ql-editor li[data-list=ordered].ql-indent-4>.ql-ui:before{content:counter(list-4,lower-alpha)". "}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-set:list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-5{counter-increment:list-5}.ql-editor li[data-list=ordered].ql-indent-5>.ql-ui:before{content:counter(list-5,lower-roman)". "}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-set:list-6 list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-6{counter-increment:list-6}.ql-editor li[data-list=ordered].ql-indent-6>.ql-ui:before{content:counter(list-6,decimal)". "}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-set:list-7 list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-6{counter-reset:list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-7{counter-increment:list-7}.ql-editor li[data-list=ordered].ql-indent-7>.ql-ui:before{content:counter(list-7,lower-alpha)". "}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-set:list-8 list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-7{counter-reset:list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-8{counter-increment:list-8}.ql-editor li[data-list=ordered].ql-indent-8>.ql-ui:before{content:counter(list-8,lower-roman)". "}@supports (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-set:list-9}}@supports not (counter-set:none){.ql-editor li[data-list].ql-indent-8{counter-reset:list-9}}.ql-editor li[data-list=ordered].ql-indent-9{counter-increment:list-9}.ql-editor li[data-list=ordered].ql-indent-9>.ql-ui:before{content:counter(list-9,decimal)". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor li.ql-direction-rtl{padding-right:1.5em}.ql-editor li.ql-direction-rtl>.ql-ui:before{text-align:left;margin-left:.3em;margin-right:-1.5em}.ql-editor table{table-layout:fixed;width:100%}.ql-editor table td{outline:none}.ql-editor .ql-code-block-container{font-family:monospace}.ql-editor .ql-video{max-width:100%;display:block}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{text-align:inherit;direction:rtl}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor .ql-ui{position:absolute}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);pointer-events:none;font-style:italic;position:absolute;left:15px;right:15px}.ql-bubble.ql-toolbar:after,.ql-bubble .ql-toolbar:after{clear:both;content:"";display:table}.ql-bubble.ql-toolbar button,.ql-bubble .ql-toolbar button{cursor:pointer;float:left;background:0 0;border:none;width:28px;height:24px;padding:3px 5px;display:inline-block}.ql-bubble.ql-toolbar button svg,.ql-bubble .ql-toolbar button svg{float:left;height:100%}.ql-bubble.ql-toolbar button:active:hover,.ql-bubble .ql-toolbar button:active:hover{outline:none}.ql-bubble.ql-toolbar input.ql-image[type=file],.ql-bubble .ql-toolbar input.ql-image[type=file]{display:none}.ql-bubble.ql-toolbar button:hover,.ql-bubble .ql-toolbar button:hover,.ql-bubble.ql-toolbar button:focus,.ql-bubble .ql-toolbar button:focus,.ql-bubble.ql-toolbar button.ql-active,.ql-bubble .ql-toolbar button.ql-active,.ql-bubble.ql-toolbar .ql-picker-label:hover,.ql-bubble .ql-toolbar .ql-picker-label:hover,.ql-bubble.ql-toolbar .ql-picker-label.ql-active,.ql-bubble .ql-toolbar .ql-picker-label.ql-active,.ql-bubble.ql-toolbar .ql-picker-item:hover,.ql-bubble .ql-toolbar .ql-picker-item:hover,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected{color:#fff}.ql-bubble.ql-toolbar button:hover .ql-fill,.ql-bubble .ql-toolbar button:hover .ql-fill,.ql-bubble.ql-toolbar button:focus .ql-fill,.ql-bubble .ql-toolbar button:focus .ql-fill,.ql-bubble.ql-toolbar button.ql-active .ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-fill,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-bubble.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-bubble.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#fff}.ql-bubble.ql-toolbar button:hover .ql-stroke,.ql-bubble .ql-toolbar button:hover .ql-stroke,.ql-bubble.ql-toolbar button:focus .ql-stroke,.ql-bubble .ql-toolbar button:focus .ql-stroke,.ql-bubble.ql-toolbar button.ql-active .ql-stroke,.ql-bubble .ql-toolbar button.ql-active .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-bubble.ql-toolbar button:hover .ql-stroke-miter,.ql-bubble .ql-toolbar button:hover .ql-stroke-miter,.ql-bubble.ql-toolbar button:focus .ql-stroke-miter,.ql-bubble .ql-toolbar button:focus .ql-stroke-miter,.ql-bubble.ql-toolbar button.ql-active .ql-stroke-miter,.ql-bubble .ql-toolbar button.ql-active .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-bubble.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-bubble .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#fff}@media (pointer:coarse){.ql-bubble.ql-toolbar button:hover:not(.ql-active),.ql-bubble .ql-toolbar button:hover:not(.ql-active){color:#ccc}.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#ccc}.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-bubble.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#ccc}}.ql-bubble,.ql-bubble *{box-sizing:border-box}.ql-bubble .ql-hidden{display:none}.ql-bubble .ql-out-bottom,.ql-bubble .ql-out-top{visibility:hidden}.ql-bubble .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-bubble .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-bubble .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-bubble .ql-formats{vertical-align:middle;display:inline-block}.ql-bubble .ql-formats:after{clear:both;content:"";display:table}.ql-bubble .ql-stroke{fill:none;stroke:#ccc;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px}.ql-bubble .ql-stroke-miter{fill:none;stroke:#ccc;stroke-miterlimit:10;stroke-width:2px}.ql-bubble .ql-fill,.ql-bubble .ql-stroke.ql-fill{fill:#ccc}.ql-bubble .ql-empty{fill:none}.ql-bubble .ql-even{fill-rule:evenodd}.ql-bubble .ql-thin,.ql-bubble .ql-stroke.ql-thin{stroke-width:1px}.ql-bubble .ql-transparent{opacity:.4}.ql-bubble .ql-direction svg:last-child{display:none}.ql-bubble .ql-direction.ql-active svg:last-child{display:inline}.ql-bubble .ql-direction.ql-active svg:first-child{display:none}.ql-bubble .ql-editor h1{font-size:2em}.ql-bubble .ql-editor h2{font-size:1.5em}.ql-bubble .ql-editor h3{font-size:1.17em}.ql-bubble .ql-editor h4{font-size:1em}.ql-bubble .ql-editor h5{font-size:.83em}.ql-bubble .ql-editor h6{font-size:.67em}.ql-bubble .ql-editor a{text-decoration:underline}.ql-bubble .ql-editor blockquote{border-left:4px solid #ccc;margin-top:5px;margin-bottom:5px;padding-left:16px}.ql-bubble .ql-editor code,.ql-bubble .ql-editor .ql-code-block-container{background-color:#f0f0f0;border-radius:3px}.ql-bubble .ql-editor .ql-code-block-container{margin-top:5px;margin-bottom:5px;padding:5px 10px}.ql-bubble .ql-editor code{padding:2px 4px;font-size:85%}.ql-bubble .ql-editor .ql-code-block-container{color:#f8f8f2;background-color:#23241f;overflow:visible}.ql-bubble .ql-editor img{max-width:100%}.ql-bubble .ql-picker{color:#ccc;float:left;vertical-align:middle;height:24px;font-size:14px;font-weight:500;display:inline-block;position:relative}.ql-bubble .ql-picker-label{cursor:pointer;width:100%;height:100%;padding-left:8px;padding-right:2px;display:inline-block;position:relative}.ql-bubble .ql-picker-label:before{line-height:22px;display:inline-block}.ql-bubble .ql-picker-options{white-space:nowrap;background-color:#444;min-width:100%;padding:4px 8px;display:none;position:absolute}.ql-bubble .ql-picker-options .ql-picker-item{cursor:pointer;padding-top:5px;padding-bottom:5px;display:block}.ql-bubble .ql-picker.ql-expanded .ql-picker-label{color:#777;z-index:2}.ql-bubble .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#777}.ql-bubble .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#777}.ql-bubble .ql-picker.ql-expanded .ql-picker-options{z-index:1;margin-top:-1px;display:block;top:100%}.ql-bubble .ql-color-picker,.ql-bubble .ql-icon-picker{width:28px}.ql-bubble .ql-color-picker .ql-picker-label,.ql-bubble .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-bubble .ql-color-picker .ql-picker-label svg,.ql-bubble .ql-icon-picker .ql-picker-label svg{right:4px}.ql-bubble .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-bubble .ql-icon-picker .ql-picker-item{width:24px;height:24px;padding:2px 4px}.ql-bubble .ql-color-picker .ql-picker-options{width:152px;padding:3px 5px}.ql-bubble .ql-color-picker .ql-picker-item{float:left;border:1px solid transparent;width:16px;height:16px;margin:2px;padding:0}.ql-bubble .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{width:18px;margin-top:-9px;position:absolute;top:50%;right:0}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-bubble .ql-picker.ql-header{width:98px}.ql-bubble .ql-picker.ql-header .ql-picker-label:before,.ql-bubble .ql-picker.ql-header .ql-picker-item:before{content:"Normal"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"Heading 1"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"Heading 2"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"Heading 3"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"Heading 4"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="5"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{content:"Heading 5"}.ql-bubble .ql-picker.ql-header .ql-picker-label[data-value="6"]:before,.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{content:"Heading 6"}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-bubble .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-bubble .ql-picker.ql-font{width:108px}.ql-bubble .ql-picker.ql-font .ql-picker-label:before,.ql-bubble .ql-picker.ql-font .ql-picker-item:before{content:"Sans Serif"}.ql-bubble .ql-picker.ql-font .ql-picker-label[data-value=serif]:before,.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{content:"Serif"}.ql-bubble .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace"}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-bubble .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-bubble .ql-picker.ql-size{width:98px}.ql-bubble .ql-picker.ql-size .ql-picker-label:before,.ql-bubble .ql-picker.ql-size .ql-picker-item:before{content:"Normal"}.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=small]:before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=small]:before{content:"Small"}.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=large]:before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=large]:before{content:"Large"}.ql-bubble .ql-picker.ql-size .ql-picker-label[data-value=huge]:before,.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{content:"Huge"}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-bubble .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-bubble .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-bubble .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-code-block-container{position:relative}.ql-code-block-container .ql-ui{top:5px;right:5px}.ql-bubble .ql-toolbar .ql-formats{margin:8px 12px 8px 0}.ql-bubble .ql-toolbar .ql-formats:first-child{margin-left:12px}.ql-bubble .ql-color-picker svg{margin:1px}.ql-bubble .ql-color-picker .ql-picker-item.ql-selected,.ql-bubble .ql-color-picker .ql-picker-item:hover{border-color:#fff}.ql-bubble .ql-tooltip{color:#fff;background-color:#444;border-radius:25px}.ql-bubble .ql-tooltip-arrow{content:" ";border-left:6px solid transparent;border-right:6px solid transparent;margin-left:-6px;display:block;position:absolute;left:50%}.ql-bubble .ql-tooltip:not(.ql-flip) .ql-tooltip-arrow{border-bottom:6px solid #444;top:-6px}.ql-bubble .ql-tooltip.ql-flip .ql-tooltip-arrow{border-top:6px solid #444;bottom:-6px}.ql-bubble .ql-tooltip.ql-editing .ql-tooltip-editor{display:block}.ql-bubble .ql-tooltip.ql-editing .ql-formats{visibility:hidden}.ql-bubble .ql-tooltip-editor{display:none}.ql-bubble .ql-tooltip-editor input[type=text]{color:#fff;background:0 0;border:none;outline:none;width:100%;height:100%;padding:10px 20px;font-size:13px;position:absolute}.ql-bubble .ql-tooltip-editor a{position:absolute;top:10px;right:20px}.ql-bubble .ql-tooltip-editor a:before{color:#ccc;content:"×";font-size:16px;font-weight:700}.ql-container.ql-bubble:not(.ql-disabled) a:not(.ql-close){white-space:nowrap;position:relative}.ql-container.ql-bubble:not(.ql-disabled) a:not(.ql-close):before{color:#fff;content:attr(href);z-index:1;background-color:#444;border-radius:15px;padding:5px 15px;font-size:12px;font-weight:400;text-decoration:none;top:-5px;overflow:hidden}.ql-container.ql-bubble:not(.ql-disabled) a:not(.ql-close):after{content:" ";border-top:6px solid #444;border-left:6px solid transparent;border-right:6px solid transparent;width:0;height:0;top:0}.ql-container.ql-bubble:not(.ql-disabled) a:not(.ql-close):before,.ql-container.ql-bubble:not(.ql-disabled) a:not(.ql-close):after{visibility:hidden;margin-left:50%;transition:visibility 0s .2s;position:absolute;left:0;transform:translate(-50%,-100%)}.ql-container.ql-bubble:not(.ql-disabled) a:not(.ql-close):hover:before,.ql-container.ql-bubble:not(.ql-disabled) a:not(.ql-close):hover:after{visibility:visible}';var cd=ek("dy9QZ"),eX=ek("lQqDW"),eV=ek("hyL8v"),cf=function(t,e){return t===e||t!=t&&e!=e},cp=function(t,e){for(var r=t.length;r--;)if(cf(t[r][0],e))return r;return -1},cg=Array.prototype.splice;function cm(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cm.prototype.clear=function(){this.__data__=[],this.size=0},cm.prototype.delete=function(t){var e=this.__data__,r=cp(e,t);return!(r<0)&&(r==e.length-1?e.pop():cg.call(e,r,1),--this.size,!0)},cm.prototype.get=function(t){var e=this.__data__,r=cp(e,t);return r<0?void 0:e[r][1]},cm.prototype.has=function(t){return cp(this.__data__,t)>-1},cm.prototype.set=function(t,e){var r=this.__data__,n=cp(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var cv=ek("bjRty"),cy=cv.default.Symbol,cb=Object.prototype,cO=cb.hasOwnProperty,cw=cb.toString,cx=cy?cy.toStringTag:void 0,c_=function(t){var e=cO.call(t,cx),r=t[cx];try{t[cx]=void 0;var n=!0}catch(t){}var i=cw.call(t);return n&&(e?t[cx]=r:delete t[cx]),i},ck=Object.prototype.toString,cS=cy?cy.toStringTag:void 0,cC=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":cS&&cS in Object(t)?c_(t):ck.call(t)},cA=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},cE=function(t){if(!cA(t))return!1;var e=cC(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},cv=ek("bjRty"),cT=cv.default["__core-js_shared__"],cP=(Qw=/[^.]+$/.exec(cT&&cT.keys&&cT.keys.IE_PROTO||""))?"Symbol(src)_1."+Qw:"",cI=Function.prototype.toString,cR=function(t){if(null!=t){try{return cI.call(t)}catch(t){}try{return t+""}catch(t){}}return""},cM=/^\[object .+?Constructor\]$/,cN=Object.prototype,cD=Function.prototype.toString,cL=cN.hasOwnProperty,c$=RegExp("^"+cD.call(cL).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cq=function(t,e){var r,n=null==t?void 0:t[e];return cA(r=n)&&(!cP||!(cP in r))&&(cE(r)?c$:cM).test(cR(r))?n:void 0},cv=ek("bjRty"),cQ=cq(cv.default,"Map"),cB=cq(Object,"create"),cj=Object.prototype.hasOwnProperty,cz=Object.prototype.hasOwnProperty;function cZ(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cZ.prototype.clear=function(){this.__data__=cB?cB(null):{},this.size=0},cZ.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},cZ.prototype.get=function(t){var e=this.__data__;if(cB){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return cj.call(e,t)?e[t]:void 0},cZ.prototype.has=function(t){var e=this.__data__;return cB?void 0!==e[t]:cz.call(e,t)},cZ.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=cB&&void 0===e?"__lodash_hash_undefined__":e,this};var cF=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},cX=function(t,e){var r=t.__data__;return cF(e)?r["string"==typeof e?"string":"hash"]:r.map};function cV(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function cU(t){var e=this.__data__=new cm(t);this.size=e.size}cV.prototype.clear=function(){this.size=0,this.__data__={hash:new cZ,map:new(cQ||cm),string:new cZ}},cV.prototype.delete=function(t){var e=cX(this,t).delete(t);return this.size-=e?1:0,e},cV.prototype.get=function(t){return cX(this,t).get(t)},cV.prototype.has=function(t){return cX(this,t).has(t)},cV.prototype.set=function(t,e){var r=cX(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},cU.prototype.clear=function(){this.__data__=new cm,this.size=0},cU.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},cU.prototype.get=function(t){return this.__data__.get(t)},cU.prototype.has=function(t){return this.__data__.has(t)},cU.prototype.set=function(t,e){var r=this.__data__;if(r instanceof cm){var n=r.__data__;if(!cQ||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new cV(n)}return r.set(t,e),this.size=r.size,this};var cW=function(){try{var t=cq(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),cH=function(t,e,r){"__proto__"==e&&cW?cW(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},cY=function(t,e,r){(void 0===r||cf(t[e],r))&&(void 0!==r||e in t)||cH(t,e,r)},cG=function(t,e,r){for(var n=-1,i=Object(t),o=r(t),s=o.length;s--;){var a=o[++n];if(!1===e(i[a],a,i))break}return t},cK=ek("1PX6M"),cv=ek("bjRty"),cJ=cv.default.Uint8Array,c0=function(t){var e=new t.constructor(t.byteLength);return new cJ(e).set(new cJ(t)),e},c1=function(t,e){var r=e?c0(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)},c2=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},c3=Object.create,c4=function(){function t(){}return function(e){if(!cA(e))return{};if(c3)return c3(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),c5=function(t,e){return function(r){return t(e(r))}},c6=c5(Object.getPrototypeOf,Object),c8=Object.prototype,c7=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||c8)},c9=function(t){return"function"!=typeof t.constructor||c7(t)?{}:c4(c6(t))},ut=function(t){return null!=t&&"object"==typeof t},ue=function(t){return ut(t)&&"[object Arguments]"==cC(t)},ur=Object.prototype,un=ur.hasOwnProperty,ui=ur.propertyIsEnumerable,uo=ue(function(){return arguments}())?ue:function(t){return ut(t)&&un.call(t,"callee")&&!ui.call(t,"callee")},us=Array.isArray,ua=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=0x1fffffffffffff},ul=function(t){return null!=t&&ua(t.length)&&!cE(t)},uh=ek("h54eC"),uc=Object.prototype,uu=Function.prototype.toString,ud=uc.hasOwnProperty,uf=uu.call(Object),up=function(t){if(!ut(t)||"[object Object]"!=cC(t))return!1;var e=c6(t);if(null===e)return!0;var r=ud.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&uu.call(r)==uf},ug={};ug["[object Float32Array]"]=ug["[object Float64Array]"]=ug["[object Int8Array]"]=ug["[object Int16Array]"]=ug["[object Int32Array]"]=ug["[object Uint8Array]"]=ug["[object Uint8ClampedArray]"]=ug["[object Uint16Array]"]=ug["[object Uint32Array]"]=!0,ug["[object Arguments]"]=ug["[object Array]"]=ug["[object ArrayBuffer]"]=ug["[object Boolean]"]=ug["[object DataView]"]=ug["[object Date]"]=ug["[object Error]"]=ug["[object Function]"]=ug["[object Map]"]=ug["[object Number]"]=ug["[object Object]"]=ug["[object RegExp]"]=ug["[object Set]"]=ug["[object String]"]=ug["[object WeakMap]"]=!1;var um=function(t){return function(e){return t(e)}},uv=ek("4nS2h"),uy=uv.default&&uv.default.isTypedArray,ub=uy?um(uy):function(t){return ut(t)&&ua(t.length)&&!!ug[cC(t)]},uO=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},uw=Object.prototype.hasOwnProperty,ux=function(t,e,r){var n=t[e];uw.call(t,e)&&cf(n,r)&&(void 0!==r||e in t)||cH(t,e,r)},u_=function(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=n?n(r[a],t[a],a,r,t):void 0;void 0===l&&(l=t[a]),i?cH(r,a,l):ux(r,a,l)}return r},uk=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},uh=ek("h54eC"),uS=/^(?:0|[1-9]\d*)$/,uC=function(t,e){var r=typeof t;return!!(e=null==e?0x1fffffffffffff:e)&&("number"==r||"symbol"!=r&&uS.test(t))&&t>-1&&t%1==0&&t<e},uA=Object.prototype.hasOwnProperty,uE=function(t,e){var r=us(t),n=!r&&uo(t),i=!r&&!n&&(0,uh.default)(t),o=!r&&!n&&!i&&ub(t),s=r||n||i||o,a=s?uk(t.length,String):[],l=a.length;for(var h in t)(e||uA.call(t,h))&&!(s&&("length"==h||i&&("offset"==h||"parent"==h)||o&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||uC(h,l)))&&a.push(h);return a},uT=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},uP=Object.prototype.hasOwnProperty,uI=function(t){if(!cA(t))return uT(t);var e=c7(t),r=[];for(var n in t)"constructor"==n&&(e||!uP.call(t,n))||r.push(n);return r},uR=function(t){return ul(t)?uE(t,!0):uI(t)},uM=function(t,e,r,n,i,o,s){var a=uO(t,r),l=uO(e,r),h=s.get(l);if(h){cY(t,r,h);return}var c=o?o(a,l,r+"",t,e,s):void 0,u=void 0===c;if(u){var d=us(l),f=!d&&(0,uh.default)(l),p=!d&&!f&&ub(l);(c=l,d||f||p)?us(a)?c=a:ut(a)&&ul(a)?c=c2(a):f?(u=!1,c=(0,cK.default)(l,!0)):p?(u=!1,c=c1(l,!0)):c=[]:up(l)||uo(l)?(c=a,uo(a))?c=u_(a,uR(a)):(!cA(a)||cE(a))&&(c=c9(l)):u=!1}u&&(s.set(l,c),i(c,l,n,o,s),s.delete(l)),cY(t,r,c)},uN=function t(e,r,n,i,o){e!==r&&cG(r,function(s,a){if(o||(o=new cU),cA(s))uM(e,r,a,n,t,i,o);else{var l=i?i(uO(e,a),s,a+"",e,r,o):void 0;void 0===l&&(l=s),cY(e,a,l)}},uR)},uD=function(t){return t},uL=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},u$=Math.max,uq=Date.now,uQ=(Qx=cW?function(t,e){return cW(t,"toString",{configurable:!0,enumerable:!1,value:function(){return e},writable:!0})}:uD,Q_=0,Qk=0,function(){var t=uq(),e=16-(t-Qk);if(Qk=t,e>0){if(++Q_>=800)return arguments[0]}else Q_=0;return Qx.apply(void 0,arguments)}),uB=function(t,e,r){if(!cA(r))return!1;var n=typeof e;return("number"==n?!!(ul(r)&&uC(e,r.length)):"string"==n&&e in r)&&cf(r[e],t)},uj=(QS=function(t,e,r){uN(t,e,r)},qU=function(t,e){var r=-1,n=e.length,i=n>1?e[n-1]:void 0,o=n>2?e[2]:void 0;for(i=QS.length>3&&"function"==typeof i?(n--,i):void 0,o&&uB(e[0],e[1],o)&&(i=n<3?void 0:i,n=1),t=Object(t);++r<n;){var s=e[r];s&&QS(t,s,r,i)}return t},uQ((qH=u$(void 0===(qH=qW)?qU.length-1:qH,0),function(){for(var t=arguments,e=-1,r=u$(t.length-qH,0),n=Array(r);++e<r;)n[e]=t[qH+e];e=-1;for(var i=Array(qH+1);++e<qH;)i[e]=t[e];return i[qH]=uD(n),uL(qU,this,i)}),qU+"")),uz={};p(uz,"Scope",()=>uZ),p(uz,"Attributor",()=>uF),p(uz,"Registry",()=>uU),p(uz,"ClassAttributor",()=>uH),p(uz,"StyleAttributor",()=>uG),p(uz,"AttributorStore",()=>uK),p(uz,"LeafBlot",()=>u2),p(uz,"ParentBlot",()=>u6),p(uz,"InlineBlot",()=>u7),p(uz,"BlockBlot",()=>dt),p(uz,"ContainerBlot",()=>dr),p(uz,"EmbedBlot",()=>dn),p(uz,"ScrollBlot",()=>da),p(uz,"TextBlot",()=>dh);var uZ=((h=uZ||{})[h.TYPE=3]="TYPE",h[h.LEVEL=12]="LEVEL",h[h.ATTRIBUTE=13]="ATTRIBUTE",h[h.BLOT=14]="BLOT",h[h.INLINE=7]="INLINE",h[h.BLOCK=11]="BLOCK",h[h.BLOCK_BLOT=10]="BLOCK_BLOT",h[h.INLINE_BLOT=6]="INLINE_BLOT",h[h.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",h[h.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",h[h.ANY=15]="ANY",h);class uF{static keys(t){return Array.from(t.attributes).map(t=>t.name)}add(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)}canAdd(t,e){return null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){let e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}constructor(t,e,r={}){this.attrName=t,this.keyName=e;let n=uZ.TYPE&uZ.ATTRIBUTE;this.scope=null!=r.scope?r.scope&uZ.LEVEL|n:uZ.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}}class uX extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}let uV=class t{static find(t,e=!1){if(null==t)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let r=null;try{r=t.parentNode}catch(t){return null}return this.find(r,e)}return null}create(e,r,n){let i=this.query(r);if(null==i)throw new uX(`Unable to create ${r} blot`);let o=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(n),s=new i(e,o,n);return t.blots.set(s.domNode,s),s}find(e,r=!1){return t.find(e,r)}query(t,e=uZ.ANY){let r;return"string"==typeof t?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:"number"==typeof t?t&uZ.LEVEL&uZ.BLOCK?r=this.types.block:t&uZ.LEVEL&uZ.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(t=>!!(r=this.classes[t])),r=r||this.tags[t.tagName]),null==r?null:"scope"in r&&e&uZ.LEVEL&r.scope&&e&uZ.TYPE&r.scope?r:null}register(...t){return t.map(t=>{let e="blotName"in t,r="attrName"in t;if(!e&&!r)throw new uX("Invalid definition");if(e&&"abstract"===t.blotName)throw new uX("Cannot register abstract class");let n=e?t.blotName:r?t.attrName:void 0;return this.types[n]=t,r?"string"==typeof t.keyName&&(this.attributes[t.keyName]=t):e&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(t=>t.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(e=>{(null==this.tags[e]||null==t.className)&&(this.tags[e]=t)}))),t})}constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}};uV.blots=/* @__PURE__ */new WeakMap;let uU=uV;function uW(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(t=>0===t.indexOf(`${e}-`))}let uH=class extends uF{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0)}remove(t){uW(t,this.keyName).forEach(e=>{t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")}value(t){let e=(uW(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}};function uY(t){let e=t.split("-"),r=e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("");return e[0]+r}let uG=class extends uF{static keys(t){return(t.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(t,e){return!!this.canAdd(t,e)&&(t.style[uY(this.keyName)]=e,!0)}remove(t){t.style[uY(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){let e=t.style[uY(this.keyName)];return this.canAdd(t,e)?e:""}},uK=class{attribute(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};let t=uU.find(this.domNode);if(null==t)return;let e=uF.keys(this.domNode),r=uH.keys(this.domNode),n=uG.keys(this.domNode);e.concat(r).concat(n).forEach(e=>{let r=t.scroll.query(e,uZ.ATTRIBUTE);r instanceof uF&&(this.attributes[r.attrName]=r)})}copy(t){Object.keys(this.attributes).forEach(e=>{let r=this.attributes[e].value(this.domNode);t.format(e,r)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}constructor(t){this.attributes={},this.domNode=t,this.build()}},uJ=class{static create(t){let e,r;if(null==this.tagName)throw new uX("Blot definition missing tagName");return Array.isArray(this.tagName)?("string"==typeof t?parseInt(r=t.toUpperCase(),10).toString()===r&&(r=parseInt(r,10)):"number"==typeof t&&(r=t),e="number"==typeof r?document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?document.createElement(r):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){let t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){null!=this.parent&&this.parent.removeChild(this),uU.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,r,n){let i=this.isolate(t,e);if(null!=this.scroll.query(r,uZ.BLOT)&&n)i.wrap(r,n);else if(null!=this.scroll.query(r,uZ.ATTRIBUTE)){let t=this.scroll.create(this.statics.scope);i.wrap(t),t.format(r,n)}}insertAt(t,e,r){let n=null==r?this.scroll.create("text",e):this.scroll.create(e,r),i=this.split(t);this.parent.insertBefore(n,i||void 0)}isolate(t,e){let r=this.split(t);if(null==r)throw Error("Attempt to isolate at end");return r.split(e),r}length(){return 1}offset(t=this.parent){return null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){let r="string"==typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,e){return 0===t?this:this.next}update(t,e){}wrap(t,e){let r="string"==typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(r,this.next||void 0),"function"!=typeof r.appendChild)throw new uX(`Cannot wrap ${t}`);return r.appendChild(this),r}constructor(t,e){this.scroll=t,this.domNode=e,uU.blots.set(e,this),this.prev=null,this.next=null}};uJ.blotName="abstract";let u0=uJ,u1=class extends u0{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};u1.scope=uZ.INLINE_BLOT;let u2=u1;class u3{append(...t){if(this.insertBefore(t[0],null),t.length>1){let e=t.slice(1);this.append(...e)}}at(t){let e=this.iterator(),r=e();for(;r&&t>0;)t-=1,r=e();return r}contains(t){let e=this.iterator(),r=e();for(;r;){if(r===t)return!0;r=e()}return!1}indexOf(t){let e=this.iterator(),r=e(),n=0;for(;r;){if(r===t)return n;n+=1,r=e()}return -1}insertBefore(t,e){null!=t&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,r=this.head;for(;null!=r;){if(r===t)return e;e+=r.length(),r=r.next}return -1}remove(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{let e=t;return null!=t&&(t=t.next),e}}find(t,e=!1){let r=this.iterator(),n=r();for(;n;){let i=n.length();if(t<i||e&&t===i&&(null==n.next||0!==n.next.length()))return[n,t];t-=i,n=r()}return[null,0]}forEach(t){let e=this.iterator(),r=e();for(;r;)t(r),r=e()}forEachAt(t,e,r){if(e<=0)return;let[n,i]=this.find(t),o=t-i,s=this.iterator(n),a=s();for(;a&&o<t+e;){let n=a.length();t>o?r(a,t-o,Math.min(e,o+n-t)):r(a,0,Math.min(n,t+e-o)),o+=n,a=s()}}map(t){return this.reduce((e,r)=>(e.push(t(r)),e),[])}reduce(t,e){let r=this.iterator(),n=r();for(;n;)e=t(e,n),n=r();return e}constructor(){this.head=null,this.tail=null,this.length=0}}function u4(t,e){let r=e.find(t);if(r)return r;try{return e.create(t)}catch(n){let r=e.create(uZ.INLINE);return Array.from(t.childNodes).forEach(t=>{r.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}let u5=class t extends u0{appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(e){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new u3,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{let e=u4(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(t){if(t instanceof uX)return;throw t}})}deleteAt(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(t,e,r)=>{t.deleteAt(e,r)})}descendant(e,r=0){let[n,i]=this.children.find(r);return null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e?[n,i]:n instanceof t?n.descendant(e,i):[null,-1]}descendants(e,r=0,n=Number.MAX_VALUE){let i=[],o=n;return this.children.forEachAt(r,n,(r,n,s)=>{(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&i.push(r),r instanceof t&&(i=i.concat(r.descendants(e,n,o))),o-=s}),i}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(r=>{e||this.statics.allowedChildren.some(t=>r instanceof t)||(r.statics.scope===uZ.BLOCK_BLOT?(null!=r.next&&this.splitAfter(r),null!=r.prev&&this.splitAfter(r.prev),r.parent.unwrap(),e=!0):r instanceof t?r.unwrap():r.remove())})}formatAt(t,e,r,n){this.children.forEachAt(t,e,(t,e,i)=>{t.formatAt(e,i,r,n)})}insertAt(t,e,r){let[n,i]=this.children.find(t);if(n)n.insertAt(i,e,r);else{let t=null==r?this.scroll.create("text",e):this.scroll.create(e,r);this.appendChild(t)}}insertBefore(t,e){null!=t.parent&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,e||null),t.parent=this,null!=e&&(r=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(r=>{t.insertBefore(r,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length){if(null!=this.statics.defaultChild){let t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}}path(e,r=!1){let[n,i]=this.children.find(e,r),o=[[this,e]];return n instanceof t?o.concat(n.path(i,r)):(null!=n&&o.push([n,i]),o)}removeChild(t){this.children.remove(t)}replaceWith(e,r){let n="string"==typeof e?this.scroll.create(e,r):e;return n instanceof t&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(0===t)return this;if(t===this.length())return this.next}let r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(t,n,i)=>{let o=t.split(n,e);null!=o&&r.appendChild(o)}),r}splitAfter(t){let e=this.clone();for(;null!=t.next;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){let r=[],n=[];t.forEach(t=>{t.target===this.domNode&&"childList"===t.type&&(r.push(...t.addedNodes),n.push(...t.removedNodes))}),n.forEach(t=>{if(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;let e=this.scroll.find(t);null!=e&&(null==e.domNode.parentNode||e.domNode.parentNode===this.domNode)&&e.detach()}),r.filter(t=>t.parentNode===this.domNode&&t!==this.uiNode).sort((t,e)=>t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(t=>{let e=null;null!=t.nextSibling&&(e=this.scroll.find(t.nextSibling));let r=u4(t,this.scroll);(r.next!==e||null==r.next)&&(null!=r.parent&&r.parent.removeChild(this),this.insertBefore(r,e||void 0))}),this.enforceAllowedChildren()}constructor(t,e){super(t,e),this.uiNode=null,this.build()}};u5.uiClass="";let u6=u5,u8=class t extends u6{static create(t){return super.create(t)}static formats(e,r){let n=r.query(t.blotName);if(!(null!=n&&e.tagName===n.tagName)){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}format(e,r){if(e!==this.statics.blotName||r){let t=this.scroll.query(e,uZ.INLINE);null!=t&&(t instanceof uF?this.attributes.attribute(t,r):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r))}else this.children.forEach(e=>{e instanceof t||(e=e.wrap(t.blotName,!0)),this.attributes.copy(e)}),this.unwrap()}formats(){let t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,n){null!=this.formats()[r]||this.scroll.query(r,uZ.ATTRIBUTE)?this.isolate(t,e).format(r,n):super.formatAt(t,e,r,n)}optimize(e){super.optimize(e);let r=this.formats();if(0===Object.keys(r).length)return this.unwrap();let n=this.next;n instanceof t&&n.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){let r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(t=>t.target===this.domNode&&"attributes"===t.type)&&this.attributes.build()}wrap(e,r){let n=super.wrap(e,r);return n instanceof t&&this.attributes.move(n),n}constructor(t,e){super(t,e),this.attributes=new uK(this.domNode)}};u8.allowedChildren=[u8,u2],u8.blotName="inline",u8.scope=uZ.INLINE_BLOT,u8.tagName="SPAN";let u7=u8,u9=class t extends u6{static create(t){return super.create(t)}static formats(e,r){let n=r.query(t.blotName);if(!(null!=n&&e.tagName===n.tagName)){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}format(e,r){let n=this.scroll.query(e,uZ.BLOCK);null!=n&&(n instanceof uF?this.attributes.attribute(n,r):e!==this.statics.blotName||r?r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r):this.replaceWith(t.blotName))}formats(){let t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,n){null!=this.scroll.query(r,uZ.BLOCK)?this.format(r,n):super.formatAt(t,e,r,n)}insertAt(t,e,r){if(null==r||null!=this.scroll.query(e,uZ.INLINE))super.insertAt(t,e,r);else{let n=this.split(t);if(null!=n){let t=this.scroll.create(e,r);n.parent.insertBefore(t,n)}else throw Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){let r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some(t=>t.target===this.domNode&&"attributes"===t.type)&&this.attributes.build()}constructor(t,e){super(t,e),this.attributes=new uK(this.domNode)}};u9.blotName="block",u9.scope=uZ.BLOCK_BLOT,u9.tagName="P",u9.allowedChildren=[u7,u9,u2];let dt=u9,de=class extends u6{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,r,n){super.formatAt(t,e,r,n),this.enforceAllowedChildren()}insertAt(t,e,r){super.insertAt(t,e,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};de.blotName="container",de.scope=uZ.BLOCK_BLOT;let dr=de,dn=class extends u2{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,r,n){0===t&&e===this.length()?this.format(r,n):super.formatAt(t,e,r,n)}formats(){return this.statics.formats(this.domNode,this.scroll)}},di={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ds=class extends u6{create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){let r=this.registry.find(t,e);return r?r.scroll===this?r:e?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,e=uZ.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),0===t&&e===this.length()?this.children.forEach(t=>{t.remove()}):super.deleteAt(t,e)}formatAt(t,e,r,n){this.update(),super.formatAt(t,e,r,n)}insertAt(t,e,r){this.update(),super.insertAt(t,e,r)}optimize(t=[],e={}){super.optimize(e);let r=e.mutationsMap||/* @__PURE__ */new WeakMap,n=Array.from(this.observer.takeRecords());for(;n.length>0;)t.push(n.pop());let i=(t,e=!0)=>{null==t||t===this||null!=t.domNode.parentNode&&(r.has(t.domNode)||r.set(t.domNode,[]),e&&i(t.parent))},o=t=>{r.has(t.domNode)&&(t instanceof u6&&t.children.forEach(o),r.delete(t.domNode),t.optimize(e))},s=t;for(let e=0;s.length>0;e+=1){if(e>=100)throw Error("[Parchment] Maximum optimize iterations reached");for(s.forEach(t=>{let e=this.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(i(this.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach(t=>{let e=this.find(t,!1);i(e,!1),e instanceof u6&&e.children.forEach(t=>{i(t,!1)})})):"attributes"===t.type&&i(e.prev)),i(e))}),this.children.forEach(o),n=(s=Array.from(this.observer.takeRecords())).slice();n.length>0;)t.push(n.pop())}}update(t,e={}){t=t||this.observer.takeRecords();let r=/* @__PURE__ */new WeakMap;t.map(t=>{let e=this.find(t.target,!0);return null==e?null:r.has(e.domNode)?(r.get(e.domNode).push(t),null):(r.set(e.domNode,[t]),e)}).forEach(t=>{null!=t&&t!==this&&r.has(t.domNode)&&t.update(r.get(t.domNode)||[],e)}),e.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),e),this.optimize(t,e)}constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(t=>{this.update(t)}),this.observer.observe(this.domNode,di),this.attach()}};ds.blotName="scroll",ds.defaultChild=dt,ds.allowedChildren=[dt,dr],ds.scope=uZ.BLOCK_BLOT,ds.tagName="DIV";let da=ds,dl=class t extends u2{static create(t){return document.createTextNode(t)}static value(t){return t.data}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,r){null==r?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(0===t)return this;if(t===this.length())return this.next}let r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,e){t.some(t=>"characterData"===t.type&&t.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}};dl.blotName="text",dl.scope=uZ.INLINE_BLOT;let dh=dl;var dc={};Object.defineProperty(dc,"__esModule",{value:!0}),dc.AttributeMap=dc.OpIterator=dc.Op=void 0;var du={};function dd(t,e,r,n,i){if(t===e)return t?[[0,t]]:[];if(null!=r){var o=function(t,e,r){var n="number"==typeof r?{index:r,length:0}:r.oldRange,i="number"==typeof r?null:r.newRange,o=t.length,s=e.length;if(0===n.length&&(null===i||0===i.length)){var a=n.index,l=t.slice(0,a),h=t.slice(a),c=i?i.index:null;t:{var u=a+s-o;if(null!==c&&c!==u||u<0||u>s)break t;var d=e.slice(0,u),f=e.slice(u);if(f!==h)break t;var p=Math.min(a,u),g=l.slice(0,p),m=d.slice(0,p);if(g!==m)break t;var v=l.slice(p),y=d.slice(p);return dA(g,v,y,h)}e:if(null===c||c===a){var d=e.slice(0,a),f=e.slice(a);if(d!==l)break e;var b=Math.min(o-a,s-a),O=h.slice(h.length-b),w=f.slice(f.length-b);if(O!==w)break e;var v=h.slice(0,h.length-b),y=f.slice(0,f.length-b);return dA(l,v,y,O)}}if(n.length>0&&i&&0===i.length)r:{var g=t.slice(0,n.index),O=t.slice(n.index+n.length),p=g.length,b=O.length;if(s<p+b)break r;var m=e.slice(0,p),w=e.slice(s-b);if(g!==m||O!==w)break r;var v=t.slice(p,o-b),y=e.slice(p,s-b);return dA(g,v,y,O)}return null}(t,e,r);if(o)return o}var s=dp(t,e),a=t.substring(0,s);s=dm(t=t.substring(s),e=e.substring(s));var l=t.substring(t.length-s),h=function(t,e){if(!t)return[[1,e]];if(!e)return[[-1,t]];var r,n=t.length>e.length?t:e,i=t.length>e.length?e:t,o=n.indexOf(i);if(-1!==o)return r=[[1,n.substring(0,o)],[0,i],[1,n.substring(o+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=-1),r;if(1===i.length)return[[-1,t],[1,e]];var s=function(t,e){var r,n,i,o,s,a=t.length>e.length?t:e,l=t.length>e.length?e:t;if(a.length<4||2*l.length<a.length)return null;function h(t,e,r){for(var n,i,o,s,a=t.substring(r,r+Math.floor(t.length/4)),l=-1,h="";-1!==(l=e.indexOf(a,l+1));){var c=dp(t.substring(r),e.substring(l)),u=dm(t.substring(0,r),e.substring(0,l));h.length<u+c&&(h=e.substring(l-u,l)+e.substring(l,l+c),n=t.substring(0,r-u),i=t.substring(r+c),o=e.substring(0,l-u),s=e.substring(l+c))}return 2*h.length>=t.length?[n,i,o,s,h]:null}var c=h(a,l,Math.ceil(a.length/4)),u=h(a,l,Math.ceil(a.length/2));return c||u?(r=u?c&&c[4].length>u[4].length?c:u:c,t.length>e.length?(n=r[0],i=r[1],o=r[2],s=r[3]):(o=r[0],s=r[1],n=r[2],i=r[3]),[n,i,o,s,r[4]]):null}(t,e);if(s){var a=s[0],l=s[1],h=s[2],c=s[3],u=s[4],d=dd(a,h),f=dd(l,c);return d.concat([[0,u]],f)}return function(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),o=2*i,s=Array(o),a=Array(o),l=0;l<o;l++)s[l]=-1,a[l]=-1;s[i+1]=0,a[i+1]=0;for(var h=r-n,c=h%2!=0,u=0,d=0,f=0,p=0,g=0;g<i;g++){for(var m=-g+u;m<=g-d;m+=2){for(var v,y=i+m,b=(v=m===-g||m!==g&&s[y-1]<s[y+1]?s[y+1]:s[y-1]+1)-m;v<r&&b<n&&t.charAt(v)===e.charAt(b);)v++,b++;if(s[y]=v,v>r)d+=2;else if(b>n)u+=2;else if(c){var O=i+h-m;if(O>=0&&O<o&&-1!==a[O]){var w=r-a[O];if(v>=w)return df(t,e,v,b)}}}for(var x=-g+f;x<=g-p;x+=2){for(var w,O=i+x,k=(w=x===-g||x!==g&&a[O-1]<a[O+1]?a[O+1]:a[O-1]+1)-x;w<r&&k<n&&t.charAt(r-w-1)===e.charAt(n-k-1);)w++,k++;if(a[O]=w,w>r)p+=2;else if(k>n)f+=2;else if(!c){var y=i+h-x;if(y>=0&&y<o&&-1!==s[y]){var v=s[y],b=i+v-y;if(v>=(w=r-w))return df(t,e,v,b)}}}}return[[-1,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-s),e=e.substring(0,e.length-s));return a&&h.unshift([0,a]),l&&h.push([0,l]),dx(h,i),n&&function(t){for(var e=!1,r=[],n=0,i=null,o=0,s=0,a=0,l=0,h=0;o<t.length;)0==t[o][0]?(r[n++]=o,s=l,a=h,l=0,h=0,i=t[o][1]):(1==t[o][0]?l+=t[o][1].length:h+=t[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(l,h)&&(t.splice(r[n-1],0,[-1,i]),t[r[n-1]+1][0]=1,n--,o=--n>0?r[n-1]:-1,s=0,a=0,l=0,h=0,i=null,e=!0)),o++;for(e&&dx(t),function(t){function e(t,e){if(!t||!e)return 6;var r=t.charAt(t.length-1),n=e.charAt(0),i=r.match(dv),o=n.match(dv),s=i&&r.match(dy),a=o&&n.match(dy),l=s&&r.match(db),h=a&&n.match(db),c=l&&t.match(dO),u=h&&e.match(dw);return c||u?5:l||h?4:i&&!s&&a?3:s||a?2:i||o?1:0}for(var r=1;r<t.length-1;){if(0==t[r-1][0]&&0==t[r+1][0]){var n=t[r-1][1],i=t[r][1],o=t[r+1][1],s=dm(n,i);if(s){var a=i.substring(i.length-s);n=n.substring(0,n.length-s),i=a+i.substring(0,i.length-s),o=a+o}for(var l=n,h=i,c=o,u=e(n,i)+e(i,o);i.charAt(0)===o.charAt(0);){n+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var d=e(n,i)+e(i,o);d>=u&&(u=d,l=n,h=i,c=o)}t[r-1][1]!=l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=h,c?t[r+1][1]=c:(t.splice(r+1,1),r--))}r++}}(t),o=1;o<t.length;){if(-1==t[o-1][0]&&1==t[o][0]){var c=t[o-1][1],u=t[o][1],d=dg(c,u),f=dg(u,c);d>=f?(d>=c.length/2||d>=u.length/2)&&(t.splice(o,0,[0,u.substring(0,d)]),t[o-1][1]=c.substring(0,c.length-d),t[o+1][1]=u.substring(d),o++):(f>=c.length/2||f>=u.length/2)&&(t.splice(o,0,[0,c.substring(0,f)]),t[o-1][0]=1,t[o-1][1]=u.substring(0,u.length-f),t[o+1][0]=-1,t[o+1][1]=c.substring(f),o++),o++}o++}}(h),h}function df(t,e,r,n){var i=t.substring(0,r),o=e.substring(0,n),s=t.substring(r),a=e.substring(n),l=dd(i,o),h=dd(s,a);return l.concat(h)}function dp(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(o,i)==e.substring(o,i)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return d_(t.charCodeAt(i-1))&&i--,i}function dg(t,e){var r=t.length,n=e.length;if(0==r||0==n)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var o=0,s=1;;){var a=t.substring(i-s),l=e.indexOf(a);if(-1==l)return o;s+=l,(0==l||t.substring(i-s)==e.substring(0,s))&&(o=s,s++)}}function dm(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return dk(t.charCodeAt(t.length-i))&&i--,i}var dv=/[^a-zA-Z0-9]/,dy=/\s/,db=/[\r\n]/,dO=/\n\r?\n$/,dw=/^\r?\n\r?\n/;function dx(t,e){t.push([0,""]);for(var r,n=0,i=0,o=0,s="",a="";n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case 1:o++,a+=t[n][1],n++;break;case -1:i++,s+=t[n][1],n++;break;case 0:var l=n-o-i-1;if(e){if(l>=0&&dC(t[l][1])){var h=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),s=h+s,a=h+a,!t[l][1]){t.splice(l,1),n--;var c=l-1;t[c]&&1===t[c][0]&&(o++,a=t[c][1]+a,c--),t[c]&&-1===t[c][0]&&(i++,s=t[c][1]+s,c--),l=c}}if(dS(t[n][1])){var h=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),s+=h,a+=h}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(s.length>0||a.length>0){s.length>0&&a.length>0&&(0!==(r=dp(a,s))&&(l>=0?t[l][1]+=a.substring(0,r):(t.splice(0,0,[0,a.substring(0,r)]),n++),a=a.substring(r),s=s.substring(r)),0!==(r=dm(a,s))&&(t[n][1]=a.substring(a.length-r)+t[n][1],a=a.substring(0,a.length-r),s=s.substring(0,s.length-r)));var u=o+i;0===s.length&&0===a.length?(t.splice(n-u,u),n-=u):0===s.length?(t.splice(n-u,u,[1,a]),n=n-u+1):0===a.length?(t.splice(n-u,u,[-1,s]),n=n-u+1):(t.splice(n-u,u,[-1,s],[1,a]),n=n-u+2)}0!==n&&0===t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,i=0,s="",a=""}}""===t[t.length-1][1]&&t.pop();var d=!1;for(n=1;n<t.length-1;)0===t[n-1][0]&&0===t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),d=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),d=!0)),n++;d&&dx(t,e)}function d_(t){return t>=55296&&t<=56319}function dk(t){return t>=56320&&t<=57343}function dS(t){return dk(t.charCodeAt(0))}function dC(t){return d_(t.charCodeAt(t.length-1))}function dA(t,e,r,n){return dC(t)||dS(n)?null:function(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}([[0,t],[-1,e],[1,r],[0,n]])}function dE(t,e,r,n){return dd(t,e,r,n,!0)}dE.INSERT=1,dE.DELETE=-1,dE.EQUAL=0,du=dE;var dT=ek("k35i5"),dP=ek("2DUTx"),dI={};Object.defineProperty(dI,"__esModule",{value:!0});var dT=ek("k35i5"),dP=ek("2DUTx");(QC=Bf||(Bf={})).compose=function(t={},e={},r=!1){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});let n=dT(e);for(let i in r||(n=Object.keys(n).reduce((t,e)=>(null!=n[e]&&(t[e]=n[e]),t),{})),t)void 0!==t[i]&&void 0===e[i]&&(n[i]=t[i]);return Object.keys(n).length>0?n:void 0},QC.diff=function(t={},e={}){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});let r=Object.keys(t).concat(Object.keys(e)).reduce((r,n)=>(dP(t[n],e[n])||(r[n]=void 0===e[n]?null:e[n]),r),{});return Object.keys(r).length>0?r:void 0},QC.invert=function(t={},e={}){t=t||{};let r=Object.keys(e).reduce((r,n)=>(e[n]!==t[n]&&void 0!==t[n]&&(r[n]=e[n]),r),{});return Object.keys(t).reduce((r,n)=>(t[n]!==e[n]&&void 0===e[n]&&(r[n]=null),r),r)},QC.transform=function(t,e,r=!1){if("object"!=typeof t)return e;if("object"!=typeof e)return;if(!r)return e;let n=Object.keys(e).reduce((r,n)=>(void 0===t[n]&&(r[n]=e[n]),r),{});return Object.keys(n).length>0?n:void 0},dI.default=Bf,dc.AttributeMap=dI.default;var dR={};Object.defineProperty(dR,"__esModule",{value:!0}),(Bp||(Bp={})).length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"object"==typeof t.retain&&null!==t.retain?1:"string"==typeof t.insert?t.insert.length:1},dR.default=Bp,dc.Op=dR.default;var dM={};Object.defineProperty(dM,"__esModule",{value:!0}),dM.default=class{hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);let e=this.ops[this.index];if(!e)return{retain:1/0};{let r=this.offset,n=dR.default.length(e);if(t>=n-r?(t=n-r,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};{let n={};return e.attributes&&(n.attributes=e.attributes),"number"==typeof e.retain?n.retain=t:"object"==typeof e.retain&&null!==e.retain?n.retain=e.retain:"string"==typeof e.insert?n.insert=e.insert.substr(r,t):n.insert=e.insert,n}}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?dR.default.length(this.ops[this.index])-this.offset:1/0}peekType(){let t=this.ops[this.index];if(t){if("number"==typeof t.delete)return"delete";if("number"!=typeof t.retain&&("object"!=typeof t.retain||null===t.retain))return"insert"}return"retain"}rest(){if(!this.hasNext())return[];{if(0===this.offset)return this.ops.slice(this.index);let t=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(n)}}constructor(t){this.ops=t,this.index=0,this.offset=0}},dc.OpIterator=dM.default;let dN=(t,e)=>{if("object"!=typeof t||null===t)throw Error(`cannot retain a ${typeof t}`);if("object"!=typeof e||null===e)throw Error(`cannot retain a ${typeof e}`);let r=Object.keys(t)[0];if(!r||r!==Object.keys(e)[0])throw Error(`embed types not matched: ${r} != ${Object.keys(e)[0]}`);return[r,t[r],e[r]]};class dD{static registerEmbed(t,e){this.handlers[t]=e}static unregisterEmbed(t){delete this.handlers[t]}static getHandler(t){let e=this.handlers[t];if(!e)throw Error(`no handlers for embed type "${t}"`);return e}insert(t,e){let r={};return"string"==typeof t&&0===t.length?this:(r.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))}delete(t){return t<=0?this:this.push({delete:t})}retain(t,e){if("number"==typeof t&&t<=0)return this;let r={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)}push(t){let e=this.ops.length,r=this.ops[e-1];if(t=dT(t),"object"==typeof r){if("number"==typeof t.delete&&"number"==typeof r.delete)return this.ops[e-1]={delete:r.delete+t.delete},this;if("number"==typeof r.delete&&null!=t.insert&&(e-=1,"object"!=typeof(r=this.ops[e-1])))return this.ops.unshift(t),this;if(dP(t.attributes,r.attributes)){if("string"==typeof t.insert&&"string"==typeof r.insert)return this.ops[e-1]={insert:r.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof r.retain)return this.ops[e-1]={retain:r.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this}chop(){let t=this.ops[this.ops.length-1];return t&&"number"==typeof t.retain&&!t.attributes&&this.ops.pop(),this}filter(t){return this.ops.filter(t)}forEach(t){this.ops.forEach(t)}map(t){return this.ops.map(t)}partition(t){let e=[],r=[];return this.forEach(n=>{(t(n)?e:r).push(n)}),[e,r]}reduce(t,e){return this.ops.reduce(t,e)}changeLength(){return this.reduce((t,e)=>e.insert?t+dR.default.length(e):e.delete?t-e.delete:t,0)}length(){return this.reduce((t,e)=>t+dR.default.length(e),0)}slice(t=0,e=1/0){let r=[],n=new dM.default(this.ops),i=0;for(;i<e&&n.hasNext();){let o;i<t?o=n.next(t-i):(o=n.next(e-i),r.push(o)),i+=dR.default.length(o)}return new dD(r)}compose(t){let e=new dM.default(this.ops),r=new dM.default(t.ops),n=[],i=r.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){let t=i.retain;for(;"insert"===e.peekType()&&e.peekLength()<=t;)t-=e.peekLength(),n.push(e.next());i.retain-t>0&&r.next(i.retain-t)}let o=new dD(n);for(;e.hasNext()||r.hasNext();)if("insert"===r.peekType())o.push(r.next());else if("delete"===e.peekType())o.push(e.next());else{let t=Math.min(e.peekLength(),r.peekLength()),n=e.next(t),i=r.next(t);if(i.retain){let s={};if("number"==typeof n.retain)s.retain="number"==typeof i.retain?t:i.retain;else if("number"==typeof i.retain)null==n.retain?s.insert=n.insert:s.retain=n.retain;else{let t=null==n.retain?"insert":"retain",[e,r,o]=dN(n[t],i.retain),a=dD.getHandler(e);s[t]={[e]:a.compose(r,o,"retain"===t)}}let a=dI.default.compose(n.attributes,i.attributes,"number"==typeof n.retain);if(a&&(s.attributes=a),o.push(s),!r.hasNext()&&dP(o.ops[o.ops.length-1],s)){let t=new dD(e.rest());return o.concat(t).chop()}}else"number"==typeof i.delete&&("number"==typeof n.retain||"object"==typeof n.retain&&null!==n.retain)&&o.push(i)}return o.chop()}concat(t){let e=new dD(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e}diff(t,e){if(this.ops===t.ops)return new dD;let r=[this,t].map(e=>e.map(r=>{if(null!=r.insert)return"string"==typeof r.insert?r.insert:"\0";throw Error("diff() called "+(e===t?"on":"with")+" non-document")}).join("")),n=new dD,i=du(r[0],r[1],e,!0),o=new dM.default(this.ops),s=new dM.default(t.ops);return i.forEach(t=>{let e=t[1].length;for(;e>0;){let r=0;switch(t[0]){case du.INSERT:r=Math.min(s.peekLength(),e),n.push(s.next(r));break;case du.DELETE:r=Math.min(e,o.peekLength()),o.next(r),n.delete(r);break;case du.EQUAL:r=Math.min(o.peekLength(),s.peekLength(),e);let i=o.next(r),a=s.next(r);dP(i.insert,a.insert)?n.retain(r,dI.default.diff(i.attributes,a.attributes)):n.push(a).delete(r)}e-=r}}),n.chop()}eachLine(t,e="\n"){let r=new dM.default(this.ops),n=new dD,i=0;for(;r.hasNext();){if("insert"!==r.peekType())return;let o=r.peek(),s=dR.default.length(o)-r.peekLength(),a="string"==typeof o.insert?o.insert.indexOf(e,s)-s:-1;if(a<0)n.push(r.next());else if(a>0)n.push(r.next(a));else{if(!1===t(n,r.next(1).attributes||{},i))return;i+=1,n=new dD}}n.length()>0&&t(n,{},i)}invert(t){let e=new dD;return this.reduce((r,n)=>{if(n.insert)e.delete(dR.default.length(n));else if("number"==typeof n.retain&&null==n.attributes)return e.retain(n.retain),r+n.retain;else if(n.delete||"number"==typeof n.retain){let i=n.delete||n.retain;return t.slice(r,r+i).forEach(t=>{n.delete?e.push(t):n.retain&&n.attributes&&e.retain(dR.default.length(t),dI.default.invert(n.attributes,t.attributes))}),r+i}else if("object"==typeof n.retain&&null!==n.retain){let i=t.slice(r,r+1),o=new dM.default(i.ops).next(),[s,a,l]=dN(n.retain,o.insert),h=dD.getHandler(s);return e.retain({[s]:h.invert(a,l)},dI.default.invert(n.attributes,o.attributes)),r+1}return r},0),e.chop()}transform(t,e=!1){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);let r=new dM.default(this.ops),n=new dM.default(t.ops),i=new dD;for(;r.hasNext()||n.hasNext();)if("insert"===r.peekType()&&(e||"insert"!==n.peekType()))i.retain(dR.default.length(r.next()));else if("insert"===n.peekType())i.push(n.next());else{let t=Math.min(r.peekLength(),n.peekLength()),o=r.next(t),s=n.next(t);if(o.delete)continue;if(s.delete)i.push(s);else{let r=o.retain,n=s.retain,a="object"==typeof n&&null!==n?n:t;if("object"==typeof r&&null!==r&&"object"==typeof n&&null!==n){let t=Object.keys(r)[0];if(t===Object.keys(n)[0]){let i=dD.getHandler(t);i&&(a={[t]:i.transform(r[t],n[t],e)})}}i.retain(a,dI.default.transform(o.attributes,s.attributes,e))}}return i.chop()}transformPosition(t,e=!1){e=!!e;let r=new dM.default(this.ops),n=0;for(;r.hasNext()&&n<=t;){let i=r.peekLength(),o=r.peekType();if(r.next(),"delete"===o){t-=Math.min(i,t-n);continue}"insert"===o&&(n<t||!e)&&(t+=i),n+=i}return t}constructor(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}}dD.Op=dR.default,dD.OpIterator=dM.default,dD.AttributeMap=dI.default,dD.handlers={},dc.default=dD,(dc=dD).default=dD;var eX=ek("lQqDW"),dL=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},d$=c5(Object.keys,Object),dq=Object.prototype.hasOwnProperty,dQ=function(t){if(!c7(t))return d$(t);var e=[];for(var r in Object(t))dq.call(t,r)&&"constructor"!=r&&e.push(r);return e},dB=function(t){return ul(t)?uE(t):dQ(t)},cK=ek("1PX6M"),dj=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o},dz=function(){return[]},dZ=Object.prototype.propertyIsEnumerable,dF=Object.getOwnPropertySymbols,dX=dF?function(t){return null==t?[]:dj(dF(t=Object(t)),function(e){return dZ.call(t,e)})}:dz,dV=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t},dU=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)dV(e,dX(t)),t=c6(t);return e}:dz,dW=function(t,e,r){var n=e(t);return us(t)?n:dV(n,r(t))},dH=function(t){return dW(t,dB,dX)},dY=function(t){return dW(t,uR,dU)},cv=ek("bjRty"),dG=cq(cv.default,"DataView"),cv=ek("bjRty"),dK=cq(cv.default,"Promise"),cv=ek("bjRty"),dJ=cq(cv.default,"Set"),cv=ek("bjRty"),d0=cq(cv.default,"WeakMap"),d1="[object Map]",d2="[object Promise]",d3="[object Set]",d4="[object WeakMap]",d5="[object DataView]",d6=cR(dG),d8=cR(cQ),d7=cR(dK),d9=cR(dJ),ft=cR(d0),fe=cC;(dG&&fe(new dG(new ArrayBuffer(1)))!=d5||cQ&&fe(new cQ)!=d1||dK&&fe(dK.resolve())!=d2||dJ&&fe(new dJ)!=d3||d0&&fe(new d0)!=d4)&&(fe=function(t){var e=cC(t),r="[object Object]"==e?t.constructor:void 0,n=r?cR(r):"";if(n)switch(n){case d6:return d5;case d8:return d1;case d7:return d2;case d9:return d3;case ft:return d4}return e});var fr=fe,fn=Object.prototype.hasOwnProperty,fi=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&fn.call(t,"index")&&(r.index=t.index,r.input=t.input),r},fo=function(t,e){var r=e?c0(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},fs=/\w*$/,fa=function(t){var e=new t.constructor(t.source,fs.exec(t));return e.lastIndex=t.lastIndex,e},fl=cy?cy.prototype:void 0,fh=fl?fl.valueOf:void 0,fc=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return c0(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return fo(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c1(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return fa(t);case"[object Symbol]":return fh?Object(fh.call(t)):{}}},uh=ek("h54eC"),uv=ek("4nS2h"),fu=uv.default&&uv.default.isMap,fd=fu?um(fu):function(t){return ut(t)&&"[object Map]"==fr(t)},uv=ek("4nS2h"),ff=uv.default&&uv.default.isSet,fp=ff?um(ff):function(t){return ut(t)&&"[object Set]"==fr(t)},fg="[object Arguments]",fm="[object Function]",fv="[object Object]",fy={};fy[fg]=fy["[object Array]"]=fy["[object ArrayBuffer]"]=fy["[object DataView]"]=fy["[object Boolean]"]=fy["[object Date]"]=fy["[object Float32Array]"]=fy["[object Float64Array]"]=fy["[object Int8Array]"]=fy["[object Int16Array]"]=fy["[object Int32Array]"]=fy["[object Map]"]=fy["[object Number]"]=fy[fv]=fy["[object RegExp]"]=fy["[object Set]"]=fy["[object String]"]=fy["[object Symbol]"]=fy["[object Uint8Array]"]=fy["[object Uint8ClampedArray]"]=fy["[object Uint16Array]"]=fy["[object Uint32Array]"]=!0,fy["[object Error]"]=fy[fm]=fy["[object WeakMap]"]=!1;var fb=function t(e,r,n,i,o,s){var a,l=1&r,h=2&r,c=4&r;if(n&&(a=o?n(e,i,o,s):n(e)),void 0!==a)return a;if(!cA(e))return e;var u=us(e);if(u){if(a=fi(e),!l)return c2(e,a)}else{var d,f,p,g,m=fr(e),v=m==fm||"[object GeneratorFunction]"==m;if((0,uh.default)(e))return(0,cK.default)(e,l);if(m==fv||m==fg||v&&!o){if(a=h||v?{}:c9(e),!l)return h?(f=(d=a)&&u_(e,uR(e),d),u_(e,dU(e),f)):(g=(p=a)&&u_(e,dB(e),p),u_(e,dX(e),g))}else{if(!fy[m])return o?e:{};a=fc(e,m,l)}}s||(s=new cU);var y=s.get(e);if(y)return y;s.set(e,a),fp(e)?e.forEach(function(i){a.add(t(i,r,n,i,e,s))}):fd(e)&&e.forEach(function(i,o){a.set(o,t(i,r,n,o,e,s))});var b=c?h?dY:dH:h?uR:dB,O=u?void 0:b(e);return dL(O||e,function(i,o){O&&(i=e[o=i]),ux(a,o,t(i,r,n,o,e,s))}),a},fO=function(t){return fb(t,5)};function fw(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new cV;++e<r;)this.add(t[e])}fw.prototype.add=fw.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},fw.prototype.has=function(t){return this.__data__.has(t)};var fx=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},f_=function(t,e,r,n,i,o){var s=1&r,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var h=o.get(t),c=o.get(e);if(h&&c)return h==e&&c==t;var u=-1,d=!0,f=2&r?new fw:void 0;for(o.set(t,e),o.set(e,t);++u<a;){var p=t[u],g=e[u];if(n)var m=s?n(g,p,u,e,t,o):n(p,g,u,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!fx(e,function(t,e){if(!f.has(e)&&(p===t||i(p,t,r,n,o)))return f.push(e)})){d=!1;break}}else if(!(p===g||i(p,g,r,n,o))){d=!1;break}}return o.delete(t),o.delete(e),d},fk=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r},fS=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r},fC=cy?cy.prototype:void 0,fA=fC?fC.valueOf:void 0,fE=function(t,e,r,n,i,o,s){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!o(new cJ(t),new cJ(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return cf(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=fk;case"[object Set]":var l=1&n;if(a||(a=fS),t.size!=e.size&&!l)break;var h=s.get(t);if(h)return h==e;n|=2,s.set(t,e);var c=f_(a(t),a(e),n,i,o,s);return s.delete(t),c;case"[object Symbol]":if(fA)return fA.call(t)==fA.call(e)}return!1},fT=Object.prototype.hasOwnProperty,fP=function(t,e,r,n,i,o){var s=1&r,a=dH(t),l=a.length;if(l!=dH(e).length&&!s)return!1;for(var h=l;h--;){var c=a[h];if(!(s?c in e:fT.call(e,c)))return!1}var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++h<l;){var g=t[c=a[h]],m=e[c];if(n)var v=s?n(m,g,c,e,t,o):n(g,m,c,t,e,o);if(!(void 0===v?g===m||i(g,m,r,n,o):v)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(f=!1)}return o.delete(t),o.delete(e),f},uh=ek("h54eC"),fI="[object Arguments]",fR="[object Array]",fM="[object Object]",fN=Object.prototype.hasOwnProperty,fD=function(t,e,r,n,i,o){var s=us(t),a=us(e),l=s?fR:fr(t),h=a?fR:fr(e);l=l==fI?fM:l,h=h==fI?fM:h;var c=l==fM,u=h==fM,d=l==h;if(d&&(0,uh.default)(t)){if(!(0,uh.default)(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new cU),s||ub(t)?f_(t,e,r,n,i,o):fE(t,e,l,r,n,i,o);if(!(1&r)){var f=c&&fN.call(t,"__wrapped__"),p=u&&fN.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new cU),i(g,m,r,n,o)}}return!!d&&(o||(o=new cU),fP(t,e,r,n,i,o))},fL=function(t,e){return function t(e,r,n,i,o){return e===r||(null!=e&&null!=r&&(ut(e)||ut(r))?fD(e,r,n,i,t,o):e!=e&&r!=r)}(t,e)},cd=ek("dy9QZ"),eX=ek("lQqDW");class f$ extends dn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}f$.blotName="break",f$.tagName="BR";var cd=ek("dy9QZ");class fq extends dh{}let fQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function fB(t){return t.replace(/[&<>"']/g,t=>fQ[t])}class fj extends u7{static compare(t,e){let r=fj.order.indexOf(t),n=fj.order.indexOf(e);return r>=0||n>=0?r-n:t===e?0:t<e?-1:1}formatAt(t,e,r,n){if(0>fj.compare(this.statics.blotName,r)&&this.scroll.query(r,uZ.BLOT)){let i=this.isolate(t,e);n&&i.wrap(r,n)}else super.formatAt(t,e,r,n)}optimize(t){if(super.optimize(t),this.parent instanceof fj&&fj.compare(this.statics.blotName,this.parent.statics.blotName)>0){let t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}(0,cd._)(fj,"allowedChildren",[fj,f$,dn,fq]),(0,cd._)(fj,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);var fz=fj;class fZ extends dt{delta(){return null==this.cache.delta&&(this.cache.delta=fX(this)),this.cache.delta}deleteAt(t,e){super.deleteAt(t,e),this.cache={}}formatAt(t,e,r,n){e<=0||(this.scroll.query(r,uZ.BLOCK)?t+e===this.length()&&this.format(r,n):super.formatAt(t,Math.min(e,this.length()-t-1),r,n),this.cache={})}insertAt(t,e,r){if(null!=r){super.insertAt(t,e,r),this.cache={};return}if(0===e.length)return;let n=e.split("\n"),i=n.shift();i.length>0&&(t<this.length()-1||null==this.children.tail?super.insertAt(Math.min(t,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});let o=this;n.reduce((t,e)=>((o=o.split(t,!0)).insertAt(0,e),e.length),t+i.length)}insertBefore(t,e){let{head:r}=this.children;super.insertBefore(t,e),r instanceof f$&&r.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(t,e){super.moveChildren(t,e),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(0===t||t>=this.length()-1)){let e=this.clone();return 0===t?(this.parent.insertBefore(e,this),this):(this.parent.insertBefore(e,this.next),e)}let r=super.split(t,e);return this.cache={},r}constructor(...t){super(...t),(0,cd._)(this,"cache",{})}}fZ.blotName="block",fZ.tagName="P",fZ.defaultChild=f$,fZ.allowedChildren=[f$,fz,dn,fq];class fF extends dn{attach(){super.attach(),this.attributes=new uK(this.domNode)}delta(){return new(/*@__PURE__*/ew(dc))().insert(this.value(),(0,eX._)({},this.formats(),this.attributes.values()))}format(t,e){let r=this.scroll.query(t,uZ.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,e)}formatAt(t,e,r,n){this.format(r,n)}insertAt(t,e,r){if(null!=r){super.insertAt(t,e,r);return}let n=e.split("\n"),i=n.pop(),o=n.map(t=>{let e=this.scroll.create(fZ.blotName);return e.insertAt(0,t),e}),s=this.split(t);o.forEach(t=>{this.parent.insertBefore(t,s)}),i&&this.parent.insertBefore(this.scroll.create("text",i),s)}}function fX(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t.descendants(u2).reduce((t,r)=>0===r.length()?t:t.insert(r.value(),fV(r,{},e)),new/*@__PURE__*/(ew(dc))).insert("\n",fV(t))}function fV(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return null==t?e:("formats"in t&&"function"==typeof t.formats&&(e=(0,eX._)({},e,t.formats()),r&&delete e["code-token"]),null==t.parent||"scroll"===t.parent.statics.blotName||t.parent.statics.scope!==t.statics.scope)?e:fV(t.parent,e,r)}fF.scope=uZ.BLOCK_BLOT;var cd=ek("dy9QZ");class fU extends dn{static value(){}detach(){null!=this.parent&&this.parent.removeChild(this)}format(t,e){if(0!==this.savedLength){super.format(t,e);return}let r=this,n=0;for(;null!=r&&r.statics.scope!==uZ.BLOCK_BLOT;)n+=r.offset(r.parent),r=r.parent;null!=r&&(this.savedLength=fU.CONTENTS.length,r.optimize(),r.formatAt(n,fU.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){let t;if(this.selection.composing||null==this.parent)return null;let e=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);let r=this.prev instanceof fq?this.prev:null,n=r?r.length():0,i=this.next instanceof fq?this.next:null,o=i?i.text:"",{textNode:s}=this,a=s.data.split(fU.CONTENTS).join("");if(s.data=fU.CONTENTS,r)t=r,(a||i)&&(r.insertAt(r.length(),a+o),i&&i.remove());else if(i)t=i,i.insertAt(0,a);else{let e=document.createTextNode(a);t=this.scroll.create(e),this.parent.insertBefore(t,this)}if(this.remove(),e){let o=(t,e)=>r&&t===r.domNode?e:t===s?n+e-1:i&&t===i.domNode?n+a.length+e:null,l=o(e.start.node,e.start.offset),h=o(e.end.node,e.end.offset);if(null!==l&&null!==h)return{startNode:t.domNode,startOffset:l,endNode:t.domNode,endOffset:h}}return null}update(t,e){if(t.some(t=>"characterData"===t.type&&t.target===this.textNode)){let t=this.restore();t&&(e.range=t)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if("A"===e.domNode.tagName){this.savedLength=fU.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}constructor(t,e,r){super(t,e),this.selection=r,this.textNode=document.createTextNode(fU.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}}(0,cd._)(fU,"blotName","cursor"),(0,cd._)(fU,"className","ql-cursor"),(0,cd._)(fU,"tagName","span"),(0,cd._)(fU,"CONTENTS","\uFEFF");var cd=ek("dy9QZ"),fW={},fH=Object.prototype.hasOwnProperty,fY="~";function fG(){}function fK(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function fJ(t,e,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new fK(r,n||t,i),s=fY?fY+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function f0(t,e){0==--t._eventsCount?t._events=new fG:delete t._events[e]}function f1(){this._events=new fG,this._eventsCount=0}Object.create&&(fG.prototype=Object.create(null),new fG().__proto__||(fY=!1)),f1.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)fH.call(t,e)&&r.push(fY?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},f1.prototype.listeners=function(t){var e=fY?fY+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o},f1.prototype.listenerCount=function(t){var e=fY?fY+t:t,r=this._events[e];return r?r.fn?1:r.length:0},f1.prototype.emit=function(t,e,r,n,i,o){var s=fY?fY+t:t;if(!this._events[s])return!1;var a,l,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,n),!0;case 5:return h.fn.call(h.context,e,r,n,i),!0;case 6:return h.fn.call(h.context,e,r,n,i,o),!0}for(l=1,a=Array(c-1);l<c;l++)a[l-1]=arguments[l];h.fn.apply(h.context,a)}else{var u,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,r);break;case 4:h[l].fn.call(h[l].context,e,r,n);break;default:if(!a)for(u=1,a=Array(c-1);u<c;u++)a[u-1]=arguments[u];h[l].fn.apply(h[l].context,a)}}return!0},f1.prototype.on=function(t,e,r){return fJ(this,t,e,r,!1)},f1.prototype.once=function(t,e,r){return fJ(this,t,e,r,!0)},f1.prototype.removeListener=function(t,e,r,n){var i=fY?fY+t:t;if(!this._events[i])return this;if(!e)return f0(this,i),this;var o=this._events[i];if(o.fn)o.fn!==e||n&&!o.once||r&&o.context!==r||f0(this,i);else{for(var s=0,a=[],l=o.length;s<l;s++)(o[s].fn!==e||n&&!o[s].once||r&&o[s].context!==r)&&a.push(o[s]);a.length?this._events[i]=1===a.length?a[0]:a:f0(this,i)}return this},f1.prototype.removeAllListeners=function(t){var e;return t?(e=fY?fY+t:t,this._events[e]&&f0(this,e)):(this._events=new fG,this._eventsCount=0),this},f1.prototype.off=f1.prototype.removeListener,f1.prototype.addListener=f1.prototype.on,f1.prefixed=fY,f1.EventEmitter=f1,fW=f1;var f2=new WeakMap;let f3=["error","warn","log","info"],f4="warn";function f5(t){if(f4&&f3.indexOf(t)<=f3.indexOf(f4)){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];console[t](...r)}}function f6(t){return f3.reduce((e,r)=>(e[r]=f5.bind(console,r,t),e),{})}f6.level=t=>{f4=t},f5.level=f6.level;let f8=f6("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(t=>{document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(t=>{let r=f2.get(t);r&&r.emitter&&r.emitter.handleDOM(...e)})})});class f7 extends fW.EventEmitter{emit(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return f8.log.call(f8,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(this.domListeners[t.type]||[]).forEach(e=>{let{node:n,handler:i}=e;(t.target===n||n.contains(t.target))&&i(t,...r)})}listenDOM(t,e,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:r})}constructor(){super(),this.domListeners={},this.on("error",f8.error)}}(0,cd._)(f7,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),(0,cd._)(f7,"sources",{API:"api",SILENT:"silent",USER:"user"});let f9=f6("quill:selection");class pt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=t,this.length=e}}function pe(t,e){try{e.parentNode}catch(t){return!1}return t.contains(e)}var pr=class{handleComposition(){this.emitter.on(f7.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(f7.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){let t=this.cursor.restore();t&&setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(f7.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();let r=this.getNativeRange();if(!(null==r||!r.native.collapsed||this.scroll.query(t,uZ.BLOCK))){if(r.start.node!==this.cursor.textNode){let t=this.scroll.find(r.start.node,!1);if(null==t)return;if(t instanceof u2){let e=t.split(r.start.offset);t.parent.insertBefore(this.cursor,e)}else t.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.scroll.length();n=Math.min((t=Math.min(t,i-1))+n,i-1)-t;let[o,s]=this.scroll.leaf(t);if(null==o)return null;if(n>0&&s===o.length()){let[e]=this.scroll.leaf(t+1);if(e){let[r]=this.scroll.line(t),[n]=this.scroll.line(t+1);r===n&&(o=e,s=0)}}[e,s]=o.position(s,!0);let a=document.createRange();if(n>0)return(a.setStart(e,s),[o,s]=this.scroll.leaf(t+n),null==o)?null:([e,s]=o.position(s,!0),a.setEnd(e,s),a.getBoundingClientRect());let l="left";if(e instanceof Text){if(!e.data.length)return null;s<e.data.length?(a.setStart(e,s),a.setEnd(e,s+1)):(a.setStart(e,s-1),a.setEnd(e,s),l="right"),r=a.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;r=o.domNode.getBoundingClientRect(),s>0&&(l="right")}return{bottom:r.top+r.height,height:r.height,left:r[l],right:r[l],top:r.top,width:0}}getNativeRange(){let t=document.getSelection();if(null==t||t.rangeCount<=0)return null;let e=t.getRangeAt(0);if(null==e)return null;let r=this.normalizeNative(e);return f9.info("getNativeRange",r),r}getRange(){let t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];let e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&pe(this.root,document.activeElement)}normalizedToRange(t){let e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);let r=e.map(t=>{let[e,r]=t,n=this.scroll.find(e,!0),i=n.offset(this.scroll);return 0===r?i:n instanceof u2?i+n.index(e,r):i+n.length()}),n=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(n,...r);return new pt(i,n-i)}normalizeNative(t){if(!pe(this.root,t.startContainer)||!t.collapsed&&!pe(this.root,t.endContainer))return null;let e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(t=>{let{node:e,offset:r}=t;for(;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>r)e=e.childNodes[r],r=0;else if(e.childNodes.length===r)(e=e.lastChild)instanceof Text?r=e.data.length:r=e.childNodes.length>0?e.childNodes.length:e.childNodes.length+1;else break;t.node=e,t.offset=r}),e}rangeToNative(t){let e=this.scroll.length(),r=(t,r)=>{t=Math.min(e-1,t);let[n,i]=this.scroll.leaf(t);return n?n.position(i,r):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f9.info("setNativeRange",t,e,r,n),null!=t&&(null==this.root.parentNode||null==t.parentNode||null==r.parentNode))return;let o=document.getSelection();if(null!=o){if(null!=t){this.hasFocus()||this.root.focus({preventScroll:!0});let{native:s}=this.getNativeRange()||{};if(null==s||i||t!==s.startContainer||e!==s.startOffset||r!==s.endContainer||n!==s.endOffset){t instanceof Element&&"BR"===t.tagName&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&"BR"===r.tagName&&(n=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);let i=document.createRange();i.setStart(t,e),i.setEnd(r,n),o.removeAllRanges(),o.addRange(i)}}else o.removeAllRanges(),this.root.blur()}}setRange(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f7.sources.API;if("string"==typeof e&&(r=e,e=!1),f9.info("setRange",t),null!=t){let r=this.rangeToNative(t);this.setNativeRange(...r,e)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f7.sources.USER,e=this.lastRange,[r,n]=this.getRange();if(this.lastRange=r,this.lastNative=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!fL(e,this.lastRange)){if(!this.composing&&null!=n&&n.native.collapsed&&n.start.node!==this.cursor.textNode){let t=this.cursor.restore();t&&this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}let r=[f7.events.SELECTION_CHANGE,fO(this.lastRange),fO(e),t];this.emitter.emit(f7.events.EDITOR_CHANGE,...r),t!==f7.sources.SILENT&&this.emitter.emit(...r)}}constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new pt(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,f7.sources.USER),1)}),this.emitter.on(f7.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;let t=this.getNativeRange();null!=t&&t.start.node!==this.cursor.textNode&&this.emitter.once(f7.events.SCROLL_UPDATE,(e,r)=>{try{this.root.contains(t.start.node)&&this.root.contains(t.end.node)&&this.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset);let n=r.some(t=>"characterData"===t.type||"childList"===t.type||"attributes"===t.type&&t.target===this.root);this.update(n?f7.sources.SILENT:e)}catch(t){}})}),this.emitter.on(f7.events.SCROLL_OPTIMIZE,(t,e)=>{if(e.range){let{startNode:t,startOffset:r,endNode:n,endOffset:i}=e.range;this.setNativeRange(t,r,n,i),this.update(f7.sources.SILENT)}}),this.update(f7.sources.SILENT)}};let pn=/^[ -~]*$/;function pi(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in t&&"function"==typeof t.html)return t.html(e,r);if(t instanceof fq)return fB(t.value().slice(e,e+r)).replaceAll(" ","&nbsp;");if(t instanceof u6){if("list-container"===t.statics.blotName){let n=[];return t.children.forEachAt(e,r,(t,e,r)=>{let i="formats"in t&&"function"==typeof t.formats?t.formats():{};n.push({child:t,offset:e,length:r,indent:i.indent||0,type:i.list})}),function t(e,r,n){if(0===e.length){let[e]=po(n.pop());return r<=0?`</li></${e}>`:`</li></${e}>${t([],r-1,n)}`}let[{child:i,offset:o,length:s,indent:a,type:l},...h]=e,[c,u]=po(l);if(a>r)return(n.push(l),a===r+1)?`<${c}><li${u}>${pi(i,o,s)}${t(h,a,n)}`:`<${c}><li>${t(e,r+1,n)}`;let d=n[n.length-1];if(a===r&&l===d)return`</li><li${u}>${pi(i,o,s)}${t(h,a,n)}`;let[f]=po(n.pop());return`</li></${f}>${t(e,r-1,n)}`}(n,-1,[])}let i=[];if(t.children.forEachAt(e,r,(t,e,r)=>{i.push(pi(t,e,r))}),n||"list"===t.statics.blotName)return i.join("");let{outerHTML:o,innerHTML:s}=t.domNode,[a,l]=o.split(`>${s}<`);return"<table"===a?`<table style="border: 1px solid #000;">${i.join("")}<${l}`:`${a}>${i.join("")}<${l}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function po(t){let e="ordered"===t?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function ps(t){return t.reduce((t,e)=>{if("string"==typeof e.insert){let r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)},new/*@__PURE__*/(ew(dc)))}function pa(t,e){let{index:r,length:n}=t;return new pt(r+e,n)}var pl=class{applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();let r=ps(t),n=new/*@__PURE__*/(ew(dc));return(function(t){let e=[];return t.forEach(t=>{"string"==typeof t.insert?t.insert.split("\n").forEach((r,n)=>{n&&e.push({insert:"\n",attributes:t.attributes}),r&&e.push({insert:r,attributes:t.attributes})}):e.push(t)}),e})(r.ops.slice()).reduce((t,r)=>{let i=(0,dc.Op).length(r),o=r.attributes||{},s=!1,a=!1;if(null!=r.insert){if(n.retain(i),"string"==typeof r.insert){let n=r.insert;a=!n.endsWith("\n")&&(e<=t||!!this.scroll.descendant(fF,t)[0]),this.scroll.insertAt(t,n);let[i,s]=this.scroll.line(t),l=uj({},fV(i));if(i instanceof fZ){let[t]=i.descendant(u2,s);t&&(l=uj(l,fV(t)))}o=(0,dc.AttributeMap).diff(l,o)||{}}else if("object"==typeof r.insert){let n=Object.keys(r.insert)[0];if(null==n)return t;let i=null!=this.scroll.query(n,uZ.INLINE);if(i)(e<=t||this.scroll.descendant(fF,t)[0])&&(a=!0);else if(t>0){let[e,r]=this.scroll.descendant(u2,t-1);e instanceof fq?"\n"!==e.value()[r]&&(s=!0):e instanceof dn&&e.statics.scope===uZ.INLINE_BLOT&&(s=!0)}if(this.scroll.insertAt(t,n,r.insert[n]),i){let[e]=this.scroll.descendant(u2,t);if(e){let t=uj({},fV(e));o=(0,dc.AttributeMap).diff(t,o)||{}}}}e+=i}else if(n.push(r),null!==r.retain&&"object"==typeof r.retain){let e=Object.keys(r.retain)[0];if(null==e)return t;this.scroll.updateEmbedAt(t,e,r.retain[e])}Object.keys(o).forEach(e=>{this.scroll.formatAt(t,i,e,o[e])});let l=s?1:0,h=a?1:0;return e+=l+h,n.retain(l),n.delete(h),t+i+l+h},0),n.reduce((t,e)=>"number"==typeof e.delete?(this.scroll.deleteAt(t,e.delete),t):t+(0,dc.Op).length(e),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new(/*@__PURE__*/ew(dc))().retain(t).delete(e))}formatLine(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(n=>{this.scroll.lines(t,Math.max(e,1)).forEach(t=>{t.format(n,r[n])})}),this.scroll.optimize();let n=new(/*@__PURE__*/ew(dc))().retain(t).retain(e,fO(r));return this.update(n)}formatText(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach(n=>{this.scroll.formatAt(t,e,n,r[n])});let n=new(/*@__PURE__*/ew(dc))().retain(t).retain(e,fO(r));return this.update(n)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new/*@__PURE__*/(ew(dc)))}getFormat(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===e?this.scroll.path(t).forEach(t=>{let[e]=t;e instanceof fZ?r.push(e):e instanceof u2&&n.push(e)}):(r=this.scroll.lines(t,e),n=this.scroll.descendants(u2,t,e));let[i,o]=[r,n].map(t=>{let e=t.shift();if(null==e)return{};let r=fV(e);for(;Object.keys(r).length>0;){let e=t.shift();if(null==e)break;r=function(t,e){return Object.keys(e).reduce((r,n)=>{if(null==t[n])return r;let i=e[n];return i===t[n]?r[n]=i:Array.isArray(i)?0>i.indexOf(t[n])?r[n]=i.concat([t[n]]):r[n]=i:r[n]=[i,t[n]],r},{})}(fV(e),r)}return r});return(0,eX._)({},i,o)}getHTML(t,e){let[r,n]=this.scroll.line(t);if(r){let i=r.length();return r.length()>=n+e&&!(0===n&&e===i)?pi(r,n,e,!0):pi(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(t=>"string"==typeof t.insert).map(t=>t.insert).join("")}insertContents(t,e){let r=ps(e),n=new(/*@__PURE__*/ew(dc))().retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(n)}insertEmbed(t,e,r){return this.scroll.insertAt(t,e,r),this.update(new(/*@__PURE__*/ew(dc))().retain(t).insert({[e]:r}))}insertText(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach(n=>{this.scroll.formatAt(t,e.length,n,r[n])}),this.update(new(/*@__PURE__*/ew(dc))().retain(t).insert(e,fO(r)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;let t=this.scroll.children.head;return(null==t?void 0:t.statics.blotName)===fZ.blotName&&!(t.children.length>1)&&t.children.head instanceof f$}removeFormat(t,e){let r=this.getText(t,e),[n,i]=this.scroll.line(t+e),o=0,s=new/*@__PURE__*/(ew(dc));null!=n&&(o=n.length()-i,s=n.delta().slice(i,i+o-1).insert("\n"));let a=this.getContents(t,e+o).diff(new(/*@__PURE__*/ew(dc))().insert(r).concat(s)),l=new(/*@__PURE__*/ew(dc))().retain(t).concat(a);return this.applyDelta(l)}update(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(pn)&&this.scroll.find(e[0].target)){let i=this.scroll.find(e[0].target),o=fV(i),s=i.offset(this.scroll),a=e[0].oldValue.replace(fU.CONTENTS,""),l=new(/*@__PURE__*/ew(dc))().insert(a),h=new(/*@__PURE__*/ew(dc))().insert(i.value()),c=r&&{oldRange:pa(r.oldRange,-s),newRange:pa(r.newRange,-s)};t=new(/*@__PURE__*/ew(dc))().retain(s).concat(l.diff(h,c)).reduce((t,e)=>e.insert?t.insert(e.insert,o):t.push(e),new/*@__PURE__*/(ew(dc))),this.delta=n.compose(t)}else this.delta=this.getDelta(),t&&fL(n.compose(t),this.delta)||(t=n.diff(this.delta,r));return t}constructor(t){this.scroll=t,this.delta=this.getDelta()}},cd=ek("dy9QZ");class ph{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=t,this.options=e}}(0,cd._)(ph,"DEFAULTS",{});var pc=ph,cd=ek("dy9QZ"),pu=class extends dn{index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e,r=null,n=t.data.split("\uFEFF").join("");if(t===this.leftGuard){if(this.prev instanceof fq){let t=this.prev.length();this.prev.insertAt(t,n),r={startNode:this.prev.domNode,startOffset:t+n.length}}else e=document.createTextNode(n),this.parent.insertBefore(this.scroll.create(e),this),r={startNode:e,startOffset:n.length}}else t===this.rightGuard&&(this.next instanceof fq?(this.next.insertAt(0,n),r={startNode:this.next.domNode,startOffset:n.length}):(e=document.createTextNode(n),this.parent.insertBefore(this.scroll.create(e),this.next),r={startNode:e,startOffset:n.length}));return t.data="\uFEFF",r}update(t,e){t.forEach(t=>{if("characterData"===t.type&&(t.target===this.leftGuard||t.target===this.rightGuard)){let r=this.restore(t.target);r&&(e.range=r)}})}constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(t=>{this.contentNode.appendChild(t)}),this.leftGuard=document.createTextNode("\uFEFF"),this.rightGuard=document.createTextNode("\uFEFF"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}},pd=class{setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){let e=t.target instanceof Node?this.scroll.find(t.target,!0):null;!e||e instanceof pu||(this.emitter.emit(f7.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(f7.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(f7.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(f7.events.COMPOSITION_END,t),this.isComposing=!1}constructor(t,e){(0,cd._)(this,"isComposing",!1),this.scroll=t,this.emitter=e,this.setupListeners()}},cd=ek("dy9QZ");class pf{init(){Object.keys(this.options.modules).forEach(t=>{null==this.modules[t]&&this.addModule(t)})}addModule(t){let e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}constructor(t,e){(0,cd._)(this,"modules",{}),this.quill=t,this.options=e}}(0,cd._)(pf,"DEFAULTS",{modules:{}}),(0,cd._)(pf,"themes",{default:pf});var pp=pf;let pg=t=>t.parentElement||t.getRootNode().host||null,pm=t=>{let e=t.getBoundingClientRect(),r="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,n="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*r,bottom:e.top+t.clientHeight*n,left:e.left}},pv=t=>{let e=parseInt(t,10);return Number.isNaN(e)?0:e},py=(t,e,r,n,i,o)=>t<r&&e>n?0:t<r?-(r-t+i):e>n?e-t>n-r?t+i-r:e-n+o:0;var pb=(t,e)=>{let r=t.ownerDocument,n=e,i=t;for(;i;){var o,s,a,l,h;let t=i===r.body,e=t?{top:0,right:null!==(a=null===(o=window.visualViewport)||void 0===o?void 0:o.width)&&void 0!==a?a:r.documentElement.clientWidth,bottom:null!==(l=null===(s=window.visualViewport)||void 0===s?void 0:s.height)&&void 0!==l?l:r.documentElement.clientHeight,left:0}:pm(i),c=getComputedStyle(i),u=py(n.left,n.right,e.left,e.right,pv(c.scrollPaddingLeft),pv(c.scrollPaddingRight)),d=py(n.top,n.bottom,e.top,e.bottom,pv(c.scrollPaddingTop),pv(c.scrollPaddingBottom));if(u||d){if(t)null===(h=r.defaultView)||void 0===h||h.scrollBy(u,d);else{let{scrollLeft:t,scrollTop:e}=i;d&&(i.scrollTop+=d),u&&(i.scrollLeft+=u);let r=i.scrollLeft-t,o=i.scrollTop-e;n={left:n.left-r,top:n.top-o,right:n.right-r,bottom:n.bottom-o}}}i=t||"fixed"===c.position?null:pg(i)}};let pO=["block","break","cursor","inline","scroll","text"];var pw=(t,e,r)=>{let n=new uU;return pO.forEach(t=>{let r=e.query(t);r&&n.register(r)}),t.forEach(t=>{let i=e.query(t);i||r.error(`Cannot register "${t}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;){var s;if(n.register(i),i="blotName"in i&&null!==(s=i.requiredContainer)&&void 0!==s?s:null,(o+=1)>100){r.error(`Cycle detected in registering blot requiredContainer: "${t}"`);break}}}),n};let px=f6("quill"),p_=new uz.Registry;uz.ParentBlot.uiClass="ql-ui";class pk{static debug(t){!0===t&&(t="log"),f6.level(t)}static find(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f2.get(t)||p_.find(t,e)}static import(t){return null==this.imports[t]&&px.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){let t=arguments.length<=0?void 0:arguments[0],e=!!(arguments.length<=1?void 0:arguments[1]),r="attrName"in t?t.attrName:t.blotName;"string"==typeof r?this.register(`formats/${r}`,t,e):Object.keys(t).forEach(r=>{this.register(r,t[r],e)})}else{let t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],r=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[t]||r||px.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&"boolean"!=typeof e&&"abstract"!==e.blotName&&p_.register(e),"function"==typeof e.register&&e.register(p_)}}addContainer(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){let e=t;(t=document.createElement("div")).classList.add(e)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,r){return[t,e,,r]=pT(t,e,r),pE.call(this,()=>this.editor.deleteText(t,e),r,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;let e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f7.sources.API;return pE.call(this,()=>{let r=this.getSelection(!0),n=new/*@__PURE__*/(ew(dc));if(null==r)return n;if(this.scroll.query(t,uz.Scope.BLOCK))n=this.editor.formatLine(r.index,r.length,{[t]:e});else{if(0===r.length)return this.selection.format(t,e),n;n=this.editor.formatText(r.index,r.length,{[t]:e})}return this.setSelection(r,f7.sources.SILENT),n},r)}formatLine(t,e,r,n,i){let o;return[t,e,o,i]=pT(t,e,r,n,i),pE.call(this,()=>this.editor.formatLine(t,e,o),i,t,0)}formatText(t,e,r,n,i){let o;return[t,e,o,i]=pT(t,e,r,n,i),pE.call(this,()=>this.editor.formatText(t,e,o),i,t,0)}getBounds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=null;if(!(r="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length)))return null;let n=this.container.getBoundingClientRect();return{bottom:r.bottom-n.top,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,width:r.width}}getContents(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t;return[t,e]=pT(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return"number"==typeof t&&(e=null!=e?e:this.getLength()-t),[t,e]=pT(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return"number"==typeof t&&(e=null!=e?e:this.getLength()-t),[t,e]=pT(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pk.sources.API;return pE.call(this,()=>this.editor.insertEmbed(t,e,r),n,t)}insertText(t,e,r,n,i){let o;return[t,,o,i]=pT(t,0,r,n,i),pE.call(this,()=>this.editor.insertText(t,e,o),i,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,r){return[t,e,,r]=pT(t,e,r),pE.call(this,()=>this.editor.removeFormat(t,e),r,t)}scrollRectIntoView(t){pb(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){let t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f7.sources.API;return pE.call(this,()=>{t=new/*@__PURE__*/(ew(dc))(t);let e=this.getLength(),r=this.editor.deleteText(0,e),n=this.editor.insertContents(0,t),i=this.editor.deleteText(this.getLength()-1,1);return r.compose(n).compose(i)},e)}setSelection(t,e,r){null==t?this.selection.setRange(null,e||pk.sources.API):([t,e,,r]=pT(t,e,r),this.selection.setRange(new pt(Math.max(0,t),e),r),r!==f7.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f7.sources.API,r=new(/*@__PURE__*/ew(dc))().insert(t);return this.setContents(r,e)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f7.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f7.sources.API;return pE.call(this,()=>(t=new/*@__PURE__*/(ew(dc))(t),this.editor.applyDelta(t)),e,!0)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(t,e){let r=pS(t);if(!r)throw Error("Invalid Quill container");let n=e.theme&&e.theme!==pk.DEFAULTS.theme?pk.import(`themes/${e.theme}`):pp;if(!n)throw Error(`Invalid theme ${e.theme}. Did you register it?`);let i=pk.DEFAULTS,{modules:o}=i,s=nC(i,["modules"]),a=n.DEFAULTS,{modules:l}=a,h=nC(a,["modules"]),c=pC(e.modules);null!=c&&c.toolbar&&c.toolbar.constructor!==Object&&(c=(0,eV._)((0,eX._)({},c),{toolbar:{container:c.toolbar}}));let u=uj({},pC(o),pC(l),c),d=(0,eX._)({},s,pA(h),pA(e)),f=e.registry;return f?e.formats&&px.warn('Ignoring "formats" option because "registry" is specified'):f=e.formats?pw(e.formats,d.registry,px):d.registry,(0,eV._)((0,eX._)({},d),{registry:f,container:r,theme:n,modules:Object.entries(u).reduce((t,e)=>{let[r,n]=e;if(!n)return t;let i=pk.import(`modules/${r}`);return null==i?(px.error(`Cannot load ${r} module. Are you sure you registered it?`),t):(0,eV._)((0,eX._)({},t),{[r]:uj({},i.DEFAULTS||{},n)})},{}),bounds:pS(d.bounds)})}(t,e),this.container=this.options.container,null==this.container){px.error("Invalid Quill container",t);return}this.options.debug&&pk.debug(this.options.debug);let r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",f2.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new f7;let n=uz.ScrollBlot.blotName,i=this.options.registry.query(n);if(!i||!("blotName"in i))throw Error(`Cannot initialize Quill without "${n}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new pl(this.scroll),this.selection=new pr(this.scroll,this.emitter),this.composition=new pd(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(f7.events.EDITOR_CHANGE,t=>{t===f7.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(f7.events.SCROLL_UPDATE,(t,e)=>{let r=this.selection.lastRange,[n]=this.selection.getRange(),i=r&&n?{oldRange:r,newRange:n}:void 0;pE.call(this,()=>this.editor.update(null,e,i),t)}),this.emitter.on(f7.events.SCROLL_EMBED_UPDATE,(t,e)=>{let r=this.selection.lastRange,[n]=this.selection.getRange(),i=r&&n?{oldRange:r,newRange:n}:void 0;pE.call(this,()=>{let r=new(/*@__PURE__*/ew(dc))().retain(t.offset(this)).retain({[t.statics.blotName]:e});return this.editor.update(r,[],i)},pk.sources.USER)}),r){let t=this.clipboard.convert({html:`${r}<p><br></p>`,text:"\n"});this.setContents(t)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}}function pS(t){return"string"==typeof t?document.querySelector(t):t}function pC(t){return Object.entries(null!=t?t:{}).reduce((t,e)=>{let[r,n]=e;return(0,eV._)((0,eX._)({},t),{[r]:!0===n?{}:n})},{})}function pA(t){return Object.fromEntries(Object.entries(t).filter(t=>void 0!==t[1]))}function pE(t,e,r,n){if(!this.isEnabled()&&e===f7.sources.USER&&!this.allowReadOnlyEdits)return new/*@__PURE__*/(ew(dc));let i=null==r?null:this.getSelection(),o=this.editor.delta,s=t();if(null!=i&&(!0===r&&(r=i.index),null==n?i=pP(i,s,e):0!==n&&(i=pP(i,r,n,e)),this.setSelection(i,f7.sources.SILENT)),s.length()>0){let t=[f7.events.TEXT_CHANGE,s,o,e];this.emitter.emit(f7.events.EDITOR_CHANGE,...t),e!==f7.sources.SILENT&&this.emitter.emit(...t)}return s}function pT(t,e,r,n,i){let o={};return"number"==typeof t.index&&"number"==typeof t.length?("number"!=typeof e&&(i=n,n=r,r=e),e=t.length,t=t.index):"number"!=typeof e&&(i=n,n=r,r=e,e=0),"object"==typeof r?(o=r,i=n):"string"==typeof r&&(null!=n?o[r]=n:i=r),[t,e,o,i=i||f7.sources.API]}function pP(t,e,r,n){let i,o;let s="number"==typeof r?r:0;return null==t?null:(e&&"function"==typeof e.transformPosition?[i,o]=[t.index,t.index+t.length].map(t=>e.transformPosition(t,n!==f7.sources.USER)):[i,o]=[t.index,t.index+t.length].map(t=>t<e||t===e&&n===f7.sources.USER?t:s>=0?t+s:Math.max(e,t+s)),new pt(i,o-i))}(0,cd._)(pk,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:p_,theme:"default"}),(0,cd._)(pk,"events",f7.events),(0,cd._)(pk,"sources",f7.sources),(0,cd._)(pk,"version","2.0.3"),(0,cd._)(pk,"imports",{delta:/*@__PURE__*/ew(dc),parchment:uz,"core/module":pc,"core/theme":pp});var pI=class extends dr{},cd=ek("dy9QZ");function pR(t){return t instanceof fZ||t instanceof fF}function pM(t){return"function"==typeof t.updateContent}class pN extends da{batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;let t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(f7.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(f7.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(f7.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){let[r,n]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),null!=i&&r!==i&&n>0){if(r instanceof fF||i instanceof fF){this.optimize();return}let t=i.children.head instanceof f$?null:i.children.head;r.moveChildren(i,t),r.remove()}this.optimize()}enable(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,r,n){super.formatAt(t,e,r,n),this.optimize()}insertAt(t,e,r){if(t>=this.length()){if(null==r||null==this.scroll.query(e,uZ.BLOCK)){let t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t),null==r&&e.endsWith("\n")?t.insertAt(0,e.slice(0,-1),r):t.insertAt(0,e,r)}else{let t=this.scroll.create(e,r);this.appendChild(t)}}else super.insertAt(t,e,r);this.optimize()}insertBefore(t,e){if(t.statics.scope===uZ.INLINE_BLOT){let r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,e)}else super.insertBefore(t,e)}insertContents(t,e){let r=this.deltaToRenderBlocks(e.concat(new(/*@__PURE__*/ew(dc))().insert("\n"))),n=r.pop();if(null==n)return;this.batchStart();let i=r.shift();if(i){let e="block"===i.type&&(0===i.delta.length()||!this.descendant(fF,t)[0]&&t<this.length()),r="block"===i.type?i.delta:new(/*@__PURE__*/ew(dc))().insert({[i.key]:i.value});pD(this,t,r);let n="block"===i.type?1:0,o=t+r.length()+n;e&&this.insertAt(o-1,"\n");let s=fV(this.line(t)[0]),a=(0,dc.AttributeMap).diff(s,i.attributes)||{};Object.keys(a).forEach(t=>{this.formatAt(o-1,1,t,a[t])}),t=o}let[o,s]=this.children.find(t);r.length&&(o&&(o=o.split(s),s=0),r.forEach(t=>{if("block"===t.type)pD(this.createBlock(t.attributes,o||void 0),0,t.delta);else{let e=this.create(t.key,t.value);this.insertBefore(e,o||void 0),Object.keys(t.attributes).forEach(r=>{e.format(r,t.attributes[r])})}})),"block"===n.type&&n.delta.length()&&pD(this,o?o.offset(o.scroll)+s:this.length(),n.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(t){let e=this.path(t).pop();if(!e)return[null,-1];let[r,n]=e;return r instanceof u2?[r,n]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(pR,t)}lines(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,r=(t,e,n)=>{let i=[],o=n;return t.children.forEachAt(e,n,(t,e,n)=>{pR(t)?i.push(t):t instanceof dr&&(i=i.concat(r(t,e,o))),o-=n}),i};return r(this,t,e)}optimize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!this.batch&&(super.optimize(t,e),t.length>0&&this.emitter.emit(f7.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=f7.sources.USER;"string"==typeof t&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),(t=t.filter(t=>{let{target:e}=t,r=this.find(e,!0);return r&&!pM(r)})).length>0&&this.emitter.emit(f7.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(f7.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,r){let[n]=this.descendant(t=>t instanceof fF,t);n&&n.statics.blotName===e&&pM(n)&&n.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){let e=[],r=new/*@__PURE__*/(ew(dc));return t.forEach(t=>{let n=null==t?void 0:t.insert;if(n){if("string"==typeof n){let i=n.split("\n");i.slice(0,-1).forEach(n=>{var i;r.insert(n,t.attributes),e.push({type:"block",delta:r,attributes:null!==(i=t.attributes)&&void 0!==i?i:{}}),r=new/*@__PURE__*/(ew(dc))});let o=i[i.length-1];o&&r.insert(o,t.attributes)}else{let o=Object.keys(n)[0];if(!o)return;if(this.query(o,uZ.INLINE))r.push(t);else{var i;r.length()&&e.push({type:"block",delta:r,attributes:{}}),r=new/*@__PURE__*/(ew(dc)),e.push({type:"blockEmbed",key:o,value:n[o],attributes:null!==(i=t.attributes)&&void 0!==i?i:{}})}}}}),r.length()&&e.push({type:"block",delta:r,attributes:{}}),e}createBlock(t,e){let r;let n={};Object.entries(t).forEach(t=>{let[e,i]=t;null!=this.query(e,uZ.BLOCK&uZ.BLOT)?r=e:n[e]=i});let i=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(i,e||void 0);let o=i.length();return Object.entries(n).forEach(t=>{let[e,r]=t;i.formatAt(0,o,e,r)}),i}constructor(t,e,r){let{emitter:n}=r;super(t,e),this.emitter=n,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",t=>this.handleDragStart(t))}}function pD(t,e,r){r.reduce((e,r)=>{let n=(0,dc.Op).length(r),i=r.attributes||{};if(null!=r.insert){if("string"==typeof r.insert){let n=r.insert;t.insertAt(e,n);let[o]=t.descendant(u2,e),s=fV(o);i=(0,dc.AttributeMap).diff(s,i)||{}}else if("object"==typeof r.insert){let n=Object.keys(r.insert)[0];if(null==n)return e;if(t.insertAt(e,n,r.insert[n]),null!=t.scroll.query(n,uZ.INLINE)){let[r]=t.descendant(u2,e),n=fV(r);i=(0,dc.AttributeMap).diff(n,i)||{}}}}return Object.keys(i).forEach(r=>{t.formatAt(e,n,r,i[r])}),e+n},e)}(0,cd._)(pN,"blotName","scroll"),(0,cd._)(pN,"className","ql-editor"),(0,cd._)(pN,"tagName","DIV"),(0,cd._)(pN,"defaultChild",fZ),(0,cd._)(pN,"allowedChildren",[fZ,fF,pI]);var cd=ek("dy9QZ"),eX=ek("lQqDW");let pL={scope:uZ.BLOCK,whitelist:["right","center","justify"]},p$=new uF("align","align",pL),pq=new uH("align","ql-align",pL),pQ=new uG("align","text-align",pL);class pB extends uG{value(t){let e=super.value(t);if(!e.startsWith("rgb("))return e;let r=(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(t=>`00${parseInt(t,10).toString(16)}`.slice(-2)).join("");return`#${r}`}}let pj=new uH("color","ql-color",{scope:uZ.INLINE}),pz=new pB("color","color",{scope:uZ.INLINE}),pZ=new uH("background","ql-bg",{scope:uZ.INLINE}),pF=new pB("background","background-color",{scope:uZ.INLINE});var cd=ek("dy9QZ");class pX extends pI{static create(t){let e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(t=>1>=t.length()?"":t.domNode.innerText).join("\n").slice(t,t+e)}html(t,e){return`<pre>
${fB(this.code(t,e))}
</pre>`}}class pV extends fZ{static register(){pk.register(pX)}}(0,cd._)(pV,"TAB","  ");class pU extends fz{}pU.blotName="code",pU.tagName="CODE",pV.blotName="code-block",pV.className="ql-code-block",pV.tagName="DIV",pX.blotName="code-block-container",pX.className="ql-code-block-container",pX.tagName="DIV",pX.allowedChildren=[pV],pV.allowedChildren=[fq,f$,fU],pV.requiredContainer=pX;let pW={scope:uZ.BLOCK,whitelist:["rtl"]},pH=new uF("direction","dir",pW),pY=new uH("direction","ql-direction",pW),pG=new uG("direction","direction",pW),pK={scope:uZ.INLINE,whitelist:["serif","monospace"]},pJ=new uH("font","ql-font",pK),p0=new class extends uG{value(t){return super.value(t).replace(/["']/g,"")}}("font","font-family",pK),p1=new uH("size","ql-size",{scope:uZ.INLINE,whitelist:["small","large","huge"]}),p2=new uG("size","font-size",{scope:uZ.INLINE,whitelist:["10px","18px","32px"]});var eX=ek("lQqDW"),eV=ek("hyL8v");let p3=f6("quill:keyboard"),p4=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class p5 extends pc{static match(t,e){return!["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!e[r]!==t[r]&&null!==e[r])&&(e.key===t.key||e.key===t.which)}addBinding(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=function(t){if("string"==typeof t||"number"==typeof t)t={key:t};else{if("object"!=typeof t)return null;t=fO(t)}return t.shortKey&&(t[p4]=t.shortKey,delete t.shortKey),t}(t);if(null==n){p3.warn("Attempted to add invalid keyboard binding",n);return}"function"==typeof e&&(e={handler:e}),"function"==typeof r&&(r={handler:r}),(Array.isArray(n.key)?n.key:[n.key]).forEach(t=>{let i=(0,eX._)((0,eV._)((0,eX._)({},n),{key:t}),e,r);this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||229===t.keyCode&&("Enter"===t.key||"Backspace"===t.key))return;let e=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(e=>p5.match(t,e));if(0===e.length)return;let r=pk.find(t.target,!0);if(r&&r.scroll!==this.quill.scroll)return;let n=this.quill.getSelection();if(null==n||!this.quill.hasFocus())return;let[i,o]=this.quill.getLine(n.index),[s,a]=this.quill.getLeaf(n.index),[l,h]=0===n.length?[s,a]:this.quill.getLeaf(n.index+n.length),c=s instanceof dh?s.value().slice(0,a):"",u=l instanceof dh?l.value().slice(h):"",d={collapsed:0===n.length,empty:0===n.length&&1>=i.length(),format:this.quill.getFormat(n),line:i,offset:o,prefix:c,suffix:u,event:t};e.some(t=>{if(null!=t.collapsed&&t.collapsed!==d.collapsed||null!=t.empty&&t.empty!==d.empty||null!=t.offset&&t.offset!==d.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(t=>null==d.format[t]))return!1}else if("object"==typeof t.format&&!Object.keys(t.format).every(e=>!0===t.format[e]?null!=d.format[e]:!1===t.format[e]?null==d.format[e]:fL(t.format[e],d.format[e])))return!1;return!!((null==t.prefix||t.prefix.test(d.prefix))&&(null==t.suffix||t.suffix.test(d.suffix)))&&!0!==t.handler.call(this,n,d,t)})&&t.preventDefault()})}handleBackspace(t,e){let r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(0===t.index||1>=this.quill.getLength())return;let n={},[i]=this.quill.getLine(t.index),o=new(/*@__PURE__*/ew(dc))().retain(t.index-r).delete(r);if(0===e.offset){let[e]=this.quill.getLine(t.index-1);if(e&&!("block"===e.statics.blotName&&1>=e.length())){let e=i.formats(),r=this.quill.getFormat(t.index-1,1);if(Object.keys(n=(0,dc.AttributeMap).diff(e,r)||{}).length>0){let e=new(/*@__PURE__*/ew(dc))().retain(t.index+i.length()-2).retain(1,n);o=o.compose(e)}}}this.quill.updateContents(o,pk.sources.USER),this.quill.focus()}handleDelete(t,e){let r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let n={},[i]=this.quill.getLine(t.index),o=new(/*@__PURE__*/ew(dc))().retain(t.index).delete(r);if(e.offset>=i.length()-1){let[e]=this.quill.getLine(t.index+1);if(e){let r=i.formats(),s=this.quill.getFormat(t.index,1);Object.keys(n=(0,dc.AttributeMap).diff(r,s)||{}).length>0&&(o=o.retain(e.length()-1).retain(1,n))}}this.quill.updateContents(o,pk.sources.USER),this.quill.focus()}handleDeleteRange(t){ge({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){let r=Object.keys(e.format).reduce((t,r)=>(this.quill.scroll.query(r,uZ.BLOCK)&&!Array.isArray(e.format[r])&&(t[r]=e.format[r]),t),{}),n=new(/*@__PURE__*/ew(dc))().retain(t.index).delete(t.length).insert("\n",r);this.quill.updateContents(n,pk.sources.USER),this.quill.setSelection(t.index+1,pk.sources.SILENT),this.quill.focus()}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(t=>{this.options.bindings[t]&&this.addBinding(this.options.bindings[t])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}}let p6={bindings:{bold:p9("bold"),italic:p9("italic"),underline:p9("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return!!e.collapsed&&0!==e.offset||(this.quill.format("indent","+1",pk.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return!!e.collapsed&&0!==e.offset||(this.quill.format("indent","-1",pk.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){null!=e.format.indent?this.quill.format("indent","-1",pk.sources.USER):null!=e.format.list&&this.quill.format("list",!1,pk.sources.USER)}},"indent code-block":p8(!0),"outdent code-block":p8(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,pk.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();let r=new(/*@__PURE__*/ew(dc))().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(r,pk.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,pk.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,pk.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){let r={list:!1};e.format.indent&&(r.indent=!1),this.quill.formatLine(t.index,t.length,r,pk.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){let[e,r]=this.quill.getLine(t.index),n=(0,eV._)((0,eX._)({},e.formats()),{list:"checked"}),i=new(/*@__PURE__*/ew(dc))().retain(t.index).insert("\n",n).retain(e.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,pk.sources.USER),this.quill.setSelection(t.index+1,pk.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){let[r,n]=this.quill.getLine(t.index),i=new(/*@__PURE__*/ew(dc))().retain(t.index).insert("\n",e.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(i,pk.sources.USER),this.quill.setSelection(t.index+1,pk.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){let e=this.quill.getModule("table");if(e){let[r,n,i,o]=e.getTable(t),s=null==n.prev&&null==n.next?null==i.prev&&null==i.next?0===o?-1:1:null==i.prev?-1:1:null==n.prev?-1:null==n.next?1:null;if(null==s)return;let a=r.offset();if(s<0){let e=new(/*@__PURE__*/ew(dc))().retain(a).insert("\n");this.quill.updateContents(e,pk.sources.USER),this.quill.setSelection(t.index+1,t.length,pk.sources.SILENT)}else if(s>0){a+=r.length();let t=new(/*@__PURE__*/ew(dc))().retain(a).insert("\n");this.quill.updateContents(t,pk.sources.USER),this.quill.setSelection(a,pk.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){let{event:r,line:n}=e,i=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(i-1,pk.sources.USER):this.quill.setSelection(i+n.length(),pk.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){let r;if(null==this.quill.scroll.query("list"))return!0;let{length:n}=e.prefix,[i,o]=this.quill.getLine(t.index);if(o>n)return!0;switch(e.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(t.index," ",pk.sources.USER),this.quill.history.cutoff();let s=new(/*@__PURE__*/ew(dc))().retain(t.index-o).delete(n+1).retain(i.length()-2-o).retain(1,{list:r});return this.quill.updateContents(s,pk.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,pk.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){let[e,r]=this.quill.getLine(t.index),n=2,i=e;for(;null!=i&&1>=i.length()&&i.formats()["code-block"];)if(i=i.prev,(n-=1)<=0){let n=new(/*@__PURE__*/ew(dc))().retain(t.index+e.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(n,pk.sources.USER),this.quill.setSelection(t.index-1,pk.sources.SILENT),!1}return!0}},"embed left":p7("ArrowLeft",!1),"embed left shift":p7("ArrowLeft",!0),"embed right":p7("ArrowRight",!1),"embed right shift":p7("ArrowRight",!0),"table down":gt(!1),"table up":gt(!0)}};function p8(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,r){let{event:n}=r,{TAB:i}=this.quill.scroll.query("code-block");if(0===e.length&&!n.shiftKey){this.quill.insertText(e.index,i,pk.sources.USER),this.quill.setSelection(e.index+i.length,pk.sources.SILENT);return}let o=0===e.length?this.quill.getLines(e.index,1):this.quill.getLines(e),{index:s,length:a}=e;o.forEach((e,r)=>{t?(e.insertAt(0,i),0===r?s+=i.length:a+=i.length):e.domNode.textContent.startsWith(i)&&(e.deleteAt(0,i.length),0===r?s-=i.length:a-=i.length)}),this.quill.update(pk.sources.USER),this.quill.setSelection(s,a,pk.sources.SILENT)}}}function p7(t,e){return{key:t,shiftKey:e,altKey:null,["ArrowLeft"===t?"prefix":"suffix"]:/^$/,handler(r){let{index:n}=r;"ArrowRight"===t&&(n+=r.length+1);let[i]=this.quill.getLeaf(n);return!(i instanceof dn)||("ArrowLeft"===t?e?this.quill.setSelection(r.index-1,r.length+1,pk.sources.USER):this.quill.setSelection(r.index-1,pk.sources.USER):e?this.quill.setSelection(r.index,r.length+1,pk.sources.USER):this.quill.setSelection(r.index+r.length+1,pk.sources.USER),!1)}}}function p9(t){return{key:t[0],shortKey:!0,handler(e,r){this.quill.format(t,!r.format[t],pk.sources.USER)}}}function gt(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,r){let n=t?"prev":"next",i=r.line,o=i.parent[n];if(null!=o){if("table-row"===o.statics.blotName){let t=o.children.head,e=i;for(;null!=e.prev;)e=e.prev,t=t.next;let n=t.offset(this.quill.scroll)+Math.min(r.offset,t.length()-1);this.quill.setSelection(n,0,pk.sources.USER)}}else{let e=i.table()[n];null!=e&&(t?this.quill.setSelection(e.offset(this.quill.scroll)+e.length()-1,0,pk.sources.USER):this.quill.setSelection(e.offset(this.quill.scroll),0,pk.sources.USER))}return!1}}}function ge(t){let{quill:e,range:r}=t,n=e.getLines(r),i={};if(n.length>1){let t=n[0].formats(),e=n[n.length-1].formats();i=(0,dc.AttributeMap).diff(e,t)||{}}e.deleteText(r,pk.sources.USER),Object.keys(i).length>0&&e.formatLine(r.index,1,i,pk.sources.USER),e.setSelection(r.index,pk.sources.SILENT)}p5.DEFAULTS=p6;let gr=/font-weight:\s*normal/,gn=["P","OL","UL"],gi=t=>t&&gn.includes(t.tagName),go=t=>{Array.from(t.querySelectorAll("br")).filter(t=>gi(t.previousElementSibling)&&gi(t.nextElementSibling)).forEach(t=>{var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)})},gs=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return null===(e=t.getAttribute("style"))||void 0===e?void 0:e.match(gr)}).forEach(e=>{var r;let n=t.createDocumentFragment();n.append(...e.childNodes),null===(r=e.parentNode)||void 0===r||r.replaceChild(n,e)})},ga=/\bmso-list:[^;]*ignore/i,gl=/\bmso-list:[^;]*\bl(\d+)/i,gh=/\bmso-list:[^;]*\blevel(\d+)/i,gc=(t,e)=>{let r=t.getAttribute("style"),n=null==r?void 0:r.match(gl);if(!n)return null;let i=Number(n[1]),o=null==r?void 0:r.match(gh),s=o?Number(o[1]):1,a=RegExp(`@list l${i}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=e.match(a);return{id:i,indent:s,type:l&&"bullet"===l[1]?"bullet":"ordered",element:t}},gu=t=>{let e=Array.from(t.querySelectorAll("[style*=mso-list]")),r=[],n=[];e.forEach(t=>{(t.getAttribute("style")||"").match(ga)?r.push(t):n.push(t)}),r.forEach(t=>{var e;return null===(e=t.parentNode)||void 0===e?void 0:e.removeChild(t)});let i=t.documentElement.innerHTML,o=n.map(t=>gc(t,i)).filter(t=>t);for(;o.length;){var s,a;let t=[],e=o.shift();for(;e;)t.push(e),e=o.length&&(null===(a=o[0])||void 0===a?void 0:a.element)===e.element.nextElementSibling&&o[0].id===e.id?o.shift():null;let r=document.createElement("ul");t.forEach(t=>{let e=document.createElement("li");e.setAttribute("data-list",t.type),t.indent>1&&e.setAttribute("class",`ql-indent-${t.indent-1}`),e.innerHTML=t.element.innerHTML,r.appendChild(e)});let n=null===(s=t[0])||void 0===s?void 0:s.element,{parentNode:i}=null!=n?n:{};n&&(null==i||i.replaceChild(r,n)),t.slice(1).forEach(t=>{let{element:e}=t;null==i||i.removeChild(e)})}},gd=[function(t){"urn:schemas-microsoft-com:office:word"===t.documentElement.getAttribute("xmlns:w")&&gu(t)},function(t){t.querySelector('[id^="docs-internal-guid-"]')&&(gs(t),go(t))}];var gf=t=>{t.documentElement&&gd.forEach(e=>{e(t)})};let gp=f6("quill:clipboard"),gg=[[Node.TEXT_NODE,function(t,e,r){var n;let i=t.data;if((null===(n=t.parentElement)||void 0===n?void 0:n.tagName)==="O:P")return e.insert(i.trim());if(!function t(e){return null!=e&&(gx.has(e)||("PRE"===e.tagName?gx.set(e,!0):gx.set(e,t(e.parentNode))),gx.get(e))}(t)){if(0===i.trim().length&&i.includes("\n")&&(!t.previousElementSibling||!t.nextElementSibling||gw(t.previousElementSibling,r)||gw(t.nextElementSibling,r)))return e;i=(i=i.replace(/[^\S\u00a0]/g," ")).replace(/ {2,}/g," "),(null==t.previousSibling&&null!=t.parentElement&&gw(t.parentElement,r)||t.previousSibling instanceof Element&&gw(t.previousSibling,r))&&(i=i.replace(/^ /,"")),(null==t.nextSibling&&null!=t.parentElement&&gw(t.parentElement,r)||t.nextSibling instanceof Element&&gw(t.nextSibling,r))&&(i=i.replace(/ $/,"")),i=i.replaceAll(" "," ")}return e.insert(i)}],[Node.TEXT_NODE,gS],["br",function(t,e){return gO(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,gS],[Node.ELEMENT_NODE,function(t,e,r){let n=r.query(t);if(null==n)return e;if(n.prototype instanceof dn){let e={},i=n.value(t);if(null!=i)return e[n.blotName]=i,new(/*@__PURE__*/ew(dc))().insert(e,n.formats(t,r))}else if(n.prototype instanceof dt&&!gO(e,"\n")&&e.insert("\n"),"blotName"in n&&"formats"in n&&"function"==typeof n.formats)return gb(e,n.blotName,n.formats(t,r),r);return e}],[Node.ELEMENT_NODE,function(t,e,r){let n=uF.keys(t),i=uH.keys(t),o=uG.keys(t),s={};return n.concat(i).concat(o).forEach(e=>{let n=r.query(e,uZ.ATTRIBUTE);null!=n&&(s[n.attrName]=n.value(t),s[n.attrName])||(null!=(n=gm[e])&&(n.attrName===e||n.keyName===e)&&(s[n.attrName]=n.value(t)||void 0),null!=(n=gv[e])&&(n.attrName===e||n.keyName===e)&&(s[(n=gv[e]).attrName]=n.value(t)||void 0))}),Object.entries(s).reduce((t,e)=>{let[n,i]=e;return gb(t,n,i,r)},e)}],[Node.ELEMENT_NODE,function(t,e,r){var n;let i={},o=t.style||{};return("italic"===o.fontStyle&&(i.italic=!0),"underline"===o.textDecoration&&(i.underline=!0),"line-through"===o.textDecoration&&(i.strike=!0),((null===(n=o.fontWeight)||void 0===n?void 0:n.startsWith("bold"))||parseInt(o.fontWeight,10)>=700)&&(i.bold=!0),e=Object.entries(i).reduce((t,e)=>{let[n,i]=e;return gb(t,n,i,r)},e),parseFloat(o.textIndent||0)>0)?new(/*@__PURE__*/ew(dc))().insert("	").concat(e):e}],["li",function(t,e,r){let n=r.query(t);if(null==n||"list"!==n.blotName||!gO(e,"\n"))return e;let i=-1,o=t.parentNode;for(;null!=o;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((t,e)=>e.insert?e.attributes&&"number"==typeof e.attributes.indent?t.push(e):t.insert(e.insert,(0,eX._)({indent:i},e.attributes||{})):t,new/*@__PURE__*/(ew(dc)))}],["ol, ul",function(t,e,r){let n="OL"===t.tagName?"ordered":"bullet",i=t.getAttribute("data-checked");return i&&(n="true"===i?"checked":"unchecked"),gb(e,"list",n,r)}],["pre",function(t,e,r){let n=r.query("code-block");return gb(e,"code-block",!n||!("formats"in n)||"function"!=typeof n.formats||n.formats(t,r),r)}],["tr",function(t,e,r){var n,i;let o=(null===(n=t.parentElement)||void 0===n?void 0:n.tagName)==="TABLE"?t.parentElement:null===(i=t.parentElement)||void 0===i?void 0:i.parentElement;return null!=o?gb(e,"table",Array.from(o.querySelectorAll("tr")).indexOf(t)+1,r):e}],["b",gk("bold")],["i",gk("italic")],["strike",gk("strike")],["style",function(){return new/*@__PURE__*/(ew(dc))}]],gm=[p$,pH].reduce((t,e)=>(t[e.keyName]=e,t),{}),gv=[pQ,pF,pz,pG,p0,p2].reduce((t,e)=>(t[e.keyName]=e,t),{});class gy extends pc{addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:r}=t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n[pV.blotName])return new(/*@__PURE__*/ew(dc))().insert(r||"",{[pV.blotName]:n[pV.blotName]});if(!e)return new(/*@__PURE__*/ew(dc))().insert(r||"",n);let i=this.convertHTML(e);return gO(i,"\n")&&(null==i.ops[i.ops.length-1].attributes||n.table)?i.compose(new(/*@__PURE__*/ew(dc))().retain(i.length()-1).delete(1)):i}normalizeHTML(t){gf(t)}convertHTML(t){let e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);let r=e.body,n=new WeakMap,[i,o]=this.prepareMatching(r,n);return g_(this.quill.scroll,r,i,o,n)}dangerouslyPasteHTML(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pk.sources.API;if("string"==typeof t){let r=this.convert({html:t,text:""});this.quill.setContents(r,e),this.quill.setSelection(0,pk.sources.SILENT)}else{let n=this.convert({html:e,text:""});this.quill.updateContents(new(/*@__PURE__*/ew(dc))().retain(t).concat(n),r),this.quill.setSelection(t+n.length(),pk.sources.SILENT)}}onCaptureCopy(t){var e,r;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.defaultPrevented)return;t.preventDefault();let[i]=this.quill.selection.getRange();if(null==i)return;let{html:o,text:s}=this.onCopy(i,n);null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",s),null===(r=t.clipboardData)||void 0===r||r.setData("text/html",o),n&&ge({range:i,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(t=>"#"!==t[0]).join("\n")}onCapturePaste(t){var e,r,n,i,o;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();let s=this.quill.getSelection(!0);if(null==s)return;let a=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("text/html"),l=null===(r=t.clipboardData)||void 0===r?void 0:r.getData("text/plain");if(!a&&!l){let e=null===(i=t.clipboardData)||void 0===i?void 0:i.getData("text/uri-list");e&&(l=this.normalizeURIList(e))}let h=Array.from((null===(n=t.clipboardData)||void 0===n?void 0:n.files)||[]);if(!a&&h.length>0){this.quill.uploader.upload(s,h);return}if(a&&h.length>0){let t=new DOMParser().parseFromString(a,"text/html");if(1===t.body.childElementCount&&(null===(o=t.body.firstElementChild)||void 0===o?void 0:o.tagName)==="IMG"){this.quill.uploader.upload(s,h);return}}this.onPaste(s,{html:a,text:l})}onCopy(t){let e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:r,html:n}=e,i=this.quill.getFormat(t.index),o=this.convert({text:r,html:n},i);gp.log("onPaste",o,{text:r,html:n});let s=new(/*@__PURE__*/ew(dc))().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(s,pk.sources.USER),this.quill.setSelection(s.length()-t.length,pk.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){let r=[],n=[];return this.matchers.forEach(i=>{let[o,s]=i;switch(o){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:r.push(s);break;default:Array.from(t.querySelectorAll(o)).forEach(t=>{if(e.has(t)){let r=e.get(t);null==r||r.push(s)}else e.set(t,[s])})}}),[r,n]}constructor(t,e){var r;super(t,e),this.quill.root.addEventListener("copy",t=>this.onCaptureCopy(t,!1)),this.quill.root.addEventListener("cut",t=>this.onCaptureCopy(t,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],gg.concat(null!==(r=this.options.matchers)&&void 0!==r?r:[]).forEach(t=>{let[e,r]=t;this.addMatcher(e,r)})}}function gb(t,e,r,n){return n.query(e)?t.reduce((t,n)=>n.insert?n.attributes&&n.attributes[e]?t.push(n):t.insert(n.insert,(0,eX._)({},r?{[e]:r}:{},n.attributes)):t,new/*@__PURE__*/(ew(dc))):t}function gO(t,e){let r="";for(let n=t.ops.length-1;n>=0&&r.length<e.length;--n){let e=t.ops[n];if("string"!=typeof e.insert)break;r=e.insert+r}return r.slice(-1*e.length)===e}function gw(t,e){if(!(t instanceof Element))return!1;let r=e.query(t);return(!r||!(r.prototype instanceof dn))&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}(0,cd._)(gy,"DEFAULTS",{matchers:[]});let gx=new WeakMap;function g_(t,e,r,n,i){return e.nodeType===e.TEXT_NODE?n.reduce((r,n)=>n(e,r,t),new/*@__PURE__*/(ew(dc))):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,s)=>{let a=g_(t,s,r,n,i);return s.nodeType===e.ELEMENT_NODE&&(a=r.reduce((e,r)=>r(s,e,t),a),a=(i.get(s)||[]).reduce((e,r)=>r(s,e,t),a)),o.concat(a)},new/*@__PURE__*/(ew(dc))):new/*@__PURE__*/(ew(dc))}function gk(t){return(e,r,n)=>gb(r,t,!0,n)}function gS(t,e,r){if(!gO(e,"\n")){if(gw(t,r)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert("\n");if(e.length()>0&&t.nextSibling){let n=t.nextSibling;for(;null!=n;){if(gw(n,r))return e.insert("\n");let t=r.query(n);if(t&&t.prototype instanceof fF)return e.insert("\n");n=n.firstChild}}}return e}var cd=ek("dy9QZ");class gC extends pc{change(t,e){if(0===this.stack[t].length)return;let r=this.stack[t].pop();if(!r)return;let n=this.quill.getContents(),i=r.delta.invert(n);this.stack[e].push({delta:i,range:gE(r.range,i)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,pk.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(0===t.ops.length)return;this.stack.redo=[];let r=t.invert(e),n=this.currentRange,i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){let t=this.stack.undo.pop();t&&(r=r.compose(t.delta),n=t.range)}else this.lastRecorded=i;0!==r.length()&&(this.stack.undo.push({delta:r,range:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){gA(this.stack.undo,t),gA(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,pk.sources.USER);else{let e=function(t,e){let r=e.reduce((t,e)=>t+(e.delete||0),0),n=e.length()-r;return function(t,e){let r=e.ops[e.ops.length-1];return null!=r&&(null!=r.insert?"string"==typeof r.insert&&r.insert.endsWith("\n"):null!=r.attributes&&Object.keys(r.attributes).some(e=>null!=t.query(e,uZ.BLOCK)))}(t,e)&&(n-=1),n}(this.quill.scroll,t.delta);this.quill.setSelection(e,pk.sources.USER)}}constructor(t,e){super(t,e),(0,cd._)(this,"lastRecorded",0),(0,cd._)(this,"ignoreChange",!1),(0,cd._)(this,"stack",{undo:[],redo:[]}),(0,cd._)(this,"currentRange",null),this.quill.on(pk.events.EDITOR_CHANGE,(t,e,r,n)=>{t===pk.events.SELECTION_CHANGE?e&&n!==pk.sources.SILENT&&(this.currentRange=e):t===pk.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&n!==pk.sources.USER?this.transform(e):this.record(e,r)),this.currentRange=gE(this.currentRange,e))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",t=>{"historyUndo"===t.inputType?(this.undo(),t.preventDefault()):"historyRedo"===t.inputType&&(this.redo(),t.preventDefault())})}}function gA(t,e){let r=e;for(let e=t.length-1;e>=0;e-=1){let n=t[e];t[e]={delta:r.transform(n.delta,!0),range:n.range&&gE(n.range,r)},r=n.delta.transform(r),0===t[e].delta.length()&&t.splice(e,1)}}function gE(t,e){if(!t)return t;let r=e.transformPosition(t.index);return{index:r,length:e.transformPosition(t.index+t.length)-r}}(0,cd._)(gC,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});class gT extends pc{upload(t,e){let r=[];Array.from(e).forEach(t=>{var e;t&&(null===(e=this.options.mimetypes)||void 0===e?void 0:e.includes(t.type))&&r.push(t)}),r.length>0&&this.options.handler.call(this,t,r)}constructor(t,e){super(t,e),t.root.addEventListener("drop",e=>{e.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(e.clientX,e.clientY);else if(document.caretPositionFromPoint){let t=document.caretPositionFromPoint(e.clientX,e.clientY);(r=document.createRange()).setStart(t.offsetNode,t.offset),r.setEnd(t.offsetNode,t.offset)}let n=r&&t.selection.normalizeNative(r);if(n){var i;let r=t.selection.normalizedToRange(n);(null===(i=e.dataTransfer)||void 0===i?void 0:i.files)&&this.upload(r,e.dataTransfer.files)}})}}gT.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){this.quill.scroll.query("image")&&Promise.all(e.map(t=>new Promise(e=>{let r=new FileReader;r.onload=()=>{e(r.result)},r.readAsDataURL(t)}))).then(e=>{let r=e.reduce((t,e)=>t.insert({image:e}),new(/*@__PURE__*/ew(dc))().retain(t.index).delete(t.length));this.quill.updateContents(r,f7.sources.USER),this.quill.setSelection(t.index+e.length,f7.sources.SILENT)})}};let gP=["insertText","insertReplacementText"];var gI=class extends pc{deleteRange(t){ge({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.length)return!1;if(e){let r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new(/*@__PURE__*/ew(dc))().retain(t.index).insert(e,r),pk.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,pk.sources.SILENT),!0}handleBeforeInput(t){var e;if(this.quill.composition.isComposing||t.defaultPrevented||!gP.includes(t.inputType))return;let r=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!r||!0===r.collapsed)return;let n="string"==typeof t.data?t.data:(null===(e=t.dataTransfer)||void 0===e?void 0:e.types.includes("text/plain"))?t.dataTransfer.getData("text/plain"):null;if(null==n)return;let i=this.quill.selection.normalizeNative(r),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,n)&&t.preventDefault()}handleCompositionStart(){let t=this.quill.getSelection();t&&this.replaceText(t)}constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",t=>{this.handleBeforeInput(t)}),/Android/i.test(navigator.userAgent)||t.on(pk.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}},cd=ek("dy9QZ");let gR=/Mac/i.test(navigator.platform),gM=t=>"ArrowLeft"===t.key||"ArrowRight"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key||"Home"===t.key||!!gR&&"a"===t.key&&!0===t.ctrlKey;var gN=class extends pc{handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:r,event:n}=e;if(!(r instanceof u6)||!r.uiNode)return!0;let i="rtl"===getComputedStyle(r.domNode).direction;return!!i&&"ArrowRight"!==n.key||!i&&"ArrowLeft"!==n.key||(this.quill.setSelection(t.index-1,t.length+(n.shiftKey?1:0),pk.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&gM(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){let t=document.getSelection();if(!t)return;let e=t.getRangeAt(0);if(!0!==e.collapsed||0!==e.startOffset)return;let r=this.quill.scroll.find(e.startContainer);if(!(r instanceof u6)||!r.uiNode)return;let n=document.createRange();n.setStartAfter(r.uiNode),n.setEndAfter(r.uiNode),t.removeAllRanges(),t.addRange(n)}constructor(t,e){super(t,e),(0,cd._)(this,"isListening",!1),(0,cd._)(this,"selectionChangeDeadline",0),this.handleArrowKeys(),this.handleNavigationShortcuts()}};pk.register({"blots/block":fZ,"blots/block/embed":fF,"blots/break":f$,"blots/container":pI,"blots/cursor":fU,"blots/embed":pu,"blots/inline":fz,"blots/scroll":pN,"blots/text":fq,"modules/clipboard":gy,"modules/history":gC,"modules/keyboard":p5,"modules/uploader":gT,"modules/input":gI,"modules/uiNode":gN});let gD=new class extends uH{add(t,e){let r=0;if("+1"===e||"-1"===e){let n=this.value(t)||0;r="+1"===e?n+1:n-1}else"number"==typeof e&&(r=e);return 0===r?(this.remove(t),!0):super.add(t,r.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}("indent","ql-indent",{scope:uZ.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});var cd=ek("dy9QZ");class gL extends fZ{}(0,cd._)(gL,"blotName","blockquote"),(0,cd._)(gL,"tagName","blockquote");var cd=ek("dy9QZ");class g$ extends fZ{static formats(t){return this.tagName.indexOf(t.tagName)+1}}(0,cd._)(g$,"blotName","header"),(0,cd._)(g$,"tagName",["H1","H2","H3","H4","H5","H6"]);class gq extends pI{}gq.blotName="list-container",gq.tagName="OL";class gQ extends fZ{static create(t){let e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){pk.register(gq)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}constructor(t,e){super(t,e);let r=e.ownerDocument.createElement("span"),n=r=>{if(!t.isEnabled())return;let n=this.statics.formats(e,t);"checked"===n?(this.format("list","unchecked"),r.preventDefault()):"unchecked"===n&&(this.format("list","checked"),r.preventDefault())};r.addEventListener("mousedown",n),r.addEventListener("touchstart",n),this.attachUI(r)}}gQ.blotName="list",gQ.tagName="LI",gq.allowedChildren=[gQ],gQ.requiredContainer=gq;var cd=ek("dy9QZ");class gB extends fz{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}(0,cd._)(gB,"blotName","bold"),(0,cd._)(gB,"tagName",["STRONG","B"]);var gj=gB,cd=ek("dy9QZ");class gz extends gj{}(0,cd._)(gz,"blotName","italic"),(0,cd._)(gz,"tagName",["EM","I"]);var cd=ek("dy9QZ");class gZ extends fz{static create(t){let e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return gF(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("href",this.constructor.sanitize(e)):super.format(t,e)}}function gF(t,e){let r=document.createElement("a");r.href=t;let n=r.href.slice(0,r.href.indexOf(":"));return e.indexOf(n)>-1}(0,cd._)(gZ,"blotName","link"),(0,cd._)(gZ,"tagName","A"),(0,cd._)(gZ,"SANITIZED_URL","about:blank"),(0,cd._)(gZ,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);var cd=ek("dy9QZ");class gX extends fz{static create(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):super.create(t)}static formats(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}(0,cd._)(gX,"blotName","script"),(0,cd._)(gX,"tagName",["SUB","SUP"]);var cd=ek("dy9QZ");class gV extends gj{}(0,cd._)(gV,"blotName","strike"),(0,cd._)(gV,"tagName",["S","STRIKE"]);var cd=ek("dy9QZ");class gU extends fz{}(0,cd._)(gU,"blotName","underline"),(0,cd._)(gU,"tagName","U");var cd=ek("dy9QZ");class gW extends pu{static create(t){if(null==window.katex)throw Error("Formula module requires KaTeX.");let e=super.create(t);return"string"==typeof t&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){let{formula:t}=this.value();return`<span>${t}</span>`}}(0,cd._)(gW,"blotName","formula"),(0,cd._)(gW,"className","ql-formula"),(0,cd._)(gW,"tagName","SPAN");var cd=ek("dy9QZ");let gH=["alt","height","width"];class gY extends dn{static create(t){let e=super.create(t);return"string"==typeof t&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return gH.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return gF(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){gH.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}(0,cd._)(gY,"blotName","image"),(0,cd._)(gY,"tagName","IMG");var cd=ek("dy9QZ");let gG=["height","width"];class gK extends fF{static create(t){let e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return gG.reduce((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e),{})}static sanitize(t){return gZ.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){gG.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){let{video:t}=this.value();return`<a href="${t}">${t}</a>`}}(0,cd._)(gK,"blotName","video"),(0,cd._)(gK,"className","ql-video"),(0,cd._)(gK,"tagName","IFRAME");let gJ=new uH("code-token","hljs",{scope:uZ.INLINE});class g0 extends fz{static formats(t,e){for(;null!=t&&t!==e.domNode;){if(t.classList&&t.classList.contains(pV.className))return super.formats(t,e);t=t.parentNode}}format(t,e){t!==g0.blotName?super.format(t,e):e?gJ.add(this.domNode,e):(gJ.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),gJ.value(this.domNode)||this.unwrap()}constructor(t,e,r){super(t,e,r),gJ.add(this.domNode,r)}}g0.blotName="code-token",g0.className="ql-token";class g1 extends pV{static create(t){let e=super.create(t);return"string"==typeof t&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),g0.blotName,!1),super.replaceWith(t,e)}}class g2 extends pX{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===g1.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(t,e)}))}formatAt(t,e,r,n){r===g1.blotName&&(this.forceNext=!0),super.formatAt(t,e,r,n)}highlight(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;let r=Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode),n=`${r.map(t=>t.textContent).join("\n")}
`,i=g1.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==n){if(n.trim().length>0||null==this.cachedText){let e=this.children.reduce((t,e)=>t.concat(fX(e,!1)),new/*@__PURE__*/(ew(dc))),r=t(n,i);e.diff(r).reduce((t,e)=>{let{retain:r,attributes:n}=e;return r?(n&&Object.keys(n).forEach(e=>{[g1.blotName,g0.blotName].includes(e)&&this.formatAt(t,r,e,n[e])}),t+r):t},0)}this.cachedText=n,this.forceNext=!1}}html(t,e){let[r]=this.children.find(t),n=r?g1.formats(r.domNode):"plain";return`<pre data-language="${n}">
${fB(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){let t=g1.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}g2.allowedChildren=[g1],g1.requiredContainer=g2,g1.allowedChildren=[g0,fU,fq,f$];let g3=(t,e,r)=>"string"==typeof t.versionString&&parseInt(t.versionString.split(".")[0],10)>=11?t.highlight(r,{language:e}).value:t.highlight(e,r).value;class g4 extends pc{static register(){pk.register(g0,!0),pk.register(g1,!0),pk.register(g2,!0)}initListener(){this.quill.on(pk.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof g2))return;let e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(t=>{let{key:r,label:n}=t,i=e.ownerDocument.createElement("option");i.textContent=n,i.setAttribute("value",r),e.appendChild(i)}),e.addEventListener("change",()=>{t.format(g1.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),null==t.uiNode&&(t.attachUI(e),t.children.head&&(e.value=g1.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(pk.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(pk.sources.USER);let r=this.quill.getSelection();(null==t?this.quill.scroll.descendants(g2):[t]).forEach(t=>{t.highlight(this.highlightBlot,e)}),this.quill.update(pk.sources.SILENT),null!=r&&this.quill.setSelection(r,pk.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if("plain"===(e=this.languages[e]?e:"plain"))return fB(t).split("\n").reduce((t,r,n)=>(0!==n&&t.insert("\n",{[pV.blotName]:e}),t.insert(r)),new/*@__PURE__*/(ew(dc)));let r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(pV.className),r.innerHTML=g3(this.options.hljs,e,t),g_(this.quill.scroll,r,[(t,e)=>{let r=gJ.value(t);return r?e.compose(new(/*@__PURE__*/ew(dc))().retain(e.length(),{[g0.blotName]:r})):e}],[(t,r)=>t.data.split("\n").reduce((t,r,n)=>(0!==n&&t.insert("\n",{[pV.blotName]:e}),t.insert(r)),r)],new WeakMap)}constructor(t,e){if(super(t,e),null==this.options.hljs)throw Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((t,e)=>{let{key:r}=e;return t[r]=!0,t},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}}g4.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};var cd=ek("dy9QZ");class g5 extends fZ{static create(t){let e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",g9()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===g5.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}(0,cd._)(g5,"blotName","table"),(0,cd._)(g5,"tagName","TD");class g6 extends pI{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){let t=this.children.head.formats(),e=this.children.tail.formats(),r=this.next.children.head.formats(),n=this.next.children.tail.formats();return t.table===e.table&&t.table===r.table&&t.table===n.table}return!1}optimize(t){super.optimize(t),this.children.forEach(t=>{if(null==t.next)return;let e=t.formats(),r=t.next.formats();if(e.table!==r.table){let e=this.splitAfter(t);e&&e.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}(0,cd._)(g6,"blotName","table-row"),(0,cd._)(g6,"tagName","TR");class g8 extends pI{}(0,cd._)(g8,"blotName","table-body"),(0,cd._)(g8,"tagName","TBODY");class g7 extends pI{balanceCells(){let t=this.descendants(g6),e=t.reduce((t,e)=>Math.max(e.children.length,t),0);t.forEach(t=>{Array(e-t.children.length).fill(0).forEach(()=>{let e;null!=t.children.head&&(e=g5.formats(t.children.head.domNode));let r=this.scroll.create(g5.blotName,e);t.appendChild(r),r.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){let[e]=this.descendant(g8);null!=e&&null!=e.children.head&&e.children.forEach(e=>{let r=e.children.at(t);null!=r&&r.remove()})}insertColumn(t){let[e]=this.descendant(g8);null!=e&&null!=e.children.head&&e.children.forEach(e=>{let r=e.children.at(t),n=g5.formats(e.children.head.domNode),i=this.scroll.create(g5.blotName,n);e.insertBefore(i,r)})}insertRow(t){let[e]=this.descendant(g8);if(null==e||null==e.children.head)return;let r=g9(),n=this.scroll.create(g6.blotName);e.children.head.children.forEach(()=>{let t=this.scroll.create(g5.blotName,r);n.appendChild(t)});let i=e.children.at(t);e.insertBefore(n,i)}rows(){let t=this.children.head;return null==t?[]:t.children.map(t=>t)}}function g9(){let t=Math.random().toString(36).slice(2,6);return`row-${t}`}(0,cd._)(g7,"blotName","table-container"),(0,cd._)(g7,"tagName","TABLE"),g7.allowedChildren=[g8],g8.requiredContainer=g7,g8.allowedChildren=[g6],g6.requiredContainer=g8,g6.allowedChildren=[g5],g5.requiredContainer=g6;var mt=class extends pc{static register(){pk.register(g5),pk.register(g6),pk.register(g8),pk.register(g7)}balanceTables(){this.quill.scroll.descendants(g7).forEach(t=>{t.balanceCells()})}deleteColumn(){let[t,,e]=this.getTable();null!=e&&(t.deleteColumn(e.cellOffset()),this.quill.update(pk.sources.USER))}deleteRow(){let[,t]=this.getTable();null!=t&&(t.remove(),this.quill.update(pk.sources.USER))}deleteTable(){let[t]=this.getTable();if(null==t)return;let e=t.offset();t.remove(),this.quill.update(pk.sources.USER),this.quill.setSelection(e,pk.sources.SILENT)}getTable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==t)return[null,null,null,-1];let[e,r]=this.quill.getLine(t.index);if(null==e||e.statics.blotName!==g5.blotName)return[null,null,null,-1];let n=e.parent;return[n.parent.parent,n,e,r]}insertColumn(t){let e=this.quill.getSelection();if(!e)return;let[r,n,i]=this.getTable(e);if(null==i)return;let o=i.cellOffset();r.insertColumn(o+t),this.quill.update(pk.sources.USER);let s=n.rowOffset();0===t&&(s+=1),this.quill.setSelection(e.index+s,e.length,pk.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){let e=this.quill.getSelection();if(!e)return;let[r,n,i]=this.getTable(e);if(null==i)return;let o=n.rowOffset();r.insertRow(o+t),this.quill.update(pk.sources.USER),t>0?this.quill.setSelection(e,pk.sources.SILENT):this.quill.setSelection(e.index+n.children.length,e.length,pk.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){let r=this.quill.getSelection();if(null==r)return;let n=Array(t).fill(0).reduce(t=>{let r=Array(e).fill("\n").join("");return t.insert(r,{table:g9()})},new(/*@__PURE__*/ew(dc))().retain(r.index));this.quill.updateContents(n,pk.sources.USER),this.quill.setSelection(r.index,pk.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(pk.events.SCROLL_OPTIMIZE,t=>{t.some(t=>!!["TD","TR","TBODY","TABLE"].includes(t.target.tagName)&&(this.quill.once(pk.events.TEXT_CHANGE,(t,e,r)=>{r===pk.sources.USER&&this.balanceTables()}),!0))})}constructor(){super(...arguments),this.listenBalanceCells()}};let me=f6("quill:toolbar");class mr extends pc{addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(t=>0===t.indexOf("ql-"));if(!e)return;if(e=e.slice(3),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[e]&&null==this.quill.scroll.query(e)){me.warn("ignoring attaching to nonexistent format",e,t);return}let r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,r=>{let n;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;let e=t.options[t.selectedIndex];n=!e.hasAttribute("selected")&&(e.value||!1)}else n=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();this.quill.focus();let[i]=this.quill.selection.getRange();if(null!=this.handlers[e])this.handlers[e].call(this,n);else if(this.quill.scroll.query(e).prototype instanceof dn){if(!(n=prompt(`Enter ${e}`)))return;this.quill.updateContents(new(/*@__PURE__*/ew(dc))().retain(i.index).delete(i.length).insert({[e]:n}),pk.sources.USER)}else this.quill.format(e,n,pk.sources.USER);this.update(i)}),this.controls.push([e,t])}update(t){let e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(r=>{let[n,i]=r;if("SELECT"===i.tagName){let r=null;if(null==t)r=null;else if(null==e[n])r=i.querySelector("option[selected]");else if(!Array.isArray(e[n])){let t=e[n];"string"==typeof t&&(t=t.replace(/"/g,'\\"')),r=i.querySelector(`option[value="${t}"]`)}null==r?(i.value="",i.selectedIndex=-1):r.selected=!0}else if(null==t)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){let t=e[n],r=t===i.getAttribute("value")||null!=t&&t.toString()===i.getAttribute("value")||null==t&&!i.getAttribute("value");i.classList.toggle("ql-active",r),i.setAttribute("aria-pressed",r.toString())}else{let t=null!=e[n];i.classList.toggle("ql-active",t),i.setAttribute("aria-pressed",t.toString())}})}constructor(t,e){if(super(t,e),Array.isArray(this.options.container)){var r,n,i;let e=document.createElement("div");e.setAttribute("role","toolbar"),Array.isArray((i=this.options.container)[0])||(i=[i]),i.forEach(t=>{let r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(t=>{if("string"==typeof t)mn(r,t);else{let e=Object.keys(t)[0],n=t[e];Array.isArray(n)?function(t,e,r){let n=document.createElement("select");n.classList.add(`ql-${e}`),r.forEach(t=>{let e=document.createElement("option");!1!==t?e.setAttribute("value",String(t)):e.setAttribute("selected","selected"),n.appendChild(e)}),t.appendChild(n)}(r,e,n):mn(r,e,n)}}),e.appendChild(r)}),null===(n=t.container)||void 0===n||null===(r=n.parentNode)||void 0===r||r.insertBefore(e,t.container),this.container=e}else"string"==typeof this.options.container?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){me.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(t=>{var e;let r=null===(e=this.options.handlers)||void 0===e?void 0:e[t];r&&this.addHandler(t,r)}),Array.from(this.container.querySelectorAll("button, select")).forEach(t=>{this.attach(t)}),this.quill.on(pk.events.EDITOR_CHANGE,()=>{let[t]=this.quill.selection.getRange();this.update(t)})}}function mn(t,e,r){let n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${e}`),n.setAttribute("aria-pressed","false"),null!=r?(n.value=r,n.setAttribute("aria-label",`${e}: ${r}`)):n.setAttribute("aria-label",e),t.appendChild(n)}mr.DEFAULTS={},mr.DEFAULTS={container:null,handlers:{clean(){let t=this.quill.getSelection();null!=t&&(0===t.length?Object.keys(this.quill.getFormat()).forEach(t=>{null!=this.quill.scroll.query(t,uZ.INLINE)&&this.quill.format(t,!1,pk.sources.USER)}):this.quill.removeFormat(t.index,t.length,pk.sources.USER))},direction(t){let{align:e}=this.quill.getFormat();"rtl"===t&&null==e?this.quill.format("align","right",pk.sources.USER):t||"right"!==e||this.quill.format("align",!1,pk.sources.USER),this.quill.format("direction",t,pk.sources.USER)},indent(t){let e=this.quill.getSelection(),r=this.quill.getFormat(e),n=parseInt(r.indent||0,10);if("+1"===t||"-1"===t){let e="+1"===t?1:-1;"rtl"===r.direction&&(e*=-1),this.quill.format("indent",n+e,pk.sources.USER)}},link(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,pk.sources.USER)},list(t){let e=this.quill.getSelection(),r=this.quill.getFormat(e);"check"===t?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,pk.sources.USER):this.quill.format("list","unchecked",pk.sources.USER):this.quill.format("list",t,pk.sources.USER)}}};let mi='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var mo={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:mi,"code-block":mi,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let ms=0;function ma(t,e){t.setAttribute(e,`${"true"!==t.getAttribute(e)}`)}var ml=class{togglePicker(){this.container.classList.toggle("ql-expanded"),ma(this.label,"aria-expanded"),ma(this.options,"aria-hidden")}buildItem(t){let e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");let r=t.getAttribute("value");return r&&e.setAttribute("data-value",r),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.selectItem(e,!0),t.preventDefault();break;case"Escape":this.escape(),t.preventDefault()}}),e}buildLabel(){let t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){let t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${ms}`,ms+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{let r=this.buildItem(e);t.appendChild(r),!0===e.selected&&this.selectItem(r)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");t!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){let e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);let e=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}},mh=class extends ml{buildItem(t){let e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);let r=this.label.querySelector(".ql-color-label"),n=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=n:r.style.fill=n)}constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(t=>{t.classList.add("ql-primary")})}},mc=class extends ml{selectItem(t,e){super.selectItem(t,e);let r=t||this.defaultItem;if(null!=r){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(t=>{t.innerHTML=e[t.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}};let mu=t=>{let{overflowY:e}=getComputedStyle(t,null);return"visible"!==e&&"clip"!==e};var md=class{hide(){this.root.classList.add("ql-hidden")}position(t){let e=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");let n=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),o=0;if(i.right>n.right&&(o=n.right-i.right,this.root.style.left=`${e+o}px`),i.left<n.left&&(o=n.left-i.left,this.root.style.left=`${e+o}px`),i.bottom>n.bottom){let e=i.bottom-i.top,n=t.bottom-t.top+e;this.root.style.top=`${r-n}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,mu(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}},cd=ek("dy9QZ");let mf=[!1,"center","right","justify"],mp=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],mg=[!1,"serif","monospace"],mm=["1","2","3",!1],mv=["small",!1,"large","huge"];class my extends pp{addModule(t){let e=super.addModule(t);return"toolbar"===t&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(t=>{(t.getAttribute("class")||"").split(/\s+/).forEach(r=>{if(r.startsWith("ql-")&&null!=e[r=r.slice(3)]){if("direction"===r)t.innerHTML=e[r][""]+e[r].rtl;else if("string"==typeof e[r])t.innerHTML=e[r];else{let n=t.value||"";null!=n&&e[r][n]&&(t.innerHTML=e[r][n])}}})})}buildPickers(t,e){this.pickers=Array.from(t).map(t=>{if(t.classList.contains("ql-align")&&(null==t.querySelector("option")&&mO(t,mf),"object"==typeof e.align))return new mc(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){let r=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&mO(t,mp,"background"===r?"#ffffff":"#000000"),new mh(t,e[r])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?mO(t,mg):t.classList.contains("ql-header")?mO(t,mm):t.classList.contains("ql-size")&&mO(t,mv)),new ml(t)}),this.quill.on(f7.events.EDITOR_CHANGE,()=>{this.pickers.forEach(t=>{t.update()})})}constructor(t,e){super(t,e);let r=e=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",r);return}null==this.tooltip||this.tooltip.root.contains(e.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(t=>{t.container.contains(e.target)||t.close()})};t.emitter.listenDOM("click",document.body,r)}}my.DEFAULTS=uj({},pp.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{let e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class mb extends md{listen(){this.textbox.addEventListener("keydown",t=>{"Enter"===t.key?(this.save(),t.preventDefault()):"Escape"===t.key&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");let r=this.quill.getBounds(this.quill.selection.savedRange);null!=r&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{let{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,f7.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,f7.sources.USER)),this.quill.root.scrollTop=e;break}case"video":var e;let r;t=(r=(e=t).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?`${r[1]||"https"}://www.youtube.com/embed/${r[2]}?showinfo=0`:(r=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${r[1]||"https"}://player.vimeo.com/video/${r[2]}/`:e;case"formula":{if(!t)break;let e=this.quill.getSelection(!0);if(null!=e){let r=e.index+e.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,f7.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",f7.sources.USER),this.quill.setSelection(r+2,f7.sources.USER)}}}this.textbox.value="",this.hide()}constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}}function mO(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(e=>{let n=document.createElement("option");e===r?n.setAttribute("selected","selected"):n.setAttribute("value",String(e)),t.appendChild(n)})}let mw=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class mx extends mb{listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(f7.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;let t=this.quill.getSelection();if(null!=t){let e=this.quill.getBounds(t);null!=e&&this.position(e)}},1)})}cancel(){this.show()}position(t){let e=super.position(t),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",0!==e&&(r.style.marginLeft=`${-1*e-r.offsetWidth/2}px`),e}constructor(t,e){super(t,e),this.quill.on(f7.events.EDITOR_CHANGE,(t,e,r,n)=>{if(t===f7.events.SELECTION_CHANGE){if(null!=e&&e.length>0&&n===f7.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;let t=this.quill.getLines(e.index,e.length);if(1===t.length){let t=this.quill.getBounds(e);null!=t&&this.position(t)}else{let r=t[t.length-1],n=this.quill.getIndex(r),i=Math.min(r.length()-1,e.index+e.length-n),o=this.quill.getBounds(new pt(n,i));null!=o&&this.position(o)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()}})}}(0,cd._)(mx,"TEMPLATE",'<span class="ql-tooltip-arrow"></span><div class="ql-tooltip-editor"><input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL"><a class="ql-close"></a></div>');class m_ extends my{extendToolbar(t){this.tooltip=new mx(this.quill,this.options.bounds),null!=t.container&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),mo),this.buildPickers(t.container.querySelectorAll("select"),mo))}constructor(t,e){null!=e.modules.toolbar&&null==e.modules.toolbar.container&&(e.modules.toolbar.container=mw),super(t,e),this.quill.container.classList.add("ql-bubble")}}m_.DEFAULTS=uj({},my.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,pk.sources.USER)}}}}});var cd=ek("dy9QZ");let mk=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class mS extends mb{listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(null!=this.linkRange){let t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,f7.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(f7.events.SELECTION_CHANGE,(t,e,r)=>{if(null!=t){if(0===t.length&&r===f7.sources.USER){let[e,r]=this.quill.scroll.descendant(gZ,t.index);if(null!=e){this.linkRange=new pt(t.index-r,e.length());let n=gZ.formats(e.domNode);this.preview.textContent=n,this.preview.setAttribute("href",n),this.show();let i=this.quill.getBounds(this.linkRange);null!=i&&this.position(i);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}constructor(...t){super(...t),(0,cd._)(this,"preview",this.root.querySelector("a.ql-preview"))}}(0,cd._)(mS,"TEMPLATE",'<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a><input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL"><a class="ql-action"></a><a class="ql-remove"></a>');class mC extends my{extendToolbar(t){null!=t.container&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),mo),this.buildPickers(t.container.querySelectorAll("select"),mo),this.tooltip=new mS(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,r)=>{t.handlers.link.call(t,!r.format.link)}))}constructor(t,e){null!=e.modules.toolbar&&null==e.modules.toolbar.container&&(e.modules.toolbar.container=mk),super(t,e),this.quill.container.classList.add("ql-snow")}}mC.DEFAULTS=uj({},my.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){let t=this.quill.getSelection();if(null==t||0===t.length)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&0!==e.indexOf("mailto:")&&(e=`mailto:${e}`);let{tooltip:r}=this.quill.theme;r.edit("link",e)}else this.quill.format("link",!1,pk.sources.USER)}}}}}),pk.register({"attributors/attribute/direction":pH,"attributors/class/align":pq,"attributors/class/background":pZ,"attributors/class/color":pj,"attributors/class/direction":pY,"attributors/class/font":pJ,"attributors/class/size":p1,"attributors/style/align":pQ,"attributors/style/background":pF,"attributors/style/color":pz,"attributors/style/direction":pG,"attributors/style/font":p0,"attributors/style/size":p2},!0),pk.register({"formats/align":pq,"formats/direction":pY,"formats/indent":gD,"formats/background":pF,"formats/color":pz,"formats/font":pJ,"formats/size":p1,"formats/blockquote":gL,"formats/code-block":pV,"formats/header":g$,"formats/list":gQ,"formats/bold":gj,"formats/code":pU,"formats/italic":gz,"formats/link":gZ,"formats/script":gX,"formats/strike":gV,"formats/underline":gU,"formats/formula":gW,"formats/image":gY,"formats/video":gK,"modules/syntax":g4,"modules/table":mt,"modules/toolbar":mr,"themes/bubble":m_,"themes/snow":mC,"ui/icons":mo,"ui/picker":ml,"ui/icon-picker":mc,"ui/color-picker":mh,"ui/tooltip":md},!0);var mA=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};class mE{initializeQuill(t,e){var r;return this.quill=new pk(t,{theme:e.theme,modules:{toolbar:{container:[[{"drag-button":"drag"},{"rotate-button":"rotate"}],[{header:[1,2,!1]}],["bold","italic","underline","strike"],["link","image"],[{list:"ordered"},{list:"bullet"}]]}}}),null===(r=t.querySelector("button.ql-drag-button"))||void 0===r||r.addEventListener("mousedown",this.prepareDrag),this.rotationButton=t.querySelector("button.ql-rotate-button"),this.rotationButton.addEventListener("mousedown",this.prepareRotate),this.quill.root.innerHTML=e.value,this.quill.on("text-change",()=>{e.onValueChange(this.quill.root.innerHTML)}),this.quill.on("selection-change",t=>{if(t&&t.length>0){let[e]=this.quill.getLeaf(t.index);console.log(e);let r=e&&e.domNode;r instanceof HTMLElement?this.selectedElement=r:r&&r.parentElement?this.selectedElement=r.parentElement:this.selectedElement=null}else this.selectedElement=null;e.onSelectionChange(this.selectedElement)}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.endInteractions),this.quill}prepareDrag(t){if(!this.selectedElement||!(this.selectedElement instanceof HTMLElement)){console.warn("Selected element is not valid.");return}this.mouseX=t.clientX,this.mouseY=t.clientY,this.selectedElement.dataset.x||(this.selectedElement.dataset.x="0"),this.selectedElement.dataset.y||(this.selectedElement.dataset.y="0"),this.isDragging=!0}prepareRotate(t){if(!this.selectedElement||!(this.selectedElement instanceof HTMLElement)){console.warn("Selected element is not valid.");return}this.selectedElement.dataset.x||(this.selectedElement.dataset.x="0"),this.selectedElement.dataset.y||(this.selectedElement.dataset.y="0");let e=new DOMMatrix(window.getComputedStyle(this.selectedElement).transform);this.initialRotation=Math.atan2(e.m21,e.m11)*(180/Math.PI),this.mouseX=t.clientX,this.mouseY=t.clientY,this.isRotating=!0}handleMouseMove(t){if(this.isDragging&&this.selectedElement){let e=parseFloat(this.selectedElement.dataset.x||"0"),r=parseFloat(this.selectedElement.dataset.y||"0"),n=t.clientX-this.mouseX,i=t.clientY-this.mouseY;e+=n,r+=i,this.mouseX=t.clientX,this.mouseY=t.clientY,this.selectedElement.dataset.x=e.toString(),this.selectedElement.dataset.y=r.toString();let o=parseFloat(this.selectedElement.dataset.rotation||"0");this.selectedElement.style.transform=`translate(${e}px, ${r}px) rotate(${o}deg)`}else if(this.isRotating&&this.selectedElement){let e=parseFloat(this.selectedElement.dataset.x||"0"),r=parseFloat(this.selectedElement.dataset.y||"0");this.rotationButton.getBoundingClientRect();let n=this.rotationButton.offsetLeft+this.rotationButton.offsetWidth/2,i=this.rotationButton.offsetTop+this.rotationButton.offsetHeight/2,o=Math.atan2(t.clientY-i,t.clientX-n)*(180/Math.PI);console.log(this.initialRotation);let s=o-90+this.initialRotation;this.selectedElement.dataset.rotation=s.toString(),this.selectedElement.style.transform=`translate(${e}px, ${r}px) rotate(${s}deg)`}}endInteractions(){this.isDragging=!1,this.isRotating=!1}cleanupQuill(t){t&&(t.off("text-change"),t.off("selection-change")),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.endInteractions)}constructor(){this.selectedElement=null,this.mouseX=0,this.mouseY=0,this.isDragging=!1,this.isRotating=!1,this.initialRotation=0,this.rotationButton=null}}mA([od],mE.prototype,"prepareDrag",null),mA([od],mE.prototype,"prepareRotate",null),mA([od],mE.prototype,"handleMouseMove",null),mA([od],mE.prototype,"endInteractions",null);var mT=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let mP=class extends r0{createRenderRoot(){return this}firstUpdated(){this.editorContainer=this.querySelector("#editor-container"),this.initializeQuill()}initializeQuill(){this.quill=this.editorService.initializeQuill(this.editorContainer,{theme:"bubble",value:this.value,onValueChange:t=>{this.value=t,this.dispatchEvent(new CustomEvent("value-changed",{detail:{value:this.value},bubbles:!0,composed:!0}))},onSelectionChange:t=>{this.selectedElement=t}}),this.rootId&&this.quill.root.setAttribute("id",this.rootId)}getValue(){return this.quill?this.quill.root.innerHTML:this.value}setValue(t){if(this.value=t,console.log("Setting value",t),this.quill){var e=this.quill.clipboard.convert({html:t});this.quill.setContents(e)}}setBaseStyles(t){this.editorContainer&&(this.querySelector("#editor-base").textContent=t)}setTheme(t){this.editorContainer&&(this.querySelector("#editor-theme").textContent=t)}render(){return rL`
    <style>${/*@__PURE__*/ew(cu)}${this.styles}</style>
    <style id="editor-base"></style>
    <style id="editor-theme"></style>
      <div id="editor-container" class="editor-container"></div>
    `}disconnectedCallback(){super.disconnectedCallback(),this.editorService.cleanupQuill(this.quill)}constructor(){super(...arguments),this.value="",this.rootId="",this.selectedElement=null,this.editorService=new mE,this.styles=e1`
    :host {
      display: block;
      font-family: Arial, sans-serif;
    }

    .editor-container {
      border: 1px solid #ccc;
      border-radius: 5px;
      min-height: 200px;
    }

    .ql-toolbar button.ql-drag-button {
      mask-image: var(--icon-arrows-move);
      mask-repeat: no-repeat;
      -webkit-mask-image: var(--icon-arrows-move);
      -webkit-mask-repeat: no-repeat;
      background-color: #fff;
    }
    .ql-toolbar button.ql-rotate-button {
      mask-image: var(--icon-arrows-rotate);
      mask-repeat: no-repeat;
      -webkit-mask-image: var(--icon-arrows-rotate);
      -webkit-mask-repeat: no-repeat;
      background-color: #fff;
    }
  `}};mT([ru({type:String})],mP.prototype,"value",void 0),mT([ru({type:String,attribute:"root-id"})],mP.prototype,"rootId",void 0),mP=mT([eF("html-editor")],mP);let mI=[],mR=[];function mM(t){return t>=127462&&t<=127487}function mN(t,e,r){if(e==t.length)return e;e&&mL(t.charCodeAt(e))&&m$(t.charCodeAt(e-1))&&e--;let n=mD(t,e);for(e+=mq(n);e<t.length;){let i=mD(t,e);if(8205==n||8205==i||r&&function(t){if(t<768)return!1;for(let e=0,r=mI.length;;){let n=e+r>>1;if(t<mI[n])r=n;else{if(!(t>=mR[n]))return!0;e=n+1}if(e==r)return!1}}(i))e+=mq(i),n=i;else if(mM(i)){let r=0,n=e-2;for(;n>=0&&mM(mD(t,n));)r++,n-=2;if(r%2==0)break;e+=2}else break}return e}function mD(t,e){let r=t.charCodeAt(e);if(!m$(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return mL(n)?(r-55296<<10)+(n-56320)+65536:r}function mL(t){return t>=56320&&t<57344}function m$(t){return t>=55296&&t<56320}function mq(t){return t<65536?1:2}(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let e=0,r=0;e<t.length;e++)(e%2?mR:mI).push(r+=t[e])})();class mQ{lineAt(t){if(t<0||t>this.length)throw RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,r){[t,e]=mU(this,t,e);let n=[];return this.decompose(0,t,n,2),r.length&&r.decompose(0,r.length,n,3),this.decompose(e,this.length,n,1),mj.from(n,this.length-(e-t)+r.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=mU(this,t,e);let r=[];return this.decompose(t,e,r,0),mj.from(r,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),r=this.length-this.scanIdentical(t,-1),n=new mZ(this),i=new mZ(t);for(let t=e,o=e;;){if(n.next(t),i.next(t),t=0,n.lineBreak!=i.lineBreak||n.done!=i.done||n.value!=i.value)return!1;if(o+=n.value.length,n.done||o>=r)return!0}}iter(t=1){return new mZ(this,t)}iterRange(t,e=this.length){return new mF(this,t,e)}iterLines(t,e){let r;if(null==t)r=this.iter();else{null==e&&(e=this.lines+1);let n=this.line(t).from;r=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new mX(r)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(0==t.length)throw RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new mB(t):mj.from(mB.split(t,[])):mQ.empty}constructor(){}}class mB extends mQ{get lines(){return this.text.length}get children(){return null}lineInner(t,e,r,n){for(let i=0;;i++){let o=this.text[i],s=n+o.length;if((e?r:s)>=t)return new mV(n,s,r,o);n=s+1,r++}}decompose(t,e,r,n){let i=t<=0&&e>=this.length?this:new mB(mz(this.text,[""],t,e),Math.min(e,this.length)-Math.max(0,t));if(1&n){let t=r.pop(),e=mz(i.text,t.text.slice(),0,i.length);if(e.length<=32)r.push(new mB(e,t.length+i.length));else{let t=e.length>>1;r.push(new mB(e.slice(0,t)),new mB(e.slice(t)))}}else r.push(i)}replace(t,e,r){if(!(r instanceof mB))return super.replace(t,e,r);[t,e]=mU(this,t,e);let n=mz(this.text,mz(r.text,mz(this.text,[""],0,t)),e),i=this.length+r.length-(e-t);return n.length<=32?new mB(n,i):mj.from(mB.split(n,[]),i)}sliceString(t,e=this.length,r="\n"){[t,e]=mU(this,t,e);let n="";for(let i=0,o=0;i<=e&&o<this.text.length;o++){let s=this.text[o],a=i+s.length;i>t&&o&&(n+=r),t<a&&e>i&&(n+=s.slice(Math.max(0,t-i),e-i)),i=a+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let r=[],n=-1;for(let i of t)r.push(i),n+=i.length+1,32==r.length&&(e.push(new mB(r,n)),r=[],n=-1);return n>-1&&e.push(new mB(r,n)),e}constructor(t,e=function(t){let e=-1;for(let r of t)e+=r.length+1;return e}(t)){super(),this.text=t,this.length=e}}class mj extends mQ{lineInner(t,e,r,n){for(let i=0;;i++){let o=this.children[i],s=n+o.length,a=r+o.lines-1;if((e?a:s)>=t)return o.lineInner(t,e,r,n);n=s+1,r=a+1}}decompose(t,e,r,n){for(let i=0,o=0;o<=e&&i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(t<=a&&e>=o){let i=n&((o<=t?1:0)|(a>=e?2:0));o>=t&&a<=e&&!i?r.push(s):s.decompose(t-o,e-o,r,i)}o=a+1}}replace(t,e,r){if([t,e]=mU(this,t,e),r.lines<this.lines)for(let n=0,i=0;n<this.children.length;n++){let o=this.children[n],s=i+o.length;if(t>=i&&e<=s){let a=o.replace(t-i,e-i,r),l=this.lines-o.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let i=this.children.slice();return i[n]=a,new mj(i,this.length-(e-t)+r.length)}return super.replace(i,s,a)}i=s+1}return super.replace(t,e,r)}sliceString(t,e=this.length,r="\n"){[t,e]=mU(this,t,e);let n="";for(let i=0,o=0;i<this.children.length&&o<=e;i++){let s=this.children[i],a=o+s.length;o>t&&i&&(n+=r),t<a&&e>o&&(n+=s.sliceString(t-o,e-o,r)),o=a+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof mj))return 0;let r=0,[n,i,o,s]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,i+=e){if(n==o||i==s)return r;let a=this.children[n],l=t.children[i];if(a!=l)return r+a.scanIdentical(l,e);r+=a.length+1}}static from(t,e=t.reduce((t,e)=>t+e.length+1,-1)){let r=0;for(let e of t)r+=e.lines;if(r<32){let r=[];for(let e of t)e.flatten(r);return new mB(r,e)}let n=Math.max(32,r>>5),i=n<<1,o=n>>1,s=[],a=0,l=-1,h=[];function c(){0!=a&&(s.push(1==h.length?h[0]:mj.from(h,l)),l=-1,a=h.length=0)}for(let e of t)!function t(e){let r;if(e.lines>i&&e instanceof mj)for(let r of e.children)t(r);else e.lines>o&&(a>o||!a)?(c(),s.push(e)):e instanceof mB&&a&&(r=h[h.length-1])instanceof mB&&e.lines+r.lines<=32?(a+=e.lines,l+=e.length+1,h[h.length-1]=new mB(r.text.concat(e.text),r.length+1+e.length)):(a+e.lines>n&&c(),a+=e.lines,l+=e.length+1,h.push(e))}(e);return c(),1==s.length?s[0]:new mj(s,e)}constructor(t,e){for(let r of(super(),this.children=t,this.length=e,this.lines=0,t))this.lines+=r.lines}}function mz(t,e,r=0,n=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=n;o++){let a=t[o],l=i+a.length;l>=r&&(l>n&&(a=a.slice(0,n-i)),i<r&&(a=a.slice(r-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}mQ.empty=/*@__PURE__*/new mB([""],0);class mZ{nextInner(t,e){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,n=this.nodes[r],i=this.offsets[r],o=i>>1,s=n instanceof mB?n.text.length:n.children.length;if(o==(e>0?s:0)){if(0==r)return this.done=!0,this.value="",this;e>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(e>0?0:1)){if(this.offsets[r]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(n instanceof mB){let i=n.text[o+(e<0?-1:0)];if(this.offsets[r]+=e,i.length>Math.max(0,t))return this.value=0==t?i:e>0?i.slice(t):i.slice(0,i.length-t),this;t-=i.length}else{let i=n.children[o+(e<0?-1:0)];t>i.length?(t-=i.length,this.offsets[r]+=e):(e<0&&this.offsets[r]--,this.nodes.push(i),this.offsets.push(e>0?1:(i instanceof mB?i.text.length:i.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof mB?t.text.length:t.children.length)<<1]}}class mF{nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let r=e<0?this.pos-this.from:this.to-this.pos;t>r&&(t=r),r-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=r?n:e<0?n.slice(n.length-r):n.slice(0,r),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}constructor(t,e,r){this.value="",this.done=!1,this.cursor=new mZ(t,e>r?-1:1),this.pos=e>r?t.length:0,this.from=Math.min(e,r),this.to=Math.max(e,r)}}class mX{next(t=0){let{done:e,lineBreak:r,value:n}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}}"undefined"!=typeof Symbol&&(mQ.prototype[Symbol.iterator]=function(){return this.iter()},mZ.prototype[Symbol.iterator]=mF.prototype[Symbol.iterator]=mX.prototype[Symbol.iterator]=function(){return this});class mV{get length(){return this.to-this.from}constructor(t,e,r,n){this.from=t,this.to=e,this.number=r,this.text=n}}function mU(t,e,r){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,r))]}function mW(t,e,r=!0,n=!0){return function(t,e,r=!0,n=!0){return(r?mN:function(t,e,r){for(;e>0;){let n=mN(t,e-2,r);if(n<e)return n;e--}return 0})(t,e,n)}(t,e,r,n)}function mH(t,e){let r=t.charCodeAt(e);if(!(r>=55296&&r<56320)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return n>=56320&&n<57344?(r-55296<<10)+(n-56320)+65536:r}function mY(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(((t-=65536)>>10)+55296,(1023&t)+56320)}function mG(t){return t<65536?1:2}let mK=/\r\n?|\n/;var mJ=((QA=mJ||(mJ={}))[QA.Simple=0]="Simple",QA[QA.TrackDel=1]="TrackDel",QA[QA.TrackBefore=2]="TrackBefore",QA[QA.TrackAfter=3]="TrackAfter",QA);class m0{get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let r=this.sections[e+1];t+=r<0?this.sections[e]:r}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,r=0,n=0;e<this.sections.length;){let i=this.sections[e++],o=this.sections[e++];o<0?(t(r,n,i),n+=i):n+=o,r+=i}}iterChangedRanges(t,e=!1){m4(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let r=this.sections[e++],n=this.sections[e++];n<0?t.push(r,n):t.push(n,r)}return new m0(t)}composeDesc(t){return this.empty?t:t.empty?this:m6(this,t)}mapDesc(t,e=!1){return t.empty?this:m5(this,t,e)}mapPos(t,e=-1,r=mJ.Simple){let n=0,i=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],a=this.sections[o++],l=n+s;if(a<0){if(l>t)return i+(t-n);i+=s}else{if(r!=mJ.Simple&&l>=t&&(r==mJ.TrackDel&&n<t&&l>t||r==mJ.TrackBefore&&n<t||r==mJ.TrackAfter&&l>t))return null;if(l>t||l==t&&e<0&&!s)return t==n||e<0?i:i+a;i+=a}n=l}if(t>n)throw RangeError(`Position ${t} is out of range for changeset of length ${n}`);return i}touchesRange(t,e=t){for(let r=0,n=0;r<this.sections.length&&n<=e;){let i=this.sections[r++],o=this.sections[r++],s=n+i;if(o>=0&&n<=e&&s>=t)return!(n<t)||!(s>e)||"cover";n=s}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let r=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+r+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(t=>"number"!=typeof t))throw RangeError("Invalid JSON representation of ChangeDesc");return new m0(t)}static create(t){return new m0(t)}constructor(t){this.sections=t}}class m1 extends m0{apply(t){if(this.length!=t.length)throw RangeError("Applying change set to a document with the wrong length");return m4(this,(e,r,n,i,o)=>t=t.replace(n,n+(r-e),o),!1),t}mapDesc(t,e=!1){return m5(this,t,e,!0)}invert(t){let e=this.sections.slice(),r=[];for(let n=0,i=0;n<e.length;n+=2){let o=e[n],s=e[n+1];if(s>=0){e[n]=s,e[n+1]=o;let a=n>>1;for(;r.length<a;)r.push(mQ.empty);r.push(o?t.slice(i,i+o):mQ.empty)}i+=o}return new m1(e,r)}compose(t){return this.empty?t:t.empty?this:m6(this,t,!0)}map(t,e=!1){return t.empty?this:m5(this,t,e,!0)}iterChanges(t,e=!1){m4(this,t,e)}get desc(){return m0.create(this.sections)}filter(t){let e=[],r=[],n=[],i=new m8(this);n:for(let o=0,s=0;;){let a=o==t.length?1e9:t[o++];for(;s<a||s==a&&0==i.len;){if(i.done)break n;let t=Math.min(i.len,a-s);m2(n,t,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;m2(e,t,o),o>0&&m3(r,e,i.text),i.forward(t),s+=t}let l=t[o++];for(;s<l;){if(i.done)break n;let t=Math.min(i.len,l-s);m2(e,t,-1),m2(n,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),s+=t}}return{changes:new m1(e,r),filtered:m0.create(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let r=this.sections[e],n=this.sections[e+1];n<0?t.push(r):0==n?t.push([r]):t.push([r].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,r){let n=[],i=[],o=0,s=null;function a(t=!1){if(!t&&!n.length)return;o<e&&m2(n,e-o,-1);let r=new m1(n,i);s=s?s.compose(r.map(s)):r,n=[],i=[],o=0}return!function t(l){if(Array.isArray(l))for(let e of l)t(e);else if(l instanceof m1){if(l.length!=e)throw RangeError(`Mismatched change set length (got ${l.length}, expected ${e})`);a(),s=s?s.compose(l.map(s)):l}else{let{from:t,to:s=t,insert:h}=l;if(t>s||t<0||s>e)throw RangeError(`Invalid change range ${t} to ${s} (in doc of length ${e})`);let c=h?"string"==typeof h?mQ.of(h.split(r||mK)):h:mQ.empty,u=c.length;if(t==s&&0==u)return;t<o&&a(),t>o&&m2(n,t-o,-1),m2(n,s-t,u),m3(i,n,c),o=s}}(t),a(!s),s}static empty(t){return new m1(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw RangeError("Invalid JSON representation of ChangeSet");let e=[],r=[];for(let n=0;n<t.length;n++){let i=t[n];if("number"==typeof i)e.push(i,-1);else if(!Array.isArray(i)||"number"!=typeof i[0]||i.some((t,e)=>e&&"string"!=typeof t))throw RangeError("Invalid JSON representation of ChangeSet");else if(1==i.length)e.push(i[0],0);else{for(;r.length<n;)r.push(mQ.empty);r[n]=mQ.of(i.slice(1)),e.push(i[0],r[n].length)}}return new m1(e,r)}static createSet(t,e){return new m1(t,e)}constructor(t,e){super(t),this.inserted=e}}function m2(t,e,r,n=!1){if(0==e&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:i>=0&&0==e&&0==t[i]?t[i+1]+=r:n?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function m3(t,e,r){if(0==r.length)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<n;)t.push(mQ.empty);t.push(r)}}function m4(t,e,r){let n=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],l=t.sections[s++];if(l<0)i+=a,o+=a;else{let h=i,c=o,u=mQ.empty;for(;h+=a,c+=l,l&&n&&(u=u.append(n[s-2>>1])),!r&&s!=t.sections.length&&!(t.sections[s+1]<0);)a=t.sections[s++],l=t.sections[s++];e(i,h,o,c,u),i=h,o=c}}}function m5(t,e,r,n=!1){let i=[],o=n?[]:null,s=new m8(t),a=new m8(e);for(let t=-1;;){if(s.done&&a.len||a.done&&s.len)throw Error("Mismatched change set lengths");if(-1==s.ins&&-1==a.ins){let t=Math.min(s.len,a.len);m2(i,t,-1),s.forward(t),a.forward(t)}else if(a.ins>=0&&(s.ins<0||t==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!r))){let e=a.len;for(m2(i,a.ins,-1);e;){let r=Math.min(s.len,e);s.ins>=0&&t<s.i&&s.len<=r&&(m2(i,0,s.ins),o&&m3(o,i,s.text),t=s.i),s.forward(r),e-=r}a.next()}else if(s.ins>=0){let e=0,r=s.len;for(;r;)if(-1==a.ins){let t=Math.min(r,a.len);e+=t,r-=t,a.forward(t)}else if(0==a.ins&&a.len<r)r-=a.len,a.next();else break;m2(i,e,t<s.i?s.ins:0),o&&t<s.i&&m3(o,i,s.text),t=s.i,s.forward(s.len-r)}else if(s.done&&a.done)return o?m1.createSet(i,o):m0.create(i);else throw Error("Mismatched change set lengths")}}function m6(t,e,r=!1){let n=[],i=r?[]:null,o=new m8(t),s=new m8(e);for(let t=!1;;){if(o.done&&s.done)return i?m1.createSet(n,i):m0.create(n);if(0==o.ins)m2(n,o.len,0,t),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw Error("Mismatched change set lengths");{let e=Math.min(o.len2,s.len),r=n.length;if(-1==o.ins){let r=-1==s.ins?-1:s.off?0:s.ins;m2(n,e,r,t),i&&r&&m3(i,n,s.text)}else -1==s.ins?(m2(n,o.off?0:o.len,e,t),i&&m3(i,n,o.textBit(e))):(m2(n,o.off?0:o.len,s.off?0:s.ins,t),i&&!s.off&&m3(i,n,s.text));t=(o.ins>e||s.ins>=0&&s.len>e)&&(t||n.length>r),o.forward2(e),s.forward(e)}}else m2(n,0,s.ins,t),i&&m3(i,n,s.text),s.next()}}class m8{next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return -2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?mQ.empty:t[e]}textBit(t){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length&&!t?mQ.empty:e[r].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}constructor(t){this.set=t,this.i=0,this.next()}}class m7{get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 0xffffff==t?void 0:t}map(t,e=-1){let r,n;return this.empty?r=n=t.mapPos(this.from,e):(r=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),r==this.from&&n==this.to?this:new m7(r,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return m9.range(t,e);let r=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return m9.range(this.anchor,r)}eq(t,e=!1){return this.anchor==t.anchor&&this.head==t.head&&(!e||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw RangeError("Invalid JSON representation for SelectionRange");return m9.range(t.anchor,t.head)}static create(t,e,r){return new m7(t,e,r)}constructor(t,e,r){this.from=t,this.to=e,this.flags=r}}class m9{map(t,e=-1){return t.empty?this:m9.create(this.ranges.map(r=>r.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(t.ranges[r],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new m9([this.main],0)}addRange(t,e=!0){return m9.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let r=this.ranges.slice();return r[e]=t,m9.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw RangeError("Invalid JSON representation for EditorSelection");return new m9(t.ranges.map(t=>m7.fromJSON(t)),t.main)}static single(t,e=t){return new m9([m9.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw RangeError("A selection needs at least one range");for(let r=0,n=0;n<t.length;n++){let i=t[n];if(i.empty?i.from<=r:i.from<r)return m9.normalized(t.slice(),e);r=i.to}return new m9(t,e)}static cursor(t,e=0,r,n){return m7.create(t,t,(0==e?0:e<0?8:16)|(null==r?7:Math.min(6,r))|(null!=n?n:0xffffff)<<6)}static range(t,e,r,n){let i=(null!=r?r:0xffffff)<<6|(null==n?7:Math.min(6,n));return e<t?m7.create(e,t,48|i):m7.create(t,e,(e>t?8:0)|i)}static normalized(t,e=0){let r=t[e];t.sort((t,e)=>t.from-e.from),e=t.indexOf(r);for(let r=1;r<t.length;r++){let n=t[r],i=t[r-1];if(n.empty?n.from<=i.to:n.from<i.to){let o=i.from,s=Math.max(n.to,i.to);r<=e&&e--,t.splice(--r,2,n.anchor>n.head?m9.range(s,o):m9.range(o,s))}}return new m9(t,e)}constructor(t,e){this.ranges=t,this.mainIndex=e}}function vt(t,e){for(let r of t.ranges)if(r.to>e)throw RangeError("Selection points outside of document")}let ve=0;class vr{get reader(){return this}static define(t={}){return new vr(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:vn),!!t.static,t.enables)}of(t){return new vi([],this,0,t)}compute(t,e){if(this.isStatic)throw Error("Can't compute a static facet");return new vi(t,this,1,e)}computeN(t,e){if(this.isStatic)throw Error("Can't compute a static facet");return new vi(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],r=>e(r.field(t)))}constructor(t,e,r,n,i){this.combine=t,this.compareInput=e,this.compare=r,this.isStatic=n,this.id=ve++,this.default=t([]),this.extensions="function"==typeof i?i(this):i}}function vn(t,e){return t==e||t.length==e.length&&t.every((t,r)=>t===e[r])}class vi{dynamicSlot(t){var e;let r=this.value,n=this.facet.compareInput,i=this.id,o=t[i]>>1,s=2==this.type,a=!1,l=!1,h=[];for(let r of this.dependencies)"doc"==r?a=!0:"selection"==r?l=!0:((null!==(e=t[r.id])&&void 0!==e?e:1)&1)==0&&h.push(t[r.id]);return{create:t=>(t.values[o]=r(t),1),update(t,e){if(a&&e.docChanged||l&&(e.docChanged||e.selection)||vs(t,h)){let e=r(t);if(s?!vo(e,t.values[o],n):!n(e,t.values[o]))return t.values[o]=e,1}return 0},reconfigure:(t,e)=>{let a,l=e.config.address[i];if(null!=l){let i=vv(e,l);if(this.dependencies.every(r=>r instanceof vr?e.facet(r)===t.facet(r):!(r instanceof vl)||e.field(r,!1)==t.field(r,!1))||(s?vo(a=r(t),i,n):n(a=r(t),i)))return t.values[o]=i,0}else a=r(t);return t.values[o]=a,1}}}constructor(t,e,r,n){this.dependencies=t,this.facet=e,this.type=r,this.value=n,this.id=ve++}}function vo(t,e,r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}function vs(t,e){let r=!1;for(let n of e)1&vm(t,n)&&(r=!0);return r}let va=/*@__PURE__*/vr.define({static:!0});class vl{static define(t){let e=new vl(ve++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(va).find(t=>t.field==this);return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,r)=>{let n=t.values[e],i=this.updateF(n,r);return this.compareF(n,i)?0:(t.values[e]=i,1)},reconfigure:(t,r)=>null!=r.config.address[this.id]?(t.values[e]=r.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,va.of({field:this,create:t})]}get extension(){return this}constructor(t,e,r,n,i){this.id=t,this.createF=e,this.updateF=r,this.compareF=n,this.spec=i,this.provides=void 0}}let vh={lowest:4,low:3,default:2,high:1,highest:0};function vc(t){return e=>new vd(e,t)}let vu={highest:/*@__PURE__*/vc(vh.highest),high:/*@__PURE__*/vc(vh.high),default:/*@__PURE__*/vc(vh.default),low:/*@__PURE__*/vc(vh.low),lowest:/*@__PURE__*/vc(vh.lowest)};class vd{constructor(t,e){this.inner=t,this.prec=e}}class vf{of(t){return new vp(this,t)}reconfigure(t){return vf.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class vp{constructor(t,e){this.compartment=t,this.inner=e}}class vg{staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,r){let n,i,o=[],s=Object.create(null),a=new Map;for(let r of(n=[[],[],[],[],[]],i=new Map,!function t(r,o){let s=i.get(r);if(null!=s){if(s<=o)return;let t=n[s].indexOf(r);t>-1&&n[s].splice(t,1),r instanceof vp&&a.delete(r.compartment)}if(i.set(r,o),Array.isArray(r))for(let e of r)t(e,o);else if(r instanceof vp){if(a.has(r.compartment))throw RangeError("Duplicate use of compartment in extensions");let n=e.get(r.compartment)||r.inner;a.set(r.compartment,n),t(n,o)}else if(r instanceof vd)t(r.inner,r.prec);else if(r instanceof vl)n[o].push(r),r.provides&&t(r.provides,o);else if(r instanceof vi)n[o].push(r),r.facet.extensions&&t(r.facet.extensions,vh.default);else{let e=r.extension;if(!e)throw Error(`Unrecognized extension value in extension set (${r}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);t(e,o)}}(t,vh.default),n.reduce((t,e)=>t.concat(e))))r instanceof vl?o.push(r):(s[r.facet.id]||(s[r.facet.id]=[])).push(r);let l=Object.create(null),h=[],c=[];for(let t of o)l[t.id]=c.length<<1,c.push(e=>t.slot(e));let u=null==r?void 0:r.config.facets;for(let t in s){let e=s[t],n=e[0].facet,i=u&&u[t]||[];if(e.every(t=>0==t.type)){if(l[n.id]=h.length<<1|1,vn(i,e))h.push(r.facet(n));else{let t=n.combine(e.map(t=>t.value));h.push(r&&n.compare(t,r.facet(n))?r.facet(n):t)}}else{for(let t of e)0==t.type?(l[t.id]=h.length<<1|1,h.push(t.value)):(l[t.id]=c.length<<1,c.push(e=>t.dynamicSlot(e)));l[n.id]=c.length<<1,c.push(t=>(function(t,e,r){let n=r.map(e=>t[e.id]),i=r.map(t=>t.type),o=n.filter(t=>!(1&t)),s=t[e.id]>>1;function a(t){let r=[];for(let e=0;e<n.length;e++){let o=vv(t,n[e]);if(2==i[e])for(let t of o)r.push(t);else r.push(o)}return e.combine(r)}return{create(t){for(let e of n)vm(t,e);return t.values[s]=a(t),1},update(t,r){if(!vs(t,o))return 0;let n=a(t);return e.compare(n,t.values[s])?0:(t.values[s]=n,1)},reconfigure(t,i){let o=vs(t,n),l=i.config.facets[e.id],h=i.facet(e);if(l&&!o&&vn(r,l))return t.values[s]=h,0;let c=a(t);return e.compare(c,h)?(t.values[s]=h,0):(t.values[s]=c,1)}}})(t,n,e))}}return new vg(t,a,c.map(t=>t(l)),l,h,s)}constructor(t,e,r,n,i,o){for(this.base=t,this.compartments=e,this.dynamicSlots=r,this.address=n,this.staticValues=i,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}}function vm(t,e){if(1&e)return 2;let r=e>>1,n=t.status[r];if(4==n)throw Error("Cyclic dependency between fields and/or facets");if(2&n)return n;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function vv(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}let vy=/*@__PURE__*/vr.define(),vb=/*@__PURE__*/vr.define({combine:t=>t.some(t=>t),static:!0}),vO=/*@__PURE__*/vr.define({combine:t=>t.length?t[0]:void 0,static:!0}),vw=/*@__PURE__*/vr.define(),vx=/*@__PURE__*/vr.define(),v_=/*@__PURE__*/vr.define(),vk=/*@__PURE__*/vr.define({combine:t=>!!t.length&&t[0]});class vS{static define(){return new vC}constructor(t,e){this.type=t,this.value=e}}class vC{of(t){return new vS(this,t)}}class vA{of(t){return new vE(this,t)}constructor(t){this.map=t}}class vE{map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new vE(this.type,e)}is(t){return this.type==t}static define(t={}){return new vA(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let r=[];for(let n of t){let t=n.map(e);t&&r.push(t)}return r}constructor(t,e){this.type=t,this.value=e}}vE.reconfigure=/*@__PURE__*/vE.define(),vE.appendConfig=/*@__PURE__*/vE.define();class vT{static create(t,e,r,n,i,o){return new vT(t,e,r,n,i,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(vT.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}constructor(t,e,r,n,i,o){this.startState=t,this.changes=e,this.selection=r,this.effects=n,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,r&&vt(r,e.newLength),i.some(t=>t.type==vT.time)||(this.annotations=i.concat(vT.time.of(Date.now())))}}function vP(t,e,r){var n;let i,o,s;return r?(i=e.changes,o=m1.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):null===(n=t.selection)||void 0===n?void 0:n.map(i),effects:vE.mapEffects(t.effects,i).concat(vE.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function vI(t,e,r){let n=e.selection,i=vM(e.annotations);return e.userEvent&&(i=i.concat(vT.userEvent.of(e.userEvent))),{changes:e.changes instanceof m1?e.changes:m1.of(e.changes||[],r,t.facet(vO)),selection:n&&(n instanceof m9?n:m9.single(n.anchor,n.head)),effects:vM(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}vT.time=/*@__PURE__*/vS.define(),vT.userEvent=/*@__PURE__*/vS.define(),vT.addToHistory=/*@__PURE__*/vS.define(),vT.remote=/*@__PURE__*/vS.define();let vR=[];function vM(t){return null==t?vR:Array.isArray(t)?t:[t]}var vN=((QE=vN||(vN={}))[QE.Word=0]="Word",QE[QE.Space=1]="Space",QE[QE.Other=2]="Other",QE);let vD=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{r=/*@__PURE__*/RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}class vL{field(t,e=!0){let r=this.config.address[t.id];if(null==r){if(e)throw RangeError("Field is not present in this state");return}return vm(this,r),vv(this,r)}update(...t){return function t(e,r,n){let i=vI(e,r.length?r[0]:{},e.doc.length);r.length&&!1===r[0].filter&&(n=!1);for(let t=1;t<r.length;t++){!1===r[t].filter&&(n=!1);let o=!!r[t].sequential;i=vP(i,vI(e,r[t],o?i.changes.newLength:e.doc.length),o)}let o=vT.create(e,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(t){let e=t.startState,r=e.facet(v_),n=t;for(let i=r.length-1;i>=0;i--){let o=r[i](t);o&&Object.keys(o).length&&(n=vP(n,vI(e,o,t.changes.newLength),!0))}return n==t?t:vT.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}(n?function(e){let r=e.startState,n=!0;for(let t of r.facet(vw)){let r=t(e);if(!1===r){n=!1;break}Array.isArray(r)&&(n=!0===n?r:function(t,e){let r=[];for(let n=0,i=0;;){let o,s;if(n<t.length&&(i==e.length||e[i]>=t[n]))o=t[n++],s=t[n++];else{if(!(i<e.length))return r;o=e[i++],s=e[i++]}!r.length||r[r.length-1]<o?r.push(o,s):r[r.length-1]<s&&(r[r.length-1]=s)}}(n,r))}if(!0!==n){let t,i;if(!1===n)i=e.changes.invertedDesc,t=m1.empty(r.doc.length);else{let r=e.changes.filter(n);t=r.changes,i=r.filtered.mapDesc(r.changes).invertedDesc}e=vT.create(r,t,e.selection&&e.selection.map(i),vE.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let i=r.facet(vx);for(let n=i.length-1;n>=0;n--){let o=i[n](e);e=o instanceof vT?o:Array.isArray(o)&&1==o.length&&o[0]instanceof vT?o[0]:t(r,vM(o),!1)}return e}(o):o)}(this,t,!0)}applyTransaction(t){let e,r=this.config,{base:n,compartments:i}=r;for(let e of t.effects)e.is(vf.reconfigure)?(r&&(i=new Map,r.compartments.forEach((t,e)=>i.set(e,t)),r=null),i.set(e.value.compartment,e.value.extension)):e.is(vE.reconfigure)?(r=null,n=e.value):e.is(vE.appendConfig)&&(r=null,n=vM(n).concat(e.value));e=r?t.startState.values.slice():new vL(r=vg.resolve(n,i,this),this.doc,this.selection,r.dynamicSlots.map(()=>null),(t,e)=>e.reconfigure(t,this),null).values;let o=t.startState.facet(vb)?t.newSelection:t.newSelection.asSingle();new vL(r,t.newDoc,o,e,(e,r)=>r.update(e,t),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:m9.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,r=t(e.ranges[0]),n=this.changes(r.changes),i=[r.range],o=vM(r.effects);for(let r=1;r<e.ranges.length;r++){let s=t(e.ranges[r]),a=this.changes(s.changes),l=a.map(n);for(let t=0;t<r;t++)i[t]=i[t].map(l);let h=n.mapDesc(a,!0);i.push(s.range.map(h)),n=n.compose(l),o=vE.mapEffects(o,l).concat(vE.mapEffects(vM(s.effects),h))}return{changes:n,selection:m9.create(i,e.mainIndex),effects:o}}changes(t=[]){return t instanceof m1?t:m1.of(t,this.doc.length,this.facet(vL.lineSeparator))}toText(t){return mQ.of(t.split(this.facet(vL.lineSeparator)||mK))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(vm(this,e),vv(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let r in t){let n=t[r];n instanceof vl&&null!=this.config.address[n.id]&&(e[r]=n.spec.toJSON(this.field(t[r]),this))}return e}static fromJSON(t,e={},r){if(!t||"string"!=typeof t.doc)throw RangeError("Invalid JSON representation for EditorState");let n=[];if(r){for(let e in r)if(Object.prototype.hasOwnProperty.call(t,e)){let i=r[e],o=t[e];n.push(i.init(t=>i.spec.fromJSON(o,t)))}}return vL.create({doc:t.doc,selection:m9.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=vg.resolve(t.extensions||[],new Map),r=t.doc instanceof mQ?t.doc:mQ.of((t.doc||"").split(e.staticFacet(vL.lineSeparator)||mK)),n=t.selection?t.selection instanceof m9?t.selection:m9.single(t.selection.anchor,t.selection.head):m9.single(0);return vt(n,r.length),e.staticFacet(vb)||(n=n.asSingle()),new vL(e,r,n,e.dynamicSlots.map(()=>null),(t,e)=>e.create(t),null)}get tabSize(){return this.facet(vL.tabSize)}get lineBreak(){return this.facet(vL.lineSeparator)||"\n"}get readOnly(){return this.facet(vk)}phrase(t,...e){for(let e of this.facet(vL.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(t,r)=>{if("$"==r)return"$";let n=+(r||1);return!n||n>e.length?t:e[n-1]})),t}languageDataAt(t,e,r=-1){let n=[];for(let i of this.facet(vy))for(let o of i(this,e,r))Object.prototype.hasOwnProperty.call(o,t)&&n.push(o[t]);return n}charCategorizer(t){var e;return e=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return vN.Space;if(function(t){if(r)return r.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||vD.test(r)))return!0}return!1}(t))return vN.Word;for(let r=0;r<e.length;r++)if(t.indexOf(e[r])>-1)return vN.Word;return vN.Other}}wordAt(t){let{text:e,from:r,length:n}=this.doc.lineAt(t),i=this.charCategorizer(t),o=t-r,s=t-r;for(;o>0;){let t=mW(e,o,!1);if(i(e.slice(t,o))!=vN.Word)break;o=t}for(;s<n;){let t=mW(e,s);if(i(e.slice(s,t))!=vN.Word)break;s=t}return o==s?null:m9.range(o+r,s+r)}constructor(t,e,r,n,i,o){this.config=t,this.doc=e,this.selection=r,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=i,o&&(o._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)vm(this,t<<1);this.computeSlot=null}}function v$(t,e,r={}){let n={};for(let e of t)for(let t of Object.keys(e)){let i=e[t],o=n[t];if(void 0===o)n[t]=i;else if(o===i||void 0===i);else if(Object.hasOwnProperty.call(r,t))n[t]=r[t](o,i);else throw Error("Config merge conflict for field "+t)}for(let t in e)void 0===n[t]&&(n[t]=e[t]);return n}vL.allowMultipleSelections=vb,vL.tabSize=/*@__PURE__*/vr.define({combine:t=>t.length?t[0]:4}),vL.lineSeparator=vO,vL.readOnly=vk,vL.phrases=/*@__PURE__*/vr.define({compare(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length==n.length&&r.every(r=>t[r]==e[r])}}),vL.languageData=vy,vL.changeFilter=vw,vL.transactionFilter=vx,vL.transactionExtender=v_,vf.reconfigure=/*@__PURE__*/vE.define();class vq{eq(t){return this==t}range(t,e=t){return vQ.create(t,e,this)}}vq.prototype.startSide=vq.prototype.endSide=0,vq.prototype.point=!1,vq.prototype.mapMode=mJ.TrackDel;class vQ{static create(t,e,r){return new vQ(t,e,r)}constructor(t,e,r){this.from=t,this.to=e,this.value=r}}function vB(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class vj{get length(){return this.to[this.to.length-1]}findIndex(t,e,r,n=0){let i=r?this.to:this.from;for(let o=n,s=i.length;;){if(o==s)return o;let n=o+s>>1,a=i[n]-t||(r?this.value[n].endSide:this.value[n].startSide)-e;if(n==o)return a>=0?o:s;a>=0?s=n:o=n+1}}between(t,e,r,n){for(let i=this.findIndex(e,-1e9,!0),o=this.findIndex(r,1e9,!1,i);i<o;i++)if(!1===n(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let r=[],n=[],i=[],o=-1,s=-1;for(let a=0;a<this.value.length;a++){let l=this.value[a],h=this.from[a]+t,c=this.to[a]+t,u,d;if(h==c){let t=e.mapPos(h,l.startSide,l.mapMode);if(null==t||(u=d=t,l.startSide!=l.endSide&&(d=e.mapPos(h,l.endSide))<u))continue}else if((u=e.mapPos(h,l.startSide))>(d=e.mapPos(c,l.endSide))||u==d&&l.startSide>0&&l.endSide<=0)continue;0>(d-u||l.endSide-l.startSide)||(o<0&&(o=u),l.point&&(s=Math.max(s,d-u)),r.push(l),n.push(u-o),i.push(d-o))}return{mapped:r.length?new vj(n,i,r,s):null,pos:o}}constructor(t,e,r,n){this.from=t,this.to=e,this.value=r,this.maxPoint=n}}class vz{static create(t,e,r,n){return new vz(t,e,r,n)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:r=!1,filterFrom:n=0,filterTo:i=this.length}=t,o=t.filter;if(0==e.length&&!o)return this;if(r&&(e=e.slice().sort(vB)),this.isEmpty)return e.length?vz.of(e):this;let s=new vX(this,null,-1).goto(0),a=0,l=[],h=new vZ;for(;s.value||a<e.length;)if(a<e.length&&(s.from-e[a].from||s.startSide-e[a].value.startSide)>=0){let t=e[a++];h.addInner(t.from,t.to,t.value)||l.push(t)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(s.chunkIndex)<e[a].from)&&(!o||n>this.chunkEnd(s.chunkIndex)||i<this.chunkPos[s.chunkIndex])&&h.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||n>s.to||i<s.from||o(s.from,s.to,s.value))&&!h.addInner(s.from,s.to,s.value)&&l.push(vQ.create(s.from,s.to,s.value)),s.next());return h.finishInner(this.nextLayer.isEmpty&&!l.length?vz.empty:this.nextLayer.update({add:l,filter:o,filterFrom:n,filterTo:i}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],r=[],n=-1;for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i],a=t.touchesRange(o,o+s.length);if(!1===a)n=Math.max(n,s.maxPoint),e.push(s),r.push(t.mapPos(o));else if(!0===a){let{mapped:i,pos:a}=s.map(o,t);i&&(n=Math.max(n,i.maxPoint),e.push(i),r.push(a))}}let i=this.nextLayer.map(t);return 0==e.length?i:new vz(r,e,i||vz.empty,n)}between(t,e,r){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let i=this.chunkPos[n],o=this.chunk[n];if(e>=i&&t<=i+o.length&&!1===o.between(i,t-i,e-i,r))return}this.nextLayer.between(t,e,r)}}iter(t=0){return vV.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return vV.from(t).goto(e)}static compare(t,e,r,n,i=-1){let o=t.filter(t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i),s=e.filter(t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i),a=vF(o,s,r),l=new vW(o,a,i),h=new vW(s,a,i);r.iterGaps((t,e,r)=>vH(l,t,h,e,r,n)),r.empty&&0==r.length&&vH(l,0,h,0,0,n)}static eq(t,e,r=0,n){null==n&&(n=0x3b9ac9ff);let i=t.filter(t=>!t.isEmpty&&0>e.indexOf(t)),o=e.filter(e=>!e.isEmpty&&0>t.indexOf(e));if(i.length!=o.length)return!1;if(!i.length)return!0;let s=vF(i,o),a=new vW(i,s,0).goto(r),l=new vW(o,s,0).goto(r);for(;;){if(a.to!=l.to||!vY(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>n)return!0;a.next(),l.next()}}static spans(t,e,r,n,i=-1){let o=new vW(t,null,i).goto(e),s=e,a=o.openStart;for(;;){let t=Math.min(o.to,r);if(o.point){let r=o.activeForPoint(o.to),i=o.pointFrom<e?r.length+1:o.point.startSide<0?r.length:Math.min(r.length,a);n.point(s,t,o.point,r,i,o.pointRank),a=Math.min(o.openEnd(t),r.length)}else t>s&&(n.span(s,t,o.active,a),a=o.openEnd(t));if(o.to>r)return a+(o.point&&o.to>r?1:0);s=o.to,o.next()}}static of(t,e=!1){let r=new vZ;for(let n of t instanceof vQ?[t]:e?function(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let n=t[r];if(vB(e,n)>0)return t.slice().sort(vB);e=n}return t}(t):t)r.add(n.from,n.to,n.value);return r.finish()}static join(t){if(!t.length)return vz.empty;let e=t[t.length-1];for(let r=t.length-2;r>=0;r--)for(let n=t[r];n!=vz.empty;n=n.nextLayer)e=new vz(n.chunkPos,n.chunk,e,Math.max(n.maxPoint,e.maxPoint));return e}constructor(t,e,r,n){this.chunkPos=t,this.chunk=e,this.nextLayer=r,this.maxPoint=n}}vz.empty=/*@__PURE__*/new vz([],[],null,-1),vz.empty.nextLayer=vz.empty;class vZ{finishChunk(t){this.chunks.push(new vj(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,r){this.addInner(t,e,r)||(this.nextLayer||(this.nextLayer=new vZ)).add(t,e,r)}addInner(t,e,r){let n=t-this.lastTo||r.startSide-this.last.endSide;if(n<=0&&0>(t-this.lastFrom||r.startSide-this.last.startSide))throw Error("Ranges must be added sorted by `from` position and `startSide`");return!(n<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=r,this.lastFrom=t,this.lastTo=e,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if(0>(t-this.lastTo||e.value[0].startSide-this.last.endSide))return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let r=e.value.length-1;return this.last=e.value[r],this.lastFrom=e.from[r]+t,this.lastTo=e.to[r]+t,!0}finish(){return this.finishInner(vz.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=vz.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}}function vF(t,e,r){let n=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&n.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let o=n.get(t.chunk[e]);null==o||(r?r.mapPos(o):o)!=t.chunkPos[e]||(null==r?void 0:r.touchesRange(o,o+t.chunk[e].length))||i.add(t.chunk[e])}return i}class vX{get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,r){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!r||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){0>(this.to-t||this.endSide-e)&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],r=t+e.from[this.rangeIndex];if(this.from=r,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}constructor(t,e,r,n=0){this.layer=t,this.skip=e,this.minPoint=r,this.rank=n}}class vV{static from(t,e=null,r=-1){let n=[];for(let i=0;i<t.length;i++)for(let o=t[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&n.push(new vX(o,e,r,i));return 1==n.length?n[0]:new vV(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let r of this.heap)r.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)vU(this.heap,t);return this.next(),this}forward(t,e){for(let r of this.heap)r.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)vU(this.heap,t);0>(this.to-t||this.value.endSide-e)&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),vU(this.heap,0)}}constructor(t){this.heap=t}}function vU(t,e){for(let r=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let i=t[n];if(n+1<t.length&&i.compare(t[n+1])>=0&&(i=t[n+1],n++),0>r.compare(i))break;t[n]=r,t[e]=i,e=n}}class vW{goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&0>(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e);)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){vG(this.active,t),vG(this.activeTo,t),vG(this.activeRank,t),this.minActive=vJ(this.active,this.activeTo)}addActive(t){let e=0,{value:r,to:n,rank:i}=this.cursor;for(;e<this.activeRank.length&&(i-this.activeRank[e]||n-this.activeTo[e])>0;)e++;vK(this.active,e,r),vK(this.activeTo,e,n),vK(this.activeRank,e,i),t&&vK(t,e,this.cursor.from),this.minActive=vJ(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&0>(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)){if(this.activeTo[n]>t){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),r&&vG(r,n)}else if(this.cursor.value){if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else this.addActive(r),this.cursor.next()}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let e=r.length-1;e>=0&&r[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>t||this.activeTo[r]==t&&this.active[r].endSide>=this.point.endSide)&&e.push(this.active[r]);return e.reverse()}openEnd(t){let e=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>t;r--)e++;return e}constructor(t,e,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=vV.from(t,e,r)}}function vH(t,e,r,n,i,o){t.goto(e),r.goto(n);let s=n+i,a=n,l=n-e;for(;;){let e=t.to+l-r.to,n=e||t.endSide-r.endSide,i=n<0?t.to+l:r.to,h=Math.min(i,s);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&vY(t.activeForPoint(t.to),r.activeForPoint(r.to))||o.comparePoint(a,h,t.point,r.point):h>a&&!vY(t.active,r.active)&&o.compareRange(a,h,t.active,r.active),i>s)break;(e||t.openEnd!=r.openEnd)&&o.boundChange&&o.boundChange(i),a=i,n<=0&&t.next(),n>=0&&r.next()}}function vY(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function vG(t,e){for(let r=e,n=t.length-1;r<n;r++)t[r]=t[r+1];t.pop()}function vK(t,e,r){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=r}function vJ(t,e){let r=-1,n=1e9;for(let i=0;i<e.length;i++)0>(e[i]-n||t[i].endSide-t[r].endSide)&&(r=i,n=e[i]);return r}function v0(t,e,r=t.length){let n=0;for(let i=0;i<r&&i<t.length;)9==t.charCodeAt(i)?(n+=e-n%e,i++):(n++,i=mW(t,i));return n}function v1(t,e,r,n){for(let n=0,i=0;;){if(i>=e)return n;if(n==t.length)break;i+=9==t.charCodeAt(n)?r-i%r:1,n=mW(t,n)}return!0===n?-1:t.length}let v2="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),v3="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),v4="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class v5{getRules(){return this.rules.join("\n")}static newName(){let t=v4[v2]||1;return v4[v2]=t+1,"ͼ"+t.toString(36)}static mount(t,e,r){let n=t[v3],i=r&&r.nonce;n?i&&n.setNonce(i):n=new v8(t,i),n.mount(Array.isArray(e)?e:[e],t)}constructor(t,e){this.rules=[];let{finish:r}=e||{};function n(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}for(let e in t)!function t(e,i,o,s){let a=[],l=/^@(\w+)\b/.exec(e[0]),h=l&&"keyframes"==l[1];if(l&&null==i)return o.push(e[0]+";");for(let r in i){let s=i[r];if(/&/.test(r))t(r.split(/,\s*/).map(t=>e.map(e=>t.replace(/&/,e))).reduce((t,e)=>t.concat(e)),s,o);else if(s&&"object"==typeof s){if(!l)throw RangeError("The value of a property ("+r+") should be a primitive value.");t(n(r),s,a,h)}else null!=s&&a.push(r.replace(/_.*/,"").replace(/[A-Z]/g,t=>"-"+t.toLowerCase())+": "+s+";")}(a.length||h)&&o.push((!r||l||s?e:e.map(r)).join(", ")+" {"+a.join(" ")+"}")}(n(e),t[e],this.rules)}}let v6=new Map;class v8{mount(t,e){let r=this.sheet,n=0,i=0;for(let e=0;e<t.length;e++){let o=t[e],s=this.modules.indexOf(o);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),-1==s){if(this.modules.splice(i++,0,o),r)for(let t=0;t<o.rules.length;t++)r.insertRule(o.rules[t],n++)}else{for(;i<s;)n+=this.modules[i++].rules.length;n+=o.rules.length,i++}}if(r)0>e.adoptedStyleSheets.indexOf(this.sheet)&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let r=e.head||e;this.styleTag.parentNode!=r&&r.insertBefore(this.styleTag,r.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}constructor(t,e){let r=t.ownerDocument||t,n=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&n.CSSStyleSheet){let e=v6.get(r);if(e)return t[v3]=e;this.sheet=new n.CSSStyleSheet,v6.set(r,this)}else this.styleTag=r.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[v3]=this}}for(var v7={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},v9={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},yt="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ye="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),yr=0;yr<10;yr++)v7[48+yr]=v7[96+yr]=String(yr);for(var yr=1;yr<=24;yr++)v7[yr+111]="F"+yr;for(var yr=65;yr<=90;yr++)v7[yr]=String.fromCharCode(yr+32),v9[yr]=String.fromCharCode(yr);for(var yn in v7)v9.hasOwnProperty(yn)||(v9[yn]=v7[yn]);function yi(t){return(11==t.nodeType?t.getSelection?t:t.ownerDocument:t).getSelection()}function yo(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function ys(t,e){if(!e.anchorNode)return!1;try{return yo(t,e.anchorNode)}catch(t){return!1}}function ya(t){return 3==t.nodeType?yy(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function yl(t,e,r,n){return!!r&&(yu(t,e,r,n,-1)||yu(t,e,r,n,1))}function yh(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function yc(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function yu(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:yd(t))){if("DIV"==t.nodeName)return!1;let r=t.parentNode;if(!r||1!=r.nodeType)return!1;e=yh(t)+(i<0?0:1),t=r}else{if(1!=t.nodeType||1==(t=t.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=i<0?yd(t):0}}}function yd(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function yf(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function yp(t,e){let r=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||1>Math.abs(e.width-t.offsetWidth))&&(r=1),(n>.995&&n<1.005||!isFinite(n)||1>Math.abs(e.height-t.offsetHeight))&&(n=1),{scaleX:r,scaleY:n}}class yg{eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:r}=t;this.set(e,Math.min(t.anchorOffset,e?yd(e):0),r,Math.min(t.focusOffset,r?yd(r):0))}set(t,e,r,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=r,this.focusOffset=n}constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}}let ym=null;function yv(t){if(t.setActive)return t.setActive();if(ym)return t.focus(ym);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(null==ym?{get preventScroll(){return ym={preventScroll:!0},!0}}:void 0),!ym){ym=!1;for(let t=0;t<e.length;){let r=e[t++],n=e[t++],i=e[t++];r.scrollTop!=n&&(r.scrollTop=n),r.scrollLeft!=i&&(r.scrollLeft=i)}}}function yy(t,e,r=e){let i=n||(n=document.createRange());return i.setEnd(t,r),i.setStart(t,e),i}function yb(t,e,r,n){let i={key:e,code:e,keyCode:r,which:r,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function yO(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function yw(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function yx(t,e){for(let r=t,n=e;;){if(3==r.nodeType&&n>0)return{node:r,offset:n};if(1==r.nodeType&&n>0){if("false"==r.contentEditable)return null;n=yd(r=r.childNodes[n-1])}else{if(!r.parentNode||yc(r))return null;n=yh(r),r=r.parentNode}}}function y_(t,e){for(let r=t,n=e;;){if(3==r.nodeType&&n<r.nodeValue.length)return{node:r,offset:n};if(1==r.nodeType&&n<r.childNodes.length){if("false"==r.contentEditable)return null;r=r.childNodes[n],n=0}else{if(!r.parentNode||yc(r))return null;n=yh(r)+1,r=r.parentNode}}}class yk{static before(t,e){return new yk(t.parentNode,yh(t),e)}static after(t,e){return new yk(t.parentNode,yh(t)+1,e)}constructor(t,e,r=!0){this.node=t,this.offset=e,this.precise=r}}let yS=[];class yC{get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let r of this.children){if(r==t)return e;e+=r.length+r.breakAfter}throw RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let r=this.dom,n=null,i;for(let o of this.children){if(7&o.flags){if(!o.dom&&(i=n?n.nextSibling:r.firstChild)){let t=yC.get(i);(!t||!t.parent&&t.canReuseDOM(o))&&o.reuseDOM(i)}o.sync(t,e),o.flags&=-8}if(i=n?n.nextSibling:r.firstChild,e&&!e.written&&e.node==r&&i!=o.dom&&(e.written=!0),o.dom.parentNode==r)for(;i&&i!=o.dom;)i=yA(i);else r.insertBefore(o.dom,i);n=o.dom}for((i=n?n.nextSibling:r.firstChild)&&e&&e.node==r&&(e.written=!0);i;)i=yA(i)}else if(1&this.flags)for(let r of this.children)7&r.flags&&(r.sync(t,e),r.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let r;if(t==this.dom)r=this.dom.childNodes[e];else{let n=0==yd(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==n&&e.firstChild!=e.lastChild&&(n=t==e.firstChild?-1:1),t=e}r=n<0?t:t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!yC.get(r);)r=r.nextSibling;if(!r)return this.length;for(let t=0,e=0;;t++){let n=this.children[t];if(n.dom==r)return e;e+=n.length+n.breakAfter}}domBoundsAround(t,e,r=0){let n=-1,i=-1,o=-1,s=-1;for(let a=0,l=r,h=r;a<this.children.length;a++){let r=this.children[a],c=l+r.length;if(l<t&&c>e)return r.domBoundsAround(t,e,l);if(c>=t&&-1==n&&(n=a,i=l),l>e&&r.dom.parentNode==this.dom){o=a,s=h;break}h=c,l=c+r.breakAfter}return{from:i,to:s<0?r+this.length:s,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,r=yS){this.markDirty();for(let n=t;n<e;n++){let t=this.children[n];t.parent==this&&0>r.indexOf(t)&&t.destroy()}r.length<250?this.children.splice(t,e-t,...r):this.children=[].concat(this.children.slice(0,t),r,this.children.slice(e));for(let t=0;t<r.length;t++)r[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new yE(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,r,n,i,o){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}constructor(){this.parent=null,this.dom=null,this.flags=2}}function yA(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}yC.prototype.breakAfter=0;class yE{findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}constructor(t,e,r){this.children=t,this.pos=e,this.i=r,this.off=0}}function yT(t,e,r,n,i,o,s,a,l){let{children:h}=t,c=h.length?h[e]:null,u=o.length?o[o.length-1]:null,d=u?u.breakAfter:s;if(!(e==n&&c&&!s&&!d&&o.length<2&&c.merge(r,i,o.length?u:null,0==r,a,l))){if(n<h.length){let t=h[n];t&&(i<t.length||t.breakAfter&&(null==u?void 0:u.breakAfter))?(e==n&&(t=t.split(i),i=0),!d&&u&&t.merge(0,i,u,!0,0,l)?o[o.length-1]=t:((i||t.children.length&&!t.children[0].length)&&t.merge(0,i,null,!1,0,l),o.push(t))):(null==t?void 0:t.breakAfter)&&(u?u.breakAfter=1:s=1),n++}for(c&&(c.breakAfter=s,r>0&&(!s&&o.length&&c.merge(r,c.length,o[0],!1,a,0)?c.breakAfter=o.shift().breakAfter:(r<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(r,c.length,null,!1,a,0),e++));e<n&&o.length;)if(h[n-1].become(o[o.length-1]))n--,o.pop(),l=o.length?0:a;else if(h[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&n<h.length&&!h[e-1].breakAfter&&h[n].merge(0,0,h[e-1],!1,a,l)&&e--,(e<n||o.length)&&t.replaceChildren(e,n,o)}}function yP(t,e,r,n,i,o){let s=t.childCursor(),{i:a,off:l}=s.findPos(r,1),{i:h,off:c}=s.findPos(e,-1),u=e-r;for(let t of n)u+=t.length;t.length+=u,yT(t,h,c,a,l,n,0,i,o)}let yI="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},yR="undefined"!=typeof document?document:{documentElement:{style:{}}},yM=/*@__PURE__*//Edge\/(\d+)/.exec(yI.userAgent),yN=/*@__PURE__*//MSIE \d/.test(yI.userAgent),yD=/*@__PURE__*//Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yI.userAgent),yL=!!(yN||yD||yM),y$=!yL&&/*@__PURE__*//gecko\/(\d+)/i.test(yI.userAgent),yq=!yL&&/*@__PURE__*//Chrome\/(\d+)/.exec(yI.userAgent),yQ="webkitFontSmoothing"in yR.documentElement.style,yB=!yL&&/*@__PURE__*//Apple Computer/.test(yI.vendor),yj=yB&&/*@__PURE__*/(/Mobile\/\w+/.test(yI.userAgent)||yI.maxTouchPoints>2);var yz={mac:yj||/*@__PURE__*//Mac/.test(yI.platform),windows:/*@__PURE__*//Win/.test(yI.platform),linux:/*@__PURE__*//Linux|X11/.test(yI.platform),ie:yL,ie_version:yN?yR.documentMode||6:yD?+yD[1]:yM?+yM[1]:0,gecko:y$,gecko_version:y$?+/*@__PURE__*/(/Firefox\/(\d+)/.exec(yI.userAgent)||[0,0])[1]:0,chrome:!!yq,chrome_version:yq?+yq[1]:0,ios:yj,android:/*@__PURE__*//Android\b/.test(yI.userAgent),webkit:yQ,safari:yB,webkit_version:yQ?+/*@__PURE__*/(/\bAppleWebKit\/(\d+)/.exec(yI.userAgent)||[0,0])[1]:0,tabSize:null!=yR.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class yZ extends yC{get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,r){return!(8&this.flags)&&(!r||r instanceof yZ&&!(this.length-(e-t)+r.length>256)&&!(8&r.flags))&&(this.text=this.text.slice(0,t)+(r?r.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new yZ(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new yk(this.dom,t)}domBoundsAround(t,e,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,r){let n=t.nodeValue.length;e>n&&(e=n);let i=e,o=e,s=0;0==e&&r<0||e==n&&r>=0?!(yz.chrome||yz.gecko)&&(e?(i--,s=1):o<n&&(o++,s=-1)):r<0?i--:o<n&&o++;let a=yy(t,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:r>=0)?0:a.length-1];return yz.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,t=>t.width)||l),s?yf(l,s<0):l||null}(this.dom,t,e)}constructor(t){super(),this.text=t}}class yF extends yC{setAttrs(t){if(yO(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,r,n,i,o){return(!r||!!(r instanceof yF&&r.mark.eq(this.mark))&&(!t||!(i<=0))&&(!(e<this.length)||!(o<=0)))&&(yP(this,t,e,r?r.children.slice():[],i-1,o-1),this.markDirty(),!0)}split(t){let e=[],r=0,n=-1,i=0;for(let o of this.children){let s=r+o.length;s>t&&e.push(r<t?o.split(t-r):o),n<0&&r>=t&&(n=i),r=s,i++}let o=this.length-t;return this.length=t,n>-1&&(this.children.length=n,this.markDirty()),new yF(this.mark,e,o)}domAtPos(t){return yU(this,t)}coordsAt(t,e){return yW(this,t,e)}constructor(t,e=[],r=0){for(let n of(super(),this.mark=t,this.children=e,this.length=r,e))n.setParent(this)}}class yX extends yC{static create(t,e,r){return new yX(t,e,r)}split(t){let e=yX.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,r,n,i,o){return(!r||r instanceof yX&&!!this.widget.compare(r.widget)&&(!(t>0)||!(i<=0))&&(!(e<this.length)||!(o<=0)))&&(this.length=t+(r?r.length:0)+(this.length-e),!0)}become(t){return t instanceof yX&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return mQ.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,r=e&&e.state.doc,n=this.posAtStart;return r?r.slice(n,n+this.length):mQ.empty}domAtPos(t){return(this.length?0==t:this.side>0)?yk.before(this.dom):yk.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let r=this.widget.coordsAt(this.dom,t,e);if(r)return r;let n=this.dom.getClientRects(),i=null;if(!n.length)return null;let o=this.side?this.side<0:t>0;for(let e=o?n.length-1:0;i=n[e],t>0?0!=e:e!=n.length-1&&!(i.top<i.bottom);e+=o?-1:1);return yf(i,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}constructor(t,e,r){super(),this.widget=t,this.length=e,this.side=r,this.prevWidget=null}}class yV extends yC{get length(){return 0}merge(){return!1}become(t){return t instanceof yV&&t.side==this.side}split(){return new yV(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?yk.before(this.dom):yk.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return mQ.empty}get isHidden(){return!0}constructor(t){super(),this.side=t}}function yU(t,e){let r=t.dom,{children:n}=t,i=0;for(let t=0;i<n.length;i++){let o=n[i],s=t+o.length;if(!(s==t&&0>=o.getSide())){if(e>t&&e<s&&o.dom.parentNode==r)return o.domAtPos(e-t);if(e<=t)break;t=s}}for(let t=i;t>0;t--){let e=n[t-1];if(e.dom.parentNode==r)return e.domAtPos(e.length)}for(let t=i;t<n.length;t++){let e=n[t];if(e.dom.parentNode==r)return e.domAtPos(0)}return new yk(r,0)}function yW(t,e,r){let n=null,i=-1,o=null,s=-1;!function t(e,a){for(let l=0,h=0;l<e.children.length&&h<=a;l++){let c=e.children[l],u=h+c.length;u>=a&&(c.children.length?t(c,a-h):(!o||o.isHidden&&r>0)&&(u>a||h==u&&c.getSide()>0)?(o=c,s=a-h):(h<a||h==u&&0>c.getSide()&&!c.isHidden)&&(n=c,i=a-h)),h=u}}(t,e);let a=(r<0?n:o)||n||o;return a?a.coordsAt(Math.max(0,a==n?i:s),r):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=ya(e);return r[r.length-1]||null}(t)}function yH(t,e){for(let r in t)"class"==r&&e.class?e.class+=" "+t.class:"style"==r&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}yZ.prototype.children=yX.prototype.children=yV.prototype.children=yS;let yY=/*@__PURE__*/Object.create(null);function yG(t,e,r){if(t==e)return!0;t||(t=yY),e||(e=yY);let n=Object.keys(t),i=Object.keys(e);if(n.length-(r&&n.indexOf(r)>-1?1:0)!=i.length-(r&&i.indexOf(r)>-1?1:0))return!1;for(let o of n)if(o!=r&&(-1==i.indexOf(o)||t[o]!==e[o]))return!1;return!0}function yK(t,e,r){let n=!1;if(e)for(let i in e)r&&i in r||(n=!0,"style"==i?t.style.cssText="":t.removeAttribute(i));if(r)for(let i in r)e&&e[i]==r[i]||(n=!0,"style"==i?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return n}class yJ{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return -1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var y0=((QT=y0||(y0={}))[QT.Text=0]="Text",QT[QT.WidgetBefore=1]="WidgetBefore",QT[QT.WidgetAfter=2]="WidgetAfter",QT[QT.WidgetRange=3]="WidgetRange",QT);class y1 extends vq{get heightRelevant(){return!1}static mark(t){return new y2(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),r=!!t.block;return e+=r&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new y4(t,e,e,r,t.widget||null,!1)}static replace(t){let e=!!t.block,r,n;if(t.isBlockGap)r=-5e8,n=4e8;else{let{start:i,end:o}=y5(t,e);r=(i?e?-3e8:-1:5e8)-1,n=(o?e?2e8:1:-6e8)+1}return new y4(t,r,n,e,t.widget||null,!0)}static line(t){return new y3(t)}static set(t,e=!1){return vz.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}constructor(t,e,r,n){super(),this.startSide=t,this.endSide=e,this.widget=r,this.spec=n}}y1.none=vz.empty;class y2 extends y1{eq(t){var e,r;return this==t||t instanceof y2&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(r=t.attrs)||void 0===r?void 0:r.class))&&yG(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw RangeError("Mark decorations may not be empty");return super.range(t,e)}constructor(t){let{start:e,end:r}=y5(t);super(e?-1:5e8,r?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}}y2.prototype.point=!1;class y3 extends y1{eq(t){return t instanceof y3&&this.spec.class==t.spec.class&&yG(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}constructor(t){super(-2e8,-2e8,null,t)}}y3.prototype.mapMode=mJ.TrackBefore,y3.prototype.point=!0;class y4 extends y1{get type(){return this.startSide!=this.endSide?y0.WidgetRange:this.startSide<=0?y0.WidgetBefore:y0.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){var e,r;return t instanceof y4&&((e=this.widget)==(r=t.widget)||!!(e&&r&&e.compare(r)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}constructor(t,e,r,n,i,o){super(e,r,i,t),this.block=n,this.isReplace=o,this.mapMode=n?e<=0?mJ.TrackBefore:mJ.TrackAfter:mJ.TrackDel}}function y5(t,e=!1){let{inclusiveStart:r,inclusiveEnd:n}=t;return null==r&&(r=t.inclusive),null==n&&(n=t.inclusive),{start:null!=r?r:e,end:null!=n?n:e}}function y6(t,e,r,n=0){let i=r.length-1;i>=0&&r[i]+n>=t?r[i]=Math.max(r[i],e):r.push(t,e)}y4.prototype.point=!0;class y8 extends yC{merge(t,e,r,n,i,o){if(r){if(!(r instanceof y8))return!1;this.dom||r.transferDOM(this)}return n&&this.setDeco(r?r.attrs:null),yP(this,t,e,r?r.children.slice():[],i,o),!0}split(t){let e=new y8;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:r,off:n}=this.childPos(t);n&&(e.append(this.children[r].split(n),0),this.children[r].merge(n,this.children[r].length,null,!1,0,0),r++);for(let t=r;t<this.children.length;t++)e.append(this.children[t],0);for(;r>0&&0==this.children[r-1].length;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){yG(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){!function t(e,r,n){let i,{children:o}=e;n>0&&r instanceof yF&&o.length&&(i=o[o.length-1])instanceof yF&&i.mark.eq(r.mark)?t(i,r.children[0],n-1):(o.push(r),r.setParent(e)),e.length+=r.length}(this,t,e)}addLineDeco(t){let e=t.spec.attributes,r=t.spec.class;e&&(this.attrs=yH(e,this.attrs||{})),r&&(this.attrs=yH({class:r},this.attrs||{}))}domAtPos(t){return yU(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var r;this.dom?4&this.flags&&(yO(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(yK(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let n=this.dom.lastChild;for(;n&&yC.get(n)instanceof yF;)n=n.lastChild;if(!n||!this.length||"BR"!=n.nodeName&&(null===(r=yC.get(n))||void 0===r?void 0:r.isEditable)==!1&&(!yz.ios||!this.children.some(t=>t instanceof yZ))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0,e;for(let r of this.children){if(!(r instanceof yZ)||/[^ -~]/.test(r.text))return null;let n=ya(r.dom);if(1!=n.length)return null;t+=n[0].width,e=n[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(t,e){let r=yW(this,t,e);if(!this.children.length&&r&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=r.bottom-r.top;if(2>Math.abs(e-t.lineHeight)&&t.textHeight<e){let n=(e-t.textHeight)/2;return{top:r.top+n,bottom:r.bottom-n,left:r.left,right:r.left}}}return r}become(t){return t instanceof y8&&0==this.children.length&&0==t.children.length&&yG(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let r=0,n=0;r<t.children.length;r++){let i=t.children[r],o=n+i.length;if(o>=e){if(i instanceof y8)return i;if(o>e)break}n=o+i.breakAfter}return null}constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}}class y7 extends yC{merge(t,e,r,n,i,o){return(!r||r instanceof y7&&!!this.widget.compare(r.widget)&&(!(t>0)||!(i<=0))&&(!(e<this.length)||!(o<=0)))&&(this.length=t+(r?r.length:0)+(this.length-e),!0)}domAtPos(t){return 0==t?yk.before(this.dom):yk.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let r=new y7(this.widget,e,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return yS}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):mQ.empty}domBoundsAround(){return null}become(t){return t instanceof y7&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)||(this.widget instanceof y9?null:yf(this.dom.getBoundingClientRect(),this.length?0==t:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:r}=this.deco;return e!=r&&(t<0?e<0:r>0)}constructor(t,e,r){super(),this.widget=t,this.length=e,this.deco=r,this.breakAfter=0,this.prevWidget=null}}class y9 extends yJ{toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}constructor(t){super(),this.height=t}}class bt{posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof y7&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new y8),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(be(new yV(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof y7||this.getLine()}buildText(t,e,r){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:r,done:n}=this.cursor.next(this.skip);if(this.skip=0,n)throw Error("Ran out of text content when drawing inline views");if(r){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-r)),this.getLine().append(be(new yZ(this.text.slice(this.textOff,this.textOff+n)),e),r),this.atCursorPos=!0,this.textOff+=n,t-=n,r=0}}span(t,e,r,n){this.buildText(e-t,r,n),this.pos=e,this.openStart<0&&(this.openStart=n)}point(t,e,r,n,i,o){if(this.disallowBlockEffectsFor[o]&&r instanceof y4){if(r.block)throw RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=e-t;if(r instanceof y4){if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new y7(r.widget||br.block,s,r));else{let o=yX.create(r.widget||br.inline,s,s?0:r.startSide),a=this.atCursorPos&&!o.isEditable&&i<=n.length&&(t<e||r.startSide>0),l=!o.isEditable&&(t<e||i>n.length||r.startSide<=0),h=this.getLine();2!=this.pendingBuffer||a||o.isEditable||(this.pendingBuffer=0),this.flushBuffer(n),a&&(h.append(be(new yV(1),n),i),i=n.length+Math.max(0,i-n.length)),h.append(be(o,n),i),this.atCursorPos=l,this.pendingBuffer=l?t<e||i>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=i)}static build(t,e,r,n,i){let o=new bt(t,e,r,i);return o.openEnd=vz.spans(n,e,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}constructor(t,e,r,n){this.doc=t,this.pos=e,this.end=r,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}}function be(t,e){for(let r of e)t=new yF(r,[t],t.length);return t}class br extends yJ{eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}constructor(t){super(),this.tag=t}}br.inline=/*@__PURE__*/new br("span"),br.block=/*@__PURE__*/new br("div");var bn=((QP=bn||(bn={}))[QP.LTR=0]="LTR",QP[QP.RTL=1]="RTL",QP);let bi=bn.LTR,bo=bn.RTL;function bs(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}let ba=/*@__PURE__*/bs("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),bl=/*@__PURE__*/bs("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),bh=/*@__PURE__*/Object.create(null),bc=[];for(let t of["()","[]","{}"]){let e=/*@__PURE__*/t.charCodeAt(0),r=/*@__PURE__*/t.charCodeAt(1);bh[e]=r,bh[r]=-e}function bu(t){return t<=247?ba[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?bl[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}let bd=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class bf{get dir(){return this.level%2?bo:bi}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,r,n){let i=-1;for(let o=0;o<t.length;o++){let s=t[o];if(s.from<=e&&s.to>=e){if(s.level==r)return o;(i<0||(0!=n?n<0?s.from<e:s.to>e:t[i].level>s.level))&&(i=o)}}if(i<0)throw RangeError("Index out of range");return i}constructor(t,e,r){this.from=t,this.to=e,this.level=r}}let bp=[];function bg(t){return[new bf(0,t,0)]}let bm="",bv=/*@__PURE__*/vr.define(),by=/*@__PURE__*/vr.define(),bb=/*@__PURE__*/vr.define(),bO=/*@__PURE__*/vr.define(),bw=/*@__PURE__*/vr.define(),bx=/*@__PURE__*/vr.define(),b_=/*@__PURE__*/vr.define(),bk=/*@__PURE__*/vr.define(),bS=/*@__PURE__*/vr.define(),bC=/*@__PURE__*/vr.define({combine:t=>t.some(t=>t)}),bA=/*@__PURE__*/vr.define({combine:t=>t.some(t=>t)}),bE=/*@__PURE__*/vr.define();class bT{map(t){return t.empty?this:new bT(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new bT(m9.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}constructor(t,e="nearest",r="nearest",n=5,i=5,o=!1){this.range=t,this.y=e,this.x=r,this.yMargin=n,this.xMargin=i,this.isSnapshot=o}}let bP=/*@__PURE__*/vE.define({map:(t,e)=>t.map(e)}),bI=/*@__PURE__*/vE.define();function bR(t,e,r){let n=t.facet(bO);n.length?n[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}let bM=/*@__PURE__*/vr.define({combine:t=>!t.length||t[0]}),bN=0,bD=/*@__PURE__*/vr.define();class bL{static define(t,e){let{eventHandlers:r,eventObservers:n,provide:i,decorations:o}=e||{};return new bL(bN++,t,r,n,t=>{let e=[bD.of(t)];return o&&e.push(bB.of(e=>{let r=e.plugin(t);return r?o(r):y1.none})),i&&e.push(i(t)),e})}static fromClass(t,e){return bL.define(e=>new t(e),e)}constructor(t,e,r,n,i){this.id=t,this.create=e,this.domEventHandlers=r,this.domEventObservers=n,this.extension=i(this)}}class b${update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(bR(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){bR(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){bR(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}}let bq=/*@__PURE__*/vr.define(),bQ=/*@__PURE__*/vr.define(),bB=/*@__PURE__*/vr.define(),bj=/*@__PURE__*/vr.define(),bz=/*@__PURE__*/vr.define(),bZ=/*@__PURE__*/vr.define();function bF(t,e){let r=t.state.facet(bZ);if(!r.length)return r;let n=r.map(e=>e instanceof Function?e(t):e),i=[];return vz.spans(n,e.from,e.to,{point(){},span(t,r,n,o){let s=t-e.from,a=r-e.from,l=i;for(let t=n.length-1;t>=0;t--,o--){let r=n[t].spec.bidiIsolate,i;if(null==r&&(r=function(t,e,r){for(let n=e;n<r;n++){let e=bu(t.charCodeAt(n));if(1==e)break;if(2==e||4==e)return bo}return bi}(e.text,s,a)),o>0&&l.length&&(i=l[l.length-1]).to==s&&i.direction==r)i.to=a,l=i.inner;else{let t={from:s,to:a,direction:r,inner:[]};l.push(t),l=t.inner}}}}),i}let bX=/*@__PURE__*/vr.define();function bV(t){let e=0,r=0,n=0,i=0;for(let o of t.state.facet(bX)){let s=o(t);s&&(null!=s.left&&(e=Math.max(e,s.left)),null!=s.right&&(r=Math.max(r,s.right)),null!=s.top&&(n=Math.max(n,s.top)),null!=s.bottom&&(i=Math.max(i,s.bottom)))}return{left:e,right:r,top:n,bottom:i}}let bU=/*@__PURE__*/vr.define();class bW{join(t){return new bW(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,r=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>r.toA)){if(n.toA<r.fromA)break;r=r.join(n),t.splice(e-1,1)}}return t.splice(e,0,r),t}static extendWithRanges(t,e){if(0==e.length)return t;let r=[];for(let n=0,i=0,o=0,s=0;;n++){let a=n==t.length?null:t[n],l=o-s,h=a?a.fromB:1e9;for(;i<e.length&&e[i]<h;){let t=e[i],n=e[i+1],o=Math.max(s,t),a=Math.min(h,n);if(o<=a&&new bW(o+l,a+l,o,a).addToSet(r),n>h)break;i+=2}if(!a)return r;new bW(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),o=a.toA,s=a.toB}}constructor(t,e,r,n){this.fromA=t,this.toA=e,this.fromB=r,this.toB=n}}class bH{static create(t,e,r){return new bH(t,e,r)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}constructor(t,e,r){for(let n of(this.view=t,this.state=e,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=m1.empty(this.startState.doc.length),r))this.changes=this.changes.compose(n.changes);let n=[];this.changes.iterChangedRanges((t,e,r,i)=>n.push(new bW(t,e,r,i))),this.changedRanges=n}}class bY extends yC{get length(){return this.view.state.doc.length}update(t){var e,r,n,i,o,s;let a,l;let h=t.changedRanges;this.minWidth>0&&h.length&&(h.every(({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let c=-1;!(this.view.inputState.composing>=0)||this.view.observer.editContext||((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?c=this.domChanged.newSel.head:(r=t.changes,n=this.hasComposition,a=!1,n&&r.iterChangedRanges((t,e)=>{t<n.to&&e>n.from&&(a=!0)}),a||t.selectionSet||(c=t.state.selection.main.head)));let u=c>-1?function(t,e,r){let n=bG(t,r);if(!n)return null;let{node:i,from:o,to:s}=n,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(n.from,n.to)!=a)return null;let l=e.invertedDesc,h=new bW(l.mapPos(o),l.mapPos(s),o,s),c=[];for(let e=i.parentNode;;e=e.parentNode){let r=yC.get(e);if(r instanceof yF)c.push({node:e,deco:r.mark});else{if(r instanceof y8||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:h,text:i,marks:c,line:e};if(e==t.contentDOM)return null;c.push({node:e,deco:new y2({inclusive:!0,attributes:function(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let n=t.attributes[r];e[n.name]=n.value}return e}(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,c):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:r}=this.hasComposition;h=new bW(e,r,t.changes.mapPos(e,-1),t.changes.mapPos(r,1)).addToSet(h.slice())}this.hasComposition=u?{from:u.range.fromB,to:u.range.toB}:null,(yz.ie||yz.chrome)&&!u&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let d=(i=this.decorations,o=this.updateDeco(),s=t.changes,l=new bK,vz.compare(i,o,s,l),l.changes);return h=bW.extendWithRanges(h,d),(!!(7&this.flags)||0!=h.length)&&(this.updateInner(h,t.startState.doc.length,u),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,r);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=yz.chrome||yz.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||n.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(t=>t.flags&=-9);let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof y7&&t.widget instanceof y9&&i.push(t.dom);n.updateGaps(i)}updateChildren(t,e,r){let n=r?r.range.addToSet(t.slice()):t,i=this.childCursor(e);for(let t=n.length-1;;t--){let e=t>=0?n[t]:null;if(!e)break;let{fromA:o,toA:s,fromB:a,toB:l}=e,h,c,u,d;if(r&&r.range.fromB<l&&r.range.toB>a){let t=bt.build(this.view.state.doc,a,r.range.fromB,this.decorations,this.dynamicDecorationMap),e=bt.build(this.view.state.doc,r.range.toB,l,this.decorations,this.dynamicDecorationMap);c=t.breakAtStart,u=t.openStart,d=e.openEnd;let n=this.compositionView(r);e.breakAtStart?n.breakAfter=1:e.content.length&&n.merge(n.length,n.length,e.content[0],!1,e.openStart,0)&&(n.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&n.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),h=t.content.concat(n).concat(e.content)}else({content:h,breakAtStart:c,openStart:u,openEnd:d}=bt.build(this.view.state.doc,a,l,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=i.findPos(s,1),{i:g,off:m}=i.findPos(o,-1);yT(this,g,m,f,p,h,c,u,d)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(t){for(let e of(this.editContextFormatting=this.editContextFormatting.map(t.changes),t.transactions))for(let t of e.effects)t.is(bI)&&(this.editContextFormatting=t.value)}compositionView(t){let e=new yZ(t.text.nodeValue);for(let{deco:r}of(e.flags|=8,t.marks))e=new yF(r,[e],e.length);let r=new y8;return r.append(e,0),r}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some(t=>7&t.flags)?1:0),this.markedForComposition.add(e);let r=yC.get(t);r&&r!=e&&(r.dom=null),e.setDOM(t)},r=this.childPos(t.range.fromB,1),n=this.children[r.i];e(t.line,n);for(let i=t.marks.length-1;i>=-1;i--)r=n.childPos(r.off,1),n=n.children[r.i],e(i>=0?t.marks[i].node:t.text,n)}updateSelection(t=!1,e=!1){var r;(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,o=!i&&!(this.view.state.facet(bM)||this.dom.tabIndex>-1)&&ys(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||e||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),h=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(yz.gecko&&a.empty&&!this.hasComposition&&1==(r=l).node.nodeType&&r.node.firstChild&&(0==r.offset||"false"==r.node.childNodes[r.offset-1].contentEditable)&&(r.offset==r.node.childNodes.length||"false"==r.node.childNodes[r.offset].contentEditable)){let t=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(t,l.node.childNodes[l.offset]||null)),l=h=new yk(t,0),s=!0}let c=this.view.observer.selectionRange;!s&&c.focusNode&&(yl(l.node,l.offset,c.anchorNode,c.anchorOffset)&&yl(h.node,h.offset,c.focusNode,c.focusOffset)||this.suppressWidgetCursorChange(c,a))||(this.view.observer.ignore(()=>{yz.android&&yz.chrome&&this.dom.contains(c.focusNode)&&function(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(1==r.nodeType&&"false"==r.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=yi(this.view.root);if(t){if(a.empty){if(yz.gecko){var e,r;let t=(e=l.node,r=l.offset,1!=e.nodeType?0:(r&&"false"==e.childNodes[r-1].contentEditable?1:0)|(r<e.childNodes.length&&"false"==e.childNodes[r].contentEditable?2:0));if(t&&3!=t){let e=(1==t?yx:y_)(l.node,l.offset);e&&(l=new yk(e.node,e.offset))}}t.collapse(l.node,l.offset),null!=a.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=a.bidiLevel)}else if(t.extend){t.collapse(l.node,l.offset);try{t.extend(h.node,h.offset)}catch(t){}}else{let e=document.createRange();a.anchor>a.head&&([l,h]=[h,l]),e.setEnd(h.node,h.offset),e.setStart(l.node,l.offset),t.removeAllRanges(),t.addRange(e)}}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,h)),this.impreciseAnchor=l.precise?null:new yk(c.anchorNode,c.anchorOffset),this.impreciseHead=h.precise?null:new yk(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&yl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,r=yi(t.root),{anchorNode:n,anchorOffset:i}=t.observer.selectionRange;if(!r||!e.empty||!e.assoc||!r.modify)return;let o=y8.find(this,e.head);if(!o)return;let s=o.posAtStart;if(e.head==s||e.head==s+o.length)return;let a=this.coordsAt(e.head,-1),l=this.coordsAt(e.head,1);if(!a||!l||a.bottom>l.top)return;let h=this.domAtPos(e.head+e.assoc);r.collapse(h.node,h.offset),r.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let c=t.observer.selectionRange;t.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=e.from&&r.collapse(n,i)}moveToLine(t){let e=this.dom,r;if(t.node!=e)return t;for(let n=t.offset;!r&&n<e.childNodes.length;n++){let t=yC.get(e.childNodes[n]);t instanceof y8&&(r=t.domAtPos(0))}for(let n=t.offset-1;!r&&n>=0;n--){let t=yC.get(e.childNodes[n]);t instanceof y8&&(r=t.domAtPos(t.length))}return r?new yk(r.node,r.offset,!0):t}nearest(t){for(let e=t;e;){let t=yC.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let r=this.nearest(t);if(!r)throw RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(t,e)+r.posAtStart}domAtPos(t){let{i:e,off:r}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(r<t.length||t instanceof y8)break;e++,r=0}return this.children[e].domAtPos(r)}coordsAt(t,e){let r=null,n=0;for(let i=this.length,o=this.children.length-1;o>=0;o--){let s=this.children[o],a=i-s.breakAfter,l=a-s.length;if(a<t)break;if(l<=t&&(l<t||s.covers(-1))&&(a>t||s.covers(1))&&(!r||s instanceof y8&&!(r instanceof y8&&e>=0)))r=s,n=l;else if(r&&l==t&&a==t&&s instanceof y7&&2>Math.abs(e)){if(s.deco.startSide<0)break;o&&(r=null)}i=l}return r?r.coordsAt(t-n,e):null}coordsForChar(t){let{i:e,off:r}=this.childPos(t,1),n=this.children[e];if(!(n instanceof y8))return null;for(;n.children.length;){let{i:t,off:e}=n.childPos(r,1);for(;;t++){if(t==n.children.length)return null;if((n=n.children[t]).length)break}r=e}if(!(n instanceof yZ))return null;let i=mW(n.text,r);if(i==r)return null;let o=yy(n.dom,r,i).getClientRects();for(let t=0;t<o.length;t++){let e=o[t];if(t==o.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:r,to:n}=t,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==bn.LTR;for(let t=0,l=0;l<this.children.length;l++){let h=this.children[l],c=t+h.length;if(c>n)break;if(t>=r){let r=h.dom.getBoundingClientRect();if(e.push(r.height),o){let e=h.dom.lastChild,n=e?ya(e):[];if(n.length){let e=n[n.length-1],o=a?e.right-r.left:r.right-e.left;o>s&&(s=o,this.minWidth=i,this.minWidthFrom=t,this.minWidthTo=c)}}}t=c+h.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?bn.RTL:bn.LTR}measureTextSize(){for(let t of this.children)if(t instanceof y8){let e=t.measureTextSize();if(e)return e}let t=document.createElement("div"),e,r,n;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let i=ya(t.firstChild)[0];e=t.getBoundingClientRect().height,r=i?i.width/27:7,n=i?i.height:e,t.remove()}),{lineHeight:e,charWidth:r,textHeight:n}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new yE(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let r=0,n=0;;n++){let i=n==e.viewports.length?null:e.viewports[n],o=i?i.from-1:this.length;if(o>r){let n=(e.lineBlockAt(o).bottom-e.lineBlockAt(r).top)/this.view.scaleY;t.push(y1.replace({widget:new y9(n),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!i)break;r=i.to+1}return y1.set(t)}updateDeco(){let t=1,e=this.view.state.facet(bB).map(e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e),r=!1,n=this.view.state.facet(bj).map((t,e)=>{let n="function"==typeof t;return n&&(r=!0),n?t(this.view):t});for(n.length&&(this.dynamicDecorationMap[t++]=r,e.push(vz.join(n))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=e.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let e of this.view.state.facet(bE))try{if(e(this.view,t.range,t))return!0}catch(t){bR(this.view.state,t,"scroll handler")}let{range:e}=t,r=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),n;if(!r)return;!e.empty&&(n=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(r={left:Math.min(r.left,n.left),top:Math.min(r.top,n.top),right:Math.max(r.right,n.right),bottom:Math.max(r.bottom,n.bottom)});let i=bV(this.view),o={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:s,offsetHeight:a}=this.view.scrollDOM;!function(t,e,r,n,i,o,s,a){let l=t.ownerDocument,h=l.defaultView||window;for(let c=t,u=!1;c&&!u;)if(1==c.nodeType){let t,d=c==l.body,f=1,p=1;if(d)t=function(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(u=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let e=c.getBoundingClientRect();({scaleX:f,scaleY:p}=yp(c,e)),t={left:e.left,right:e.left+c.clientWidth*f,top:e.top,bottom:e.top+c.clientHeight*p}}let g=0,m=0;if("nearest"==i)e.top<t.top?(m=-(t.top-e.top+s),r>0&&e.bottom>t.bottom+m&&(m=e.bottom-t.bottom+m+s)):e.bottom>t.bottom&&(m=e.bottom-t.bottom+s,r<0&&e.top-m<t.top&&(m=-(t.top+m-e.top+s)));else{let n=e.bottom-e.top,o=t.bottom-t.top;m=("center"==i&&n<=o?e.top+n/2-o/2:"start"==i||"center"==i&&r<0?e.top-s:e.bottom-o+s)-t.top}if("nearest"==n?e.left<t.left?(g=-(t.left-e.left+o),r>0&&e.right>t.right+g&&(g=e.right-t.right+g+o)):e.right>t.right&&(g=e.right-t.right+o,r<0&&e.left<t.left+g&&(g=-(t.left+g-e.left+o))):g=("center"==n?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==n==a?e.left-o:e.right-(t.right-t.left)+o)-t.left,g||m){if(d)h.scrollBy(g,m);else{let t=0,r=0;if(m){let t=c.scrollTop;c.scrollTop+=m/p,r=(c.scrollTop-t)*p}if(g){let e=c.scrollLeft;c.scrollLeft+=g/f,t=(c.scrollLeft-e)*f}e={left:e.left-t,top:e.top-r,right:e.right-t,bottom:e.bottom-r},t&&1>Math.abs(t-g)&&(n="nearest"),r&&1>Math.abs(r-m)&&(i="nearest")}}if(d)break;c=c.assignedSlot||c.parentNode}else if(11==c.nodeType)c=c.host;else break}(this.view.scrollDOM,o,e.head<e.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,s),-s),Math.max(Math.min(t.yMargin,a),-a),this.view.textDirection==bn.LTR)}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=y1.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new y8],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new bW(0,0,0,t.state.doc.length)],0,null)}}function bG(t,e){let r=t.observer.selectionRange;if(!r.focusNode)return null;let n=yx(r.focusNode,r.focusOffset),i=y_(r.focusNode,r.focusOffset),o=n||i;if(i&&n&&i.node!=n.node){let e=yC.get(i.node);if(!e||e instanceof yZ&&e.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let t=yC.get(n.node);!t||t instanceof yZ&&t.text!=n.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=n,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}let bK=class{compareRange(t,e){y6(t,e,this.changes)}comparePoint(t,e){y6(t,e,this.changes)}boundChange(t){y6(t,t,this.changes)}constructor(){this.changes=[]}};function bJ(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function b0(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function b1(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function b2(t,e,r){let n=t.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<n;a++){let n=yy(t,a,a+1).getClientRects();for(let l=0;l<n.length;l++){let h=n[l];if(h.top==h.bottom)continue;s||(s=e-h.left);let c=(h.top>r?h.top-r:r-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&c<o){let r=e>=(h.left+h.right)/2,n=r;if((yz.chrome||yz.gecko)&&yy(t,a).getBoundingClientRect().left==h.right&&(n=!r),c<=0)return{node:t,offset:a+(n?1:0)};i=a+(n?1:0),o=c}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function b3(t,e,r,n=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),a=s.top+t.viewState.paddingTop,l,{docHeight:h}=t.viewState,{x:c,y:u}=e,d=u-a;if(d<0)return 0;if(d>h)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,i=!1;(l=t.elementAtHeight(d)).type!=y0.Text;)for(;!((d=n>0?l.bottom+e:l.top-e)>=0)||!(d<=h);){if(i)return r?null:0;i=!0,n=-n}u=a+d;let f=l.from;if(f<t.viewport.from)return 0==t.viewport.from?0:r?null:b4(t,s,l,c,u);if(f>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:b4(t,s,l,c,u);let p=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:p,m=g.elementFromPoint(c,u);m&&!t.contentDOM.contains(m)&&(m=null),!m&&(c=Math.max(s.left+1,Math.min(s.right-1,c)),(m=g.elementFromPoint(c,u))&&!t.contentDOM.contains(m)&&(m=null));let v,y=-1;if(m&&(null===(i=t.docView.nearest(m))||void 0===i?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let t=p.caretPositionFromPoint(c,u);t&&({offsetNode:v,offset:y}=t)}else if(p.caretRangeFromPoint){let e=p.caretRangeFromPoint(c,u);e&&({startContainer:v,startOffset:y}=e,(!t.contentDOM.contains(v)||yz.safari&&function(t,e,r){let n;if(3!=t.nodeType||e!=(n=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return yy(t,n-1,n).getBoundingClientRect().left>r}(v,y,c)||yz.chrome&&function(t,e,r){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}return r-(1==t.nodeType?t.getBoundingClientRect():yy(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect()).left>5}(v,y,c))&&(v=void 0))}v&&(y=Math.min(yd(v),y))}if(!v||!t.docView.dom.contains(v)){let e=y8.find(t.docView,f);if(!e)return d>l.top+l.height/2?l.to:l.from;({node:v,offset:y}=function t(e,r,n){let i,o,s,a,l,h,c,u,d=!1;for(let g=e.firstChild;g;g=g.nextSibling){let e=ya(g);for(let m=0;m<e.length;m++){var f,p;let v=e[m];h&&bJ(h,v)&&(v=b0(b1(v,h.bottom),h.top));let y=(f=v).left>r?f.left-r:Math.max(0,r-f.right),b=(p=v).top>n?p.top-n:Math.max(0,n-p.bottom);if(0==y&&0==b)return 3==g.nodeType?b2(g,r,n):t(g,r,n);if(!l||u>b||u==b&&c>y){l=g,h=v,c=y,u=b;let t=b?n<v.top?-1:1:y?r<v.left?-1:1:0;d=!t||(t>0?m<e.length-1:m>0)}0==y?n>v.bottom&&(!s||s.bottom<v.bottom)?(i=g,s=v):n<v.top&&(!a||a.top>v.top)&&(o=g,a=v):s&&bJ(s,v)?s=b1(s,v.bottom):a&&bJ(a,v)&&(a=b0(a,v.top))}}if(s&&s.bottom>=n?(l=i,h=s):a&&a.top<=n&&(l=o,h=a),!l)return{node:e,offset:0};let g=Math.max(h.left,Math.min(h.right,r));if(3==l.nodeType)return b2(l,g,n);if(d&&"false"!=l.contentEditable)return t(l,g,n);let m=Array.prototype.indexOf.call(e.childNodes,l)+(r>=(h.left+h.right)/2?1:0);return{node:e,offset:m}}(e.dom,c,u))}let b=t.docView.nearest(v);if(!b)return null;if(!b.isWidget||(null===(o=b.dom)||void 0===o?void 0:o.nodeType)!=1)return b.localPosFromDOM(v,y)+b.posAtStart;{let t=b.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?b.posAtStart:b.posAtEnd}}function b4(t,e,r,n,i){let o=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;o+=Math.floor((i-r.top-(t.defaultLineHeight-e)*.5)/e)*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(r.from,r.to);return r.from+v1(s,o,t.state.tabSize)}function b5(t,e){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){for(let t of r.type)if(t.to>e||t.to==e&&(t.to==r.to||t.type==y0.Text))return t}return r}function b6(t,e,r,n){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let a=e,l=null;;){let e=function(t,e,r,n,i){var o;let s=n.head-t.from,a=bf.find(e,s,null!==(o=n.bidiLevel)&&void 0!==o?o:-1,n.assoc),l=e[a],h=l.side(i,r);if(s==h){let t=a+=i?1:-1;if(t<0||t>=e.length)return null;s=(l=e[a=t]).side(!i,r),h=l.side(i,r)}let c=mW(t.text,s,l.forward(i,r));(c<l.from||c>l.to)&&(c=h),bm=t.text.slice(Math.min(s,c),Math.max(s,c));let u=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return u&&c==h&&u.level+(i?0:1)<l.level?m9.cursor(u.side(!i,r)+t.from,u.forward(i,r)?1:-1,u.level):m9.cursor(c+t.from,l.forward(i,r)?-1:1,l.level)}(i,o,s,a,r),h=bm;if(!e){if(i.number==(r?t.state.doc.lines:1))return a;h="\n",i=t.state.doc.line(i.number+(r?1:-1)),o=t.bidiSpans(i),e=t.visualLineSide(i,!r)}if(l){if(!l(h))return a}else{if(!n)return e;l=n(h)}a=e}}function b8(t,e,r){for(;;){let n=0;for(let i of t)i.between(e-1,e+1,(t,i,o)=>{if(e>t&&e<i){let o=n||r||(e-t<i-e?-1:1);e=o<0?t:i,n=o}});if(!n)return e}}function b7(t,e,r){let n=b8(t.state.facet(bz).map(e=>e(t)),r.from,e.head>r.from?-1:1);return n==r.from?r:m9.cursor(n,n<r.from?1:-1)}class b9{append(t){this.text+=t}lineBreak(){this.text+="￿"}readRange(t,e){if(!t)return this;let r=t.parentNode;for(let n=t;;){this.findPointBefore(r,n);let t=this.text.length;this.readNode(n);let i=n.nextSibling;if(i==e)break;let o=yC.get(n),s=yC.get(i);(o&&s?o.breakAfter:(o?o.breakAfter:yc(n))||yc(i)&&("BR"!=n.nodeName||n.cmIgnore)&&this.text.length>t)&&this.lineBreak(),n=i}return this.findPointBefore(r,e),this}readTextNode(t){let e=t.nodeValue;for(let r of this.points)r.node==t&&(r.pos=this.text.length+Math.min(r.offset,e.length));for(let r=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let i=-1,o=1,s;if(this.lineSeparator?(i=e.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(s=n.exec(e))&&(i=s.index,o=s[0].length),this.append(e.slice(r,i<0?e.length:i)),i<0)break;if(this.lineBreak(),o>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=o-1);r=i+o}}readNode(t){if(t.cmIgnore)return;let e=yC.get(t),r=e&&e.overrideDOMText;if(null!=r){this.findPointInside(t,r.length);for(let t=r.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let r of this.points)r.node==t&&t.childNodes[r.offset]==e&&(r.pos=this.text.length)}findPointInside(t,e){for(let r of this.points)(3==t.nodeType?r.node==t:t.contains(r.node))&&(r.pos=this.text.length+(!function(t,e,r){for(;;){if(!e||r<yd(e))return!1;if(e==t)return!0;r=yh(e)+1,e=e.parentNode}}(t,r.node,r.offset)?0:e))}constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(vL.lineSeparator)}}class Ot{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class Oe{constructor(t,e,r,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:i,impreciseAnchor:o}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,r,0))){let e=i||o?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}=t.observer.selectionRange;return r&&(e.push(new Ot(r,n)),(i!=r||o!=n)&&e.push(new Ot(i,o))),e}(t),r=new b9(e,t.state);r.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=r.text,this.newSel=function(t,e){if(0==t.length)return null;let r=t[0].pos,n=2==t.length?t[1].pos:r;return r>-1&&n>-1?m9.single(r+e,n+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,r=i&&i.node==e.focusNode&&i.offset==e.focusOffset||!yo(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),n=o&&o.node==e.anchorNode&&o.offset==e.anchorOffset||!yo(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),s=t.viewport;if((yz.ios||yz.chrome)&&t.state.selection.main.empty&&r!=n&&(s.from>0||s.to<t.state.doc.length)){let e=Math.min(r,n),i=Math.max(r,n),o=s.from-e,a=s.to-i;(0==o||1==o||0==e)&&(0==a||-1==a||i==t.state.doc.length)&&(r=0,n=t.state.doc.length)}this.newSel=m9.single(n,r)}}}function Or(t,e){let r;let{newSel:n}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:n,to:s}=e.bounds,a=i.from,l=null;(8===o||yz.android&&e.text.length<s-n)&&(a=i.to,l="end");let h=function(t,e,r,n){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if("end"==n){let t=Math.max(0,o-Math.min(s,a));r-=s+t-o}if(s<o&&t.length<e.length){let t=r<=o&&r>=s?o-r:0;o-=t,a=o+(a-s),s=o}else if(a<o){let t=r<=o&&r>=a?o-r:0;o-=t,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}(t.state.doc.sliceString(n,s,"￿"),e.text,a-n,l);h&&(yz.chrome&&13==o&&h.toB==h.from+2&&"￿￿"==e.text.slice(h.from,h.toB)&&h.toB--,r={from:n+h.from,to:n+h.toA,insert:mQ.of(e.text.slice(h.from,h.toB).split("￿"))})}else n&&(!t.hasFocus&&t.state.facet(bM)||n.main.eq(i))&&(n=null);if(!r&&!n)return!1;if(!r&&e.typeOver&&!i.empty&&n&&n.main.empty?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(yz.mac||yz.android)&&r&&r.from==r.to&&r.from==i.head-1&&/^\. ?$/.test(r.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(n&&2==r.insert.length&&(n=m9.single(n.main.anchor-1,n.main.head-1)),r={from:r.from,to:r.to,insert:mQ.of([r.insert.toString().replace("."," ")])}):r&&r.from>=i.from&&r.to<=i.to&&(r.from!=i.from||r.to!=i.to)&&i.to-i.from-(r.to-r.from)<=4?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,i.to))}:yz.chrome&&r&&r.from==r.to&&r.from==i.head&&"\n "==r.insert.toString()&&t.lineWrapping&&(n&&(n=m9.single(n.main.anchor-1,n.main.head-1)),r={from:i.from,to:i.to,insert:mQ.of([" "])}),r)return On(t,r,n,o);if(!n||n.main.eq(i))return!1;{let e=!1,r="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),r=t.inputState.lastSelectionOrigin),t.dispatch({selection:n,scrollIntoView:e,userEvent:r}),!0}}function On(t,e,r,n=-1){let i;if(yz.ios&&t.inputState.flushIOSKey(e))return!0;let o=t.state.selection.main;if(yz.android&&(e.to==o.to&&(e.from==o.from||e.from==o.from-1&&" "==t.state.sliceDoc(e.from,o.from))&&1==e.insert.length&&2==e.insert.lines&&yb(t.contentDOM,"Enter",13)||(e.from==o.from-1&&e.to==o.to&&0==e.insert.length||8==n&&e.insert.length<e.to-e.from&&e.to>o.head)&&yb(t.contentDOM,"Backspace",8)||e.from==o.from&&e.to==o.to+1&&0==e.insert.length&&yb(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a=()=>i||(i=function(t,e,r){let n,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let r=o.from<e.from?i.sliceDoc(o.from,e.from):"",s=o.to>e.to?i.sliceDoc(e.to,o.to):"";n=i.replaceSelection(t.state.toText(r+e.insert.sliceString(0,void 0,t.state.lineBreak)+s))}else{let s=i.changes(e),a=r&&r.main.to<=s.newLength?r.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let l=t.state.sliceDoc(e.from,e.to),h,c=r&&bG(t,r.main.head);if(c){let t=e.insert.length-(e.to-e.from);h={from:c.from,to:c.to-t}}else h=t.state.doc.lineAt(o.head);let u=o.to-e.to,d=o.to-o.from;n=i.changeByRange(r=>{if(r.from==o.from&&r.to==o.to)return{changes:s,range:a||r.map(s)};let n=r.to-u,c=n-l.length;if(r.to-r.from!=d||t.state.sliceDoc(c,n)!=l||r.to>=h.from&&r.from<=h.to)return{range:r};let f=i.changes({from:c,to:n,insert:e.insert}),p=r.to-o.to;return{changes:f,range:a?m9.range(Math.max(0,a.anchor+p),Math.max(0,a.head+p)):r.map(f)}})}else n={changes:s,selection:a&&i.selection.replaceRange(a)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:s,scrollIntoView:!0})}(t,e,r));return t.state.facet(bx).some(r=>r(t,e.from,e.to,s,a))||t.dispatch(a()),!0}class Oi{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}handleEvent(t){!(!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,n;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=yC.get(r))&&n.ignoreEvent(e))return!1;return!0}(this.view,t)||this.ignoreDuringComposition(t))&&("keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let r=this.handlers[t];if(r){for(let t of r.observers)t(this.view,e);for(let t of r.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=function(t){let e=Object.create(null);function r(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let n in t.domEventHandlers){let i=t.domEventHandlers[n];i&&r(n).handlers.push(Oo(e.value,i))}if(t&&t.domEventObservers)for(let n in t.domEventObservers){let i=t.domEventObservers[n];i&&r(n).observers.push(Oo(e.value,i))}}for(let t in Ou)r(t).handlers.push(Ou[t]);for(let t in Od)r(t).observers.push(Od[t]);return e}(t),r=this.handlers,n=this.view.contentDOM;for(let t in e)if("scroll"!=t){let i=!e[t].handlers.length,o=r[t];o&&!o.handlers.length!=i&&(n.removeEventListener(t,this.handleEvent),o=null),o||n.addEventListener(t,this.handleEvent,{passive:i})}for(let t in r)"scroll"==t||e[t]||n.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){let e;return this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),!!(9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))||((this.tabFocusMode>0&&27!=t.keyCode&&0>Ol.indexOf(t.keyCode)&&(this.tabFocusMode=-1),yz.android&&yz.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))?(this.view.observer.delayAndroidKey(t.key,t.keyCode),!0):yz.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((e=Os.find(e=>e.keyCode==t.keyCode))&&!t.ctrlKey||Oa.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0):(229!=t.keyCode&&this.view.observer.forceFlush(),!1))}flushIOSKey(t){let e=this.pendingIOSKey;return!(!e||"Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,yb(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(yz.safari&&!yz.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}constructor(t){var e;this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,yz.safari&&t.contentDOM.addEventListener("input",()=>null),yz.gecko&&(e=t.contentDOM.ownerDocument,OT.has(e)||(OT.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{})))}}function Oo(t,e){return(r,n)=>{try{return e.call(t,n,r)}catch(t){bR(r.state,t)}}}let Os=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Oa="dthko",Ol=[16,17,18,20,91,92,224,225];function Oh(t){return .7*Math.max(0,t)+8}class Oc{start(t){!1===this.dragging&&this.select(t)}move(t){var e;if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&10>Math.max(Math.abs((e=this.startEvent).clientX-t.clientX),Math.abs(e.clientY-t.clientY)))return;this.select(this.lastEvent=t);let r=0,n=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=bV(this.view);t.clientX-l.left<=i+6?r=-Oh(i-t.clientX):t.clientX+l.right>=s-6&&(r=Oh(t.clientX-s)),t.clientY-l.top<=o+6?n=-Oh(o-t.clientY):t.clientY+l.bottom>=a-6&&(n=Oh(t.clientY-a)),this.setScrollSpeed(r,n)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let r=0;r<t.ranges.length;r++){let n=t.ranges[r],i=null;if(n.empty){let t=b8(this.atoms,n.from,0);t!=n.from&&(i=m9.cursor(t,-1))}else{let t=b8(this.atoms,n.from,-1),e=b8(this.atoms,n.to,1);(t!=n.from||e!=n.to)&&(i=m9.range(n.from==n.anchor?t:e,n.from==n.head?t:e))}i&&(e||(e=t.ranges.slice()),e[r]=i)}return e?m9.create(e,t.mainIndex):t}select(t){let{view:e}=this,r=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!r.eq(e.state.selection,!1===this.dragging))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}constructor(t,e,r,n){let i;this.view=t,this.startEvent=e,this.style=r,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(t){let e=t.ownerDocument,r,n;for(let i=t.parentNode;i&&i!=e.body&&(!r||!n);)if(1==i.nodeType)!n&&i.scrollHeight>i.clientHeight&&(n=i),!r&&i.scrollWidth>i.clientWidth&&(r=i),i=i.assignedSlot||i.parentNode;else if(11==i.nodeType)i=i.host;else break;return{x:r,y:n}}(t.contentDOM),this.atoms=t.state.facet(bz).map(e=>e(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(vL.allowMultipleSelections)&&((i=t.state.facet(bv)).length?i[0](e):yz.mac?e.metaKey:e.ctrlKey),this.dragging=!!function(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let n=yi(t.root);if(!n||0==n.rangeCount)return!0;let i=n.getRangeAt(0).getClientRects();for(let t=0;t<i.length;t++){let r=i[t];if(r.left<=e.clientX&&r.right>=e.clientX&&r.top<=e.clientY&&r.bottom>=e.clientY)return!0}return!1}(t,e)&&1==O_(e)&&null}}let Ou=/*@__PURE__*/Object.create(null),Od=/*@__PURE__*/Object.create(null),Of=yz.ie&&yz.ie_version<15||yz.ios&&yz.webkit_version<604;function Op(t,e,r){for(let n of t.facet(e))r=n(r,t);return r}function Og(t,e){e=Op(t.state,bk,e);let{state:r}=t,n,i=1,o=r.toText(e),s=o.lines==r.selection.ranges.length;if(null!=OS&&r.selection.ranges.every(t=>t.empty)&&OS==o.toString()){let t=-1;n=r.changeByRange(n=>{let a=r.doc.lineAt(n.from);if(a.from==t)return{range:n};t=a.from;let l=r.toText((s?o.line(i++).text:e)+r.lineBreak);return{changes:{from:a.from,insert:l},range:m9.cursor(n.from+l.length)}})}else n=s?r.changeByRange(t=>{let e=o.line(i++);return{changes:{from:t.from,to:t.to,insert:e.text},range:m9.cursor(t.from+e.length)}}):r.replaceSelection(o);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Om(t,e,r,n){if(1==n)return m9.cursor(e,r);{if(2==n)return function(t,e,r=1){let n=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(0==i.length)return m9.cursor(e);0==o?r=1:o==i.length&&(r=-1);let s=o,a=o;r<0?s=mW(i.text,o,!1):a=mW(i.text,o);let l=n(i.text.slice(s,a));for(;s>0;){let t=mW(i.text,s,!1);if(n(i.text.slice(t,s))!=l)break;s=t}for(;a<i.length;){let t=mW(i.text,a);if(n(i.text.slice(a,t))!=l)break;a=t}return m9.range(s+i.from,a+i.from)}(t.state,e,r);let i=y8.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<t.state.doc.length&&a==o.to&&a++,m9.range(s,a)}}Od.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},Ou.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),Od.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},Od.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},Ou.mousedown=(t,e)=>{let r,n,i;if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let o=null;for(let r of t.state.facet(bb))if(o=r(t,e))break;if(o||0!=e.button||(r=Oy(t,e),n=O_(e),i=t.state.selection,o={update(t){t.docChanged&&(r.pos=t.changes.mapPos(r.pos),i=i.map(t.changes))},get(e,o,s){let a=Oy(t,e),l,h=Om(t,a.pos,a.bias,n);if(r.pos!=a.pos&&!o){let e=Om(t,r.pos,r.bias,n),i=Math.min(e.from,h.from),o=Math.max(e.to,h.to);h=i<h.from?m9.range(i,o):m9.range(o,i)}return o?i.replaceRange(i.main.extend(h.from,h.to)):s&&1==n&&i.ranges.length>1&&(l=function(t,e){for(let r=0;r<t.ranges.length;r++){let{from:n,to:i}=t.ranges[r];if(n<=e&&i>=e)return m9.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}(i,a.pos))?l:s?i.addRange(h):m9.create([h])}}),o){let r=!t.hasFocus;t.inputState.startMouseSelection(new Oc(t,e,o,r)),r&&t.observer.ignore(()=>{yv(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()});let n=t.inputState.mouseSelection;if(n)return n.start(e),!1===n.dragging}return!1};let Ov=(t,e,r)=>e>=r.top&&e<=r.bottom&&t>=r.left&&t<=r.right;function Oy(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:function(t,e,r,n){let i=y8.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(0==o)return 1;if(o==i.length)return -1;let s=i.coordsAt(o,-1);if(s&&Ov(r,n,s))return -1;let a=i.coordsAt(o,1);return a&&Ov(r,n,a)?1:s&&s.bottom>=n?-1:1}(t,r,e.clientX,e.clientY)}}let Ob=yz.ie&&yz.ie_version<=11,OO=null,Ow=0,Ox=0;function O_(t){if(!Ob)return t.detail;let e=OO,r=Ox;return OO=t,Ox=Date.now(),Ow=!e||r>Date.now()-400&&2>Math.abs(e.clientX-t.clientX)&&2>Math.abs(e.clientY-t.clientY)?(Ow+1)%3:1}function Ok(t,e,r,n){let i;if(!(r=Op(t.state,bk,r)))return;let o=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,a=n&&s&&((i=t.state.facet(by)).length?i[0](e):yz.mac?!e.altKey:!e.ctrlKey)?{from:s.from,to:s.to}:null,l={from:o,insert:r},h=t.state.changes(a?[a,l]:l);t.focus(),t.dispatch({changes:h,selection:{anchor:h.mapPos(o,-1),head:h.mapPos(o,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Ou.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let n=t.docView.nearest(e.target);if(n&&n.isWidget){let t=n.posAtStart,e=t+n.length;(t>=r.to||e<=r.from)&&(r=m9.range(t,e))}}let{inputState:n}=t;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",Op(t.state,bS,t.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1},Ou.dragend=t=>(t.inputState.draggedContent=null,!1),Ou.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let n=Array(r.length),i=0,o=()=>{++i==r.length&&Ok(t,e,n.filter(t=>null!=t).join(t.state.lineBreak),!1)};for(let t=0;t<r.length;t++){let e=new FileReader;e.onerror=o,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(n[t]=e.result),o()},e.readAsText(r[t])}return!0}{let r=e.dataTransfer.getData("Text");if(r)return Ok(t,e,r,!0),!0}return!1},Ou.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=Of?null:e.clipboardData;return r?(Og(t,r.getData("text/plain")||r.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),Og(t,r.value)},50)}(t),!1)};let OS=null;Ou.copy=Ou.cut=(t,e)=>{let{text:r,ranges:n,linewise:i}=function(t){let e=[],r=[],n=!1;for(let n of t.selection.ranges)n.empty||(e.push(t.sliceDoc(n.from,n.to)),r.push(n));if(!e.length){let i=-1;for(let{from:n}of t.selection.ranges){let o=t.doc.lineAt(n);o.number>i&&(e.push(o.text),r.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}n=!0}return{text:Op(t,bS,e.join(t.lineBreak)),ranges:r,linewise:n}}(t.state);if(!r&&!i)return!1;OS=i?r:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let o=Of?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",r),!0):(!function(t,e){let r=t.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}(t,r),!1)};let OC=/*@__PURE__*/vS.define();function OA(t,e){let r=[];for(let n of t.facet(b_)){let i=n(t,e);i&&r.push(i)}return r?t.update({effects:r,annotations:OC.of(!0)}):null}function OE(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=OA(t.state,e);r?t.dispatch(r):t.update([])}},10)}Od.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),OE(t)},Od.blur=t=>{t.observer.clearSelectionRange(),OE(t)},Od.compositionstart=Od.compositionupdate=t=>{!t.observer.editContext&&(null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))},Od.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,yz.chrome&&yz.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))},Od.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},Ou.beforeinput=(t,e)=>{var r,n;let i;if("insertReplacementText"==e.inputType&&t.observer.editContext){let n=null===(r=e.dataTransfer)||void 0===r?void 0:r.getData("text/plain"),i=e.getTargetRanges();if(n&&i.length){let e=i[0],r=t.posAtDOM(e.startContainer,e.startOffset),o=t.posAtDOM(e.endContainer,e.endOffset);return On(t,{from:r,to:o,insert:t.state.toText(n)},null),!0}}if(yz.chrome&&yz.android&&(i=Os.find(t=>t.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout(()=>{var r;((null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return yz.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),yz.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout(()=>Od.compositionend(t,e),20),!1};let OT=/*@__PURE__*/new Set,OP=["pre-wrap","normal","pre-line","break-spaces"],OI=!1;class OR{heightForGap(t,e){let r=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((e-t-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return OP.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let r=0;r<t.length;r++){let n=t[r];n<0?r++:this.heightSamples[Math.floor(10*n)]||(e=!0,this.heightSamples[Math.floor(10*n)]=!0)}return e}refresh(t,e,r,n,i,o){let s=OP.indexOf(t)>-1,a=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=e,this.charWidth=r,this.textHeight=n,this.lineLength=i,a){this.heightSamples={};for(let t=0;t<o.length;t++){let e=o[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return a}constructor(t){this.lineWrapping=t,this.doc=mQ.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}}class OM{get more(){return this.index<this.heights.length}constructor(t,e){this.from=t,this.heights=e,this.index=0}}class ON{get type(){return"number"==typeof this._content?y0.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof y4?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new ON(this.from,this.length+t.length,this.top,this.height+t.height,e)}constructor(t,e,r,n,i){this.from=t,this.length=e,this.top=r,this.height=n,this._content=i}}var OD=((QI=OD||(OD={}))[QI.ByPos=0]="ByPos",QI[QI.ByHeight=1]="ByHeight",QI[QI.ByPosNoHeight=2]="ByPosNoHeight",QI);class OL{get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>.001&&(OI=!0),this.height=t)}replace(t,e,r){return OL.of(r)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,r,n){let i=this,o=r.doc;for(let s=n.length-1;s>=0;s--){let{fromA:a,toA:l,fromB:h,toB:c}=n[s],u=i.lineAt(a,OD.ByPosNoHeight,r.setDoc(e),0,0),d=u.to>=l?u:i.lineAt(l,OD.ByPosNoHeight,r,0,0);for(c+=d.to-l,l=d.to;s>0&&u.from<=n[s-1].toA;)a=n[s-1].fromA,h=n[s-1].fromB,s--,a<u.from&&(u=i.lineAt(a,OD.ByPosNoHeight,r,0,0));h+=u.from-a,a=u.from;let f=OZ.build(r.setDoc(o),t,h,c);i=O$(i,i.replace(a,l,f))}return i.updateHeight(r,0)}static empty(){return new OQ(0,0)}static of(t){if(1==t.length)return t[0];let e=0,r=t.length,n=0,i=0;for(;;)if(e==r){if(n>2*i){let i=t[e-1];i.break?t.splice(--e,1,i.left,null,i.right):t.splice(--e,1,i.left,i.right),r+=1+i.break,n-=i.size}else if(i>2*n){let e=t[r];e.break?t.splice(r,1,e.left,null,e.right):t.splice(r,1,e.left,e.right),r+=2+e.break,i-=e.size}else break}else if(n<i){let r=t[e++];r&&(n+=r.size)}else{let e=t[--r];e&&(i+=e.size)}let o=0;return null==t[e-1]?(o=1,e--):null==t[e]&&(o=1,r++),new Oj(OL.of(t.slice(0,e)),o,OL.of(t.slice(r)))}constructor(t,e,r=2){this.length=t,this.height=e,this.flags=r}}function O$(t,e){return t==e?t:(t.constructor!=e.constructor&&(OI=!0),e)}OL.prototype.size=1;class Oq extends OL{blockAt(t,e,r,n){return new ON(n,this.length,r,this.height,this.deco||0)}lineAt(t,e,r,n,i){return this.blockAt(0,r,n,i)}forEachLine(t,e,r,n,i,o){t<=i+this.length&&e>=i&&o(this.blockAt(0,r,n,i))}updateHeight(t,e=0,r=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}constructor(t,e,r){super(t,e),this.deco=r}}class OQ extends Oq{blockAt(t,e,r,n){return new ON(n,this.length,r,this.height,this.breaks)}replace(t,e,r){let n=r[0];return 1==r.length&&(n instanceof OQ||n instanceof OB&&4&n.flags)&&10>Math.abs(this.length-n.length)?(n instanceof OB?n=new OQ(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):OL.of(r)}updateHeight(t,e=0,r=!1,n){return n&&n.from<=e&&n.more?this.setHeight(n.heights[n.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}}class OB extends OL{heightMetrics(t,e){let r=t.doc.lineAt(e).number,n=t.doc.lineAt(e+this.length).number,i=n-r+1,o,s=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*i);o=e/i,this.length>i+1&&(s=(this.height-e)/(this.length-i-1))}else o=this.height/i;return{firstLine:r,lastLine:n,perLine:o,perChar:s}}blockAt(t,e,r,n){let{firstLine:i,lastLine:o,perLine:s,perChar:a}=this.heightMetrics(e,n);if(e.lineWrapping){let i=n+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-r)/this.height))*this.length)),o=e.doc.lineAt(i),l=s+o.length*a,h=Math.max(r,t-l/2);return new ON(o.from,o.length,h,l,0)}{let n=Math.max(0,Math.min(o-i,Math.floor((t-r)/s))),{from:a,length:l}=e.doc.line(i+n);return new ON(a,l,r+s*n,s,0)}}lineAt(t,e,r,n,i){if(e==OD.ByHeight)return this.blockAt(t,r,n,i);if(e==OD.ByPosNoHeight){let{from:e,to:n}=r.doc.lineAt(t);return new ON(e,n-e,0,0,0)}let{firstLine:o,perLine:s,perChar:a}=this.heightMetrics(r,i),l=r.doc.lineAt(t),h=s+l.length*a,c=l.number-o,u=n+s*c+a*(l.from-i-c);return new ON(l.from,l.length,Math.max(n,Math.min(u,n+this.height-h)),h,0)}forEachLine(t,e,r,n,i,o){t=Math.max(t,i),e=Math.min(e,i+this.length);let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,i);for(let h=t,c=n;h<=e;){let e=r.doc.lineAt(h);if(h==t){let r=e.number-s;c+=a*r+l*(t-i-r)}let n=a+l*e.length;o(new ON(e.from,e.length,c,n,0)),c+=n,h=e.to+1}}replace(t,e,r){let n=this.length-e;if(n>0){let t=r[r.length-1];t instanceof OB?r[r.length-1]=new OB(t.length+n):r.push(null,new OB(n-1))}if(t>0){let e=r[0];e instanceof OB?r[0]=new OB(t+e.length):r.unshift(new OB(t-1),null)}return OL.of(r)}decomposeLeft(t,e){e.push(new OB(t-1),null)}decomposeRight(t,e){e.push(null,new OB(this.length-t-1))}updateHeight(t,e=0,r=!1,n){let i=e+this.length;if(n&&n.from<=e+this.length&&n.more){let r=[],o=Math.max(e,n.from),s=-1;for(n.from>e&&r.push(new OB(n.from-e-1).updateHeight(t,e));o<=i&&n.more;){let e=t.doc.lineAt(o).length;r.length&&r.push(null);let i=n.heights[n.index++];-1==s?s=i:Math.abs(i-s)>=.001&&(s=-2);let a=new OQ(e,i);a.outdated=!1,r.push(a),o+=e+1}o<=i&&r.push(null,new OB(i-o).updateHeight(t,o));let a=OL.of(r);return(s<0||Math.abs(a.height-this.height)>=.001||Math.abs(s-this.heightMetrics(t,e).perLine)>=.001)&&(OI=!0),O$(this,a)}return(r||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}constructor(t){super(t,0)}}class Oj extends OL{get break(){return 1&this.flags}blockAt(t,e,r,n){let i=r+this.left.height;return t<i?this.left.blockAt(t,e,r,n):this.right.blockAt(t,e,i,n+this.left.length+this.break)}lineAt(t,e,r,n,i){let o=n+this.left.height,s=i+this.left.length+this.break,a=e==OD.ByHeight?t<o:t<s,l=a?this.left.lineAt(t,e,r,n,i):this.right.lineAt(t,e,r,o,s);if(this.break||(a?l.to<s:l.from>s))return l;let h=e==OD.ByPosNoHeight?OD.ByPosNoHeight:OD.ByPos;return a?l.join(this.right.lineAt(s,h,r,o,s)):this.left.lineAt(s,h,r,n,i).join(l)}forEachLine(t,e,r,n,i,o){let s=n+this.left.height,a=i+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,r,n,i,o),e>=a&&this.right.forEachLine(t,e,r,s,a,o);else{let l=this.lineAt(a,OD.ByPos,r,n,i);t<l.from&&this.left.forEachLine(t,l.from-1,r,n,i,o),l.to>=t&&l.from<=e&&o(l),e>l.to&&this.right.forEachLine(l.to+1,e,r,s,a,o)}}replace(t,e,r){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,r));let i=[];t>0&&this.decomposeLeft(t,i);let o=i.length;for(let t of r)i.push(t);if(t>0&&Oz(i,o-1),e<this.length){let t=i.length;this.decomposeRight(e,i),Oz(i,t)}return OL.of(i)}decomposeLeft(t,e){let r=this.left.length;if(t<=r)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&t>=++r&&e.push(null),t>r&&this.right.decomposeLeft(t-r,e)}decomposeRight(t,e){let r=this.left.length,n=r+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<r&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?OL.of(this.break?[t,null,e]:[t,e]):(this.left=O$(this.left,t),this.right=O$(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,r=!1,n){let{left:i,right:o}=this,s=e+i.length+this.break,a=null;return(n&&n.from<=e+i.length&&n.more?a=i=i.updateHeight(t,e,r,n):i.updateHeight(t,e,r),n&&n.from<=s+o.length&&n.more?a=o=o.updateHeight(t,s,r,n):o.updateHeight(t,s,r),a)?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}constructor(t,e,r){super(t.length+e+r.length,t.height+r.height,e|(t.outdated||r.outdated?2:0)),this.left=t,this.right=r,this.size=t.size+r.size}}function Oz(t,e){let r,n;null==t[e]&&(r=t[e-1])instanceof OB&&(n=t[e+1])instanceof OB&&t.splice(e-1,3,new OB(r.length+1+n.length))}class OZ{get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof OQ?r.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new OQ(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,r){if(t<e||r.heightRelevant){let n=r.widget?r.widget.estimatedHeight:0,i=r.widget?r.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let o=e-t;r.block?this.addBlock(new Oq(o,n,r)):(o||i||n>=5)&&this.addLineDeco(n,i,o)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new OQ(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let r=new OB(e-t);return this.oracle.doc.lineAt(t).to==e&&(r.flags|=4),r}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof OQ)return t;let e=new OQ(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,r){let n=this.ensureLine();n.length+=r,n.collapsed+=r,n.widgetHeight=Math.max(n.widgetHeight,t),n.breaks+=e,this.writtenTo=this.pos=this.pos+r}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof OQ||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new OQ(0,-1));let r=t;for(let t of this.nodes)t instanceof OQ&&t.updateHeight(this.oracle,r),r+=t?t.length:1;return this.nodes}static build(t,e,r,n){let i=new OZ(r,t);return vz.spans(e,r,n,i,0),i.finish(r)}constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}}class OF{compareRange(){}comparePoint(t,e,r,n){(t<e||r&&r.heightRelevant||n&&n.heightRelevant)&&y6(t,e,this.changes,5)}constructor(){this.changes=[]}}class OX{static same(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if(n.from!=i.from||n.to!=i.to||n.size!=i.size)return!1}return!0}draw(t,e){return y1.replace({widget:new OV(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}constructor(t,e,r,n){this.from=t,this.to=e,this.size=r,this.displaySize=n}}class OV extends yJ{eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}constructor(t,e){super(),this.size=t,this.vertical=e}}class OU{updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let r=0;r<=1;r++){let n=r?e.head:e.anchor;if(!t.some(({from:t,to:e})=>n>=t&&n<=e)){let{from:e,to:r}=this.lineBlockAt(n);t.push(new OW(e,r))}}return this.viewports=t.sort((t,e)=>t.from-e.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?OG:new OK(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(OJ(t,this.scaler))})}update(t,e=null){var r,n;let i;this.state=t.state;let o=this.stateDeco;this.stateDeco=this.state.facet(bB).filter(t=>"function"!=typeof t);let s=t.changedRanges,a=bW.extendWithRanges(s,(r=this.stateDeco,n=t?t.changes:m1.empty(this.state.doc.length),i=new OF,vz.compare(o,r,n,i,0),i.changes)),l=this.heightMap.height,h=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);OI=!1,this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=l||OI)&&(t.flags|=2),h?(this.scrollAnchorPos=t.changes.mapPos(h.from,-1),this.scrollAnchorHeight=h.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=a.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<c.from||e.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,e));let u=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,t.flags|=this.updateForViewport(),(u||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(bA)&&(this.mustEnforceCursorAssoc=!0)}measure(t){var e;let r,n,i=t.contentDOM,o=window.getComputedStyle(i),s=this.heightOracle,a=o.whiteSpace;this.defaultTextDirection="rtl"==o.direction?bn.RTL:bn.LTR;let l=this.heightOracle.mustRefreshForWrapping(a),h=i.getBoundingClientRect(),c=l||this.mustMeasureContent||this.contentDOMHeight!=h.height;this.contentDOMHeight=h.height,this.mustMeasureContent=!1;let u=0,d=0;if(h.width&&h.height){let{scaleX:t,scaleY:e}=yp(i,h);(t>.005&&Math.abs(this.scaleX-t)>.005||e>.005&&Math.abs(this.scaleY-e)>.005)&&(this.scaleX=t,this.scaleY=e,u|=16,l=c=!0)}let f=(parseInt(o.paddingTop)||0)*this.scaleY,p=(parseInt(o.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=p)&&(this.paddingTop=f,this.paddingBottom=p,u|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(s.lineWrapping&&(c=!0),this.editorWidth=t.scrollDOM.clientWidth,u|=16);let g=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=yw(t.scrollDOM);let m=(this.printing?function(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}:function(t,e){let r=t.getBoundingClientRect(),n=t.ownerDocument,i=n.defaultView||window,o=Math.max(0,r.left),s=Math.min(i.innerWidth,r.right),a=Math.max(0,r.top),l=Math.min(i.innerHeight,r.bottom);for(let e=t.parentNode;e&&e!=n.body;)if(1==e.nodeType){let r=e,n=window.getComputedStyle(r);if((r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)&&"visible"!=n.overflow){let n=r.getBoundingClientRect();o=Math.max(o,n.left),s=Math.min(s,n.right),a=Math.max(a,n.top),l=Math.min(e==t.parentNode?i.innerHeight:l,n.bottom)}e="absolute"==n.position||"fixed"==n.position?r.offsetParent:r.parentNode}else if(11==e.nodeType)e=e.host;else break;return{left:o-r.left,right:Math.max(o,s)-r.left,top:a-(r.top+e),bottom:Math.max(a,l)-(r.top+e)}})(i,this.paddingTop),v=m.top-this.pixelViewport.top,y=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(c=!0)),!this.inView&&!this.scrollTarget&&(r=(e=t.dom).getBoundingClientRect(),n=e.ownerDocument.defaultView||window,!(r.left<n.innerWidth)||!(r.right>0)||!(r.top<n.innerHeight)||!(r.bottom>0)))return 0;let O=h.width;if((this.contentDOMWidth!=O||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=h.width,this.editorHeight=t.scrollDOM.clientHeight,u|=16),c){let e=t.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(e)&&(l=!0),l||s.lineWrapping&&Math.abs(O-this.contentDOMWidth)>s.charWidth){let{lineHeight:r,charWidth:n,textHeight:i}=t.docView.measureTextSize();(l=r>0&&s.refresh(a,r,n,i,O/n,e))&&(t.docView.minWidth=0,u|=16)}for(let r of(v>0&&y>0?d=Math.max(v,y):v<0&&y<0&&(d=Math.min(v,y)),OI=!1,this.viewports)){let n=r.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(r);this.heightMap=(l?OL.empty().applyChanges(this.stateDeco,mQ.empty,this.heightOracle,[new bW(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(s,0,l,new OM(r.from,n))}OI&&(u|=2)}let w=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return w&&(2&u&&(u|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),u|=this.updateForViewport()),(2&u||w)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,t)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let r=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,i=this.heightOracle,{visibleTop:o,visibleBottom:s}=this,a=new OW(n.lineAt(o-1e3*r,OD.ByHeight,i,0,0).from,n.lineAt(s+(1-r)*1e3,OD.ByHeight,i,0,0).to);if(e){let{head:t}=e.range;if(t<a.from||t>a.to){let r=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=n.lineAt(t,OD.ByPos,i,0,0),s;s="center"==e.y?(o.top+o.bottom)/2-r/2:"start"==e.y||"nearest"==e.y&&t<a.from?o.top:o.bottom-r,a=new OW(n.lineAt(s-500,OD.ByHeight,i,0,0).from,n.lineAt(s+r+500,OD.ByHeight,i,0,0).to)}}return a}mapViewport(t,e){let r=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new OW(this.heightMap.lineAt(r,OD.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,OD.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},r=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,OD.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(e,OD.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==t||n<=o-Math.max(10,Math.min(-r,250)))&&(e==this.state.doc.length||i>=s+Math.max(10,Math.min(r,250)))&&n>o-2e3&&i<s+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let r=[];for(let n of t)e.touchesRange(n.from,n.to)||r.push(new OX(e.mapPos(n.from),e.mapPos(n.to),n.size,n.displaySize));return r}ensureLineGaps(t,e){let r=this.heightOracle.lineWrapping,n=r?1e4:2e3,i=n>>1,o=n<<1;if(this.defaultTextDirection!=bn.LTR&&!r)return[];let s=[],a=(n,o,l,h)=>{if(o-n<i)return;let c=this.state.selection.main,u=[c.from];for(let t of(c.empty||u.push(c.to),u))if(t>n&&t<o){a(n,t-10,l,h),a(t+10,o,l,h);return}let d=function(t,e){for(let r of t)if(e(r))return r}(t,t=>t.from>=l.from&&t.to<=l.to&&Math.abs(t.from-n)<i&&Math.abs(t.to-o)<i&&!u.some(e=>t.from<e&&t.to>e));if(!d){if(o<l.to&&e&&r&&e.visibleRanges.some(t=>t.from<=o&&t.to>=o)){let t=e.moveToLineBoundary(m9.cursor(o),!1,!0).head;t>n&&(o=t)}let t=this.gapSize(l,n,o,h),i=r||t<2e6?t:2e6;d=new OX(n,o,t,i)}s.push(d)},l=e=>{var i,s,l;let h,c,u,d,f;if(e.length<o||e.type!=y0.Text)return;let p=(i=e.from,s=e.to,l=this.stateDeco,u=[],d=i,f=0,vz.spans(l,i,s,{span(){},point(t,e){t>d&&(u.push({from:d,to:t}),f+=t-d),d=e}},20),d<s&&(u.push({from:d,to:s}),f+=s-d),{total:f,ranges:u});if(p.total<o)return;let g=this.scrollTarget?this.scrollTarget.range.head:null;if(r){let t,r,i=n/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=g){let n=OY(p,g),o=((this.visibleBottom-this.visibleTop)/2+i)/e.height;t=n-o,r=n+o}else t=(this.visibleTop-e.top-i)/e.height,r=(this.visibleBottom-e.top+i)/e.height;h=OH(p,t),c=OH(p,r)}else{let r,i,o=p.total*this.heightOracle.charWidth,s=n*this.heightOracle.charWidth,a=0;if(o>2e6)for(let r of t)r.from>=e.from&&r.from<e.to&&r.size!=r.displaySize&&r.from*this.heightOracle.charWidth+a<this.pixelViewport.left&&(a=r.size-r.displaySize);let l=this.pixelViewport.left+a,u=this.pixelViewport.right+a;if(null!=g){let t=OY(p,g),e=((u-l)/2+s)/o;r=t-e,i=t+e}else r=(l-s)/o,i=(u+s)/o;h=OH(p,r),c=OH(p,i)}h>e.from&&a(e.from,h,e,p),c<e.to&&a(c,e.to,e,p)};for(let t of this.viewportLines)Array.isArray(t.type)?t.type.forEach(l):l(t);return s}gapSize(t,e,r,n){let i=OY(n,r)-OY(n,e);return this.heightOracle.lineWrapping?t.height*i:n.total*this.heightOracle.charWidth*i}updateLineGaps(t){OX.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=y1.set(t.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(t){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let r=[];vz.spans(e,this.viewport.from,this.viewport.to,{span(t,e){r.push({from:t,to:e})},point(){}},20);let n=0;if(r.length!=this.visibleRanges.length)n=12;else for(let e=0;e<r.length&&!(8&n);e++){let i=this.visibleRanges[e],o=r[e];i.from==o.from&&i.to==o.to||(n|=4,t&&t.mapPos(i.from,-1)==o.from&&t.mapPos(i.to,1)==o.to||(n|=8))}return this.visibleRanges=r,n}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||OJ(this.heightMap.lineAt(t,OD.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||OJ(this.heightMap.lineAt(this.scaler.fromDOM(t),OD.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return OJ(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=OG,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=bn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(bQ).some(t=>"function"!=typeof t&&"cm-lineWrapping"==t.class);this.heightOracle=new OR(e),this.stateDeco=t.facet(bB).filter(t=>"function"!=typeof t),this.heightMap=OL.empty().applyChanges(this.stateDeco,mQ.empty,this.heightOracle.setDoc(t.doc),[new bW(0,0,0,t.doc.length)]);for(let t=0;t<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());t++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=y1.set(this.lineGaps.map(t=>t.draw(this,!1))),this.computeVisibleRanges()}}class OW{constructor(t,e){this.from=t,this.to=e}}function OH({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let n=Math.floor(t*r);for(let t=0;;t++){let{from:r,to:i}=e[t],o=i-r;if(n<=o)return r+n;n-=o}}function OY(t,e){let r=0;for(let{from:n,to:i}of t.ranges){if(e<=i){r+=e-n;break}r+=i-n}return r/t.total}let OG={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class OK{toDOM(t){for(let e=0,r=0,n=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.top)return n+(t-r)*this.scale;if(t<=i.bottom)return i.domTop+(t-i.top);r=i.bottom,n=i.domBottom}}fromDOM(t){for(let e=0,r=0,n=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.domTop)return r+(t-n)/this.scale;if(t<=i.domBottom)return i.top+(t-i.domTop);r=i.bottom,n=i.domBottom}}eq(t){return t instanceof OK&&this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,r)=>e.from==t.viewports[r].from&&e.to==t.viewports[r].to)}constructor(t,e,r){let n=0,i=0,o=0;for(let s of(this.viewports=r.map(({from:r,to:i})=>{let o=e.lineAt(r,OD.ByPos,t,0,0).top,s=e.lineAt(i,OD.ByPos,t,0,0).bottom;return n+=s-o,{from:r,to:i,top:o,bottom:s,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(e.height-n),this.viewports))s.domTop=o+(s.top-i)*this.scale,o=s.domBottom=s.domTop+(s.bottom-s.top),i=s.bottom}}function OJ(t,e){if(1==e.scale)return t;let r=e.toDOM(t.top),n=e.toDOM(t.bottom);return new ON(t.from,t.length,r,n-r,Array.isArray(t._content)?t._content.map(t=>OJ(t,e)):t._content)}let O0=/*@__PURE__*/vr.define({combine:t=>t.join(" ")}),O1=/*@__PURE__*/vr.define({combine:t=>t.indexOf(!0)>-1}),O2=/*@__PURE__*/v5.newName(),O3=/*@__PURE__*/v5.newName(),O4=/*@__PURE__*/v5.newName(),O5={"&light":"."+O3,"&dark":"."+O4};function O6(t,e,r){return new v5(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,e=>{if("&"==e)return t;if(!r||!r[e])throw RangeError(`Unsupported selector: ${e}`);return r[e]}):t+" "+e})}let O8=/*@__PURE__*/O6("."+O2,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},O5),O7={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},O9=yz.ie&&yz.ie_version<=11;class wt{onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){("change"!=t.type&&t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,r)=>e!=t[r]))){for(let e of(this.gapIntersection.disconnect(),t))this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,n=this.selectionRange;if(r.state.facet(bM)?r.root.activeElement!=this.dom:!ys(this.dom,n))return;let i=n.anchorNode&&r.docView.nearest(n.anchorNode);if(i&&i.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(yz.ie&&yz.ie_version<=11||yz.android&&yz.chrome)&&!r.state.selection.main.empty&&n.focusNode&&yl(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=yi(t.root);if(!e)return!1;let r=yz.safari&&11==t.root.nodeType&&t.root.activeElement==this.dom&&function(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return wr(t,r)}let r=null;function n(t){t.preventDefault(),t.stopImmediatePropagation(),r=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),r?wr(t,r):null}(this.view,e)||e;if(!r||this.selectionRange.eq(r))return!1;let n=ys(this.dom,r);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let r=e.focusNode,n=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=n)return!1;for(n=Math.min(n,yd(r));;)if(n){if(1!=r.nodeType)return!1;let t=r.childNodes[n-1];"false"==t.contentEditable?n--:n=yd(r=t)}else{if(r==t)return!0;n=yh(r),r=r.parentNode}}(this.dom,r)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(r),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let r=this.dom;r;)if(1==r.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==r?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(r),r=r.assignedSlot||r.parentNode;else if(11==r.nodeType)r=r.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,O7),O9&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),O9&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var r;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let t=this.delayedAndroidKey;t&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&yb(this.dom,t.key,t.keyCode))})),this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(r=this.delayedAndroidKey)||void 0===r?void 0:r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,r=-1,n=!1;for(let i of t){let t=this.readMutation(i);t&&(t.typeOver&&(n=!0),-1==e?{from:e,to:r}=t:(e=Math.min(t.from,e),r=Math.max(t.to,r)))}return{from:e,to:r,typeOver:n}}readChange(){let{from:t,to:e,typeOver:r}=this.processRecords(),n=this.selectionChanged&&ys(this.dom,this.selectionRange);if(t<0&&!n)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Oe(this.view,t,e,r);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let r=this.view.state,n=Or(this.view,e);return this.view.state==r&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let r=we(e,t.previousSibling||t.target.previousSibling,-1),n=we(e,t.nextSibling||t.target.nextSibling,1);return{from:r?e.posAfter(r):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(bM)!=t.state.facet(bM)&&(t.view.contentDOM.editContext=t.state.facet(bM)?this.editContext.editContext:null))}destroy(){var t,e,r;for(let n of(this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(r=this.resizeScroll)||void 0===r||r.disconnect(),this.scrollTargets))n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new yg,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let t of e)this.queue.push(t);(yz.ie&&yz.ie_version<=11||yz.ios&&t.composing)&&e.some(t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&!1!==t.constructor.EDIT_CONTEXT&&!(yz.chrome&&yz.chrome_version<126)&&(this.editContext=new wn(t),t.state.facet(bM)&&(t.contentDOM.editContext=this.editContext.editContext)),O9&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}}function we(t,e,r){for(;e;){let n=yC.get(e);if(n&&n.parent==t)return n;let i=e.parentNode;e=i!=t.dom?i:r>0?e.nextSibling:e.previousSibling}return null}function wr(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return yl(s.node,s.offset,i,o)&&([r,n,i,o]=[i,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}}class wn{applyEdits(t){let e=0,r=!1,n=this.pendingContextChange;return t.changes.iterChanges((i,o,s,a,l)=>{if(r)return;let h=l.length-(o-i);if(n&&o>=n.to){if(n.from==i&&n.to==o&&n.insert.eq(l)){n=this.pendingContextChange=null,e+=h,this.to+=h;return}n=null,this.revertPending(t.state)}if(i+=e,(o+=e)<=this.from)this.from+=h,this.to+=h;else if(i<this.to){if(i<this.from||o>this.to||this.to-this.from+l.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(i),this.toContextPos(o),l.toString()),this.to+=h}e+=h}),n&&!r&&this.revertPending(t.state),!r}update(t){let e=this.pendingContextChange;this.composing&&(this.composing.drifted||t.transactions.some(t=>!t.isUserEvent("input.type")&&t.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.reset(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),n=this.toContextPos(e.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=n)&&this.editContext.updateSelection(r,n)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t,e=this.to-this.from){t=Math.min(t,e);let r=this.composing;return r&&r.drifted?r.editorBase+(t-r.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});for(let r in this.handlers.textupdate=e=>{let r=t.state.selection.main,{anchor:n,head:i}=r,o=this.toEditorPos(e.updateRangeStart),s=this.toEditorPos(e.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:e.updateRangeStart,editorBase:o,drifted:!1});let a={from:o,to:s,insert:mQ.of(e.text.split("\n"))};if(a.from==this.from&&n<this.from?a.from=n:a.to==this.to&&n>this.to&&(a.to=n),a.from==a.to&&!a.insert.length){let n=m9.single(this.toEditorPos(e.selectionStart),this.toEditorPos(e.selectionEnd));n.main.eq(r)||t.dispatch({selection:n,userEvent:"select"});return}if((yz.mac||yz.android)&&a.from==i-1&&/^\. ?$/.test(e.text)&&"off"==t.contentDOM.getAttribute("autocorrect")&&(a={from:o,to:s,insert:mQ.of([e.text.replace("."," ")])}),this.pendingContextChange=a,!t.state.readOnly){let r=this.to-this.from+(a.to-a.from+a.insert.length);On(t,a,m9.single(this.toEditorPos(e.selectionStart,r),this.toEditorPos(e.selectionEnd,r)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state))},this.handlers.characterboundsupdate=r=>{let n=[],i=null;for(let e=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);e<o;e++){let r=t.coordsForChar(e);i=r&&new DOMRect(r.left,r.top,r.right-r.left,r.bottom-r.top)||i||new DOMRect,n.push(i)}e.updateCharacterBounds(r.rangeStart,n)},this.handlers.textformatupdate=e=>{let r=[];for(let t of e.getTextFormats()){let e=t.underlineStyle,n=t.underlineThickness;if("None"!=e&&"None"!=n){let i=this.toEditorPos(t.rangeStart),o=this.toEditorPos(t.rangeEnd);if(i<o){let t=`text-decoration: underline ${"Dashed"==e?"dashed ":"Squiggle"==e?"wavy ":""}${"Thin"==n?1:2}px`;r.push(y1.mark({attributes:{style:t}}).range(i,o))}}}t.dispatch({effects:bI.of(y1.set(r))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:e}=this.composing;this.composing=null,e&&this.reset(t.state)}},this.handlers)e.addEventListener(r,this.handlers[r]);this.measureReq={read:t=>{this.editContext.updateControlBounds(t.contentDOM.getBoundingClientRect());let e=yi(t.root);e&&e.rangeCount&&this.editContext.updateSelectionBounds(e.getRangeAt(0).getBoundingClientRect())}}}}class wi{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...t){let e=1==t.length&&t[0]instanceof vT?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,r=!1,n,i=this.state;for(let e of t){if(e.startState!=i)throw RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=e.state}if(this.destroyed){this.viewState.state=i;return}let o=this.hasFocus,s=0,a=null;t.some(t=>t.annotation(OC))?(this.inputState.notifiedFocused=o,s=1):o==this.inputState.notifiedFocused||(this.inputState.notifiedFocused=o,(a=OA(i,o))||(s=1));let l=this.observer.delayedAndroidKey,h=null;if(l?(this.observer.clearDelayedAndroidKey(),((h=this.observer.readChange())&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(h=null)):this.observer.clear(),i.facet(vL.phrases)!=this.state.facet(vL.phrases))return this.setState(i);n=bH.create(this,i,t),n.flags|=s;let c=this.viewState.scrollTarget;try{for(let e of(this.updateState=2,t)){if(c&&(c=c.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;c=new bT(t.empty?t:m9.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(bP)&&(c=t.value.clip(this.state))}this.viewState.update(n,c),this.bidiCache=wa.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),e=this.docView.update(n),this.state.facet(bU)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(t=>t.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(O0)!=n.state.facet(O0)&&(this.viewState.mustMeasureContent=!0),(e||r||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),e&&this.docViewUpdate(),!n.empty)for(let t of this.state.facet(bw))try{t(n)}catch(t){bR(this.state,t,"update listener")}(a||h)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),h&&!Or(this,h)&&l.force&&yb(this.contentDOM,l.key,l.keyCode)})}setState(t){if(0!=this.updateState)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);for(let e of(this.viewState=new OU(t),this.plugins=t.facet(bD).map(t=>new b$(t)),this.pluginMap.clear(),this.plugins))e.update(this);this.docView.destroy(),this.docView=new bY(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(bD),r=t.state.facet(bD);if(e!=r){let n=[];for(let i of r){let r=e.indexOf(i);if(r<0)n.push(new b$(i));else{let e=this.plugins[r];e.mustUpdate=t,n.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(t){bR(this.state,t,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,r=this.scrollDOM,n=r.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:o}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(o<0){if(yw(r))i=-1,o=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(n);i=t.from,o=t.top}}this.updateState=1;let s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&s||([this.measureRequests,a]=[a,this.measureRequests]);let l=a.map(t=>{try{return t.read(this)}catch(t){return bR(this.state,t),ws}}),h=bH.create(this,this.state,[]),c=!1;h.flags|=s,e?e.flags|=s:e=h,this.updateState=2,!h.empty&&(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),(c=this.docView.update(h))&&this.docViewUpdate());for(let t=0;t<a.length;t++)if(l[t]!=ws)try{let e=a[t];e.write&&e.write(l[t],this)}catch(t){bR(this.state,t)}if(c&&this.docView.updateSelection(!0),!h.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}{let t=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-o;if(t>1||t<-1){n+=t,r.scrollTop=n/this.scaleY,o=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(bw))t(e)}get themeClasses(){return O2+" "+(this.state.facet(O1)?O4:O3)+" "+this.state.facet(O0)}updateAttrs(){let t=wl(this,bq,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(bM)?"true":"false",class:"cm-content",style:`${yz.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),wl(this,bQ,e);let r=this.observer.ignore(()=>{let r=yK(this.contentDOM,this.contentAttrs,e),n=yK(this.dom,this.editorAttrs,t);return r||n});return this.editorAttrs=t,this.contentAttrs=e,r}showAnnouncements(t){let e=!0;for(let r of t)for(let t of r.effects)t.is(wi.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value)}mountStyles(){this.styleModules=this.state.facet(bU);let t=this.state.facet(wi.cspNonce);v5.mount(this.root,this.styleModules.concat(O8).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t&&!(this.measureRequests.indexOf(t)>-1)){if(null!=t.key){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(e=>e.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,r){return b7(this,t,b6(this,t,e,r))}moveByGroup(t,e){return b7(this,t,b6(this,t,e,e=>{var r;let n,i;return r=t.head,i=(n=this.state.charCategorizer(r))(e),t=>{let e=n(t);return i==vN.Space&&(i=e),i==e}}))}visualLineSide(t,e){let r=this.bidiSpans(t),n=this.textDirectionAt(t.from),i=r[e?r.length-1:0];return m9.cursor(i.side(e,n)+t.from,i.forward(!e,n)?1:-1)}moveToLineBoundary(t,e,r=!0){return function(t,e,r,n){let i=b5(t,e.head),o=n&&i.type==y0.Text&&(t.lineWrapping||i.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(o){let e=t.dom.getBoundingClientRect(),n=t.textDirectionAt(i.from),s=t.posAtCoords({x:r==(n==bn.LTR)?e.right-1:e.left+1,y:(o.top+o.bottom)/2});if(null!=s)return m9.cursor(s,r?-1:1)}return m9.cursor(r?i.to:i.from,r?-1:1)}(this,t,e,r)}moveVertically(t,e,r){return b7(this,t,function(t,e,r,n){let i=e.head,o=r?1:-1;if(i==(r?t.state.doc.length:0))return m9.cursor(i,e.assoc);let s=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),h=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(h)null==s&&(s=h.left-l.left),a=o<0?h.top:h.bottom;else{let e=t.viewState.lineBlockAt(i);null==s&&(s=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-e.from))),a=(o<0?e.top:e.bottom)+c}let u=l.left+s,d=null!=n?n:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let r=a+(d+e)*o,n=b3(t,{x:u,y:r},!1,o);if(r<l.top||r>l.bottom||(o<0?n<i:n>i)){let e=t.docView.coordsForChar(n),i=!e||r<e.top?-1:1;return m9.cursor(n,i,void 0,s)}}}(this,t,e,r))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),b3(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let r=this.docView.coordsAt(t,e);if(!r||r.left==r.right)return r;let n=this.state.doc.lineAt(t),i=this.bidiSpans(n);return yf(r,i[bf.find(i,t-n.from,-1,e)].dir==bn.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(bC)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>wo)return bg(t.length);let e=this.textDirectionAt(t.from),r;for(let n of this.bidiCache)if(n.from==t.from&&n.dir==e&&(n.fresh||function t(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=r[n];if(i.from!=o.from||i.to!=o.to||i.direction!=o.direction||!t(i.inner,o.inner))return!1}return!0}(n.isolates,r=bF(this,t))))return n.order;r||(r=bF(this,t));let n=function(t,e,r){if(!t)return[new bf(0,0,e==bo?1:0)];if(e==bi&&!r.length&&!bd.test(t))return bg(t.length);if(r.length)for(;t.length>bp.length;)bp[bp.length]=256;let n=[],i=e==bi?0:1;return function t(e,r,n,i,o,s,a){let l=r%2?2:1;(function(t,e,r,n,i){for(let o=0;o<=n.length;o++){let s=o?n[o-1].to:e,a=o<n.length?n[o].from:r,l=o?256:i;for(let e=s,r=l,n=l;e<a;e++){let i=bu(t.charCodeAt(e));512==i?i=r:8==i&&4==n&&(i=16),bp[e]=4==i?2:i,7&i&&(n=i),r=i}for(let t=s,e=l,n=l;t<a;t++){let i=bp[t];if(128==i)t<a-1&&e==bp[t+1]&&24&e?i=bp[t]=e:bp[t]=256;else if(64==i){let i=t+1;for(;i<a&&64==bp[i];)i++;let o=t&&8==e||i<r&&8==bp[i]?1==n?1:8:256;for(let e=t;e<i;e++)bp[e]=o;t=i-1}else 8==i&&1==n&&(bp[t]=1);e=i,7&i&&(n=i)}}})(e,o,s,i,l),function(t,e,r,n,i){let o=1==i?2:1;for(let s=0,a=0,l=0;s<=n.length;s++){let h=s?n[s-1].to:e,c=s<n.length?n[s].from:r;for(let e=h,r,n,s;e<c;e++)if(n=bh[r=t.charCodeAt(e)]){if(n<0){for(let t=a-3;t>=0;t-=3)if(bc[t+1]==-n){let r=bc[t+2],n=2&r?i:4&r?1&r?o:i:0;n&&(bp[e]=bp[bc[t]]=n),a=t;break}}else if(189==bc.length)break;else bc[a++]=e,bc[a++]=r,bc[a++]=l}else if(2==(s=bp[e])||1==s){let t=s==i;l=t?0:1;for(let e=a-3;e>=0;e-=3){let r=bc[e+2];if(2&r)break;if(t)bc[e+2]|=2;else{if(4&r)break;bc[e+2]|=4}}}}}(e,o,s,i,l),function(t,e,r,n){for(let i=0,o=n;i<=r.length;i++){let s=i?r[i-1].to:t,a=i<r.length?r[i].from:e;for(let l=s;l<a;){let s=bp[l];if(256==s){let s=l+1;for(;;)if(s==a){if(i==r.length)break;s=r[i++].to,a=i<r.length?r[i].from:e}else if(256==bp[s])s++;else break;let h=1==o,c=h==((s<e?bp[s]:n)==1)?h?1:2:n;for(let e=s,n=i,o=n?r[n-1].to:t;e>l;)e==o&&(e=r[--n].from,o=n?r[n-1].to:t),bp[--e]=c;l=s}else o=s,l++}}}(o,s,i,l),function e(r,n,i,o,s,a,l){let h=o%2?2:1;if(o%2==s%2)for(let c=n,u=0;c<i;){let n=!0,d=!1;if(u==a.length||c<a[u].from){let t=bp[c];t!=h&&(n=!1,d=16==t)}let f=n||1!=h?null:[],p=n?o:o+1,g=c;i:for(;;)if(u<a.length&&g==a[u].from){if(d)break;let e=a[u];if(!n)for(let t=e.to,r=u+1;;){if(t==i)break i;if(r<a.length&&a[r].from==t)t=a[r++].to;else if(bp[t]==h)break i;else break}u++,f?f.push(e):(e.from>c&&l.push(new bf(c,e.from,p)),t(r,e.direction==bi!=!(p%2)?o+1:o,s,e.inner,e.from,e.to,l),c=e.to),g=e.to}else if(g==i||(n?bp[g]!=h:bp[g]==h))break;else g++;f?e(r,c,g,o+1,s,f,l):c<g&&l.push(new bf(c,g,p)),c=g}else for(let c=i,u=a.length;c>n;){let i=!0,d=!1;if(!u||c>a[u-1].to){let t=bp[c-1];t!=h&&(i=!1,d=16==t)}let f=i||1!=h?null:[],p=i?o:o+1,g=c;i:for(;;)if(u&&g==a[u-1].to){if(d)break;let e=a[--u];if(!i)for(let t=e.from,r=u;;){if(t==n)break i;if(r&&a[r-1].to==t)t=a[--r].from;else if(bp[t-1]==h)break i;else break}f?f.push(e):(e.to<c&&l.push(new bf(e.to,c,p)),t(r,e.direction==bi!=!(p%2)?o+1:o,s,e.inner,e.from,e.to,l),c=e.from),g=e.from}else if(g==n||(i?bp[g-1]!=h:bp[g-1]==h))break;else g--;f?e(r,g,c,o+1,s,f,l):g<c&&l.push(new bf(g,c,p)),c=g}}(e,o,s,r,n,i,a)}(t,i,i,r,0,t.length,n),n}(t.text,e,r);return this.bidiCache.push(new wa(t.from,t.to,e,r,!0,n)),n}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||yz.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{yv(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of(this.root.activeElement==this.contentDOM&&this.contentDOM.blur(),this.plugins))t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return bP.of(new bT("number"==typeof t?m9.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,r=this.viewState.scrollAnchorAt(t);return bP.of(new bT(m9.cursor(r.from),"start","start",r.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return bL.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return bL.define(()=>({}),{eventObservers:t})}static theme(t,e){let r=v5.newName(),n=[O0.of(r),bU.of(O6(`.${r}`,t))];return e&&e.dark&&n.push(O1.of(!0)),n}static baseTheme(t){return vu.lowest(bU.of(O6("."+O2,t,O5)))}static findFromDOM(t){var e;let r=t.querySelector(".cm-content"),n=r&&yC.get(r)||yC.get(t);return(null===(e=null==n?void 0:n.rootView)||void 0===e?void 0:e.view)||null}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:r}=t;for(let e of(this.dispatchTransactions=t.dispatchTransactions||r&&(t=>t.forEach(t=>r(t,this)))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new OU(t.state||vL.create(t)),t.scrollTo&&t.scrollTo.is(bP)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(bD).map(t=>new b$(t)),this.plugins))e.update(this);this.observer=new wt(this),this.inputState=new Oi(this),this.inputState.ensureHandlers(this.plugins),this.docView=new bY(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(e=document.fonts)||void 0===e?void 0:e.ready)&&document.fonts.ready.then(()=>this.requestMeasure())}}wi.styleModule=bU,wi.inputHandler=bx,wi.clipboardInputFilter=bk,wi.clipboardOutputFilter=bS,wi.scrollHandler=bE,wi.focusChangeEffect=b_,wi.perLineTextDirection=bC,wi.exceptionSink=bO,wi.updateListener=bw,wi.editable=bM,wi.mouseSelectionStyle=bb,wi.dragMovesSelection=by,wi.clickAddsSelectionRange=bv,wi.decorations=bB,wi.outerDecorations=bj,wi.atomicRanges=bz,wi.bidiIsolatedRanges=bZ,wi.scrollMargins=bX,wi.darkTheme=O1,wi.cspNonce=/*@__PURE__*/vr.define({combine:t=>t.length?t[0]:""}),wi.contentAttributes=bQ,wi.editorAttributes=bq,wi.lineWrapping=/*@__PURE__*/wi.contentAttributes.of({class:"cm-lineWrapping"}),wi.announce=/*@__PURE__*/vE.define();let wo=4096,ws={};class wa{static update(t,e){if(e.empty&&!t.some(t=>t.fresh))return t;let r=[],n=t.length?t[t.length-1].dir:bn.LTR;for(let i=Math.max(0,t.length-10);i<t.length;i++){let o=t[i];o.dir!=n||e.touchesRange(o.from,o.to)||r.push(new wa(e.mapPos(o.from,1),e.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}constructor(t,e,r,n,i,o){this.from=t,this.to=e,this.dir=r,this.isolates=n,this.fresh=i,this.order=o}}function wl(t,e,r){for(let n=t.state.facet(e),i=n.length-1;i>=0;i--){let e=n[i],o="function"==typeof e?e(t):e;o&&yH(o,r)}return r}let wh=yz.mac?"mac":yz.windows?"win":yz.linux?"linux":"key";function wc(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==r&&e.shiftKey&&(t="Shift-"+t),t}let wu=/*@__PURE__*/vu.default(/*@__PURE__*/wi.domEventHandlers({keydown:(t,e)=>wv(wp(e.state),t,e,"editor")})),wd=/*@__PURE__*/vr.define({enables:wu}),wf=/*@__PURE__*/new WeakMap;function wp(t){let e=t.facet(wd),r=wf.get(e);return r||wf.set(e,r=function(t,e=wh){let r=Object.create(null),n=Object.create(null),i=(t,e)=>{let r=n[t];if(null==r)n[t]=e;else if(r!=e)throw Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},o=(t,n,o,s,a)=>{var l,h;let c=r[t]||(r[t]=Object.create(null)),u=n.split(/ (?!$)/).map(t=>(function(t,e){let r,n,i,o;let s=t.split(/-(?!$)/),a=s[s.length-1];"Space"==a&&(a=" ");for(let t=0;t<s.length-1;++t){let a=s[t];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))"mac"==e?o=!0:n=!0;else throw Error("Unrecognized modifier name: "+a)}return r&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),i&&(a="Shift-"+a),a})(t,e));for(let e=1;e<u.length;e++){let r=u.slice(0,e).join(" ");i(r,!0),c[r]||(c[r]={preventDefault:!0,stopPropagation:!1,run:[e=>{let n=wg={view:e,prefix:r,scope:t};return setTimeout(()=>{wg==n&&(wg=null)},4e3),!0}]})}let d=u.join(" ");i(d,!1);let f=c[d]||(c[d]={preventDefault:!1,stopPropagation:!1,run:(null===(h=null===(l=c._any)||void 0===l?void 0:l.run)||void 0===h?void 0:h.slice())||[]});o&&f.run.push(o),s&&(f.preventDefault=!0),a&&(f.stopPropagation=!0)};for(let n of t){let t=n.scope?n.scope.split(" "):["editor"];if(n.any)for(let e of t){let t=r[e]||(r[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:i}=n;for(let e in t)t[e].run.push(t=>i(t,wm))}let i=n[e]||n.key;if(i)for(let e of t)o(e,i,n.run,n.preventDefault,n.stopPropagation),n.shift&&o(e,"Shift-"+i,n.shift,n.preventDefault,n.stopPropagation)}return r}(e.reduce((t,e)=>t.concat(e),[]))),r}let wg=null,wm=null;function wv(t,e,r,n){var i;wm=e;let o=("Esc"==(i=!(yt&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||ye&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?v9:v7)[e.keyCode]||e.key||"Unidentified")&&(i="Escape"),"Del"==i&&(i="Delete"),"Left"==i&&(i="ArrowLeft"),"Up"==i&&(i="ArrowUp"),"Right"==i&&(i="ArrowRight"),"Down"==i&&(i="ArrowDown"),i),s=mG(mH(o,0))==o.length&&" "!=o,a="",l=!1,h=!1,c=!1;wg&&wg.view==r&&wg.scope==n&&(a=wg.prefix+" ",0>Ol.indexOf(e.keyCode)&&(h=!0,wg=null));let u=new Set,d=t=>{if(t){for(let e of t.run)if(!u.has(e)&&(u.add(e),e(r)))return t.stopPropagation&&(c=!0),!0;t.preventDefault&&(t.stopPropagation&&(c=!0),h=!0)}return!1},f=t[n],p,g;return f&&(d(f[a+wc(o,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(yz.windows&&e.ctrlKey&&e.altKey)&&(p=v7[e.keyCode])&&p!=o?d(f[a+wc(p,e,!0)])?l=!0:e.shiftKey&&(g=v9[e.keyCode])!=o&&g!=p&&d(f[a+wc(g,e,!1)])&&(l=!0):s&&e.shiftKey&&d(f[a+wc(o,e,!0)])&&(l=!0),!l&&d(f._any)&&(l=!0)),h&&(l=!0),l&&c&&e.stopPropagation(),wm=null,l}class wy{draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,r){if(!r.empty)return function(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let n=Math.max(r.from,t.viewport.from),i=Math.min(r.to,t.viewport.to),o=t.textDirection==bn.LTR,s=t.contentDOM,a=s.getBoundingClientRect(),l=wb(t),h=s.querySelector(".cm-line"),c=h&&window.getComputedStyle(h),u=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),d=a.right-(c?parseInt(c.paddingRight):0),f=b5(t,n),p=b5(t,i),g=f.type==y0.Text?f:null,m=p.type==y0.Text?p:null;if(g&&(t.lineWrapping||f.widgetLineBreaks)&&(g=wO(t,n,1,g)),m&&(t.lineWrapping||p.widgetLineBreaks)&&(m=wO(t,i,-1,m)),g&&m&&g.from==m.from&&g.to==m.to)return y(b(r.from,r.to,g));{let e=g?b(r.from,null,g):O(f,!1),n=m?b(null,r.to,m):O(p,!0),i=[];return(g||f).to<(m||p).from-(g&&m?1:0)||f.widgetLineBreaks>1&&e.bottom+t.defaultLineHeight/2<n.top?i.push(v(u,e.bottom,d,n.top)):e.bottom<n.top&&t.elementAtHeight((e.bottom+n.top)/2).type==y0.Text&&(e.bottom=n.top=(e.bottom+n.top)/2),y(e).concat(i).concat(y(n))}function v(t,r,n,i){return new wy(e,t-l.left,r-l.top,n-t,i-r)}function y({top:t,bottom:e,horizontal:r}){let n=[];for(let i=0;i<r.length;i+=2)n.push(v(r[i],t,r[i+1],e));return n}function b(e,r,n){let i=1e9,s=-1e9,a=[];function l(e,r,l,h,c){let f=t.coordsAtPos(e,e==n.to?-2:2),p=t.coordsAtPos(l,l==n.from?2:-2);f&&p&&(i=Math.min(f.top,p.top,i),s=Math.max(f.bottom,p.bottom,s),c==bn.LTR?a.push(o&&r?u:f.left,o&&h?d:p.right):a.push(!o&&h?u:p.left,!o&&r?d:f.right))}let h=null!=e?e:n.from,c=null!=r?r:n.to;for(let n of t.visibleRanges)if(n.to>h&&n.from<c)for(let i=Math.max(n.from,h),o=Math.min(n.to,c);;){let n=t.state.doc.lineAt(i);for(let s of t.bidiSpans(n)){let t=s.from+n.from,a=s.to+n.from;if(t>=o)break;a>i&&l(Math.max(t,i),null==e&&t<=h,Math.min(a,o),null==r&&a>=c,s.dir)}if((i=n.to+1)>=o)break}return 0==a.length&&l(h,null==e,c,null==r,t.textDirection),{top:i,bottom:s,horizontal:a}}function O(t,e){let r=a.top+(e?t.top:t.bottom);return{top:r,bottom:r,horizontal:[]}}}(t,e,r);{let n=t.coordsAtPos(r.head,r.assoc||1);if(!n)return[];let i=wb(t);return[new wy(e,n.left-i.left,n.top-i.top,null,n.bottom-n.top)]}}constructor(t,e,r,n,i){this.className=t,this.left=e,this.top=r,this.width=n,this.height=i}}function wb(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==bn.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function wO(t,e,r,n){let i=t.coordsAtPos(e,2*r);if(!i)return n;let o=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=t.posAtCoords({x:o.left+1,y:s}),l=t.posAtCoords({x:o.right-1,y:s});return null==a||null==l?n:{from:Math.max(n.from,Math.min(a,l)),to:Math.min(n.to,Math.max(a,l))}}class ww{update(t){t.startState.facet(wx)!=t.state.facet(wx)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){!1!==this.layer.updateOnDocViewUpdate&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,r=t.facet(wx);for(;e<r.length&&r[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;(t!=this.scaleX||e!=this.scaleY)&&(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((t,e)=>{var r;return r=this.drawn[e],!(t.constructor==r.constructor&&t.eq(r))})){let e=this.dom.firstChild,r=0;for(let n of t)n.update&&e&&n.constructor&&this.drawn[r].constructor&&n.update(e,this.drawn[r])?(e=e.nextSibling,r++):this.dom.insertBefore(n.draw(),e);for(;e;){let t=e.nextSibling;e.remove(),e=t}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}}let wx=/*@__PURE__*/vr.define();function w_(t){return[bL.define(e=>new ww(e,t)),wx.of(t)]}let wk=!(yz.ios&&yz.webkit&&yz.webkit_version<534),wS=/*@__PURE__*/vr.define({combine:t=>v$(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function wC(t){return t.startState.facet(wS)!=t.state.facet(wS)}let wA=/*@__PURE__*/w_({above:!0,markers(t){let{state:e}=t,r=e.facet(wS),n=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||wk:r.drawRangeCursor){let e=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",r=i.empty?i:m9.cursor(i.head,i.head>i.anchor?-1:1);for(let i of wy.forRange(t,e,r))n.push(i)}}return n},update(t,e){t.transactions.some(t=>t.selection)&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let r=wC(t);return r&&wE(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){wE(e.state,t)},class:"cm-cursorLayer"});function wE(t,e){e.style.animationDuration=t.facet(wS).cursorBlinkRate+"ms"}let wT=/*@__PURE__*/w_({above:!1,markers:t=>t.state.selection.ranges.map(e=>e.empty?[]:wy.forRange(t,"cm-selectionBackground",e)).reduce((t,e)=>t.concat(e)),update:(t,e)=>t.docChanged||t.selectionSet||t.viewportChanged||wC(t),class:"cm-selectionLayer"}),wP={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};wk&&(wP[".cm-line"].caretColor=wP[".cm-content"].caretColor="transparent !important");let wI=/*@__PURE__*/vu.highest(/*@__PURE__*/wi.theme(wP)),wR=/*@__PURE__*/vE.define({map:(t,e)=>null==t?null:e.mapPos(t)}),wM=/*@__PURE__*/vl.define({create:()=>null,update:(t,e)=>(null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce((t,e)=>e.is(wR)?e.value:t,t))}),wN=/*@__PURE__*/bL.fromClass(class{update(t){var e;let r=t.state.field(wM);null==r?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(wM)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(wM),r=null!=e&&t.coordsAtPos(e);if(!r)return null;let n=t.scrollDOM.getBoundingClientRect();return{left:r.left-n.left+t.scrollDOM.scrollLeft*t.scaleX,top:r.top-n.top+t.scrollDOM.scrollTop*t.scaleY,height:r.bottom-r.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/r+"px",this.cursor.style.height=t.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(wM)!=t&&this.view.dispatch({effects:wR.of(t)})}constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function wD(t,e,r,n,i){e.lastIndex=0;for(let o=t.iterRange(r,n),s=r,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}class wL{createDeco(t){let e=new vZ,r=e.add.bind(e);for(let{from:e,to:n}of function(t,e){let r=t.visibleRanges;if(1==r.length&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let n=[];for(let{from:i,to:o}of r)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=o:n.push({from:i,to:o});return n}(t,this.maxLength))wD(t.state.doc,this.regexp,e,n,(e,n)=>this.addMatch(n,t,e,r));return e.finish()}updateDeco(t,e){let r=1e9,n=-1;return(t.docChanged&&t.changes.iterChanges((e,i,o,s)=>{s>=t.view.viewport.from&&o<=t.view.viewport.to&&(r=Math.min(o,r),n=Math.max(s,n))}),t.viewportMoved||n-r>1e3)?this.createDeco(t.view):n>-1?this.updateRange(t.view,e.map(t.changes),r,n):e}updateRange(t,e,r,n){for(let i of t.visibleRanges){let o=Math.max(i.from,r),s=Math.min(i.to,n);if(s>o){let r=t.state.doc.lineAt(o),n=r.to<s?t.state.doc.lineAt(s):r,a=Math.max(i.from,r.from),l=Math.min(i.to,n.to);if(this.boundary){for(;o>r.from;o--)if(this.boundary.test(r.text[o-1-r.from])){a=o;break}for(;s<n.to;s++)if(this.boundary.test(n.text[s-n.from])){l=s;break}}let h=[],c,u=(t,e,r)=>h.push(r.range(t,e));if(r==n)for(this.regexp.lastIndex=a-r.from;(c=this.regexp.exec(r.text))&&c.index<l-r.from;)this.addMatch(c,t,c.index+r.from,u);else wD(t.state.doc,this.regexp,a,l,(e,r)=>this.addMatch(r,t,e,u));e=e.update({filterFrom:a,filterTo:l,filter:(t,e)=>t<a||e>l,add:h})}}return e}constructor(t){let{regexp:e,decoration:r,decorate:n,boundary:i,maxLength:o=1e3}=t;if(!e.global)throw RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,n)this.addMatch=(t,e,r,i)=>n(i,r,r+t[0].length,t,e);else if("function"==typeof r)this.addMatch=(t,e,n,i)=>{let o=r(t,e,n);o&&i(n,n+t[0].length,o)};else if(r)this.addMatch=(t,e,n,i)=>i(n,n+t[0].length,r);else throw RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=i,this.maxLength=o}}let w$=null!=/x/.unicode?"gu":"g",wq=/*@__PURE__*/RegExp("[\0-\b\n-\x1f-­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]",w$),wQ={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},wB=null,wj=/*@__PURE__*/vr.define({combine(t){let e=v$(t,{render:null,specialChars:wq,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==wB&&"undefined"!=typeof document&&document.body){let e=document.body.style;wB=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)!=null}return wB||!1}())&&(e.specialChars=RegExp("	|"+e.specialChars.source,w$)),e.addSpecialChars&&(e.specialChars=RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,w$)),e}}),wz=null;class wZ extends yJ{eq(t){return t.code==this.code}toDOM(t){var e;let r=(e=this.code)>=32?"•":10==e?"␤":String.fromCharCode(9216+e),n=t.state.phrase("Control character")+" "+(wQ[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,r);if(i)return i;let o=document.createElement("span");return o.textContent=r,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}constructor(t,e){super(),this.options=t,this.code=e}}class wF extends yJ{eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}constructor(t){super(),this.width=t}}let wX=/*@__PURE__*/y1.line({class:"cm-activeLine"}),wV=/*@__PURE__*/bL.fromClass(class{update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let n of t.state.selection.ranges){let i=t.lineBlockAt(n.head);i.from>e&&(r.push(wX.range(i.from)),e=i.from)}return y1.set(r)}constructor(t){this.decorations=this.getDeco(t)}},{decorations:t=>t.decorations});function wU(t,e){var r;let n,i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),o=t.state.doc.lineAt(i),s=i-o.from,a=s>2e3?-1:s==o.length?(r=e.clientX,(n=t.coordsAtPos(t.viewport.from))?Math.round(Math.abs((n.left-r)/t.defaultCharacterWidth)):-1):v0(o.text,t.state.tabSize,i-o.from);return{line:o.number,col:a,off:s}}let wW={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},wH={style:"cursor: crosshair"},wY="-10000px";class wG{update(t,e){var r;let n=t.state.facet(this.facet),i=n.filter(t=>t);if(n===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let o=[],s=e?[]:null;for(let r=0;r<i.length;r++){let n=i[r],a=-1;if(n){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==n.create&&(a=t)}if(a<0)o[r]=this.createTooltipView(n,r?o[r-1]:null),s&&(s[r]=!!n.above);else{let n=o[r]=this.tooltipViews[a];s&&(s[r]=e[a]),n.update&&n.update(t)}}}for(let t of this.tooltipViews)0>o.indexOf(t)&&(this.removeTooltipView(t),null===(r=t.destroy)||void 0===r||r.call(t));return e&&(s.forEach((t,r)=>e[r]=t),e.length=s.length),this.input=n,this.tooltips=i,this.tooltipViews=o,!0}constructor(t,e,r,n){this.facet=e,this.createTooltipView=r,this.removeTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter(t=>t);let i=null;this.tooltipViews=this.tooltips.map(t=>i=r(t,i))}}function wK(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}let wJ=/*@__PURE__*/vr.define({combine:t=>{var e,r,n;return{position:yz.ios?"absolute":(null===(e=t.find(t=>t.position))||void 0===e?void 0:e.position)||"fixed",parent:(null===(r=t.find(t=>t.parent))||void 0===r?void 0:r.parent)||null,tooltipSpace:(null===(n=t.find(t=>t.tooltipSpace))||void 0===n?void 0:n.tooltipSpace)||wK}}}),w0=/*@__PURE__*/new WeakMap,w1=/*@__PURE__*/bL.fromClass(class{createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver)for(let t of(this.intersectionObserver.disconnect(),this.manager.tooltipViews))this.intersectionObserver.observe(t.dom)}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,n=t.state.facet(wJ);if(n.position!=this.position&&!this.madeAbsolute){for(let t of(this.position=n.position,this.manager.tooltipViews))t.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){for(let t of(this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer(),this.manager.tooltipViews))this.container.appendChild(t.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t,e){let r=t.create(this.view),n=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),t.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",r.dom.appendChild(t)}return r.dom.style.position=this.position,r.dom.style.top=wY,r.dom.style.left="0px",this.container.insertBefore(r.dom,n),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var t,e,r;for(let e of(this.view.win.removeEventListener("resize",this.measureSoon),this.manager.tooltipViews))e.dom.remove(),null===(t=e.destroy)||void 0===t||t.call(e);this.parent&&this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(r=this.intersectionObserver)||void 0===r||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:t}=this.manager.tooltipViews[0];if(yz.gecko)r=t.offsetParent!=this.container.ownerDocument.body;else if(t.style.top==wY&&"0px"==t.style.left){let e=t.getBoundingClientRect();r=Math.abs(e.top+1e4)>1||Math.abs(e.left)>1}}if(r||"absolute"==this.position){if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(t=r.width/this.parent.offsetWidth,e=r.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState)}let n=this.view.scrollDOM.getBoundingClientRect(),i=bV(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((t,e)=>{let r=this.manager.tooltipViews[e];return r.getCoords?r.getCoords(t.pos):this.view.coordsAtPos(t.pos)}),size:this.manager.tooltipViews.map(({dom:t})=>t.getBoundingClientRect()),space:this.view.state.facet(wJ).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute)for(let t of(this.madeAbsolute=!0,this.position="absolute",this.manager.tooltipViews))t.dom.style.position="absolute";let{visible:r,space:n,scaleX:i,scaleY:o}=t,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],h=this.manager.tooltipViews[a],{dom:c}=h,u=t.pos[a],d=t.size[a];if(!u||!1!==l.clip&&(u.bottom<=Math.max(r.top,n.top)||u.top>=Math.min(r.bottom,n.bottom)||u.right<Math.max(r.left,n.left)-.1||u.left>Math.min(r.right,n.right)+.1)){c.style.top=wY;continue}let f=l.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,g=d.right-d.left,m=null!==(e=w0.get(h))&&void 0!==e?e:d.bottom-d.top,v=h.offset||w4,y=this.view.textDirection==bn.LTR,b=d.width>n.right-n.left?y?n.left:n.right-d.width:y?Math.max(n.left,Math.min(u.left-(f?14:0)+v.x,n.right-g)):Math.min(Math.max(n.left,u.left-g+(f?14:0)-v.x),n.right-g),O=this.above[a];!l.strictSide&&(O?u.top-m-p-v.y<n.top:u.bottom+m+p+v.y>n.bottom)&&O==n.bottom-u.bottom>u.top-n.top&&(O=this.above[a]=!O);let w=(O?u.top-n.top:n.bottom-u.bottom)-p;if(w<m&&!1!==h.resize){if(w<this.view.defaultLineHeight){c.style.top=wY;continue}w0.set(h,m),c.style.height=(m=w)/o+"px"}else c.style.height&&(c.style.height="");let x=O?u.top-m-p-v.y:u.bottom+p+v.y,k=b+g;if(!0!==h.overlap)for(let t of s)t.left<k&&t.right>b&&t.top<x+m&&t.bottom>x&&(x=O?t.top-m-2-p:t.bottom+p+2);if("absolute"==this.position?(c.style.top=(x-t.parent.top)/o+"px",w2(c,(b-t.parent.left)/i)):(c.style.top=x/o+"px",w2(c,b/i)),f){let t=u.left+(y?v.x:-v.x)-(b+14-7);f.style.left=t/i+"px"}!0!==h.overlap&&s.push({left:b,top:x,right:k,bottom:x+m}),c.classList.toggle("cm-tooltip-above",O),c.classList.toggle("cm-tooltip-below",!O),h.positioned&&h.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=wY}constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(wJ);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new wG(t,w5,(t,e)=>this.createTooltip(t,e),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}},{eventObservers:{scroll(){this.maybeMeasure()}}});function w2(t,e){let r=parseInt(t.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(t.style.left=e+"px")}let w3=/*@__PURE__*/wi.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),w4={x:0,y:0},w5=/*@__PURE__*/vr.define({enables:[w1,w3]}),w6=/*@__PURE__*/vr.define({combine:t=>t.reduce((t,e)=>t.concat(e),[])});class w8{static create(t){return new w8(t)}createHostedView(t,e){let r=t.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let r of this.manager.tooltipViews){let n=r[t];if(void 0!==n){if(void 0===e)e=n;else if(e!==n)return}}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new wG(t,w6,(t,e)=>this.createHostedView(t,e),t=>t.dom.remove())}}let w7=/*@__PURE__*/w5.compute([w6],t=>{let e=t.facet(w6);return 0===e.length?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var e;return null!==(e=t.end)&&void 0!==e?e:t.pos})),create:w8.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class w9{update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,r=t.docView.nearest(e.target);if(!r)return;let n,i=1;if(r instanceof yX)n=r.posAtStart;else{if(null==(n=t.posAtCoords(e)))return;let r=t.coordsAtPos(n);if(!r||e.y<r.top||e.y>r.bottom||e.x<r.left-t.defaultCharacterWidth||e.x>r.right+t.defaultCharacterWidth)return;let o=t.bidiSpans(t.state.doc.lineAt(n)).find(t=>t.from<=n&&t.to>=n),s=o&&o.dir==bn.RTL?-1:1;i=e.x<r.left?-s:s}let o=this.source(t,n,i);if(null==o?void 0:o.then){let e=this.pending={pos:n};o.then(r=>{this.pending==e&&(this.pending=null,r&&!(Array.isArray(r)&&!r.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(r)?r:[r])}))},e=>bR(t.state,e,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let t=this.view.plugin(w1),e=t?t.manager.tooltips.findIndex(t=>t.create==w8.create):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,r;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:i}=this;if(n.length&&i&&!function(t,e){let{left:r,right:n,top:i,bottom:o}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let t=s.getBoundingClientRect();i=Math.min(t.top,i),o=Math.max(t.bottom,o)}return e.clientX>=r-4&&e.clientX<=n+4&&e.clientY>=i-4&&e.clientY<=o+4}(i.dom,t)||this.pending){let{pos:i}=n[0]||this.pending,o=null!==(r=null===(e=n[0])||void 0===e?void 0:e.end)&&void 0!==r?r:i;(i==o?this.view.posAtCoords(this.lastMove)!=i:!function(t,e,r,n,i,o){let s=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>n||s.right<n||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=t.posAtCoords({x:n,y:i},!1);return l>=e&&l<=r}(this.view,i,o,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=r=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}constructor(t,e,r,n,i){this.view=t,this.source=e,this.field=r,this.setHover=n,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}}function xt(t,e){let r=t.plugin(w1);if(!r)return null;let n=r.manager.tooltips.indexOf(e);return n<0?null:r.manager.tooltipViews[n]}let xe=/*@__PURE__*/vE.define(),xr=/*@__PURE__*/vr.define({combine(t){let e,r;for(let n of t)e=e||n.topContainer,r=r||n.bottomContainer;return{topContainer:e,bottomContainer:r}}});function xn(t,e){let r=t.plugin(xi),n=r?r.specs.indexOf(e):-1;return n>-1?r.panels[n]:null}let xi=/*@__PURE__*/bL.fromClass(class{update(t){let e=t.state.facet(xr);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new xo(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new xo(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(xa);if(r!=this.input){let e=r.filter(t=>t),n=[],i=[],o=[],s=[];for(let r of e){let e=this.specs.indexOf(r),a;e<0?(a=r(t.view),s.push(a)):(a=this.panels[e]).update&&a.update(t),n.push(a),(a.top?i:o).push(a)}for(let t of(this.specs=e,this.panels=n,this.top.sync(i),this.bottom.sync(o),s))t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}constructor(t){this.input=t.state.facet(xa),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(e=>e(t));let e=t.state.facet(xr);for(let r of(this.top=new xo(t,!0,e.topContainer),this.bottom=new xo(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top)),this.panels))r.dom.classList.add("cm-panel"),r.mount&&r.mount()}},{provide:t=>wi.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class xo{sync(t){for(let e of this.panels)e.destroy&&0>t.indexOf(e)&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=xs(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=xs(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}constructor(t,e,r){this.view=t,this.top=e,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}}function xs(t){let e=t.nextSibling;return t.remove(),e}let xa=/*@__PURE__*/vr.define({enables:xi});class xl extends vq{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}xl.prototype.elementClass="",xl.prototype.toDOM=void 0,xl.prototype.mapMode=mJ.TrackBefore,xl.prototype.startSide=xl.prototype.endSide=-1,xl.prototype.point=!0;let xh=/*@__PURE__*/vr.define(),xc=/*@__PURE__*/vr.define(),xu={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>vz.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},xd=/*@__PURE__*/vr.define(),xf=/*@__PURE__*/vr.define({combine:t=>t.some(t=>t)});function xp(t){let e=[xg];return t&&!1===t.fixed&&e.push(xf.of(!0)),e}let xg=/*@__PURE__*/bL.fromClass(class{update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,n=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(n<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(xf)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=vz.iter(this.view.state.facet(xh),this.view.viewport.from),n=[],i=this.gutters.map(t=>new xy(t,this.view.viewport,-this.view.documentPadding.top));for(let t of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(t.type)){let e=!0;for(let o of t.type)if(o.type==y0.Text&&e){for(let t of(xv(r,n,o.from),i))t.line(this.view,o,n);e=!1}else if(o.widget)for(let t of i)t.widget(this.view,o)}else if(t.type==y0.Text)for(let e of(xv(r,n,t.from),i))e.line(this.view,t,n);else if(t.widget)for(let e of i)e.widget(this.view,t);for(let t of i)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(xd),r=t.state.facet(xd),n=t.docChanged||t.heightChanged||t.viewportChanged||!vz.eq(t.startState.facet(xh),t.state.facet(xh),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let e of this.gutters)e.update(t)&&(n=!0);else{n=!0;let i=[];for(let n of r){let r=e.indexOf(n);r<0?i.push(new xb(this.view,n)):(this.gutters[r].update(t),i.push(this.gutters[r]))}for(let t of this.gutters)t.dom.remove(),0>i.indexOf(t)&&t.destroy();for(let t of i)this.dom.appendChild(t.dom);this.gutters=i}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}constructor(t){for(let e of(this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(xd).map(e=>new xb(t,e)),this.gutters))this.dom.appendChild(e.dom);this.fixed=!t.state.facet(xf),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}},{provide:t=>wi.scrollMargins.of(e=>{let r=e.plugin(t);return r&&0!=r.gutters.length&&r.fixed?e.textDirection==bn.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}:null})});function xm(t){return Array.isArray(t)?t:[t]}function xv(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class xy{addElement(t,e,r){let{gutter:n}=this,i=(e.top-this.height)/t.scaleY,o=e.height/t.scaleY;if(this.i==n.elements.length){let e=new xO(t,o,i,r);n.elements.push(e),n.dom.appendChild(e.dom)}else n.elements[this.i].update(t,o,i,r);this.height=e.bottom,this.i++}line(t,e,r){let n=[];xv(this.cursor,n,e.from),r.length&&(n=n.concat(r));let i=this.gutter.config.lineMarker(t,e,n);i&&n.unshift(i);let o=this.gutter;(0!=n.length||o.config.renderEmptyElements)&&this.addElement(t,e,n)}widget(t,e){let r=this.gutter.config.widgetMarker(t,e.widget,e),n=r?[r]:null;for(let r of t.state.facet(xc)){let i=r(t,e.widget,e);i&&(n||(n=[])).push(i)}n&&this.addElement(t,e,n)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}constructor(t,e,r){this.gutter=t,this.height=r,this.i=0,this.cursor=vz.iter(t.markers,e.from)}}class xb{update(t){let e=this.markers;if(this.markers=xm(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let r=t.view.viewport;return!vz.eq(this.markers,e,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}constructor(t,e){for(let r in this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:""),e.domEventHandlers)this.dom.addEventListener(r,n=>{let i=n.target,o;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let t=i.getBoundingClientRect();o=(t.top+t.bottom)/2}else o=n.clientY;let s=t.lineBlockAtHeight(o-t.documentTop);e.domEventHandlers[r](t,s,n)&&n.preventDefault()});this.markers=xm(e.markers(t)),e.initialSpacer&&(this.spacer=new xO(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}}class xO{update(t,e,r,n){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),!function(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}(this.markers,n)&&this.setMarkers(t,n)}setMarkers(t,e){let r="cm-gutterElement",n=this.dom.firstChild;for(let i=0,o=0;;){let s=o,a=i<e.length?e[i++]:null,l=!1;if(a){let t=a.elementClass;t&&(r+=" "+t);for(let t=o;t<this.markers.length;t++)if(this.markers[t].compare(a)){s=t,l=!0;break}}else s=this.markers.length;for(;o<s;){let t=this.markers[o++];if(t.toDOM){t.destroy(n);let e=n.nextSibling;n.remove(),n=e}}if(!a)break;a.toDOM&&(l?n=n.nextSibling:this.dom.insertBefore(a.toDOM(t),n)),l&&o++}this.dom.className=r,this.markers=e}destroy(){this.setMarkers(null,[])}constructor(t,e,r,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,r,n)}}let xw=/*@__PURE__*/vr.define(),xx=/*@__PURE__*/vr.define(),x_=/*@__PURE__*/vr.define({combine:t=>v$(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let r=Object.assign({},t);for(let t in e){let n=r[t],i=e[t];r[t]=n?(t,e,r)=>n(t,e,r)||i(t,e,r):i}return r}})});class xk extends xl{eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}constructor(t){super(),this.number=t}}function xS(t,e){return t.state.facet(x_).formatNumber(e,t.state)}let xC=/*@__PURE__*/xd.compute([x_],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(xw),lineMarker:(t,e,r)=>r.some(t=>t.toDOM)?null:new xk(xS(t,t.state.doc.lineAt(e.from).number)),widgetMarker:(t,e,r)=>{for(let n of t.state.facet(xx)){let i=n(t,e,r);if(i)return i}return null},lineMarkerChange:t=>t.startState.facet(x_)!=t.state.facet(x_),initialSpacer:t=>new xk(xS(t,xA(t.state.doc.lines))),updateSpacer(t,e){let r=xS(e.view,xA(e.view.state.doc.lines));return r==t.number?t:new xk(r)},domEventHandlers:t.facet(x_).domEventHandlers}));function xA(t){let e=9;for(;e<t;)e=10*e+9;return e}let xE=/*@__PURE__*/new class extends xl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},xT=/*@__PURE__*/xh.compute(["selection"],t=>{let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.head).from;i>r&&(r=i,e.push(xE.range(i)))}return vz.of(e)}),xP=0;class xI{constructor(t,e){this.from=t,this.to=e}}class xR{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=xD.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=xP++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}xR.closedBy=new xR({deserialize:t=>t.split(" ")}),xR.openedBy=new xR({deserialize:t=>t.split(" ")}),xR.group=new xR({deserialize:t=>t.split(" ")}),xR.isolate=new xR({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),xR.contextHash=new xR({perNode:!0}),xR.lookAhead=new xR({perNode:!0}),xR.mounted=new xR({perNode:!0});class xM{static get(t){return t&&t.props&&t.props[xR.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let xN=Object.create(null);class xD{static define(t){let e=t.props&&t.props.length?Object.create(null):xN,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new xD(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(xR.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(xR.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}xD.none=new xD("",Object.create(null),0,8);class xL{extend(...t){let e=[];for(let r of this.types){let n=null;for(let e of t){let t=e(r);t&&(n||(n=Object.assign({},r.props)),n[t[0].id]=t[1])}e.push(n?new xD(r.name,n,r.id,r.flags):r)}return new xL(e)}constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw RangeError("Node type ids should correspond to array positions when creating a node set")}}let x$=new WeakMap,xq=new WeakMap;(QR=Bg||(Bg={}))[QR.ExcludeBuffers=1]="ExcludeBuffers",QR[QR.IncludeAnonymous=2]="IncludeAnonymous",QR[QR.IgnoreMounts=4]="IgnoreMounts",QR[QR.IgnoreOverlays=8]="IgnoreOverlays";class xQ{toString(){let t=xM.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new xK(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new xK(x$.get(this)||this.topNode);return n.moveTo(t,e),x$.set(this,n._tree),n}get topNode(){return new xX(this,0,0,null)}resolve(t,e=0){let r=xZ(x$.get(this)||this.topNode,t,e,!1);return x$.set(this,r),r}resolveInner(t,e=0){let r=xZ(xq.get(this)||this.topNode,t,e,!0);return xq.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof xX?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=xM.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new xX(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(xZ(s,e,r,!1))}}return i?xY(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&Bg.IncludeAnonymous)>0;for(let t=this.cursor(o|Bg.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:x2(xD.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new xQ(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new xQ(xD.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new xB(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[xR.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[xR.lookAhead,i];s=s?[t].concat(s):[t]}return new xQ(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new xj(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new xj(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof xQ){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(xR.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=x2(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new xQ(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}xQ.empty=new xQ(xD.none,[],[],0);class xB{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new xB(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class xj{get type(){return xD.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!xz(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new xj(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function xz(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function xZ(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof xX&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:Bg.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof xX&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class xF{cursor(t=0){return new xK(this,t)}getChild(t,e=null,r=null){let n=xV(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return xV(this,t,e,r)}resolve(t,e=0){return xZ(this,t,e,!1)}resolveInner(t,e=0){return xZ(this,t,e,!0)}matchContext(t){return xU(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class xX extends xF{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(xz(n,r,h,h+l.length)){if(l instanceof xj){if(i&Bg.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new xH(new xW(o,l,t,h),null,s)}else if(i&Bg.IncludeAnonymous||!l.type.isAnonymous||xJ(l)){let s;if(!(i&Bg.IgnoreMounts)&&(s=xM.get(l))&&!s.overlay)return new xX(s.tree,h,t,o);let a=new xX(l,h,t,o);return i&Bg.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&Bg.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&Bg.IgnoreOverlays)&&(n=xM.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new xX(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function xV(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function xU(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class xW{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class xH extends xF{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new xH(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&Bg.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new xH(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new xH(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new xH(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new xQ(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function xY(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof xX&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new xG(i,r)}class xG{get next(){return xY(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class xK{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof xX?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&Bg.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Bg.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Bg.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&Bg.IncludeAnonymous||t instanceof xj||!t.type.isAnonymous||xJ(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new xH(this.buffer,e,this.stack[t]);return this.bufferNode=new xH(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return xU(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return xU(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof xX)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function xJ(t){return t.children.some(t=>t instanceof xj||!t.type.isAnonymous||xJ(t))}let x0=new WeakMap;function x1(t,e){if(!t.isAnonymous||e instanceof xj||e.type!=t)return 1;let r=x0.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof xQ)){r=1;break}r+=x1(t,n)}x0.set(e,r)}return r}function x2(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=x1(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=x1(t,r[h]);for(h++;h<s;h++){let e=x1(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(x2(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}class x3{get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],r=!1){let n=[new x3(0,t.length,t,0,!1,r)];for(let r of e)r.to>t.length&&n.push(r);return n}static applyChanges(t,e,r=128){if(!e.length)return t;let n=[],i=1,o=t.length?t[0]:null;for(let s=0,a=0,l=0;;s++){let h=s<e.length?e[s]:null,c=h?h.fromA:1e9;if(c-a>=r)for(;o&&o.from<c;){let e=o;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,r=Math.min(e.to,c)-l;e=t>=r?null:new x3(t,r,e.tree,e.offset+l,s>0,!!h)}if(e&&n.push(e),o.to>c)break;o=i<t.length?t[i++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return n}constructor(t,e,r,n,i=!1,o=!1){this.from=t,this.to=e,this.tree=r,this.offset=n,this.open=(i?1:0)|(o?2:0)}}class x4{startParse(t,e,r){return"string"==typeof t&&(t=new x5(t)),r=r?r.length?r.map(t=>new xI(t.from,t.to)):[new xI(0,0)]:[new xI(0,t.length)],this.createParse(t,e||[],r)}parse(t,e,r){let n=this.startParse(t,e,r);for(;;){let t=n.advance();if(t)return t}}}class x5{get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}constructor(t){this.string=t}}new xR({perNode:!0});let x6=0;class x8{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=_t.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=x6++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}x8.closedBy=new x8({deserialize:t=>t.split(" ")}),x8.openedBy=new x8({deserialize:t=>t.split(" ")}),x8.group=new x8({deserialize:t=>t.split(" ")}),x8.isolate=new x8({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),x8.contextHash=new x8({perNode:!0}),x8.lookAhead=new x8({perNode:!0}),x8.mounted=new x8({perNode:!0});class x7{static get(t){return t&&t.props&&t.props[x8.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let x9=Object.create(null);class _t{static define(t){let e=t.props&&t.props.length?Object.create(null):x9,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new _t(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(x8.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(x8.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}_t.none=new _t("",Object.create(null),0,8);let _e=new WeakMap,_r=new WeakMap;(QM=Bm||(Bm={}))[QM.ExcludeBuffers=1]="ExcludeBuffers",QM[QM.IncludeAnonymous=2]="IncludeAnonymous",QM[QM.IgnoreMounts=4]="IgnoreMounts",QM[QM.IgnoreOverlays=8]="IgnoreOverlays";class _n{toString(){let t=x7.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new _m(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new _m(_e.get(this)||this.topNode);return n.moveTo(t,e),_e.set(this,n._tree),n}get topNode(){return new _h(this,0,0,null)}resolve(t,e=0){let r=_a(_e.get(this)||this.topNode,t,e,!1);return _e.set(this,r),r}resolveInner(t,e=0){let r=_a(_r.get(this)||this.topNode,t,e,!0);return _r.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof _h?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=x7.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new _h(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(_a(s,e,r,!1))}}return i?_p(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&Bm.IncludeAnonymous)>0;for(let t=this.cursor(o|Bm.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:_O(_t.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new _n(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new _n(_t.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new _i(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[x8.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[x8.lookAhead,i];s=s?[t].concat(s):[t]}return new _n(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new _o(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new _o(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof _n){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(x8.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=_O(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new _n(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}_n.empty=new _n(_t.none,[],[],0);class _i{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new _i(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class _o{get type(){return _t.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!_s(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new _o(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function _s(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function _a(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof _h&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:Bm.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof _h&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class _l{cursor(t=0){return new _m(this,t)}getChild(t,e=null,r=null){let n=_c(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return _c(this,t,e,r)}resolve(t,e=0){return _a(this,t,e,!1)}resolveInner(t,e=0){return _a(this,t,e,!0)}matchContext(t){return _u(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class _h extends _l{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(_s(n,r,h,h+l.length)){if(l instanceof _o){if(i&Bm.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new _f(new _d(o,l,t,h),null,s)}else if(i&Bm.IncludeAnonymous||!l.type.isAnonymous||_v(l)){let s;if(!(i&Bm.IgnoreMounts)&&(s=x7.get(l))&&!s.overlay)return new _h(s.tree,h,t,o);let a=new _h(l,h,t,o);return i&Bm.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&Bm.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&Bm.IgnoreOverlays)&&(n=x7.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new _h(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function _c(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function _u(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class _d{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class _f extends _l{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new _f(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&Bm.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new _f(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new _f(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new _f(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new _n(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function _p(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof _h&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new _g(i,r)}class _g{get next(){return _p(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class _m{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof _h?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&Bm.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Bm.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Bm.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&Bm.IncludeAnonymous||t instanceof _o||!t.type.isAnonymous||_v(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new _f(this.buffer,e,this.stack[t]);return this.bufferNode=new _f(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return _u(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return _u(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof _h)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function _v(t){return t.children.some(t=>t instanceof _o||!t.type.isAnonymous||_v(t))}let _y=new WeakMap;function _b(t,e){if(!t.isAnonymous||e instanceof _o||e.type!=t)return 1;let r=_y.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof _n)){r=1;break}r+=_b(t,n)}_y.set(e,r)}return r}function _O(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=_b(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=_b(t,r[h]);for(h++;h<s;h++){let e=_b(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(_O(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}new x8({perNode:!0});let _w=0;class _x{toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){if(t instanceof _x&&(e=t),null==e?void 0:e.base)throw Error("Can not derive from a modified tag");let r=new _x("string"==typeof t?t:"?",[],null,[]);if(r.set.push(r),e)for(let t of e.set)r.set.push(t);return r}static defineModifier(t){let e=new _k(t);return t=>t.modified.indexOf(e)>-1?t:_k.get(t.base||t,t.modified.concat(e).sort((t,e)=>t.id-e.id))}constructor(t,e,r,n){this.name=t,this.set=e,this.base=r,this.modified=n,this.id=_w++}}let __=0;class _k{static get(t,e){if(!e.length)return t;let r=e[0].instances.find(r=>{var n;return r.base==t&&(n=r.modified,e.length==n.length&&e.every((t,e)=>t==n[e]))});if(r)return r;let n=[],i=new _x(t.name,n,t,e);for(let t of e)t.instances.push(i);let o=function(t){let e=[[]];for(let r=0;r<t.length;r++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(t[r]));return e.sort((t,e)=>e.length-t.length)}(e);for(let e of t.set)if(!e.modified.length)for(let t of o)n.push(_k.get(e,t));return i}constructor(t){this.name=t,this.instances=[],this.id=__++}}function _S(t){let e=Object.create(null);for(let r in t){let n=t[r];for(let t of(Array.isArray(n)||(n=[n]),r.split(" ")))if(t){let r=[],i=2,o=t;for(let e=0;;){if("..."==o&&e>0&&e+3==t.length){i=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!n)throw RangeError("Invalid path: "+t);if(r.push("*"==n[0]?"":'"'==n[0][0]?JSON.parse(n[0]):n[0]),(e+=n[0].length)==t.length)break;let s=t[e++];if(e==t.length&&"!"==s){i=0;break}if("/"!=s)throw RangeError("Invalid path: "+t);o=t.slice(e)}let s=r.length-1,a=r[s];if(!a)throw RangeError("Invalid path: "+t);let l=new _A(n,i,s>0?r.slice(0,s):null);e[a]=l.sort(e[a])}}return _C.add(e)}let _C=new x8;class _A{get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}constructor(t,e,r,n){this.tags=t,this.mode=e,this.context=r,this.next=n}}function _E(t,e){let r=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)r[t.id]=e.class;else r[e.tag.id]=e.class;let{scope:n,all:i=null}=e||{};return{style:t=>{let e=i;for(let n of t)for(let t of n.set){let n=r[t.id];if(n){e=e?e+" "+n:n;break}}return e},scope:n}}_A.empty=new _A([],2,null);class _T{startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,r,n,i){let{type:o,from:s,to:a}=t;if(s>=r||a<=e)return;o.isTop&&(i=this.highlighters.filter(t=>!t.scope||t.scope(o)));let l=n,h=function(t){let e=t.type.prop(_C);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||_A.empty,c=function(t,e){let r=null;for(let n of t){let t=n.style(e);t&&(r=r?r+" "+t:t)}return r}(i,h.tags);if(c&&(l&&(l+=" "),l+=c,1==h.mode&&(n+=(n?" ":"")+c)),this.startSpan(Math.max(e,s),l),h.opaque)return;let u=t.tree&&t.tree.prop(x8.mounted);if(u&&u.overlay){let o=t.node.enter(u.overlay[0].from+s,1),h=this.highlighters.filter(t=>!t.scope||t.scope(u.tree.type)),c=t.firstChild();for(let d=0,f=s;;d++){let p=d<u.overlay.length?u.overlay[d]:null,g=p?p.from+s:a,m=Math.max(e,f),v=Math.min(r,g);if(m<v&&c)for(;t.from<v&&(this.highlightRange(t,m,v,n,i),this.startSpan(Math.min(v,t.to),l),!(t.to>=g)&&t.nextSibling()););if(!p||g>r)break;(f=p.to+s)>e&&(this.highlightRange(o.cursor(),Math.max(e,p.from+s),Math.min(r,f),"",h),this.startSpan(Math.min(r,f),l))}c&&t.parent()}else if(t.firstChild()){u&&(n="");do{if(t.to<=e)continue;if(t.from>=r)break;this.highlightRange(t,e,r,n,i),this.startSpan(Math.min(r,t.to),l)}while(t.nextSibling())t.parent()}}constructor(t,e,r){this.at=t,this.highlighters=e,this.span=r,this.class=""}}let _P=_x.define,_I=_P(),_R=_P(),_M=_P(_R),_N=_P(_R),_D=_P(),_L=_P(_D),_$=_P(_D),_q=_P(),_Q=_P(_q),_B=_P(),_j=_P(),_z=_P(),_Z=_P(_z),_F=_P(),_X={comment:_I,lineComment:_P(_I),blockComment:_P(_I),docComment:_P(_I),name:_R,variableName:_P(_R),typeName:_M,tagName:_P(_M),propertyName:_N,attributeName:_P(_N),className:_P(_R),labelName:_P(_R),namespace:_P(_R),macroName:_P(_R),literal:_D,string:_L,docString:_P(_L),character:_P(_L),attributeValue:_P(_L),number:_$,integer:_P(_$),float:_P(_$),bool:_P(_D),regexp:_P(_D),escape:_P(_D),color:_P(_D),url:_P(_D),keyword:_B,self:_P(_B),null:_P(_B),atom:_P(_B),unit:_P(_B),modifier:_P(_B),operatorKeyword:_P(_B),controlKeyword:_P(_B),definitionKeyword:_P(_B),moduleKeyword:_P(_B),operator:_j,derefOperator:_P(_j),arithmeticOperator:_P(_j),logicOperator:_P(_j),bitwiseOperator:_P(_j),compareOperator:_P(_j),updateOperator:_P(_j),definitionOperator:_P(_j),typeOperator:_P(_j),controlOperator:_P(_j),punctuation:_z,separator:_P(_z),bracket:_Z,angleBracket:_P(_Z),squareBracket:_P(_Z),paren:_P(_Z),brace:_P(_Z),content:_q,heading:_Q,heading1:_P(_Q),heading2:_P(_Q),heading3:_P(_Q),heading4:_P(_Q),heading5:_P(_Q),heading6:_P(_Q),contentSeparator:_P(_q),list:_P(_q),quote:_P(_q),emphasis:_P(_q),strong:_P(_q),link:_P(_q),monospace:_P(_q),strikethrough:_P(_q),inserted:_P(),deleted:_P(),changed:_P(),invalid:_P(),meta:_F,documentMeta:_P(_F),annotation:_P(_F),processingInstruction:_P(_F),definition:_x.defineModifier("definition"),constant:_x.defineModifier("constant"),function:_x.defineModifier("function"),standard:_x.defineModifier("standard"),local:_x.defineModifier("local"),special:_x.defineModifier("special")};for(let t in _X){let e=_X[t];e instanceof _x&&(e.name=t)}_E([{tag:_X.link,class:"tok-link"},{tag:_X.heading,class:"tok-heading"},{tag:_X.emphasis,class:"tok-emphasis"},{tag:_X.strong,class:"tok-strong"},{tag:_X.keyword,class:"tok-keyword"},{tag:_X.atom,class:"tok-atom"},{tag:_X.bool,class:"tok-bool"},{tag:_X.url,class:"tok-url"},{tag:_X.labelName,class:"tok-labelName"},{tag:_X.inserted,class:"tok-inserted"},{tag:_X.deleted,class:"tok-deleted"},{tag:_X.literal,class:"tok-literal"},{tag:_X.string,class:"tok-string"},{tag:_X.number,class:"tok-number"},{tag:[_X.regexp,_X.escape,_X.special(_X.string)],class:"tok-string2"},{tag:_X.variableName,class:"tok-variableName"},{tag:_X.local(_X.variableName),class:"tok-variableName tok-local"},{tag:_X.definition(_X.variableName),class:"tok-variableName tok-definition"},{tag:_X.special(_X.variableName),class:"tok-variableName2"},{tag:_X.definition(_X.propertyName),class:"tok-propertyName tok-definition"},{tag:_X.typeName,class:"tok-typeName"},{tag:_X.namespace,class:"tok-namespace"},{tag:_X.className,class:"tok-className"},{tag:_X.macroName,class:"tok-macroName"},{tag:_X.propertyName,class:"tok-propertyName"},{tag:_X.operator,class:"tok-operator"},{tag:_X.comment,class:"tok-comment"},{tag:_X.meta,class:"tok-meta"},{tag:_X.invalid,class:"tok-invalid"},{tag:_X.punctuation,class:"tok-punctuation"}]);let _V=/*@__PURE__*/new xR;function _U(t){return vr.define({combine:t?e=>e.concat(t):void 0})}let _W=/*@__PURE__*/new xR;class _H{isActiveAt(t,e,r=-1){return _Y(t,e,r).type.prop(_V)==this.data}findRegions(t){let e=t.facet(_8);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let r=[],n=(t,e)=>{if(t.prop(_V)==this.data){r.push({from:e,to:e+t.length});return}let i=t.prop(xR.mounted);if(i){if(i.tree.prop(_V)==this.data){if(i.overlay)for(let t of i.overlay)r.push({from:t.from+e,to:t.to+e});else r.push({from:e,to:e+t.length});return}if(i.overlay){let t=r.length;if(n(i.tree,i.overlay[0].from+e),r.length>t)return}}for(let r=0;r<t.children.length;r++){let i=t.children[r];i instanceof xQ&&n(i,t.positions[r]+e)}};return n(_K(t),0),r}get allowsNesting(){return!0}constructor(t,e,r=[],n=""){this.data=t,this.name=n,vL.prototype.hasOwnProperty("tree")||Object.defineProperty(vL.prototype,"tree",{get(){return _K(this)}}),this.parser=e,this.extension=[_8.of(this),vL.languageData.of((t,e,r)=>{let n=_Y(t,e,r),i=n.type.prop(_V);if(!i)return[];let o=t.facet(i),s=n.type.prop(_W);if(s){let i=n.resolve(e-n.from,r);for(let e of s)if(e.test(i,t)){let r=t.facet(e.facet);return"replace"==e.type?r:r.concat(o)}}return o})].concat(r)}}function _Y(t,e,r){let n=t.facet(_8),i=_K(t).topNode;if(!n||n.allowsNesting)for(let t=i;t;t=t.enter(e,r,Bg.ExcludeBuffers))t.type.isTop&&(i=t);return i}_H.setState=/*@__PURE__*/vE.define();class _G extends _H{static define(t){let e=_U(t.languageData);return new _G(e,t.parser.configure({props:[_V.add(t=>t.isTop?e:void 0)]}),t.name)}configure(t,e){return new _G(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}constructor(t,e,r){super(t,e,[],r),this.parser=e}}function _K(t){let e=t.field(_H.state,!1);return e?e.tree:xQ.empty}class _J{get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let r=this.cursorPos-this.string.length;return t<r||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-r,e-r)}constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}}let _0=null;class _1{static create(t,e,r){return new _1(t,e,[],xQ.empty,0,r,[],null)}startParse(){return this.parser.startParse(new _J(this.state.doc),this.fragments)}work(t,e){return(null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=xQ.empty&&this.isDone(null!=e?e:this.state.doc.length))?(this.takeTree(),!0):this.withContext(()=>{var r;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n){if(this.fragments=this.withoutTempSkipped(x3.addTree(n,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(r=this.parse.stoppedAt)&&void 0!==r?r:this.state.doc.length,this.tree=n,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(x3.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=_0;_0=this;try{return t()}finally{_0=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=_2(t,e.from,e.to);return t}changes(t,e){let{fragments:r,tree:n,treeLen:i,viewport:o,skipped:s}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges((t,r,n,i)=>e.push({fromA:t,toA:r,fromB:n,toB:i})),r=x3.applyChanges(r,e),n=xQ.empty,i=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length)for(let e of(s=[],this.skipped)){let r=t.mapPos(e.from,1),n=t.mapPos(e.to,-1);r<n&&s.push({from:r,to:n})}}return new _1(this.parser,e,r,n,i,o,s,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:r,to:n}=this.skipped[e];r<t.to&&n>t.from&&(this.fragments=_2(this.fragments,r,n),this.skipped.splice(e--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends x4{createParse(e,r,n){let i=n[0].from,o=n[n.length-1].to;return{parsedPos:i,advance(){let e=_0;if(e){for(let t of n)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=o,new xQ(xD.none,[],[],o-i)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return _0}constructor(t,e,r=[],n,i,o,s,a){this.parser=t,this.state=e,this.fragments=r,this.tree=n,this.treeLen=i,this.viewport=o,this.skipped=s,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}}function _2(t,e,r){return x3.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class _3{apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,r)||e.takeTree(),new _3(e)}static init(t){let e=Math.min(3e3,t.doc.length),r=_1.create(t.facet(_8).parser,t,{from:0,to:e});return r.work(20,e)||r.takeTree(),new _3(r)}constructor(t){this.context=t,this.tree=t.tree}}_H.state=/*@__PURE__*/vl.define({create:_3.init,update(t,e){for(let t of e.effects)if(t.is(_H.setState))return t.value;return e.startState.facet(_8)!=e.state.facet(_8)?_3.init(e.state):t.apply(e)}});let _4=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(_4=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});let _5="undefined"!=typeof navigator&&(null===(Bv=navigator.scheduling)||void 0===Bv?void 0:Bv.isInputPending)?()=>navigator.scheduling.isInputPending():null,_6=/*@__PURE__*/bL.fromClass(class{update(t){let e=this.view.state.field(_H.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(_H.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=_4(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:n}}=this.view,i=r.field(_H.state);if(i.tree==i.context.tree&&i.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,t&&!_5?Math.max(25,t.timeRemaining()-5):1e9),s=i.context.treeLen<n&&r.doc.length>n+1e3,a=i.context.work(()=>_5&&_5()||Date.now()>o,n+(s?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:_H.setState.of(new _3(i.context))})),this.chunkBudget>0&&!(a&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(t=>bR(this.view.state,t)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}},{eventHandlers:{focus(){this.scheduleWork()}}}),_8=/*@__PURE__*/vr.define({combine:t=>t.length?t[0]:null,enables:t=>[_H.state,_6,wi.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class _7{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}class _9{load(){return this.loading||(this.loading=this.loadFunc().then(t=>this.support=t,t=>{throw this.loading=null,t}))}static of(t){let{load:e,support:r}=t;if(!e){if(!r)throw RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");e=()=>Promise.resolve(r)}return new _9(t.name,(t.alias||[]).concat(t.name).map(t=>t.toLowerCase()),t.extensions||[],t.filename,e,r)}static matchFilename(t,e){for(let r of t)if(r.filename&&r.filename.test(e))return r;let r=/\.([^.]+)$/.exec(e);if(r){for(let e of t)if(e.extensions.indexOf(r[1])>-1)return e}return null}static matchLanguageName(t,e,r=!0){for(let r of(e=e.toLowerCase(),t))if(r.alias.some(t=>t==e))return r;if(r)for(let r of t)for(let t of r.alias){let n=e.indexOf(t);if(n>-1&&(t.length>2||!/\w/.test(e[n-1])&&!/\w/.test(e[n+t.length])))return r}return null}constructor(t,e,r,n,i,o){this.name=t,this.alias=e,this.extensions=r,this.filename=n,this.loadFunc=i,this.support=o,this.loading=null}}let kt=/*@__PURE__*/vr.define(),ke=/*@__PURE__*/vr.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function kr(t){let e=t.facet(ke);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function kn(t,e){let r="",n=t.tabSize,i=t.facet(ke)[0];if("	"==i){for(;e>=n;)r+="	",e-=n;i=" "}for(let t=0;t<e;t++)r+=i;return r}function ki(t,e){for(let r of(t instanceof vL&&(t=new ko(t)),t.state.facet(kt))){let n=r(t,e);if(void 0!==n)return n}let r=_K(t.state);return r.length>=e?function(t,e,r){let n=e.resolveStack(r),i=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(i!=n.node){let t=[];for(let e=i;e&&!(e.from==n.node.from&&e.type==n.node.type);e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)n={node:t[e],next:n}}return ka(n,t,r)}(t,r,e):null}class ko{lineAt(t,e=1){let r=this.state.doc.lineAt(t),{simulateBreak:n,simulateDoubleBreak:i}=this.options;return null!=n&&n>=r.from&&n<=r.to?i&&n==t?{text:"",from:t}:(e<0?n<t:n<=t)?{text:r.text.slice(n-r.from),from:n}:{text:r.text.slice(0,n-r.from),from:r.from}:r}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:r,from:n}=this.lineAt(t,e);return r.slice(t-n,Math.min(r.length,t+100-n))}column(t,e=1){let{text:r,from:n}=this.lineAt(t,e),i=this.countColumn(r,t-n),o=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return o>-1&&(i+=o-this.countColumn(r,r.search(/\S|$/))),i}countColumn(t,e=t.length){return v0(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:r,from:n}=this.lineAt(t,e),i=this.options.overrideIndentation;if(i){let t=i(n);if(t>-1)return t}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}constructor(t,e={}){this.state=t,this.options=e,this.unit=kr(t)}}let ks=/*@__PURE__*/new xR;function ka(t,e,r){for(let n=t;n;n=n.next){let t=function(t){let e=t.type.prop(ks);if(e)return e;let r=t.firstChild,n;if(r&&(n=r.type.prop(xR.closedBy))){let e=t.lastChild,r=e&&n.indexOf(e.name)>-1;return t=>kc(t,!0,1,void 0,r&&!(t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak)?e.from:void 0)}return null==t.parent?kl:null}(n.node);if(t)return t(kh.create(e,r,n))}return 0}function kl(){return 0}class kh extends ko{get node(){return this.context.node}static create(t,e,r){return new kh(t,e,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let r=t.resolve(e.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(function(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}(r,t))break;e=this.state.doc.lineAt(r.from)}return this.lineIndent(e.from)}continue(){return ka(this.context.next,this.base,this.pos)}constructor(t,e,r){super(t.state,t.options),this.base=t,this.pos=e,this.context=r}}function kc(t,e,r,n,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=n&&o.slice(s,s+n.length)==n||i==t.pos+s,l=e?function(t){let e=t.node,r=e.childAfter(e.from),n=e.lastChild;if(!r)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(r.from),s=null==i||i<=o.from?o.to:Math.min(o.to,i);for(let t=r.to;;){let i=e.childAfter(t);if(!i||i==n)return null;if(!i.type.isSkipped){if(i.from>=s)return null;let t=/^ */.exec(o.text.slice(r.to-o.from))[0].length;return{from:r.from,to:r.to+t}}t=i.to}}(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*r)}function ku({except:t,units:e=1}={}){return r=>{let n=t&&t.test(r.textAfter);return r.baseIndent+(n?0:e*r.unit)}}let kd=/*@__PURE__*/vr.define(),kf=/*@__PURE__*/new xR;function kp(t){let e=t.firstChild,r=t.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?t.to:r.from}:null}function kg(t,e,r){for(let n of t.facet(kd)){let i=n(t,e,r);if(i)return i}return function(t,e,r){let n=_K(t);if(n.length<r)return null;let i=n.resolveStack(r,1),o=null;for(let s=i;s;s=s.next){let i=s.node;if(i.to<=r||i.from>r)continue;if(o&&i.from<e)break;let a=i.type.prop(kf);if(a&&(i.to<n.length-50||n.length==t.doc.length||!function(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}(i))){let n=a(i,t);n&&n.from<=r&&n.from>=e&&n.to>r&&(o=n)}}return o}(t,e,r)}function km(t,e){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return r>=n?void 0:{from:r,to:n}}let kv=/*@__PURE__*/vE.define({map:km}),ky=/*@__PURE__*/vE.define({map:km});function kb(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(t=>t.from<=r&&t.to>=r)||e.push(t.lineBlockAt(r));return e}let kO=/*@__PURE__*/vl.define({create:()=>y1.none,update(t,e){for(let r of(t=t.map(e.changes),e.effects))if(r.is(kv)&&!function(t,e,r){let n=!1;return t.between(e,e,(t,i)=>{t==e&&i==r&&(n=!0)}),n}(t,r.value.from,r.value.to)){let{preparePlaceholder:n}=e.state.facet(kC),i=n?y1.replace({widget:new kP(n(e.state,r.value))}):kT;t=t.update({add:[i.range(r.value.from,r.value.to)]})}else r.is(ky)&&(t=t.update({filter:(t,e)=>r.value.from!=t||r.value.to!=e,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:n}=e.selection.main;t.between(n,n,(t,e)=>{t<n&&e>n&&(r=!0)}),r&&(t=t.update({filterFrom:n,filterTo:n,filter:(t,e)=>e<=n||t>=n}))}return t},provide:t=>wi.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(t,e)=>{r.push(t,e)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let n=t[r++],i=t[r++];if("number"!=typeof n||"number"!=typeof i)throw RangeError("Invalid JSON for fold state");e.push(kT.range(n,i))}return y1.set(e,!0)}});function kw(t,e,r){var n;let i=null;return null===(n=t.field(kO,!1))||void 0===n||n.between(e,r,(t,e)=>{(!i||i.from>t)&&(i={from:t,to:e})}),i}function kx(t,e){return t.field(kO,!1)?e:e.concat(vE.appendConfig.of(kA()))}function k_(t,e,r=!0){let n=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return wi.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${i}.`)}let kk=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of kb(t)){let r=kg(t.state,e.from,e.to);if(r)return t.dispatch({effects:kx(t.state,[kv.of(r),k_(t,r)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(kO,!1))return!1;let e=[];for(let r of kb(t)){let n=kw(t.state,r.from,r.to);n&&e.push(ky.of(n),k_(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,r=[];for(let n=0;n<e.doc.length;){let i=t.lineBlockAt(n),o=kg(e,i.from,i.to);o&&r.push(kv.of(o)),n=(o?t.lineBlockAt(o.to):i).to+1}return r.length&&t.dispatch({effects:kx(t.state,r)}),!!r.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(kO,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(t,e)=>{r.push(ky.of({from:t,to:e}))}),t.dispatch({effects:r}),!0}}],kS={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},kC=/*@__PURE__*/vr.define({combine:t=>v$(t,kS)});function kA(t){let e=[kO,kM];return t&&e.push(kC.of(t)),e}function kE(t,e){let{state:r}=t,n=r.facet(kC),i=e=>{let r=t.lineBlockAt(t.posAtDOM(e.target)),n=kw(t.state,r.from,r.to);n&&t.dispatch({effects:ky.of(n)}),e.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",r.phrase("folded code")),o.title=r.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}let kT=/*@__PURE__*/y1.replace({widget:/*@__PURE__*/new class extends yJ{toDOM(t){return kE(t,null)}}});class kP extends yJ{eq(t){return this.value==t.value}toDOM(t){return kE(t,this.value)}constructor(t){super(),this.value=t}}let kI={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class kR extends xl{eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}constructor(t,e){super(),this.config=t,this.open=e}}let kM=/*@__PURE__*/wi.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class kN{static define(t,e){return new kN(t,e||{})}constructor(t,e){let r;function n(t){let e=v5.newName();return(r||(r=Object.create(null)))["."+e]=t,e}this.specs=t;let i="string"==typeof e.all?e.all:e.all?n(e.all):void 0,o=e.scope;this.scope=o instanceof _H?t=>t.prop(_V)==o.data:o?t=>t==o:void 0,this.style=_E(t.map(t=>({tag:t.tag,class:t.class||n(Object.assign({},t,{tag:null}))})),{all:i}).style,this.module=r?new v5(r):null,this.themeType=e.themeType}}let kD=/*@__PURE__*/vr.define(),kL=/*@__PURE__*/vr.define({combine:t=>t.length?[t[0]]:null});function k$(t){let e=t.facet(kD);return e.length?e:t.facet(kL)}let kq=/*@__PURE__*/vu.high(/*@__PURE__*/bL.fromClass(class{update(t){let e=_K(t.state),r=k$(t.state),n=r!=k$(t.startState),{viewport:i}=t.view,o=t.changes.mapPos(this.decoratedTo,1);e.length<i.to&&!n&&e.type==this.tree.type&&o>=i.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=o):(e!=this.tree||t.viewportChanged||n)&&(this.tree=e,this.decorations=this.buildDeco(t.view,r),this.decoratedTo=i.to)}buildDeco(t,e){if(!e||!this.tree.length)return y1.none;let r=new vZ;for(let{from:n,to:i}of t.visibleRanges)!function(t,e,r,n=0,i=t.length){let o=new _T(n,Array.isArray(e)?e:[e],r);o.highlightRange(t.cursor(),n,i,"",o.highlighters),o.flush(i)}(this.tree,e,(t,e,n)=>{r.add(t,e,this.markCache[n]||(this.markCache[n]=y1.mark({class:n})))},n,i);return r.finish()}constructor(t){this.markCache=Object.create(null),this.tree=_K(t.state),this.decorations=this.buildDeco(t,k$(t.state)),this.decoratedTo=t.viewport.to}},{decorations:t=>t.decorations})),kQ=/*@__PURE__*/kN.define([{tag:_X.meta,color:"#404740"},{tag:_X.link,textDecoration:"underline"},{tag:_X.heading,textDecoration:"underline",fontWeight:"bold"},{tag:_X.emphasis,fontStyle:"italic"},{tag:_X.strong,fontWeight:"bold"},{tag:_X.strikethrough,textDecoration:"line-through"},{tag:_X.keyword,color:"#708"},{tag:[_X.atom,_X.bool,_X.url,_X.contentSeparator,_X.labelName],color:"#219"},{tag:[_X.literal,_X.inserted],color:"#164"},{tag:[_X.string,_X.deleted],color:"#a11"},{tag:[_X.regexp,_X.escape,/*@__PURE__*/_X.special(_X.string)],color:"#e40"},{tag:/*@__PURE__*/_X.definition(_X.variableName),color:"#00f"},{tag:/*@__PURE__*/_X.local(_X.variableName),color:"#30a"},{tag:[_X.typeName,_X.namespace],color:"#085"},{tag:_X.className,color:"#167"},{tag:[/*@__PURE__*/_X.special(_X.variableName),_X.macroName],color:"#256"},{tag:/*@__PURE__*/_X.definition(_X.propertyName),color:"#00c"},{tag:_X.comment,color:"#940"},{tag:_X.invalid,color:"#f00"}]),kB=/*@__PURE__*/wi.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),kj="()[]{}",kz=/*@__PURE__*/vr.define({combine:t=>v$(t,{afterCursor:!0,brackets:kj,maxScanDistance:1e4,renderMatch:kX})}),kZ=/*@__PURE__*/y1.mark({class:"cm-matchingBracket"}),kF=/*@__PURE__*/y1.mark({class:"cm-nonmatchingBracket"});function kX(t){let e=[],r=t.matched?kZ:kF;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}let kV=[/*@__PURE__*/vl.define({create:()=>y1.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],n=e.state.facet(kz);for(let t of e.state.selection.ranges){if(!t.empty)continue;let i=kY(e.state,t.head,-1,n)||t.head>0&&kY(e.state,t.head-1,1,n)||n.afterCursor&&(kY(e.state,t.head,1,n)||t.head<e.state.doc.length&&kY(e.state,t.head+1,-1,n));i&&(r=r.concat(n.renderMatch(i,e.state)))}return y1.set(r,!0)},provide:t=>wi.decorations.from(t)}),kB],kU=/*@__PURE__*/new xR;function kW(t,e,r){let n=t.prop(e<0?xR.openedBy:xR.closedBy);if(n)return n;if(1==t.name.length){let n=r.indexOf(t.name);if(n>-1&&n%2==(e<0?1:0))return[r[n+e]]}return null}function kH(t){let e=t.type.prop(kU);return e?e(t.node):t}function kY(t,e,r,n={}){let i=n.maxScanDistance||1e4,o=n.brackets||kj,s=_K(t),a=s.resolveInner(e,r);for(let t=a;t;t=t.parent){let n=kW(t.type,r,o);if(n&&t.from<t.to){let i=kH(t);if(i&&(r>0?e>=i.from&&e<i.to:e>i.from&&e<=i.to))return function(t,e,r,n,i,o,s){let a=n.parent,l={from:i.from,to:i.to},h=0,c=null==a?void 0:a.cursor();if(c&&(r<0?c.childBefore(n.from):c.childAfter(n.to)))do if(r<0?c.to<=n.from:c.from>=n.to){if(0==h&&o.indexOf(c.type.name)>-1&&c.from<c.to){let t=kH(c);return{start:l,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(kW(c.type,r,s))h++;else if(kW(c.type,-r,s)){if(0==h){let t=kH(c);return{start:l,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}h--}}while(r<0?c.prevSibling():c.nextSibling())return{start:l,matched:!1}}(0,0,r,t,i,n,o)}}return function(t,e,r,n,i,o,s){let a=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=r>0)return null;let h={from:r<0?e-1:e,to:r>0?e+1:e},c=t.doc.iterRange(e,r>0?t.doc.length:0),u=0;for(let t=0;!c.next().done&&t<=o;){let o=c.value;r<0&&(t+=o.length);let a=e+t*r;for(let t=r>0?0:o.length-1,e=r>0?o.length:-1;t!=e;t+=r){let e=s.indexOf(o[t]);if(!(e<0)&&n.resolveInner(a+t,1).type==i){if(e%2==0==r>0)u++;else{if(1==u)return{start:h,end:{from:a+t,to:a+t+1},matched:e>>1==l>>1};u--}}}r>0&&(t+=o.length)}return c.done?{start:h,matched:!1}:null}(t,e,r,s,a.type,i,o)}let kG=/*@__PURE__*/Object.create(null),kK=[xD.none],kJ=[],k0=/*@__PURE__*/Object.create(null),k1=/*@__PURE__*/Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])k1[t]=/*@__PURE__*/function(t,e){let r=[];for(let n of e.split(" ")){let e=[];for(let r of n.split(".")){let n=t[r]||_X[r];n?"function"==typeof n?e.length?e=e.map(n):k2(r,`Modifier ${r} used at start of tag`):e.length?k2(r,`Tag ${r} used as modifier`):e=Array.isArray(n)?n:[n]:k2(r,`Unknown highlighting tag ${r}`)}for(let t of e)r.push(t)}if(!r.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+r.map(t=>t.id),o=k0[i];if(o)return o.id;let s=k0[i]=xD.define({id:kK.length,name:n,props:[_S({[n]:r})]});return kK.push(s),s.id}(kG,e);function k2(t,e){kJ.indexOf(t)>-1||(kJ.push(t),console.warn(e))}function k3(t){return t.length<=4096&&/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/.test(t)}function k4(t){for(let e=t.iter();!e.next().done;)if(k3(e.value))return!0;return!1}let k5=/*@__PURE__*/vr.define({combine:t=>t.some(t=>t)});function k6(t,e,r){let n=new vZ,i=t.visibleRanges;for(let{from:o,to:s}of(r||(i=function(t,e){let r=e.iter(),n=0,i=[],o=null;for(let{from:e,to:s}of t)if(!o||!(o.to>e)||!((e=o.to)>=s))for(n+r.value.length<e&&(r.next(e-(n+r.value.length)),n=e);;){let t=n,e=n+r.value.length;if(!r.lineBreak&&k3(r.value)&&(o&&o.to>t-10?o.to=Math.min(s,e):i.push(o={from:t,to:Math.min(s,e)})),e>=s)break;n=e,r.next()}return i}(i,t.state.doc)),i))e.iterate({enter:t=>{let e=t.type.prop(xR.isolate);e&&n.add(t.from,t.to,k8[e])},from:o,to:s});return n.finish()}/*@__PURE__*/bL.fromClass(class{update(t){var e;let r,n=t.state.facet(k5)||t.view.textDirection!=bn.LTR||t.state.facet(wi.perLineTextDirection);if(n||this.hasRTL||(e=t.changes,r=!1,e.iterChanges((t,e,n,i,o)=>{!r&&k4(o)&&(r=!0)}),!r)||(this.hasRTL=!0),!n&&!this.hasRTL)return;let i=_K(t.state);(n!=this.always||i!=this.tree||t.docChanged||t.viewportChanged)&&(this.tree=i,this.always=n,this.decorations=k6(t.view,i,n))}constructor(t){this.always=t.state.facet(k5)||t.textDirection!=bn.LTR||t.state.facet(wi.perLineTextDirection),this.hasRTL=!this.always&&k4(t.state.doc),this.tree=_K(t.state),this.decorations=this.always||this.hasRTL?k6(t,this.tree,this.always):y1.none}},{provide:t=>{function e(e){var r,n;return null!==(n=null===(r=e.plugin(t))||void 0===r?void 0:r.decorations)&&void 0!==n?n:y1.none}return[wi.outerDecorations.of(e),vu.lowest(wi.bidiIsolatedRanges.of(e))]}});let k8={rtl:/*@__PURE__*/y1.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:bn.RTL}),ltr:/*@__PURE__*/y1.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:bn.LTR}),auto:/*@__PURE__*/y1.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})},k7=0;class k9{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Sr.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=k7++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}k9.closedBy=new k9({deserialize:t=>t.split(" ")}),k9.openedBy=new k9({deserialize:t=>t.split(" ")}),k9.group=new k9({deserialize:t=>t.split(" ")}),k9.isolate=new k9({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),k9.contextHash=new k9({perNode:!0}),k9.lookAhead=new k9({perNode:!0}),k9.mounted=new k9({perNode:!0});class St{static get(t){return t&&t.props&&t.props[k9.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let Se=Object.create(null);class Sr{static define(t){let e=t.props&&t.props.length?Object.create(null):Se,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new Sr(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(k9.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(k9.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}Sr.none=new Sr("",Object.create(null),0,8);let Sn=new WeakMap,Si=new WeakMap;(QN=By||(By={}))[QN.ExcludeBuffers=1]="ExcludeBuffers",QN[QN.IncludeAnonymous=2]="IncludeAnonymous",QN[QN.IgnoreMounts=4]="IgnoreMounts",QN[QN.IgnoreOverlays=8]="IgnoreOverlays";class So{toString(){let t=St.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Sy(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new Sy(Sn.get(this)||this.topNode);return n.moveTo(t,e),Sn.set(this,n._tree),n}get topNode(){return new Su(this,0,0,null)}resolve(t,e=0){let r=Sh(Sn.get(this)||this.topNode,t,e,!1);return Sn.set(this,r),r}resolveInner(t,e=0){let r=Sh(Si.get(this)||this.topNode,t,e,!0);return Si.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof Su?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=St.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new Su(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(Sh(s,e,r,!1))}}return i?Sm(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&By.IncludeAnonymous)>0;for(let t=this.cursor(o|By.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:Sx(Sr.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new So(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new So(Sr.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new Ss(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[k9.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[k9.lookAhead,i];s=s?[t].concat(s):[t]}return new So(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new Sa(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new Sa(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof So){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(k9.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=Sx(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new So(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}So.empty=new So(Sr.none,[],[],0);class Ss{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ss(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class Sa{get type(){return Sr.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!Sl(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new Sa(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function Sl(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function Sh(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof Su&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:By.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof Su&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class Sc{cursor(t=0){return new Sy(this,t)}getChild(t,e=null,r=null){let n=Sd(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return Sd(this,t,e,r)}resolve(t,e=0){return Sh(this,t,e,!1)}resolveInner(t,e=0){return Sh(this,t,e,!0)}matchContext(t){return Sf(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class Su extends Sc{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(Sl(n,r,h,h+l.length)){if(l instanceof Sa){if(i&By.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new Sg(new Sp(o,l,t,h),null,s)}else if(i&By.IncludeAnonymous||!l.type.isAnonymous||Sb(l)){let s;if(!(i&By.IgnoreMounts)&&(s=St.get(l))&&!s.overlay)return new Su(s.tree,h,t,o);let a=new Su(l,h,t,o);return i&By.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&By.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&By.IgnoreOverlays)&&(n=St.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new Su(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function Sd(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function Sf(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class Sp{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class Sg extends Sc{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new Sg(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&By.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new Sg(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Sg(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Sg(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new So(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function Sm(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof Su&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new Sv(i,r)}class Sv{get next(){return Sm(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class Sy{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Su?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&By.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&By.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&By.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&By.IncludeAnonymous||t instanceof Sa||!t.type.isAnonymous||Sb(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new Sg(this.buffer,e,this.stack[t]);return this.bufferNode=new Sg(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return Sf(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return Sf(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Su)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function Sb(t){return t.children.some(t=>t instanceof Sa||!t.type.isAnonymous||Sb(t))}let SO=new WeakMap;function Sw(t,e){if(!t.isAnonymous||e instanceof Sa||e.type!=t)return 1;let r=SO.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof So)){r=1;break}r+=Sw(t,n)}SO.set(e,r)}return r}function Sx(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=Sw(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=Sw(t,r[h]);for(h++;h<s;h++){let e=Sw(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(Sx(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}function S_(t,e){return({state:r,dispatch:n})=>{if(r.readOnly)return!1;let i=t(e,r);return!!i&&(n(r.update(i)),!0)}}new k9({perNode:!0});let Sk=/*@__PURE__*/S_(function(t,e,r=e.selection.ranges){let n=[],i=-1;for(let{from:t,to:o}of r){let r=n.length,s=1e9,a=SA(e,t).line;if(a){for(let r=t;r<=o;){let l=e.doc.lineAt(r);if(l.from>i&&(t==o||o>l.from)){i=l.from;let t=/^\s*/.exec(l.text)[0].length,e=t==l.length,r=l.text.slice(t,t+a.length)==a?t:-1;t<l.text.length&&t<s&&(s=t),n.push({line:l,comment:r,token:a,indent:t,empty:e,single:!1})}r=l.to+1}if(s<1e9)for(let t=r;t<n.length;t++)n[t].indent<n[t].line.text.length&&(n[t].indent=s);n.length==r+1&&(n[r].single=!0)}}if(2!=t&&n.some(t=>t.comment<0&&(!t.empty||t.single))){let t=[];for(let{line:e,token:r,indent:i,empty:o,single:s}of n)(s||!o)&&t.push({from:e.from+i,insert:r+" "});let r=e.changes(t);return{changes:r,selection:e.selection.map(r,1)}}if(1!=t&&n.some(t=>t.comment>=0)){let t=[];for(let{line:e,comment:r,token:i}of n)if(r>=0){let n=e.from+r,o=n+i.length;" "==e.text[o-e.from]&&o++,t.push({from:n,to:o})}return{changes:t}}return null},0),SS=/*@__PURE__*/S_(SE,0),SC=/*@__PURE__*/S_((t,e)=>SE(t,e,function(t){let e=[];for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),i=r.to<=n.to?n:t.doc.lineAt(r.to);i.from>n.from&&i.from==r.to&&(i=r.to==n.to+1?n:t.doc.lineAt(r.to-1));let o=e.length-1;o>=0&&e[o].to>n.from?e[o].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}(e)),0);function SA(t,e){let r=t.languageDataAt("commentTokens",e);return r.length?r[0]:{}}function SE(t,e,r=e.selection.ranges){let n=r.map(t=>SA(e,t.from).block);if(!n.every(t=>t))return null;let i=r.map((t,r)=>(function(t,{open:e,close:r},n,i){let o,s,a=t.sliceDoc(n-50,n),l=t.sliceDoc(i,i+50),h=/\s*$/.exec(a)[0].length,c=/^\s*/.exec(l)[0].length,u=a.length-h;if(a.slice(u-e.length,u)==e&&l.slice(c,c+r.length)==r)return{open:{pos:n-h,margin:h&&1},close:{pos:i+c,margin:c&&1}};i-n<=100?o=s=t.sliceDoc(n,i):(o=t.sliceDoc(n,n+50),s=t.sliceDoc(i-50,i));let d=/^\s*/.exec(o)[0].length,f=/\s*$/.exec(s)[0].length,p=s.length-f-r.length;return o.slice(d,d+e.length)==e&&s.slice(p,p+r.length)==r?{open:{pos:n+d+e.length,margin:/\s/.test(o.charAt(d+e.length))?1:0},close:{pos:i-f-r.length,margin:/\s/.test(s.charAt(p-1))?1:0}}:null})(e,n[r],t.from,t.to));if(2!=t&&!i.every(t=>t))return{changes:e.changes(r.map((t,e)=>i[e]?[]:[{from:t.from,insert:n[e].open+" "},{from:t.to,insert:" "+n[e].close}]))};if(1!=t&&i.some(t=>t)){let t=[];for(let e=0,r;e<i.length;e++)if(r=i[e]){let i=n[e],{open:o,close:s}=r;t.push({from:o.pos-i.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+i.close.length})}return{changes:t}}return null}let ST=/*@__PURE__*/vS.define(),SP=/*@__PURE__*/vS.define(),SI=/*@__PURE__*/vr.define(),SR=/*@__PURE__*/vr.define({combine:t=>v$(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(r,n)=>t(r,n)||e(r,n)})}),SM=/*@__PURE__*/vl.define({create:()=>SV.empty,update(t,e){let r=e.state.facet(SR),n=e.annotation(ST);if(n){let i=SQ.fromTransaction(e,n.selection),o=n.side,s=0==o?t.undone:t.done;return s=i?SB(s,s.length,r.minDepth,i):SZ(s,e.startState.selection),new SV(0==o?n.rest:s,0==o?s:n.rest)}let i=e.annotation(SP);if(("full"==i||"before"==i)&&(t=t.isolate()),!1===e.annotation(vT.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let o=SQ.fromTransaction(e),s=e.annotation(vT.time),a=e.annotation(vT.userEvent);return o?t=t.addChanges(o,s,a,r,e):e.selection&&(t=t.addSelection(e.startState.selection,s,a,r.newGroupDelay)),("full"==i||"after"==i)&&(t=t.isolate()),t},toJSON:t=>({done:t.done.map(t=>t.toJSON()),undone:t.undone.map(t=>t.toJSON())}),fromJSON:t=>new SV(t.done.map(SQ.fromJSON),t.undone.map(SQ.fromJSON))});function SN(t,e){return function({state:r,dispatch:n}){if(!e&&r.readOnly)return!1;let i=r.field(SM,!1);if(!i)return!1;let o=i.pop(t,r,e);return!!o&&(n(o),!0)}}let SD=/*@__PURE__*/SN(0,!1),SL=/*@__PURE__*/SN(1,!1),S$=/*@__PURE__*/SN(0,!0),Sq=/*@__PURE__*/SN(1,!0);class SQ{setSelAfter(t){return new SQ(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,r;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(r=this.startSelection)||void 0===r?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(t=>t.toJSON())}}static fromJSON(t){return new SQ(t.changes&&m1.fromJSON(t.changes),[],t.mapped&&m0.fromJSON(t.mapped),t.startSelection&&m9.fromJSON(t.startSelection),t.selectionsAfter.map(m9.fromJSON))}static fromTransaction(t,e){let r=Sz;for(let e of t.startState.facet(SI)){let n=e(t);n.length&&(r=r.concat(n))}return!r.length&&t.changes.empty?null:new SQ(t.changes.invert(t.startState.doc),r,void 0,e||t.startState.selection,Sz)}static selection(t){return new SQ(void 0,Sz,void 0,void 0,t)}constructor(t,e,r,n,i){this.changes=t,this.effects=e,this.mapped=r,this.startSelection=n,this.selectionsAfter=i}}function SB(t,e,r,n){let i=t.slice(e+1>r+20?e-r-1:0,e);return i.push(n),i}function Sj(t,e){return t.length?e.length?t.concat(e):t:e}let Sz=[];function SZ(t,e){if(!t.length)return[SQ.selection([e])];{let r=t[t.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-200));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),SB(t,t.length-1,1e9,r.setSelAfter(n)))}}function SF(t,e){if(!t.length)return t;let r=t.length,n=Sz;for(;r;){let i=function(t,e,r){let n=Sj(t.selectionsAfter.length?t.selectionsAfter.map(t=>t.map(e)):Sz,r);if(!t.changes)return SQ.selection(n);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new SQ(i,vE.mapEffects(t.effects,e),s,t.startSelection.map(o),n)}(t[r-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let e=t.slice(0,r);return e[r-1]=i,e}e=i.mapped,r--,n=i.selectionsAfter}return n.length?[SQ.selection(n)]:Sz}let SX=/^(input\.type|delete)($|\.)/;class SV{isolate(){return this.prevTime?new SV(this.done,this.undone):this}addChanges(t,e,r,n,i){var o,s;let a,l,h=this.done,c=h[h.length-1];return new SV(h=c&&c.changes&&!c.changes.empty&&t.changes&&(!r||SX.test(r))&&(!c.selectionsAfter.length&&e-this.prevTime<n.newGroupDelay&&n.joinToEvent(i,(o=c.changes,s=t.changes,a=[],l=!1,o.iterChangedRanges((t,e)=>a.push(t,e)),s.iterChangedRanges((t,e,r,n)=>{for(let t=0;t<a.length;){let e=a[t++],i=a[t++];n>=e&&r<=i&&(l=!0)}}),l))||"input.type.compose"==r)?SB(h,h.length-1,n.minDepth,new SQ(t.changes.compose(c.changes),Sj(vE.mapEffects(t.effects,c.changes),c.effects),c.mapped,c.startSelection,Sz)):SB(h,h.length,n.minDepth,t),Sz,e,r)}addSelection(t,e,r,n){var i;let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Sz;return o.length>0&&e-this.prevTime<n&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(i=o[o.length-1]).ranges.length==t.ranges.length&&0===i.ranges.filter((e,r)=>e.empty!=t.ranges[r].empty).length?this:new SV(SZ(this.done,t),this.undone,e,r)}addMapping(t){return new SV(SF(this.done,t),SF(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,r){let n=0==t?this.done:this.undone;if(0==n.length)return null;let i=n[n.length-1],o=i.selectionsAfter[0]||e.selection;if(r&&i.selectionsAfter.length){let r,s;return e.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:ST.of({side:t,rest:(r=n[n.length-1],(s=n.slice())[n.length-1]=r.setSelAfter(r.selectionsAfter.slice(0,r.selectionsAfter.length-1)),s),selection:o}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0})}{if(!i.changes)return null;let r=1==n.length?Sz:n.slice(0,n.length-1);return i.mapped&&(r=SF(r,i.mapped)),e.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:ST.of({side:t,rest:r,selection:o}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}}constructor(t,e,r=0,n){this.done=t,this.undone=e,this.prevTime=r,this.prevUserEvent=n}}function SU(t,e){return m9.create(t.ranges.map(e),t.mainIndex)}function SW(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function SH({state:t,dispatch:e},r){let n=SU(t.selection,r);return!n.eq(t.selection,!0)&&(e(SW(t,n)),!0)}function SY(t,e){return m9.cursor(e?t.to:t.from)}function SG(t,e){return SH(t,r=>r.empty?t.moveByChar(r,e):SY(r,e))}function SK(t){return t.textDirectionAt(t.state.selection.main.head)==bn.LTR}SV.empty=/*@__PURE__*/new SV(Sz,Sz);let SJ=t=>SG(t,!SK(t)),S0=t=>SG(t,SK(t));function S1(t,e){return SH(t,r=>r.empty?t.moveByGroup(r,e):SY(r,e))}function S2(t,e,r){let n,i,o=_K(t).resolveInner(e.head),s=r?k9.closedBy:k9.openedBy;for(let n=e.head;;){let e=r?o.childAfter(n):o.childBefore(n);if(!e)break;!function(t,e,r){if(e.type.prop(r))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}(t,e,s)?n=r?e.to:e.from:o=e}return i=o.type.prop(s)&&(n=r?kY(t,o.from,1):kY(t,o.to,-1))&&n.matched?r?n.end.to:n.end.from:r?o.to:o.from,m9.cursor(i,r?-1:1)}function S3(t,e){return SH(t,r=>{if(!r.empty)return SY(r,e);let n=t.moveVertically(r,e);return n.head!=r.head?n:t.moveToLineBoundary(r,e)})}"undefined"!=typeof Intl&&Intl.Segmenter;let S4=t=>S3(t,!1),S5=t=>S3(t,!0);function S6(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,n=0,i;if(e){for(let e of t.state.facet(wi.scrollMargins)){let i=e(t);(null==i?void 0:i.top)&&(r=Math.max(null==i?void 0:i.top,r)),(null==i?void 0:i.bottom)&&(n=Math.max(null==i?void 0:i.bottom,n))}i=t.scrollDOM.clientHeight-r-n}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:n,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function S8(t,e){let r,n=S6(t),{state:i}=t,o=SU(i.selection,r=>r.empty?t.moveVertically(r,e,n.height):SY(r,e));if(o.eq(i.selection))return!1;if(n.selfScroll){let e=t.coordsAtPos(i.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),a=s.top+n.marginTop,l=s.bottom-n.marginBottom;e&&e.top>a&&e.bottom<l&&(r=wi.scrollIntoView(o.main.head,{y:"start",yMargin:e.top-a}))}return t.dispatch(SW(i,o),{effects:r}),!0}let S7=t=>S8(t,!1),S9=t=>S8(t,!0);function Ct(t,e,r){let n=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,r);if(i.head==e.head&&i.head!=(r?n.to:n.from)&&(i=t.moveToLineBoundary(e,r,!1)),!r&&i.head==n.from&&n.length){let r=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;r&&e.head!=n.from+r&&(i=m9.cursor(n.from+r))}return i}function Ce(t,e){let r=SU(t.state.selection,t=>{let r=e(t);return m9.range(t.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return!r.eq(t.state.selection)&&(t.dispatch(SW(t.state,r)),!0)}function Cr(t,e){return Ce(t,r=>t.moveByChar(r,e))}let Cn=t=>Cr(t,!SK(t)),Ci=t=>Cr(t,SK(t));function Co(t,e){return Ce(t,r=>t.moveByGroup(r,e))}function Cs(t,e){return Ce(t,r=>t.moveVertically(r,e))}let Ca=t=>Cs(t,!1),Cl=t=>Cs(t,!0);function Ch(t,e){return Ce(t,r=>t.moveVertically(r,e,S6(t).height))}let Cc=t=>Ch(t,!1),Cu=t=>Ch(t,!0),Cd=({state:t,dispatch:e})=>(e(SW(t,{anchor:0})),!0),Cf=({state:t,dispatch:e})=>(e(SW(t,{anchor:t.doc.length})),!0),Cp=({state:t,dispatch:e})=>(e(SW(t,{anchor:t.selection.main.anchor,head:0})),!0),Cg=({state:t,dispatch:e})=>(e(SW(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function Cm(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:n}=t,i=n.changeByRange(n=>{let{from:i,to:o}=n;if(i==o){let s=e(n);s<i?(r="delete.backward",s=Cv(t,s,!1)):s>i&&(r="delete.forward",s=Cv(t,s,!0)),i=Math.min(i,s),o=Math.max(o,s)}else i=Cv(t,i,!1),o=Cv(t,o,!0);return i==o?{range:n}:{changes:{from:i,to:o},range:m9.cursor(i,i<n.head?-1:1)}});return!i.changes.empty&&(t.dispatch(n.update(i,{scrollIntoView:!0,userEvent:r,effects:"delete.selection"==r?wi.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Cv(t,e,r){if(t instanceof wi)for(let n of t.state.facet(wi.atomicRanges).map(e=>e(t)))n.between(e,e,(t,n)=>{t<e&&n>e&&(e=r?n:t)});return e}let Cy=(t,e,r)=>Cm(t,n=>{let i=n.from,{state:o}=t,s=o.doc.lineAt(i),a,l;if(r&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if("	"==a[a.length-1])return i-1;let t=v0(a,o.tabSize)%kr(o)||kr(o);for(let e=0;e<t&&" "==a[a.length-1-e];e++)i--;l=i}else(l=mW(s.text,i-s.from,e,e)+s.from)==i&&s.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=mW(s.text,l-s.from,!1,!1)+s.from);return l}),Cb=t=>Cy(t,!1,!0),CO=t=>Cy(t,!0,!1),Cw=(t,e)=>Cm(t,r=>{let n=r.head,{state:i}=t,o=i.doc.lineAt(n),s=i.charCategorizer(n);for(let t=null;;){if(n==(e?o.to:o.from)){n==r.head&&o.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let a=mW(o.text,n-o.from,e)+o.from,l=o.text.slice(Math.min(n,a)-o.from,Math.max(n,a)-o.from),h=s(l);if(null!=t&&h!=t)break;(" "!=l||n!=r.head)&&(t=h),n=a}return n}),Cx=t=>Cw(t,!1);function C_(t){let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),o=t.doc.lineAt(n.to);if(n.empty||n.to!=o.from||(o=t.doc.lineAt(n.to-1)),r>=i.number){let t=e[e.length-1];t.to=o.to,t.ranges.push(n)}else e.push({from:i.from,to:o.to,ranges:[n]});r=o.number+1}return e}function Ck(t,e,r){if(t.readOnly)return!1;let n=[],i=[];for(let e of C_(t)){if(r?e.to==t.doc.length:0==e.from)continue;let o=t.doc.lineAt(r?e.to+1:e.from-1),s=o.length+1;if(r)for(let r of(n.push({from:e.to,to:o.to},{from:e.from,insert:o.text+t.lineBreak}),e.ranges))i.push(m9.range(Math.min(t.doc.length,r.anchor+s),Math.min(t.doc.length,r.head+s)));else for(let r of(n.push({from:o.from,to:e.from},{from:e.to,insert:t.lineBreak+o.text}),e.ranges))i.push(m9.range(r.anchor-s,r.head-s))}return!!n.length&&(e(t.update({changes:n,scrollIntoView:!0,selection:m9.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0)}function CS(t,e,r){if(t.readOnly)return!1;let n=[];for(let e of C_(t))r?n.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):n.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}let CC=/*@__PURE__*/CE(!1),CA=/*@__PURE__*/CE(!0);function CE(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>{let{from:n,to:i}=r,o=e.doc.lineAt(n),s=!t&&n==i&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=_K(t).resolveInner(e),n=r.childBefore(e),i=r.childAfter(e),o;return n&&i&&n.to<=e&&i.from>=e&&(o=n.type.prop(k9.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(n.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}(e,n);t&&(n=i=(i<=o.to?o:e.doc.lineAt(i)).to);let a=new ko(e,{simulateBreak:n,simulateDoubleBreak:!!s}),l=ki(a,n);for(null==l&&(l=v0(/^\s*/.exec(e.doc.lineAt(n).text)[0],e.tabSize));i<o.to&&/\s/.test(o.text[i-o.from]);)i++;s?{from:n,to:i}=s:n>o.from&&n<o.from+100&&!/\S/.test(o.text.slice(0,n))&&(n=o.from);let h=["",kn(e,l)];return s&&h.push(kn(e,a.lineIndent(o.from,-1))),{changes:{from:n,to:i,insert:mQ.of(h)},range:m9.cursor(n+1+h[1].length)}});return r(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function CT(t,e){let r=-1;return t.changeByRange(n=>{let i=[];for(let o=n.from;o<=n.to;){let s=t.doc.lineAt(o);s.number>r&&(n.empty||n.to>s.from)&&(e(s,i,n),r=s.number),o=s.to+1}let o=t.changes(i);return{changes:i,range:m9.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}})}let CP=[{key:"Ctrl-b",run:SJ,shift:Cn,preventDefault:!0},{key:"Ctrl-f",run:S0,shift:Ci},{key:"Ctrl-p",run:S4,shift:Ca},{key:"Ctrl-n",run:S5,shift:Cl},{key:"Ctrl-a",run:t=>SH(t,e=>m9.cursor(t.lineBlockAt(e.head).from,1)),shift:t=>Ce(t,e=>m9.cursor(t.lineBlockAt(e.head).from))},{key:"Ctrl-e",run:t=>SH(t,e=>m9.cursor(t.lineBlockAt(e.head).to,-1)),shift:t=>Ce(t,e=>m9.cursor(t.lineBlockAt(e.head).to))},{key:"Ctrl-d",run:CO},{key:"Ctrl-h",run:Cb},{key:"Ctrl-k",run:t=>Cm(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)})},{key:"Ctrl-Alt-h",run:Cx},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:mQ.of(["",""])},range:m9.cursor(t.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let r=e.from,n=t.doc.lineAt(r),i=r==n.from?r-1:mW(n.text,r-n.from,!1)+n.from,o=r==n.to?r+1:mW(n.text,r-n.from,!0)+n.from;return{changes:{from:i,to:o,insert:t.doc.slice(r,o).append(t.doc.slice(i,r))},range:m9.cursor(o)}});return!r.changes.empty&&(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:S9}],CI=/*@__PURE__*/[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>SH(t,e=>S2(t.state,e,!SK(t))),shift:t=>Ce(t,e=>S2(t.state,e,!SK(t)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>SH(t,e=>S2(t.state,e,SK(t))),shift:t=>Ce(t,e=>S2(t.state,e,SK(t)))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>Ck(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>CS(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>Ck(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>CS(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let r=t.selection,n=null;return r.ranges.length>1?n=m9.create([r.main]):r.main.empty||(n=m9.create([m9.cursor(r.main.head)])),!!n&&(e(SW(t,n)),!0)}},{key:"Mod-Enter",run:CA},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let r=C_(t).map(({from:e,to:r})=>m9.range(e,Math.min(r+1,t.doc.length)));return e(t.update({selection:m9.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let r=SU(t.selection,e=>{let r=_K(t),n=r.resolveStack(e.from,1);if(e.empty){let t=r.resolveStack(e.from,-1);t.node.from>=n.node.from&&t.node.to<=n.node.to&&(n=t)}for(let t=n;t;t=t.next){let{node:r}=t;if((r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&t.next)return m9.range(r.to,r.from)}return e});return!r.eq(t.selection)&&(e(SW(t,r)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(CT(t,(e,r)=>{let n=/^\s*/.exec(e.text)[0];if(!n)return;let i=v0(n,t.tabSize),o=0,s=kn(t,Math.max(0,i-kr(t)));for(;o<n.length&&o<s.length&&n.charCodeAt(o)==s.charCodeAt(o);)o++;r.push({from:e.from+o,to:e.from+n.length,insert:s.slice(o)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(CT(t,(e,r)=>{r.push({from:e.from,insert:t.facet(ke)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),n=new ko(t,{overrideIndentation:t=>{let e=r[t];return null==e?-1:e}}),i=CT(t,(e,i,o)=>{let s=ki(n,e.from);if(null==s)return;/\S/.test(e.text)||(s=0);let a=/^\s*/.exec(e.text)[0],l=kn(t,s);(a!=l||o.from<e.from+a.length)&&(r[e.from]=s,i.push({from:e.from,to:e.from+a.length,insert:l}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(C_(e).map(({from:t,to:r})=>(t>0?t--:r<e.doc.length&&r++,{from:t,to:r}))),n=SU(e.selection,e=>{let r;if(t.lineWrapping){let n=t.lineBlockAt(e.head),i=t.coordsAtPos(e.head,e.assoc||1);i&&(r=n.bottom+t.documentTop-i.bottom+t.defaultLineHeight/2)}return t.moveVertically(e,!0,r)}).map(r);return t.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>{let r,n;return r=!1,n=SU(t.selection,e=>{let n=kY(t,e.head,-1)||kY(t,e.head,1)||e.head>0&&kY(t,e.head-1,1)||e.head<t.doc.length&&kY(t,e.head+1,-1);if(!n||!n.end)return e;r=!0;let i=n.start.from==e.head?n.end.to:n.end.from;return m9.cursor(i)}),!!r&&(e(SW(t,n)),!0)}},{key:"Mod-/",run:t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),n=SA(t.state,r.from);return n.line?Sk(t):!!n.block&&SC(t)}},{key:"Alt-A",run:SS},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat(/*@__PURE__*/[{key:"ArrowLeft",run:SJ,shift:Cn,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>S1(t,!SK(t)),shift:t=>Co(t,!SK(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>SH(t,e=>Ct(t,e,!SK(t))),shift:t=>Ce(t,e=>Ct(t,e,!SK(t))),preventDefault:!0},{key:"ArrowRight",run:S0,shift:Ci,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>S1(t,SK(t)),shift:t=>Co(t,SK(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>SH(t,e=>Ct(t,e,SK(t))),shift:t=>Ce(t,e=>Ct(t,e,SK(t))),preventDefault:!0},{key:"ArrowUp",run:S4,shift:Ca,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Cd,shift:Cp},{mac:"Ctrl-ArrowUp",run:S7,shift:Cc},{key:"ArrowDown",run:S5,shift:Cl,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Cf,shift:Cg},{mac:"Ctrl-ArrowDown",run:S9,shift:Cu},{key:"PageUp",run:S7,shift:Cc},{key:"PageDown",run:S9,shift:Cu},{key:"Home",run:t=>SH(t,e=>Ct(t,e,!1)),shift:t=>Ce(t,e=>Ct(t,e,!1)),preventDefault:!0},{key:"Mod-Home",run:Cd,shift:Cp},{key:"End",run:t=>SH(t,e=>Ct(t,e,!0)),shift:t=>Ce(t,e=>Ct(t,e,!0)),preventDefault:!0},{key:"Mod-End",run:Cf,shift:Cg},{key:"Enter",run:CC,shift:CC},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Cb,shift:Cb},{key:"Delete",run:CO},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Cx},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>Cw(t,!0)},{mac:"Mod-Backspace",run:t=>Cm(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)})},{mac:"Mod-Delete",run:t=>Cm(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)})}].concat(/*@__PURE__*/CP.map(t=>({mac:t.key,run:t.run,shift:t.shift}))));function CR(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&"object"==typeof r&&null==r.nodeType&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];"string"==typeof i?t.setAttribute(n,i):null!=i&&(t[n]=i)}e++}for(;e<arguments.length;e++)!function t(e,r){if("string"==typeof r)e.appendChild(document.createTextNode(r));else if(null==r);else if(null!=r.nodeType)e.appendChild(r);else if(Array.isArray(r))for(var n=0;n<r.length;n++)t(e,r[n]);else throw RangeError("Unsupported child node: "+r)}(t,arguments[e]);return t}let CM="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class CN{peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return -1;this.bufferPos=0,this.buffer=this.iter.value}return mH(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=mY(t),r=this.bufferStart+this.bufferPos;this.bufferPos+=mG(t);let n=this.normalize(e);if(n.length)for(let t=0,i=r;;t++){let o=n.charCodeAt(t),s=this.match(o,i,this.bufferPos+this.bufferStart);if(t==n.length-1){if(s)return this.value=s,this;break}i==r&&t<e.length&&e.charCodeAt(t)==o&&i++}}}match(t,e,r){let n=null;for(let e=0;e<this.matches.length;e+=2){let i=this.matches[e],o=!1;this.query.charCodeAt(i)==t&&(i==this.query.length-1?n={from:this.matches[e+1],to:r}:(this.matches[e]++,o=!0)),o||(this.matches.splice(e,2),e-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:r}:this.matches.push(1,e)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}constructor(t,e,r=0,n=t.length,i,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,n),this.bufferStart=r,this.normalize=i?t=>i(CM(t)):CM,this.query=this.normalize(e)}}"undefined"!=typeof Symbol&&(CN.prototype[Symbol.iterator]=function(){return this});let CD={from:-1,to:-1,match:/*@__PURE__*//.*/.exec("")},CL="gm"+(null==/x/.unicode?"":"u");class C${getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let r=this.curLineStart+e.index,n=r+e[0].length;if(this.matchPos=Cj(this.text,n+(r==n?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<n||r>this.value.to)&&(!this.test||this.test(r,n,e)))return this.value={from:r,to:n,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}constructor(t,e,r,n=0,i=t.length){if(this.text=t,this.to=i,this.curLine="",this.done=!1,this.value=CD,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new CB(t,e,r,n,i);this.re=new RegExp(e,CL+((null==r?void 0:r.ignoreCase)?"i":"")),this.test=null==r?void 0:r.test,this.iter=t.iter();let o=t.lineAt(n);this.curLineStart=o.from,this.matchPos=Cj(t,n),this.getLine(this.curLineStart)}}let Cq=/*@__PURE__*/new WeakMap;class CQ{get to(){return this.from+this.text.length}static get(t,e,r){let n=Cq.get(t);if(!n||n.from>=r||n.to<=e){let n=new CQ(e,t.sliceString(e,r));return Cq.set(t,n),n}if(n.from==e&&n.to==r)return n;let{text:i,from:o}=n;return o>e&&(i=t.sliceString(e,o)+i,o=e),n.to<r&&(i+=t.sliceString(n.to,r)),Cq.set(t,new CQ(o,i)),new CQ(e,i.slice(e-o,r-o))}constructor(t,e){this.from=t,this.text=e}}class CB{chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,r=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,r,e)))return this.value={from:t,to:r,match:e},this.matchPos=Cj(this.text,r+(t==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=CQ.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}constructor(t,e,r,n,i){this.text=t,this.to=i,this.done=!1,this.value=CD,this.matchPos=Cj(t,n),this.re=new RegExp(e,CL+((null==r?void 0:r.ignoreCase)?"i":"")),this.test=null==r?void 0:r.test,this.flat=CQ.get(t,n,this.chunkEnd(n+5e3))}}function Cj(t,e){if(e>=t.length)return e;let r=t.lineAt(e),n;for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function Cz(t){let e=CR("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function r(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:n}=t,i=n.doc.lineAt(n.selection.main.head),[,o,s,a,l]=r,h=a?+a.slice(1):0,c=s?+s:i.number;if(s&&l){let t=c/100;o&&(t=t*("-"==o?-1:1)+i.number/n.doc.lines),c=Math.round(n.doc.lines*t)}else s&&o&&(c=c*("-"==o?-1:1)+i.number);let u=n.doc.line(Math.max(1,Math.min(n.doc.lines,c))),d=m9.cursor(u.from+Math.max(0,Math.min(h,u.length)));t.dispatch({effects:[CZ.of(!1),wi.scrollIntoView(d.from,{y:"center"})],selection:d}),t.focus()}return{dom:CR("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:CZ.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),r())},onsubmit:t=>{t.preventDefault(),r()}},CR("label",t.state.phrase("Go to line"),": ",e)," ",CR("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}"undefined"!=typeof Symbol&&(C$.prototype[Symbol.iterator]=CB.prototype[Symbol.iterator]=function(){return this});let CZ=/*@__PURE__*/vE.define(),CF=/*@__PURE__*/vl.define({create:()=>!0,update(t,e){for(let r of e.effects)r.is(CZ)&&(t=r.value);return t},provide:t=>xa.from(t,t=>t?Cz:null)}),CX=/*@__PURE__*/wi.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),CV={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},CU=/*@__PURE__*/vr.define({combine:t=>v$(t,CV,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}),CW=/*@__PURE__*/y1.mark({class:"cm-selectionMatch"}),CH=/*@__PURE__*/y1.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function CY(t,e,r,n){return(0==r||t(e.sliceDoc(r-1,r))!=vN.Word)&&(n==e.doc.length||t(e.sliceDoc(n,n+1))!=vN.Word)}let CG=/*@__PURE__*/bL.fromClass(class{update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(CU),{state:r}=t,n=r.selection;if(n.ranges.length>1)return y1.none;let i=n.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return y1.none;let t=r.wordAt(i.head);if(!t)return y1.none;s=r.charCategorizer(i.head),o=r.sliceDoc(t.from,t.to)}else{let t=i.to-i.from;if(t<e.minSelectionLength||t>200)return y1.none;if(e.wholeWords){var a,l,h;if(o=r.sliceDoc(i.from,i.to),!(CY(s=r.charCategorizer(i.head),r,i.from,i.to)&&(a=s,l=i.from,h=i.to,a(r.sliceDoc(l,l+1))==vN.Word&&a(r.sliceDoc(h-1,h))==vN.Word)))return y1.none}else if(!(o=r.sliceDoc(i.from,i.to)))return y1.none}let c=[];for(let n of t.visibleRanges){let t=new CN(r.doc,o,n.from,n.to);for(;!t.next().done;){let{from:n,to:o}=t.value;if((!s||CY(s,r,n,o))&&(i.empty&&n<=i.from&&o>=i.to?c.push(CH.range(n,o)):(n>=i.to||o<=i.from)&&c.push(CW.range(n,o)),c.length>e.maxMatches))return y1.none}}return y1.set(c)}constructor(t){this.decorations=this.getDeco(t)}},{decorations:t=>t.decorations}),CK=/*@__PURE__*/wi.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),CJ=({state:t,dispatch:e})=>{let{selection:r}=t,n=m9.create(r.ranges.map(e=>t.wordAt(e.head)||m9.cursor(e.head)),r.mainIndex);return!n.eq(r)&&(e(t.update({selection:n})),!0)},C0=/*@__PURE__*/vr.define({combine:t=>v$(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new Ab(t),scrollToMatch:t=>wi.scrollIntoView(t)})});class C1{unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new C7(this):new C4(this)}getCursor(t,e=0,r){let n=t.doc?t:vL.create({doc:t});return null==r&&(r=n.doc.length),this.regexp?C5(this,n,e,r):C3(this,n,e,r)}constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,CL),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}}class C2{constructor(t){this.spec=t}}function C3(t,e,r,n){var i,o;return new CN(e.doc,t.unquoted,r,n,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?(i=e.doc,o=e.charCategorizer(e.selection.main.head),(t,e,r,n)=>((n>t||n+r.length<e)&&(n=Math.max(0,t-2),r=i.sliceString(n,Math.min(i.length,e+2))),(o(C6(r,t-n))!=vN.Word||o(C8(r,t-n))!=vN.Word)&&(o(C8(r,e-n))!=vN.Word||o(C6(r,e-n))!=vN.Word))):void 0)}class C4 extends C2{nextMatch(t,e,r){let n=C3(this.spec,t,r,t.doc.length).nextOverlapping();if(n.done){let r=Math.min(t.doc.length,e+this.spec.unquoted.length);n=C3(this.spec,t,0,r).nextOverlapping()}return n.done||n.value.from==e&&n.value.to==r?null:n.value}prevMatchInRange(t,e,r){for(let n=r;;){let r=Math.max(e,n-1e4-this.spec.unquoted.length),i=C3(this.spec,t,r,n),o=null;for(;!i.nextOverlapping().done;)o=i.value;if(o)return o;if(r==e)return null;n-=1e4}}prevMatch(t,e,r){let n=this.prevMatchInRange(t,0,e);return n||(n=this.prevMatchInRange(t,Math.max(0,r-this.spec.unquoted.length),t.doc.length)),n&&(n.from!=e||n.to!=r)?n:null}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let r=C3(this.spec,t,0,t.doc.length),n=[];for(;!r.next().done;){if(n.length>=e)return null;n.push(r.value)}return n}highlight(t,e,r,n){let i=C3(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,t.doc.length));for(;!i.next().done;)n(i.value.from,i.value.to)}constructor(t){super(t)}}function C5(t,e,r,n){var i;return new C$(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(i=e.charCategorizer(e.selection.main.head),(t,e,r)=>!r[0].length||(i(C6(r.input,r.index))!=vN.Word||i(C8(r.input,r.index))!=vN.Word)&&(i(C8(r.input,r.index+r[0].length))!=vN.Word||i(C6(r.input,r.index+r[0].length))!=vN.Word)):void 0},r,n)}function C6(t,e){return t.slice(mW(t,e,!1),e)}function C8(t,e){return t.slice(e,mW(t,e))}class C7 extends C2{nextMatch(t,e,r){let n=C5(this.spec,t,r,t.doc.length).next();return n.done&&(n=C5(this.spec,t,0,e).next()),n.done?null:n.value}prevMatchInRange(t,e,r){for(let n=1;;n++){let i=Math.max(e,r-1e4*n),o=C5(this.spec,t,i,r),s=null;for(;!o.next().done;)s=o.value;if(s&&(i==e||s.from>i+10))return s;if(i==e)return null}}prevMatch(t,e,r){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,r,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(e,r)=>"$"==r?"$":"&"==r?t.match[0]:"0"!=r&&+r<t.match.length?t.match[r]:e)}matchAll(t,e){let r=C5(this.spec,t,0,t.doc.length),n=[];for(;!r.next().done;){if(n.length>=e)return null;n.push(r.value)}return n}highlight(t,e,r,n){let i=C5(this.spec,t,Math.max(0,e-250),Math.min(r+250,t.doc.length));for(;!i.next().done;)n(i.value.from,i.value.to)}}let C9=/*@__PURE__*/vE.define(),At=/*@__PURE__*/vE.define(),Ae=/*@__PURE__*/vl.define({create:t=>new Ar(Af(t).create(),null),update(t,e){for(let r of e.effects)r.is(C9)?t=new Ar(r.value.create(),t.panel):r.is(At)&&(t=new Ar(t.query,r.value?Ad:null));return t},provide:t=>xa.from(t,t=>t.panel)});class Ar{constructor(t,e){this.query=t,this.panel=e}}let An=/*@__PURE__*/y1.mark({class:"cm-searchMatch"}),Ai=/*@__PURE__*/y1.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Ao=/*@__PURE__*/bL.fromClass(class{update(t){let e=t.state.field(Ae);(e!=t.startState.field(Ae)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return y1.none;let{view:r}=this,n=new vZ;for(let e=0,i=r.visibleRanges,o=i.length;e<o;e++){let{from:s,to:a}=i[e];for(;e<o-1&&a>i[e+1].from-500;)a=i[++e].to;t.highlight(r.state,s,a,(t,e)=>{let i=r.state.selection.ranges.some(r=>r.from==t&&r.to==e);n.add(t,e,i?Ai:An)})}return n.finish()}constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Ae))}},{decorations:t=>t.decorations});function As(t){return e=>{let r=e.state.field(Ae,!1);return r&&r.query.spec.valid?t(e,r):Am(e)}}let Aa=/*@__PURE__*/As((t,{query:e})=>{let{to:r}=t.state.selection.main,n=e.nextMatch(t.state,r,r);if(!n)return!1;let i=m9.single(n.from,n.to),o=t.state.facet(C0);return t.dispatch({selection:i,effects:[Ax(t,n),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),Ag(t),!0}),Al=/*@__PURE__*/As((t,{query:e})=>{let{state:r}=t,{from:n}=r.selection.main,i=e.prevMatch(r,n,n);if(!i)return!1;let o=m9.single(i.from,i.to),s=t.state.facet(C0);return t.dispatch({selection:o,effects:[Ax(t,i),s.scrollToMatch(o.main,t)],userEvent:"select.search"}),Ag(t),!0}),Ah=/*@__PURE__*/As((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!!r&&!!r.length&&(t.dispatch({selection:m9.create(r.map(t=>m9.range(t.from,t.to))),userEvent:"select.search.matches"}),!0)}),Ac=/*@__PURE__*/As((t,{query:e})=>{let{state:r}=t,{from:n,to:i}=r.selection.main;if(r.readOnly)return!1;let o=e.nextMatch(r,n,n);if(!o)return!1;let s=o,a=[],l,h,c=[];if(s.from==n&&s.to==i&&(h=r.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:h}),s=e.nextMatch(r,s.from,s.to),c.push(wi.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+"."))),s){let e=0==a.length||a[0].from>=o.to?0:o.to-o.from-h.length;l=m9.single(s.from-e,s.to-e),c.push(Ax(t,s)),c.push(r.facet(C0).scrollToMatch(l.main,t))}return t.dispatch({changes:a,selection:l,effects:c,userEvent:"input.replace"}),!0}),Au=/*@__PURE__*/As((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(t=>{let{from:r,to:n}=t;return{from:r,to:n,insert:e.getReplacement(t)}});if(!r.length)return!1;let n=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:wi.announce.of(n),userEvent:"input.replace.all"}),!0});function Ad(t){return t.state.facet(C0).createPanel(t)}function Af(t,e){var r,n,i,o,s;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let h=t.facet(C0);return new C1({search:(null!==(r=null==e?void 0:e.literal)&&void 0!==r?r:h.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(n=null==e?void 0:e.caseSensitive)&&void 0!==n?n:h.caseSensitive,literal:null!==(i=null==e?void 0:e.literal)&&void 0!==i?i:h.literal,regexp:null!==(o=null==e?void 0:e.regexp)&&void 0!==o?o:h.regexp,wholeWord:null!==(s=null==e?void 0:e.wholeWord)&&void 0!==s?s:h.wholeWord})}function Ap(t){let e=xn(t,Ad);return e&&e.dom.querySelector("[main-field]")}function Ag(t){let e=Ap(t);e&&e==t.root.activeElement&&e.select()}let Am=t=>{let e=t.state.field(Ae,!1);if(e&&e.panel){let r=Ap(t);if(r&&r!=t.root.activeElement){let n=Af(t.state,e.query.spec);n.valid&&t.dispatch({effects:C9.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[At.of(!0),e?C9.of(Af(t.state,e.query.spec)):vE.appendConfig.of(Ak)]});return!0},Av=t=>{let e=t.state.field(Ae,!1);if(!e||!e.panel)return!1;let r=xn(t,Ad);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:At.of(!1)}),!0},Ay=[{key:"Mod-f",run:Am,scope:"editor search-panel"},{key:"F3",run:Aa,shift:Al,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Aa,shift:Al,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Av,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:i}=r.main,o=[],s=0;for(let e=new CN(t.doc,t.sliceDoc(n,i));!e.next().done;){if(o.length>1e3)return!1;e.value.from==n&&(s=o.length),o.push(m9.range(e.value.from,e.value.to))}return e(t.update({selection:m9.create(o,s),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let e=xn(t,Cz);if(!e){let r=[CZ.of(!0)];null==t.state.field(CF,!1)&&r.push(vE.appendConfig.of([CF,CX])),t.dispatch({effects:r}),e=xn(t,Cz)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(t=>t.from===t.to))return CJ({state:t,dispatch:e});let n=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(e=>t.sliceDoc(e.from,e.to)!=n))return!1;let i=function(t,e){let{main:r,ranges:n}=t.selection,i=t.wordAt(r.head),o=i&&i.from==r.from&&i.to==r.to;for(let r=!1,i=new CN(t.doc,e,n[n.length-1].to);;)if(i.next(),i.done){if(r)return null;i=new CN(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),r=!0}else{if(r&&n.some(t=>t.from==i.value.from))continue;if(o){let e=t.wordAt(i.value.from);if(!e||e.from!=i.value.from||e.to!=i.value.to)continue}return i.value}}(t,n);return!!i&&(e(t.update({selection:t.selection.addRange(m9.range(i.from,i.to),!1),effects:wi.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class Ab{commit(){let t=new C1({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:C9.of(t)}))}keydown(t){var e,r;(e=this.view,r="search-panel",wv(wp(e.state),t,e,r))?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Al:Aa)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),Ac(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(C9)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(C0).top}constructor(t){this.view=t;let e=this.query=t.state.field(Ae).query.spec;function r(t,e,r){return CR("button",{class:"cm-button",name:t,onclick:e,type:"button"},r)}this.commit=this.commit.bind(this),this.searchField=CR("input",{value:e.search,placeholder:AO(t,"Find"),"aria-label":AO(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=CR("input",{value:e.replace,placeholder:AO(t,"Replace"),"aria-label":AO(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=CR("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=CR("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=CR("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=CR("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,r("next",()=>Aa(t),[AO(t,"next")]),r("prev",()=>Al(t),[AO(t,"previous")]),r("select",()=>Ah(t),[AO(t,"all")]),CR("label",null,[this.caseField,AO(t,"match case")]),CR("label",null,[this.reField,AO(t,"regexp")]),CR("label",null,[this.wordField,AO(t,"by word")]),...t.state.readOnly?[]:[CR("br"),this.replaceField,r("replace",()=>Ac(t),[AO(t,"replace")]),r("replaceAll",()=>Au(t),[AO(t,"replace all")])],CR("button",{name:"close",onclick:()=>Av(t),"aria-label":AO(t,"close"),type:"button"},["×"])])}}function AO(t,e){return t.state.phrase(e)}let Aw=/[\s\.,:;?!]/;function Ax(t,{from:e,to:r}){let n=t.state.doc.lineAt(e),i=t.state.doc.lineAt(r).to,o=Math.max(n.from,e-30),s=Math.min(i,r+30),a=t.state.sliceDoc(o,s);if(o!=n.from){for(let t=0;t<30;t++)if(!Aw.test(a[t+1])&&Aw.test(a[t])){a=a.slice(t);break}}if(s!=i){for(let t=a.length-1;t>a.length-30;t--)if(!Aw.test(a[t-1])&&Aw.test(a[t])){a=a.slice(0,t);break}}return wi.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${n.number}.`)}let A_=/*@__PURE__*/wi.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Ak=[Ae,/*@__PURE__*/vu.low(Ao),A_];class AS{tokenBefore(t){let e=_K(this.state).resolveInner(this.pos,-1);for(;e&&0>t.indexOf(e.name);)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),r=Math.max(e.from,this.pos-250),n=e.text.slice(r-e.from,this.pos-e.from),i=n.search(AP(t,!1));return i<0?null:{from:r+i,to:this.pos,text:n.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(t,e,r){"abort"==t&&this.abortListeners&&(this.abortListeners.push(e),r&&r.onDocChange&&(this.abortOnDocChange=!0))}constructor(t,e,r,n){this.state=t,this.pos=e,this.explicit=r,this.view=n,this.abortListeners=[],this.abortOnDocChange=!1}}function AC(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function AA(t){let e=t.map(t=>"string"==typeof t?{label:t}:t),[r,n]=e.every(t=>/^\w+$/.test(t.label))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),r=Object.create(null);for(let{label:n}of t){e[n[0]]=!0;for(let t=1;t<n.length;t++)r[n[t]]=!0}let n=AC(e)+AC(r)+"*$";return[RegExp("^"+n),new RegExp(n)]}(e);return t=>{let i=t.matchBefore(n);return i||t.explicit?{from:i?i.from:t.pos,options:e,validFor:r}:null}}class AE{constructor(t,e,r,n){this.completion=t,this.source=e,this.match=r,this.score=n}}function AT(t){return t.selection.main.from}function AP(t,e){var r;let{source:n}=t,i=e&&"^"!=n[0],o="$"!=n[n.length-1];return i||o?RegExp(`${i?"^":""}(?:${n})${o?"$":""}`,null!==(r=t.flags)&&void 0!==r?r:t.ignoreCase?"i":""):t}let AI=/*@__PURE__*/vS.define(),AR=/*@__PURE__*/new WeakMap;function AM(t){if(!Array.isArray(t))return t;let e=AR.get(t);return e||AR.set(t,e=AA(t)),e}let AN=/*@__PURE__*/vE.define(),AD=/*@__PURE__*/vE.define();class AL{ret(t,e){return this.score=t,this.matched=e,this}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:r,any:n,precise:i,byWord:o}=this;if(1==e.length){let n=mH(t,0),i=mG(n),o=i==t.length?0:-100;if(n==e[0]);else{if(n!=r[0])return null;o+=-200}return this.ret(o,[0,i])}let s=t.indexOf(this.pattern);if(0==s)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=e.length,l=0;if(s<0){for(let i=0,o=Math.min(t.length,200);i<o&&l<a;){let o=mH(t,i);(o==e[l]||o==r[l])&&(n[l++]=i),i+=mG(o)}if(l<a)return null}let h=0,c=0,u=!1,d=0,f=-1,p=-1,g=/[a-z]/.test(t),m=!0;for(let n=0,l=Math.min(t.length,200),v=0;n<l&&c<a;){let l=mH(t,n);s<0&&(h<a&&l==e[h]&&(i[h++]=n),d<a&&(l==e[d]||l==r[d]?(0==d&&(f=n),p=n+1,d++):d=0));let y,b=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(y=mY(l))!=y.toLowerCase()?1:y!=y.toUpperCase()?2:0;(!n||1==b&&g||0==v&&0!=b)&&(e[c]==l||r[c]==l&&(u=!0)?o[c++]=n:o.length&&(m=!1)),v=b,n+=mG(l)}return c==a&&0==o[0]&&m?this.result(-100+(u?-200:0),o,t):d==a&&0==f?this.ret(-200-t.length+(p==t.length?0:-100),[0,p]):s>-1?this.ret(-700-t.length,[s,s+this.pattern.length]):d==a?this.ret(-900-t.length,[f,p]):c==a?this.result(-100+(u?-200:0)+-700+(m?0:-1100),o,t):2==e.length?null:this.result((n[0]?-700:0)+-200+-1100,n,t)}result(t,e,r){let n=[],i=0;for(let t of e){let e=t+(this.astral?mG(mH(r,t)):1);i&&n[i-1]==t?n[i-1]=e:(n[i++]=t,n[i++]=e)}return this.ret(t-r.length,n)}constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let r=mH(t,e),n=mG(r);this.chars.push(r);let i=t.slice(e,e+n),o=i.toUpperCase();this.folded.push(mH(o==i?i.toLowerCase():o,0)),e+=n}this.astral=t.length!=this.chars.length}}class A${match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),r=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return null==r?null:(this.matched=[0,e.length],this.score=r+(t.length==this.pattern.length?0:-100),this)}constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}}let Aq=/*@__PURE__*/vr.define({combine:t=>v$(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:AB,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>r=>AQ(t(r),e(r)),optionClass:(t,e)=>r=>AQ(t(r),e(r)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})});function AQ(t,e){return t?e?t+" "+e:t:e}function AB(t,e,r,n,i,o){let s=t.textDirection==bn.RTL,a=s,l=!1,h="top",c,u,d=e.left-i.left,f=i.right-e.right,p=n.right-n.left,g=n.bottom-n.top;if(a&&d<Math.min(p,f)?a=!1:!a&&f<Math.min(p,d)&&(a=!0),p<=(a?d:f))c=Math.max(i.top,Math.min(r.top,i.bottom-g))-e.top,u=Math.min(400,a?d:f);else{l=!0,u=Math.min(400,(s?e.right:i.right-e.left)-30);let t=i.bottom-e.bottom;t>=g||t>e.top?c=r.bottom-e.top:(h="bottom",c=e.bottom-r.top)}let m=(e.bottom-e.top)/o.offsetHeight,v=(e.right-e.left)/o.offsetWidth;return{style:`${h}: ${c/m}px; max-width: ${u/v}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function Aj(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/r);return{from:t*r,to:(t+1)*r}}let n=Math.floor((t-e)/r);return{from:t-(n+1)*r,to:t-n*r}}class Az{mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var e;let r=t.state.field(this.stateField),n=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),r!=n){let{options:i,selected:o,disabled:s}=r.open;n.open&&n.open.options==i||(this.range=Aj(i.length,o,t.state.facet(Aq).maxRenderedOptions),this.showOptions(i,r.id)),this.updateSel(),s!=(null===(e=n.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let t of this.currentClass.split(" "))t&&this.dom.classList.remove(t);for(let t of e.split(" "))t&&this.dom.classList.add(t);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=Aj(e.options.length,e.selected,this.view.state.facet(Aq).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:r}=e.options[e.selected],{info:n}=r;if(!n)return;let i="string"==typeof n?document.createTextNode(n):n(r);if(!i)return;"then"in i?i.then(e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e,r)}).catch(t=>bR(this.view.state,t,"completion info")):this.addInfoPane(i,r)}}addInfoPane(t,e){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",null!=t.nodeType)r.appendChild(t),this.infoDestroy=null;else{let{dom:e,destroy:n}=t;r.appendChild(e),this.infoDestroy=n||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){var e,r;let n,i,o,s=null;for(let e=this.list.firstChild,r=this.range.from;e;e=e.nextSibling,r++)"LI"==e.nodeName&&e.id?r==t?e.hasAttribute("aria-selected")||(e.setAttribute("aria-selected","true"),s=e):e.hasAttribute("aria-selected")&&e.removeAttribute("aria-selected"):r--;return s&&(e=this.list,r=s,n=e.getBoundingClientRect(),i=r.getBoundingClientRect(),o=n.height/e.offsetHeight,i.top<n.top?e.scrollTop-=(n.top-i.top)/o:i.bottom>n.bottom&&(e.scrollTop+=(i.bottom-n.bottom)/o)),s}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),n=t.getBoundingClientRect(),i=this.space;if(!i){let t=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:t.innerWidth,bottom:t.innerHeight}}return n.top>Math.min(i.bottom,e.bottom)-10||n.bottom<Math.max(i.top,e.top)+10?null:this.view.state.facet(Aq).positionInfo(this.view,e,n,r,i,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,r){let n=document.createElement("ul");n.id=e,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let o=r.from;o<r.to;o++){let{completion:s,match:a}=t[o],{section:l}=s;if(l){let t="string"==typeof l?l:l.name;t!=i&&(o>r.from||0==r.from)&&(i=t,"string"!=typeof l&&l.header?n.appendChild(l.header(l)):n.appendChild(document.createElement("completion-section")).textContent=t)}let h=n.appendChild(document.createElement("li"));h.id=e+"-"+o,h.setAttribute("role","option");let c=this.optionClass(s);for(let t of(c&&(h.className=c),this.optionContent)){let e=t(s,this.view.state,this.view,a);e&&h.appendChild(e)}}return r.from&&n.classList.add("cm-completionListIncompleteTop"),r.to<t.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}constructor(t,e,r){let n;this.view=t,this.stateField=e,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:t=>this.placeInfo(t),key:this},this.space=null,this.currentClass="";let i=t.state.field(e),{options:o,selected:s}=i.open,a=t.state.facet(Aq);this.optionContent=(n=a.addToOptions.slice(),a.icons&&n.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map(t=>"cm-completionIcon-"+t)),e.setAttribute("aria-hidden","true"),e},position:20}),n.push({render(t,e,r,n){let i=document.createElement("span");i.className="cm-completionLabel";let o=t.displayLabel||t.label,s=0;for(let t=0;t<n.length;){let e=n[t++],r=n[t++];e>s&&i.appendChild(document.createTextNode(o.slice(s,e)));let a=i.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(o.slice(e,r))),a.className="cm-completionMatchedText",s=r}return s<o.length&&i.appendChild(document.createTextNode(o.slice(s))),i},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),n.sort((t,e)=>t.position-e.position).map(t=>t.render)),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Aj(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",r=>{let{options:n}=t.state.field(e).open;for(let e=r.target,i;e&&e!=this.dom;e=e.parentNode)if("LI"==e.nodeName&&(i=/-(\d+)$/.exec(e.id))&&+i[1]<n.length){this.applyCompletion(t,n[+i[1]]),r.preventDefault();return}}),this.dom.addEventListener("focusout",e=>{let r=t.state.field(this.stateField,!1);r&&r.tooltip&&t.state.facet(Aq).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:AD.of(null)})}),this.showOptions(o,i.id)}}function AZ(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class AF{setSelected(t,e){return t==this.selected||t>=this.options.length?this:new AF(this.options,AW(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,r,n,i,o){if(n&&!o&&t.some(t=>t.isPending))return n.setDisabled();let s=function(t,e){let r=[],n=null,i=t=>{r.push(t);let{section:e}=t.completion;if(e){n||(n=[]);let t="string"==typeof e?e:e.name;n.some(e=>e.name==t)||n.push("string"==typeof e?{name:t}:e)}},o=e.facet(Aq);for(let n of t)if(n.hasResult()){let t=n.result.getMatch;if(!1===n.result.filter)for(let e of n.result.options)i(new AE(e,n.source,t?t(e):[],1e9-r.length));else{let r=e.sliceDoc(n.from,n.to),s,a=o.filterStrict?new A$(r):new AL(r);for(let e of n.result.options)if(s=a.match(e.label)){let r=e.displayLabel?t?t(e,s.matched):[]:s.matched;i(new AE(e,n.source,r,s.score+(e.boost||0)))}}}if(n){let t=Object.create(null),e=0;for(let r of n.sort((t,e)=>{var r,n;return(null!==(r=t.rank)&&void 0!==r?r:1e9)-(null!==(n=e.rank)&&void 0!==n?n:1e9)||(t.name<e.name?-1:1)}))e-=1e5,t[r.name]=e;for(let e of r){let{section:r}=e.completion;r&&(e.score+=t["string"==typeof r?r:r.name])}}let s=[],a=null,l=o.compareCompletions;for(let t of r.sort((t,e)=>e.score-t.score||l(t.completion,e.completion))){let e=t.completion;a&&a.label==e.label&&a.detail==e.detail&&(null==a.type||null==e.type||a.type==e.type)&&a.apply==e.apply&&a.boost==e.boost?AZ(t.completion)>AZ(a)&&(s[s.length-1]=t):s.push(t),a=t.completion}return s}(t,e);if(!s.length)return n&&t.some(t=>t.isPending)?n.setDisabled():null;let a=e.facet(Aq).selectOnOpen?0:-1;if(n&&n.selected!=a&&-1!=n.selected){let t=n.options[n.selected].completion;for(let e=0;e<s.length;e++)if(s[e].completion==t){a=e;break}}return new AF(s,AW(r,a),{pos:t.reduce((t,e)=>e.hasResult()?Math.min(t,e.from):t,1e8),create:A3,above:i.aboveCursor},n?n.timestamp:Date.now(),a,!1)}map(t){return new AF(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new AF(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}constructor(t,e,r,n,i,o){this.options=t,this.attrs=e,this.tooltip=r,this.timestamp=n,this.selected=i,this.disabled=o}}class AX{static start(){return new AX(AH,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,r=e.facet(Aq),n=(r.override||e.languageDataAt("autocomplete",AT(e)).map(AM)).map(e=>(this.active.find(t=>t.source==e)||new AG(e,this.active.some(t=>0!=t.state)?1:0)).update(t,r));n.length==this.active.length&&n.every((t,e)=>t==this.active[e])&&(n=this.active);let i=this.open,o=t.effects.some(t=>t.is(AJ));for(let s of(i&&t.docChanged&&(i=i.map(t.changes)),t.selection||n.some(e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to))||!function(t,e){if(t==e)return!0;for(let r=0,n=0;;){for(;r<t.length&&!t[r].hasResult();)r++;for(;n<e.length&&!e[n].hasResult();)n++;let i=r==t.length,o=n==e.length;if(i||o)return i==o;if(t[r++].result!=e[n++].result)return!1}}(n,this.active)||o?i=AF.build(n,e,this.id,i,r,o):i&&i.disabled&&!n.some(t=>t.isPending)&&(i=null),!i&&n.every(t=>!t.isPending)&&n.some(t=>t.hasResult())&&(n=n.map(t=>t.hasResult()?new AG(t.source,0):t)),t.effects))s.is(A0)&&(i=i&&i.setSelected(s.value,this.id));return n==this.active&&i==this.open?this:new AX(n,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?AV:AU}constructor(t,e,r){this.active=t,this.id=e,this.open=r}}let AV={"aria-autocomplete":"list"},AU={};function AW(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}let AH=[];function AY(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(AI);if(r&&e.activateOnCompletion(r))return 12}let r=t.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class AG{hasResult(){return!1}get isPending(){return 1==this.state}update(t,e){let r=AY(t,e),n=this;for(let e of((8&r||16&r&&this.touches(t))&&(n=new AG(n.source,0)),4&r&&0==n.state&&(n=new AG(this.source,1)),n=n.updateFor(t,r),t.effects))if(e.is(AN))n=new AG(n.source,1,e.value);else if(e.is(AD))n=new AG(n.source,0);else if(e.is(AJ))for(let t of e.value)t.source==n.source&&(n=t);return n}updateFor(t,e){return this.map(t.changes)}map(t){return this}touches(t){return t.changes.touchesRange(AT(t.state))}constructor(t,e,r=!1){this.source=t,this.state=e,this.explicit=r}}class AK extends AG{hasResult(){return!0}updateFor(t,e){var r;if(!(3&e))return this.map(t.changes);let n=this.result;n.map&&!t.changes.empty&&(n=n.map(n,t.changes));let i=t.changes.mapPos(this.from),o=t.changes.mapPos(this.to,1),s=AT(t.state);if(s>o||!n||2&e&&(AT(t.startState)==this.from||s<this.limit))return new AG(this.source,4&e?1:0);let a=t.changes.mapPos(this.limit);return!function(t,e,r,n){if(!t)return!1;let i=e.sliceDoc(r,n);return"function"==typeof t?t(i,r,n,e):AP(t,!0).test(i)}(n.validFor,t.state,i,o)?n.update&&(n=n.update(n,i,o,new AS(t.state,s,!1)))?new AK(this.source,this.explicit,a,n,n.from,null!==(r=n.to)&&void 0!==r?r:AT(t.state)):new AG(this.source,1,this.explicit):new AK(this.source,this.explicit,a,n,i,o)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new AK(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new AG(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}constructor(t,e,r,n,i,o){super(t,3,e),this.limit=r,this.result=n,this.from=i,this.to=o}}let AJ=/*@__PURE__*/vE.define({map:(t,e)=>t.map(t=>t.map(e))}),A0=/*@__PURE__*/vE.define(),A1=/*@__PURE__*/vl.define({create:()=>AX.start(),update:(t,e)=>t.update(e),provide:t=>[w5.from(t,t=>t.tooltip),wi.contentAttributes.from(t,t=>t.attrs)]});function A2(t,e){let r=e.completion.apply||e.completion.label,n=t.state.field(A1).active.find(t=>t.source==e.source);return n instanceof AK&&("string"==typeof r?t.dispatch(Object.assign(Object.assign({},function(t,e,r,n){let{main:i}=t.selection,o=r-i.from,s=n-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=i&&r!=n&&t.sliceDoc(a.from+o,a.from+s)!=t.sliceDoc(r,n))return{range:a};let l=t.toText(e);return{changes:{from:a.from+o,to:n==i.from?a.to:a.from+s,insert:l},range:m9.cursor(a.from+o+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,r,n.from,n.to)),{annotations:AI.of(e.completion)})):r(t,e.completion,n.from,n.to),!0)}let A3=t=>new Az(t,A1,A2);function A4(t,e="option"){return r=>{let n=r.state.field(A1,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(Aq).interactionDelay)return!1;let i=1,o;"page"==e&&(o=xt(r,n.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=n.open.options,a=n.open.selected>-1?n.open.selected+i*(t?1:-1):t?0:s-1;return a<0?a="page"==e?0:s-1:a>=s&&(a="page"==e?s-1:0),r.dispatch({effects:A0.of(a)}),!0}}let A5=t=>!!t.state.field(A1,!1)&&(t.dispatch({effects:AN.of(!0)}),!0);class A6{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}let A8=/*@__PURE__*/bL.fromClass(class{update(t){let e=t.state.field(A1),r=t.state.facet(Aq);if(!t.selectionSet&&!t.docChanged&&t.startState.field(A1)==e)return;let n=t.transactions.some(t=>{let e=AY(t,r);return 8&e||(t.selection||t.docChanged)&&!(3&e)});for(let e=0;e<this.running.length;e++){let r=this.running[e];if(n||r.context.abortOnDocChange&&t.docChanged||r.updates.length+t.transactions.length>50&&Date.now()-r.time>1e3){for(let t of r.context.abortListeners)try{t()}catch(t){bR(this.view.state,t)}r.context.abortListeners=null,this.running.splice(e--,1)}else r.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(t=>t.effects.some(t=>t.is(AN)))&&(this.pendingStart=!0);let i=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(t=>t.isPending&&!this.running.some(e=>e.active.source==t.source))?setTimeout(()=>this.startUpdate(),i):-1,0!=this.composing)for(let e of t.transactions)e.isUserEvent("input.type")?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(A1);for(let t of e.active)t.isPending&&!this.running.some(e=>e.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Aq).updateSyncTime))}startQuery(t){let{state:e}=this.view,r=AT(e),n=new AS(e,r,t.explicit,this.view),i=new A6(t,n);this.running.push(i),Promise.resolve(t.source(n)).then(t=>{i.context.aborted||(i.done=t||null,this.scheduleAccept())},t=>{this.view.dispatch({effects:AD.of(null)}),bR(this.view.state,t)})}scheduleAccept(){this.running.every(t=>void 0!==t.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Aq).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(Aq),n=this.view.state.field(A1);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(void 0===o.done)continue;if(this.running.splice(i--,1),o.done){let n=AT(o.updates.length?o.updates[0].startState:this.view.state),i=Math.min(n,o.done.from+(o.active.explicit?0:1)),s=new AK(o.active.source,o.active.explicit,i,o.done,o.done.from,null!==(t=o.done.to)&&void 0!==t?t:n);for(let t of o.updates)s=s.update(t,r);if(s.hasResult()){e.push(s);continue}}let s=n.active.find(t=>t.source==o.active.source);if(s&&s.isPending){if(null==o.done){let t=new AG(o.active.source,0);for(let e of o.updates)t=t.update(e,r);t.isPending||e.push(t)}else this.startQuery(s)}}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:AJ.of(e)})}constructor(t){for(let e of(this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0,t.state.field(A1).active))e.isPending&&this.startQuery(e)}},{eventHandlers:{blur(t){let e=this.view.state.field(A1,!1);if(e&&e.tooltip&&this.view.state.facet(Aq).closeOnBlur){let r=e.open&&xt(this.view,e.open.tooltip);r&&r.dom.contains(t.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:AD.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:AN.of(!1)}),20),this.composing=0}}}),A7="object"==typeof navigator&&/*@__PURE__*//Win/.test(navigator.platform),A9=/*@__PURE__*/vu.highest(/*@__PURE__*/wi.domEventHandlers({keydown(t,e){let r=e.state.field(A1,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||t.key.length>1||t.ctrlKey&&!(A7&&t.altKey)||t.metaKey)return!1;let n=r.open.options[r.open.selected],i=r.active.find(t=>t.source==n.source),o=n.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&A2(e,n),!1}})),Et=/*@__PURE__*/wi.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'\uD835\uDC65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\uD835\uDC36'"}},".cm-completionIcon-type":{"&:after":{content:"'\uD835\uDC61'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\uD83D\uDD11︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Ee{constructor(t,e,r,n){this.field=t,this.line=e,this.from=r,this.to=n}}class Er{map(t){let e=t.mapPos(this.from,-1,mJ.TrackDel),r=t.mapPos(this.to,1,mJ.TrackDel);return null==e||null==r?null:new Er(this.field,e,r)}constructor(t,e,r){this.field=t,this.from=e,this.to=r}}class En{instantiate(t,e){let r=[],n=[e],i=t.doc.lineAt(e),o=/^\s*/.exec(i.text)[0];for(let i of this.lines){if(r.length){let r=o,s=/^\t*/.exec(i)[0].length;for(let e=0;e<s;e++)r+=t.facet(ke);n.push(e+r.length-s),i=r+i.slice(s)}r.push(i),e+=i.length+1}return{text:r,ranges:this.fieldPositions.map(t=>new Er(t.field,n[t.line]+t.from,n[t.line]+t.to))}}static parse(t){let e=[],r=[],n=[],i;for(let o of t.split(/\r\n?|\n/)){for(;i=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let t=i[1]?+i[1]:null,s=i[2]||i[3]||"",a=-1,l=s.replace(/\\[{}]/g,t=>t[1]);for(let r=0;r<e.length;r++)(null!=t?e[r].seq==t:l&&e[r].name==l)&&(a=r);if(a<0){let r=0;for(;r<e.length&&(null==t||null!=e[r].seq&&e[r].seq<t);)r++;for(let i of(e.splice(r,0,{seq:t,name:l}),a=r,n))i.field>=a&&i.field++}n.push(new Ee(a,r.length,i.index,i.index+l.length)),o=o.slice(0,i.index)+s+o.slice(i.index+i[0].length)}o=o.replace(/\\([{}])/g,(t,e,i)=>{for(let t of n)t.line==r.length&&t.from>i&&(t.from--,t.to--);return e}),r.push(o)}return new En(r,n)}constructor(t,e){this.lines=t,this.fieldPositions=e}}let Ei=/*@__PURE__*/y1.widget({widget:/*@__PURE__*/new class extends yJ{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),Eo=/*@__PURE__*/y1.mark({class:"cm-snippetField"});class Es{map(t){let e=[];for(let r of this.ranges){let n=r.map(t);if(!n)return null;e.push(n)}return new Es(e,this.active)}selectionInsideField(t){return t.ranges.every(t=>this.ranges.some(e=>e.field==this.active&&e.from<=t.from&&e.to>=t.to))}constructor(t,e){this.ranges=t,this.active=e,this.deco=y1.set(t.map(t=>(t.from==t.to?Ei:Eo).range(t.from,t.to)))}}let Ea=/*@__PURE__*/vE.define({map:(t,e)=>t&&t.map(e)}),El=/*@__PURE__*/vE.define(),Eh=/*@__PURE__*/vl.define({create:()=>null,update(t,e){for(let r of e.effects){if(r.is(Ea))return r.value;if(r.is(El)&&t)return new Es(t.ranges,r.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>wi.decorations.from(t,t=>t?t.deco:y1.none)});function Ec(t,e){return m9.create(t.filter(t=>t.field==e).map(t=>m9.range(t.from,t.to)))}function Eu(t){return({state:e,dispatch:r})=>{let n=e.field(Eh,!1);if(!n||t<0&&0==n.active)return!1;let i=n.active+t,o=t>0&&!n.ranges.some(e=>e.field==i+t);return r(e.update({selection:Ec(n.ranges,i),effects:Ea.of(o?null:new Es(n.ranges,i)),scrollIntoView:!0})),!0}}let Ed=[{key:"Tab",run:/*@__PURE__*/Eu(1),shift:/*@__PURE__*/Eu(-1)},{key:"Escape",run:({state:t,dispatch:e})=>!!t.field(Eh,!1)&&(e(t.update({effects:Ea.of(null)})),!0)}],Ef=/*@__PURE__*/vr.define({combine:t=>t.length?t[0]:Ed}),Ep=/*@__PURE__*/vu.highest(/*@__PURE__*/wd.compute([Ef],t=>t.facet(Ef)));function Eg(t,e){let r;return Object.assign(Object.assign({},e),{apply:(r=En.parse(t),(t,e,n,i)=>{let{text:o,ranges:s}=r.instantiate(t.state,n),{main:a}=t.state.selection,l={changes:{from:n,to:i==a.from?a.to:i,insert:mQ.of(o)},scrollIntoView:!0,annotations:e?[AI.of(e),vT.userEvent.of("input.complete")]:void 0};if(s.length&&(l.selection=Ec(s,0)),s.some(t=>t.field>0)){let e=new Es(s,0),r=l.effects=[Ea.of(e)];void 0===t.state.field(Eh,!1)&&r.push(vE.appendConfig.of([Eh,Ep,Em,Et]))}t.dispatch(t.state.update(l))})})}let Em=/*@__PURE__*/wi.domEventHandlers({mousedown(t,e){let r=e.state.field(Eh,!1),n;if(!r||null==(n=e.posAtCoords({x:t.clientX,y:t.clientY})))return!1;let i=r.ranges.find(t=>t.from<=n&&t.to>=n);return!!i&&i.field!=r.active&&(e.dispatch({selection:Ec(r.ranges,i.field),effects:Ea.of(r.ranges.some(t=>t.field>i.field)?new Es(r.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Ev={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ey=/*@__PURE__*/vE.define({map(t,e){let r=e.mapPos(t,-1,mJ.TrackAfter);return null==r?void 0:r}}),Eb=/*@__PURE__*/new class extends vq{};Eb.startSide=1,Eb.endSide=-1;let EO=/*@__PURE__*/vl.define({create:()=>vz.empty,update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:t=>t>=r.from&&t<=r.to})}for(let r of e.effects)r.is(Ey)&&(t=t.update({add:[Eb.range(r.value,r.value+1)]}));return t}}),Ew="()[]{}<>";function Ex(t){for(let e=0;e<Ew.length;e+=2)if(Ew.charCodeAt(e)==t)return Ew.charAt(e+1);return mY(t<128?t:t+1)}function E_(t,e){return t.languageDataAt("closeBrackets",e)[0]||Ev}let Ek="object"==typeof navigator&&/*@__PURE__*//Android\b/.test(navigator.userAgent),ES=/*@__PURE__*/wi.inputHandler.of((t,e,r,n)=>{if((Ek?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(n.length>2||2==n.length&&1==mG(mH(n,0))||e!=i.from||r!=i.to)return!1;let o=function(t,e){let r=E_(t,t.selection.main.head),n=r.brackets||Ev.brackets;for(let i of n){let o=Ex(mH(i,0));if(e==i)return o==i?function(t,e,r,n){let i=n.stringPrefixes||Ev.stringPrefixes,o=null,s=t.changeByRange(n=>{if(!n.empty)return{changes:[{insert:e,from:n.from},{insert:e,from:n.to}],effects:Ey.of(n.to+e.length),range:m9.range(n.anchor+e.length,n.head+e.length)};let s=n.head,a=EE(t.doc,s),l;if(a==e){if(ET(t,s))return{changes:{insert:e+e,from:s},effects:Ey.of(s+e.length),range:m9.cursor(s+e.length)};if(EA(t,s)){let n=r&&t.sliceDoc(s,s+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:s,to:s+n.length,insert:n},range:m9.cursor(s+n.length)}}}else if(r&&t.sliceDoc(s-2*e.length,s)==e+e&&(l=EP(t,s-2*e.length,i))>-1&&ET(t,l))return{changes:{insert:e+e+e+e,from:s},effects:Ey.of(s+e.length),range:m9.cursor(s+e.length)};else if(t.charCategorizer(s)(a)!=vN.Word&&EP(t,s,i)>-1&&!function(t,e,r,n){let i=_K(t).resolveInner(e,-1),o=n.reduce((t,e)=>Math.max(t,e.length),0);for(let s=0;s<5;s++){let s=t.sliceDoc(i.from,Math.min(i.to,i.from+r.length+o)),a=s.indexOf(r);if(!a||a>-1&&n.indexOf(s.slice(0,a))>-1){let e=i.firstChild;for(;e&&e.from==i.from&&e.to-e.from>r.length+a;){if(t.sliceDoc(e.to-r.length,e.to)==r)return!1;e=e.firstChild}return!0}let l=i.to==e&&i.parent;if(!l)break;i=l}return!1}(t,s,e,i))return{changes:{insert:e+e,from:s},effects:Ey.of(s+e.length),range:m9.cursor(s+e.length)};return{range:o=n}});return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}(t,i,n.indexOf(i+i+i)>-1,r):function(t,e,r,n){let i=null,o=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:r,from:o.to}],effects:Ey.of(o.to+e.length),range:m9.range(o.anchor+e.length,o.head+e.length)};let s=EE(t.doc,o.head);return!s||/\s/.test(s)||n.indexOf(s)>-1?{changes:{insert:e+r,from:o.head},effects:Ey.of(o.head+e.length),range:m9.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}(t,i,o,r.before||Ev.before);if(e==o&&EA(t,t.selection.main.from))return function(t,e,r){let n=null,i=t.changeByRange(e=>e.empty&&EE(t.doc,e.head)==r?{changes:{from:e.head,to:e.head+r.length,insert:r},range:m9.cursor(e.head+r.length)}:n={range:e});return n?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}(t,0,o)}return null}(t.state,n);return!!o&&(t.dispatch(o),!0)}),EC=[{key:"Backspace",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=E_(t,t.selection.main.head).brackets||Ev.brackets,n=null,i=t.changeByRange(e=>{if(e.empty){var i,o;let n;let s=(i=t.doc,o=e.head,mG(mH(n=i.sliceString(o-2,o),0))==n.length?n:n.slice(1));for(let n of r)if(n==s&&EE(t.doc,e.head)==Ex(mH(n,0)))return{changes:{from:e.head-n.length,to:e.head+n.length},range:m9.cursor(e.head-n.length)}}return{range:n=e}});return n||e(t.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!n}}];function EA(t,e){let r=!1;return t.field(EO).between(0,t.doc.length,t=>{t==e&&(r=!0)}),r}function EE(t,e){let r=t.sliceString(e,e+2);return r.slice(0,mG(mH(r,0)))}function ET(t,e){let r=_K(t).resolveInner(e+1);return r.parent&&r.from==e}function EP(t,e,r){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=vN.Word)return e;for(let i of r){let r=e-i.length;if(t.sliceDoc(r,e)==i&&n(t.sliceDoc(r-1,r))!=vN.Word)return r}return -1}let EI=[{key:"Ctrl-Space",run:A5},{mac:"Alt-`",run:A5},{key:"Escape",run:t=>{let e=t.state.field(A1,!1);return!!(e&&e.active.some(t=>0!=t.state))&&(t.dispatch({effects:AD.of(null)}),!0)}},{key:"ArrowDown",run:/*@__PURE__*/A4(!0)},{key:"ArrowUp",run:/*@__PURE__*/A4(!1)},{key:"PageDown",run:/*@__PURE__*/A4(!0,"page")},{key:"PageUp",run:/*@__PURE__*/A4(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(A1,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Aq).interactionDelay)&&A2(t,e.open.options[e.open.selected])}}],ER=/*@__PURE__*/vu.highest(/*@__PURE__*/wd.computeN([Aq],t=>t.facet(Aq).defaultKeymap?[EI]:[]));class EM{constructor(t,e,r){this.from=t,this.to=e,this.diagnostic=r}}class EN{static init(t,e,r){let n=t,i=r.facet(EV).markerFilter;i&&(n=i(n,r));let o=t.slice().sort((t,e)=>t.from-e.from||t.to-e.to),s=new vZ,a=[],l=0;for(let t=0;;){let e,n,i=t==o.length?null:o[t];if(!i&&!a.length)break;for(a.length?(e=l,n=a.reduce((t,e)=>Math.min(t,e.to),i&&i.from>e?i.from:1e8)):(e=i.from,n=i.to,a.push(i),t++);t<o.length;){let r=o[t];if(r.from==e&&(r.to>r.from||r.to==e))a.push(r),t++,n=Math.min(r.to,n);else{n=Math.min(r.from,n);break}}let h=E1(a);if(a.some(t=>t.from==t.to||t.from==t.to-1&&r.doc.lineAt(t.from).to==t.from))s.add(e,e,y1.widget({widget:new EH(h),diagnostics:a.slice()}));else{let t=a.reduce((t,e)=>e.markClass?t+" "+e.markClass:t,"");s.add(e,n,y1.mark({class:"cm-lintRange cm-lintRange-"+h+t,diagnostics:a.slice(),inclusiveEnd:a.some(t=>t.to>n)}))}l=n;for(let t=0;t<a.length;t++)a[t].to<=l&&a.splice(t--,1)}let h=s.finish();return new EN(h,e,ED(h))}constructor(t,e,r){this.diagnostics=t,this.panel=e,this.selected=r}}function ED(t,e=null,r=0){let n=null;return t.between(r,1e9,(t,r,{spec:i})=>{if(!(e&&0>i.diagnostics.indexOf(e))){if(n){if(0>i.diagnostics.indexOf(n.diagnostic))return!1;n=new EM(n.from,r,n.diagnostic)}else n=new EM(t,r,e||i.diagnostics[0])}}),n}function EL(t,e){let r=e.pos,n=e.end||r,i=t.state.facet(EV).hideOn(t,r,n);if(null!=i)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(t=>t.is(Eq))||t.changes.touchesRange(o.from,Math.max(o.to,n)))}function E$(t,e){return t.field(Ej,!1)?e:e.concat(vE.appendConfig.of(E5))}let Eq=/*@__PURE__*/vE.define(),EQ=/*@__PURE__*/vE.define(),EB=/*@__PURE__*/vE.define(),Ej=/*@__PURE__*/vl.define({create:()=>new EN(y1.none,null,null),update(t,e){if(e.docChanged&&t.diagnostics.size){let r=t.diagnostics.map(e.changes),n=null,i=t.panel;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);n=ED(r,t.selected.diagnostic,i)||ED(r,null,i)}!r.size&&i&&e.state.facet(EV).autoPanel&&(i=null),t=new EN(r,i,n)}for(let r of e.effects)if(r.is(Eq)){let n=e.state.facet(EV).autoPanel?r.value.length?EG.open:null:t.panel;t=EN.init(r.value,n,e.state)}else r.is(EQ)?t=new EN(t.diagnostics,r.value?EG.open:null,t.selected):r.is(EB)&&(t=new EN(t.diagnostics,t.panel,r.value));return t},provide:t=>[xa.from(t,t=>t.panel),wi.decorations.from(t,t=>t.diagnostics)]}),Ez=/*@__PURE__*/y1.mark({class:"cm-lintRange cm-lintRange-active"});function EZ(t,e){return CR("ul",{class:"cm-tooltip-lint"},e.map(e=>EW(t,e,!1)))}let EF=t=>{let e=t.state.field(Ej,!1);return!!e&&!!e.panel&&(t.dispatch({effects:EQ.of(!1)}),!0)},EX=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(Ej,!1);e&&e.panel||t.dispatch({effects:E$(t.state,[EQ.of(!0)])});let r=xn(t,EG.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let e=t.state.field(Ej,!1);if(!e)return!1;let r=t.state.selection.main,n=e.diagnostics.iter(r.to+1);return(!!n.value||!!(n=e.diagnostics.iter(0)).value&&(n.from!=r.from||n.to!=r.to))&&(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)}}];/*@__PURE__*/bL.fromClass(class{run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:t}=this.view,{sources:e}=t.facet(EV);e.length&&function(t,e,r){let n=[],i=-1;for(let o of t)o.then(r=>{n.push(r),clearTimeout(i),n.length==t.length?e(n):i=setTimeout(()=>e(n),200)},r)}(e.map(t=>Promise.resolve(t(this.view))),e=>{if(this.view.state.doc==t.doc){var r,n;this.view.dispatch((r=this.view.state,n=e.reduce((t,e)=>t.concat(e)),{effects:E$(r,[Eq.of(n)])}))}},t=>{bR(this.view.state,t)})}}update(t){let e=t.state.facet(EV);(t.docChanged||e!=t.startState.facet(EV)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(EV);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}});let EV=/*@__PURE__*/vr.define({combine:t=>Object.assign({sources:t.map(t=>t.source).filter(t=>null!=t)},v$(t.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?r=>t(r)||e(r):t:e}))});function EU(t){let e=[];if(t)s:for(let{name:r}of t){for(let t=0;t<r.length;t++){let n=r[t];if(/[a-zA-Z]/.test(n)&&!e.some(t=>t.toLowerCase()==n.toLowerCase())){e.push(n);continue s}}e.push("")}return e}function EW(t,e,r){var n;let i=r?EU(e.actions):[];return CR("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},CR("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),null===(n=e.actions)||void 0===n?void 0:n.map((r,n)=>{let o=!1,s=n=>{if(n.preventDefault(),o)return;o=!0;let i=ED(t.state.field(Ej).diagnostics,e);i&&r.apply(t,i.from,i.to)},{name:a}=r,l=i[n]?a.indexOf(i[n]):-1,h=l<0?a:[a.slice(0,l),CR("u",a.slice(l,l+1)),a.slice(l+1)];return CR("button",{type:"button",class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":` Action: ${a}${l<0?"":` (access key "${i[n]})"`}.`},h)}),e.source&&CR("div",{class:"cm-diagnosticSource"},e.source))}class EH extends yJ{eq(t){return t.sev==this.sev}toDOM(){return CR("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}constructor(t){super(),this.sev=t}}class EY{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(0xffffffff*Math.random()).toString(16),this.dom=EW(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class EG{get selectedIndex(){let t=this.view.state.field(Ej).selected;if(!t)return -1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return -1}update(){let{diagnostics:t,selected:e}=this.view.state.field(Ej),r=0,n=!1,i=null,o=new Set;for(t.between(0,this.view.state.doc.length,(t,s,{spec:a})=>{for(let t of a.diagnostics){if(o.has(t))continue;o.add(t);let s=-1,a;for(let e=r;e<this.items.length;e++)if(this.items[e].diagnostic==t){s=e;break}s<0?(a=new EY(this.view,t),this.items.splice(r,0,a),n=!0):(a=this.items[s],s>r&&(this.items.splice(r,s-r),n=!0)),e&&a.diagnostic==e.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),i=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new EY(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{let r=e.height/this.list.offsetHeight;t.top<e.top?this.list.scrollTop-=(e.top-t.top)/r:t.bottom>e.bottom&&(this.list.scrollTop+=(t.bottom-e.bottom)/r)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;t!=r.dom;)e();t=r.dom.nextSibling}else this.list.insertBefore(r.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=ED(this.view.state.field(Ej).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:EB.of(e)})}static open(t){return new EG(t)}constructor(t){this.view=t,this.items=[],this.list=CR("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)EF(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65)||!(e.keyCode<=90)||!(this.selectedIndex>=0))return;let{diagnostic:r}=this.items[this.selectedIndex],n=EU(r.actions);for(let i=0;i<n.length;i++)if(n[i].toUpperCase().charCodeAt(0)==e.keyCode){let e=ED(this.view.state.field(Ej).diagnostics,r);e&&r.actions[i].apply(t,e.from,e.to)}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=CR("div",{class:"cm-panel-lint"},this.list,CR("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>EF(this.view)},"×")),this.update()}}function EK(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function EJ(t){return EK(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}let E0=/*@__PURE__*/wi.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:/*@__PURE__*/EJ("#d11")},".cm-lintRange-warning":{backgroundImage:/*@__PURE__*/EJ("orange")},".cm-lintRange-info":{backgroundImage:/*@__PURE__*/EJ("#999")},".cm-lintRange-hint":{backgroundImage:/*@__PURE__*/EJ("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function E1(t){let e="hint",r=1;for(let i of t){var n;let t="error"==(n=i.severity)?4:"warning"==n?3:"info"==n?2:1;t>r&&(r=t,e=i.severity)}return e}class E2 extends xl{toDOM(t){let e=document.createElement("div");e.className="cm-lint-marker cm-lint-marker-"+this.severity;let r=this.diagnostics,n=t.state.facet(E6).tooltipFilter;return n&&(r=n(r,t.state)),r.length&&(e.onmouseover=()=>(function(t,e,r){function n(){let n,i=t.elementAtHeight(e.getBoundingClientRect().top+5-t.documentTop);t.coordsAtPos(i.from)&&t.dispatch({effects:E3.of({pos:i.from,above:!1,clip:!1,create:()=>({dom:EZ(t,r),getCoords:()=>e.getBoundingClientRect()})})}),e.onmouseout=e.onmousemove=null,n=r=>{let i=e.getBoundingClientRect();if(!(r.clientX>i.left-10)||!(r.clientX<i.right+10)||!(r.clientY>i.top-10)||!(r.clientY<i.bottom+10)){for(let t=r.target;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",n),t.state.field(E4)&&t.dispatch({effects:E3.of(null)})}},window.addEventListener("mousemove",n)}let{hoverTime:i}=t.state.facet(E6),o=setTimeout(n,i);e.onmouseout=()=>{clearTimeout(o),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(o),o=setTimeout(n,i)}})(t,e,r)),e}constructor(t){super(),this.diagnostics=t,this.severity=E1(t)}}/*@__PURE__*/vl.define({create:()=>vz.empty,update(t,e){t=t.map(e.changes);let r=e.state.facet(E6).markerFilter;for(let n of e.effects)if(n.is(Eq)){let i=n.value;r&&(i=r(i||[],e.state)),t=function(t,e){let r=Object.create(null);for(let n of e){let e=t.lineAt(n.from);(r[e.from]||(r[e.from]=[])).push(n)}let n=[];for(let t in r)n.push(new E2(r[t]).range(+t));return vz.of(n,!0)}(e.state.doc,i.slice(0))}return t}});let E3=/*@__PURE__*/vE.define(),E4=/*@__PURE__*/vl.define({create:()=>null,update:(t,e)=>(t&&e.docChanged&&(t=EL(e,t)?null:Object.assign(Object.assign({},t),{pos:e.changes.mapPos(t.pos)})),e.effects.reduce((t,e)=>e.is(E3)?e.value:t,t)),provide:t=>w5.from(t)});/*@__PURE__*/wi.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:/*@__PURE__*/EK('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:/*@__PURE__*/EK('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:/*@__PURE__*/EK('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}});let E5=[Ej,/*@__PURE__*/wi.decorations.compute([Ej],t=>{let{selected:e,panel:r}=t.field(Ej);return e&&r&&e.from!=e.to?y1.set([Ez.range(e.from,e.to)]):y1.none}),/*@__PURE__*/function(t,e={}){let r=vE.define(),n=vl.define({create:()=>[],update(t,n){if(t.length&&(e.hideOnChange&&(n.docChanged||n.selection)?t=[]:e.hideOn&&(t=t.filter(t=>!e.hideOn(n,t))),n.docChanged)){let e=[];for(let r of t){let t=n.changes.mapPos(r.pos,-1,mJ.TrackDel);if(null!=t){let i=Object.assign(Object.create(null),r);i.pos=t,null!=i.end&&(i.end=n.changes.mapPos(i.end)),e.push(i)}}t=e}for(let e of n.effects)e.is(r)&&(t=e.value),e.is(xe)&&(t=[]);return t},provide:t=>w6.from(t)});return{active:n,extension:[n,bL.define(i=>new w9(i,t,n,r,e.hoverTime||300)),w7]}}(function(t,e,r){let{diagnostics:n}=t.state.field(Ej),i,o=-1,s=-1;n.between(e-(r<0?1:0),e+(r>0?1:0),(t,n,{spec:a})=>{if(e>=t&&e<=n&&(t==n||(e>t||r>0)&&(e<n||r<0)))return i=a.diagnostics,o=t,s=n,!1});let a=t.state.facet(EV).tooltipFilter;return(i&&a&&(i=a(i,t.state)),i)?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create:()=>({dom:EZ(t,i)})}:null},{hideOn:EL}),E0],E6=/*@__PURE__*/vr.define({combine:t=>v$(t,{hoverTime:300,markerFilter:null,tooltipFilter:null})}),E8=[function(t={}){return[x_.of(t),xp(),xC]}(),xT,function(t={}){return[wj.of(t),wz||(wz=bL.fromClass(class{makeDecorator(t){return new wL({regexp:t.specialChars,decoration:(e,r,n)=>{let{doc:i}=r.state,o=mH(e[0],0);if(9==o){let t=i.lineAt(n),e=r.state.tabSize,o=v0(t.text,e,n-t.from);return y1.replace({widget:new wF((e-o%e)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=y1.replace({widget:new wZ(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(wj);t.startState.facet(wj)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}constructor(t){this.view=t,this.decorations=y1.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(wj)),this.decorations=this.decorator.createDeco(t)}},{decorations:t=>t.decorations}))]}(),function(t={}){return[SM,SR.of(t),wi.domEventHandlers({beforeinput(t,e){let r="historyUndo"==t.inputType?SD:"historyRedo"==t.inputType?SL:null;return!!r&&(t.preventDefault(),r(e))}})]}(),function(t={}){var e;let r=Object.assign(Object.assign({},kI),t),n=new kR(r,!0),i=new kR(r,!1),o=bL.fromClass(class{update(t){(t.docChanged||t.viewportChanged||t.startState.facet(_8)!=t.state.facet(_8)||t.startState.field(kO,!1)!=t.state.field(kO,!1)||_K(t.startState)!=_K(t.state)||r.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new vZ;for(let r of t.viewportLineBlocks){let o=kw(t.state,r.from,r.to)?i:kg(t.state,r.from,r.to)?n:null;o&&e.add(r.from,r.from,o)}return e.finish()}constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}}),{domEventHandlers:s}=r;return[o,(e={class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(o))||void 0===e?void 0:e.markers)||vz.empty},initialSpacer:()=>new kR(r,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(t,e,r)=>{if(s.click&&s.click(t,e,r))return!0;let n=kw(t.state,e.from,e.to);if(n)return t.dispatch({effects:ky.of(n)}),!0;let i=kg(t.state,e.from,e.to);return!!i&&(t.dispatch({effects:kv.of(i)}),!0)}})},[xp(),xd.of(Object.assign(Object.assign({},xu),e))]),kA()]}(),function(t={}){return[wS.of(t),wA,wT,wI,bA.of(!0)]}(),[wM,wN],vL.allowMultipleSelections.of(!0),vL.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:n}=t.newSelection.main,i=r.lineAt(n);if(n>i.from+200)return t;let o=r.sliceString(i.from,n);if(!e.some(t=>t.test(o)))return t;let{state:s}=t,a=-1,l=[];for(let{head:t}of s.selection.ranges){let e=s.doc.lineAt(t);if(e.from==a)continue;a=e.from;let r=ki(s,e.from);if(null==r)continue;let n=/^\s*/.exec(e.text)[0],i=kn(s,r);n!=i&&l.push({from:e.from,to:e.from+n.length,insert:i})}return l.length?[t,{changes:l,sequential:!0}]:t}),(QD={fallback:!0},c=[kq],kQ instanceof kN&&(kQ.module&&c.push(wi.styleModule.of(kQ.module)),u=kQ.themeType),(null==QD?void 0:QD.fallback)?c.push(kL.of(kQ)):u?c.push(kD.computeN([wi.darkTheme],t=>t.facet(wi.darkTheme)==("dark"==u)?[kQ]:[])):c.push(kD.of(kQ)),c),function(t={}){return[kz.of(t),kV]}(),[ES,EO],function(t={}){return[A9,A1,Aq.of(t),A8,ER,Et]}(),(d=t=>t.altKey&&0==t.button,wi.mouseSelectionStyle.of((t,e)=>{let r,n;return d(e)?(r=wU(t,e),n=t.state.selection,r?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(r.line).from),i=t.state.doc.lineAt(e);r={line:i.number,col:r.col,off:Math.min(r.off,i.length)},n=n.map(t.changes)}},get(e,i,o){let s=wU(t,e);if(!s)return n;let a=function(t,e,r){let n=Math.min(e.line,r.line),i=Math.max(e.line,r.line),o=[];if(e.off>2e3||r.off>2e3||e.col<0||r.col<0){let s=Math.min(e.off,r.off),a=Math.max(e.off,r.off);for(let e=n;e<=i;e++){let r=t.doc.line(e);r.length<=a&&o.push(m9.range(r.from+s,r.to+a))}}else{let s=Math.min(e.col,r.col),a=Math.max(e.col,r.col);for(let e=n;e<=i;e++){let r=t.doc.line(e),n=v1(r.text,s,t.tabSize,!0);if(n<0)o.push(m9.cursor(r.to));else{let e=v1(r.text,a,t.tabSize);o.push(m9.range(r.from+n,r.from+e))}}}return o}(t.state,r,s);return a.length?o?m9.create(a.concat(n.ranges)):m9.create(a):n}}:null):null})),function(t={}){let[e,r]=wW[t.key||"Alt"],n=bL.fromClass(class{set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}constructor(t){this.view=t,this.isDown=!1}},{eventObservers:{keydown(t){this.set(t.keyCode==e||r(t))},keyup(t){t.keyCode!=e&&r(t)||this.set(!1)},mousemove(t){this.set(r(t))}}});return[n,wi.contentAttributes.of(t=>{var e;return(null===(e=t.plugin(n))||void 0===e?void 0:e.isDown)?wH:null})]}(),wV,[CK,CG],wd.of([...EC,...CI,...Ay,{key:"Mod-z",run:SD,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:SL,preventDefault:!0},{linux:"Ctrl-Shift-z",run:SL,preventDefault:!0},{key:"Mod-u",run:S$,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Sq,preventDefault:!0},...kk,...EI,...EX])],E7=0;class E9{constructor(t,e){this.from=t,this.to=e}}class Tt{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Tn.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=E7++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}Tt.closedBy=new Tt({deserialize:t=>t.split(" ")}),Tt.openedBy=new Tt({deserialize:t=>t.split(" ")}),Tt.group=new Tt({deserialize:t=>t.split(" ")}),Tt.isolate=new Tt({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Tt.contextHash=new Tt({perNode:!0}),Tt.lookAhead=new Tt({perNode:!0}),Tt.mounted=new Tt({perNode:!0});class Te{static get(t){return t&&t.props&&t.props[Tt.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let Tr=Object.create(null);class Tn{static define(t){let e=t.props&&t.props.length?Object.create(null):Tr,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new Tn(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Tt.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(Tt.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}Tn.none=new Tn("",Object.create(null),0,8);class Ti{extend(...t){let e=[];for(let r of this.types){let n=null;for(let e of t){let t=e(r);t&&(n||(n=Object.assign({},r.props)),n[t[0].id]=t[1])}e.push(n?new Tn(r.name,n,r.id,r.flags):r)}return new Ti(e)}constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw RangeError("Node type ids should correspond to array positions when creating a node set")}}let To=new WeakMap,Ts=new WeakMap;(QL=Bb||(Bb={}))[QL.ExcludeBuffers=1]="ExcludeBuffers",QL[QL.IncludeAnonymous=2]="IncludeAnonymous",QL[QL.IgnoreMounts=4]="IgnoreMounts",QL[QL.IgnoreOverlays=8]="IgnoreOverlays";class Ta{toString(){let t=Te.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new TO(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new TO(To.get(this)||this.topNode);return n.moveTo(t,e),To.set(this,n._tree),n}get topNode(){return new Tf(this,0,0,null)}resolve(t,e=0){let r=Tu(To.get(this)||this.topNode,t,e,!1);return To.set(this,r),r}resolveInner(t,e=0){let r=Tu(Ts.get(this)||this.topNode,t,e,!0);return Ts.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof Tf?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=Te.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new Tf(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(Tu(s,e,r,!1))}}return i?Ty(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&Bb.IncludeAnonymous)>0;for(let t=this.cursor(o|Bb.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:Tk(Tn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new Ta(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new Ta(Tn.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new Tl(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[Tt.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[Tt.lookAhead,i];s=s?[t].concat(s):[t]}return new Ta(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new Th(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new Th(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof Ta){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(Tt.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=Tk(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new Ta(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}Ta.empty=new Ta(Tn.none,[],[],0);class Tl{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Tl(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class Th{get type(){return Tn.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!Tc(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new Th(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function Tc(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function Tu(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof Tf&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:Bb.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof Tf&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class Td{cursor(t=0){return new TO(this,t)}getChild(t,e=null,r=null){let n=Tp(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return Tp(this,t,e,r)}resolve(t,e=0){return Tu(this,t,e,!1)}resolveInner(t,e=0){return Tu(this,t,e,!0)}matchContext(t){return Tg(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class Tf extends Td{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(Tc(n,r,h,h+l.length)){if(l instanceof Th){if(i&Bb.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new Tv(new Tm(o,l,t,h),null,s)}else if(i&Bb.IncludeAnonymous||!l.type.isAnonymous||Tw(l)){let s;if(!(i&Bb.IgnoreMounts)&&(s=Te.get(l))&&!s.overlay)return new Tf(s.tree,h,t,o);let a=new Tf(l,h,t,o);return i&Bb.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&Bb.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&Bb.IgnoreOverlays)&&(n=Te.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new Tf(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function Tp(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function Tg(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class Tm{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class Tv extends Td{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new Tv(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&Bb.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new Tv(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Tv(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Tv(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new Ta(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function Ty(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof Tf&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new Tb(i,r)}class Tb{get next(){return Ty(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class TO{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Tf?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&Bb.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Bb.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Bb.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&Bb.IncludeAnonymous||t instanceof Th||!t.type.isAnonymous||Tw(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new Tv(this.buffer,e,this.stack[t]);return this.bufferNode=new Tv(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return Tg(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return Tg(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Tf)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function Tw(t){return t.children.some(t=>t instanceof Th||!t.type.isAnonymous||Tw(t))}let Tx=new WeakMap;function T_(t,e){if(!t.isAnonymous||e instanceof Th||e.type!=t)return 1;let r=Tx.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof Ta)){r=1;break}r+=T_(t,n)}Tx.set(e,r)}return r}function Tk(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=T_(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=T_(t,r[h]);for(h++;h<s;h++){let e=T_(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(Tk(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}class TS{get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],r=!1){let n=[new TS(0,t.length,t,0,!1,r)];for(let r of e)r.to>t.length&&n.push(r);return n}static applyChanges(t,e,r=128){if(!e.length)return t;let n=[],i=1,o=t.length?t[0]:null;for(let s=0,a=0,l=0;;s++){let h=s<e.length?e[s]:null,c=h?h.fromA:1e9;if(c-a>=r)for(;o&&o.from<c;){let e=o;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,r=Math.min(e.to,c)-l;e=t>=r?null:new TS(t,r,e.tree,e.offset+l,s>0,!!h)}if(e&&n.push(e),o.to>c)break;o=i<t.length?t[i++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return n}constructor(t,e,r,n,i=!1,o=!1){this.from=t,this.to=e,this.tree=r,this.offset=n,this.open=(i?1:0)|(o?2:0)}}class TC{startParse(t,e,r){return"string"==typeof t&&(t=new TA(t)),r=r?r.length?r.map(t=>new E9(t.from,t.to)):[new E9(0,0)]:[new E9(0,t.length)],this.createParse(t,e||[],r)}parse(t,e,r){let n=this.startParse(t,e,r);for(;;){let t=n.advance();if(t)return t}}}class TA{get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}constructor(t){this.string=t}}class TE{constructor(t,e,r,n,i){this.parser=t,this.parse=e,this.overlay=r,this.target=n,this.from=i}}function TT(t){if(!t.length||t.some(t=>t.from>=t.to))throw RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class TP{constructor(t,e,r,n,i,o,s){this.parser=t,this.predicate=e,this.mounts=r,this.index=n,this.start=i,this.target=o,this.prev=s,this.depth=0,this.ranges=[]}}let TI=new Tt({perNode:!0});class TR{advance(){if(this.baseParse){let t=this.baseParse.advance();if(!t)return null;if(this.baseParse=null,this.baseTree=t,this.startInner(),null!=this.stoppedAt)for(let t of this.inner)t.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let t=this.baseTree;return null!=this.stoppedAt&&(t=new Ta(t.type,t.children,t.positions,t.length,t.propValues.concat([[TI,this.stoppedAt]]))),t}let t=this.inner[this.innerDone],e=t.parse.advance();if(e){this.innerDone++;let r=Object.assign(Object.create(null),t.target.props);r[Tt.mounted.id]=new Te(e,t.overlay,t.parser),t.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].from<t&&(t=Math.min(t,this.inner[e].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].parse.stopAt(t)}startInner(){let t=new TD(this.fragments),e=null,r=null,n=new TO(new Tf(this.baseTree,this.ranges[0].from,0,null),Bb.IncludeAnonymous|Bb.IgnoreMounts);o:for(let i,o;;){let s=!0,a;if(null!=this.stoppedAt&&n.from>=this.stoppedAt)s=!1;else if(t.hasNode(n)){if(e){let t=e.mounts.find(t=>t.frag.from<=n.from&&t.frag.to>=n.to&&t.mount.overlay);if(t)for(let r of t.mount.overlay){let i=r.from+t.pos,o=r.to+t.pos;i>=n.from&&o<=n.to&&!e.ranges.some(t=>t.from<o&&t.to>i)&&e.ranges.push({from:i,to:o})}}s=!1}else if(r&&(o=function(t,e,r){for(let n of t){if(n.from>=r)break;if(n.to>e)return n.from<=e&&n.to>=r?2:1}return 0}(r.ranges,n.from,n.to)))s=2!=o;else if(!n.type.isAnonymous&&(i=this.nest(n,this.input))&&(n.from<n.to||!i.overlay)){n.tree||function(t){let{node:e}=t,r=[],n=e.context.buffer;do r.push(t.index),t.parent();while(!t.tree)let i=t.tree,o=i.children.indexOf(n),s=i.children[o],a=s.buffer,l=[o];for(let n of(i.children[o]=function t(n,i,o,h,c,u){let d=r[u],f=[],p=[];TM(s,n,d,f,p,h);let g=a[d+1],m=a[d+2];l.push(f.length);let v=u?t(d+4,a[d+3],s.set.types[a[d]],g,m-g,u-1):e.toTree();return f.push(v),p.push(g-h),TM(s,a[d+3],i,f,p,h),new Ta(o,f,p,c)}(0,a.length,Tn.none,0,s.length,r.length-1),l)){let e=t.tree.children[n],r=t.tree.positions[n];t.yield(new Tf(e,r+t.from,n,t._tree))}}(n);let o=t.findMounts(n.from,i.parser);if("function"==typeof i.overlay)e=new TP(i.parser,i.overlay,o,this.inner.length,n.from,n.tree,e);else{let t=TL(this.ranges,i.overlay||(n.from<n.to?[new E9(n.from,n.to)]:[]));t.length&&TT(t),(t.length||!i.overlay)&&this.inner.push(new TE(i.parser,t.length?i.parser.startParse(this.input,T$(o,t),t):i.parser.startParse(""),i.overlay?i.overlay.map(t=>new E9(t.from-n.from,t.to-n.from)):null,n.tree,t.length?t[0].from:n.from)),i.overlay?t.length&&(r={ranges:t,depth:0,prev:r}):s=!1}}else if(e&&(a=e.predicate(n))&&(!0===a&&(a=new E9(n.from,n.to)),a.from<a.to)){let t=e.ranges.length-1;t>=0&&e.ranges[t].to==a.from?e.ranges[t]={from:e.ranges[t].from,to:a.to}:e.ranges.push(a)}if(s&&n.firstChild())e&&e.depth++,r&&r.depth++;else for(;!n.nextSibling();){if(!n.parent())break o;if(e&&!--e.depth){let t=TL(this.ranges,e.ranges);t.length&&(TT(t),this.inner.splice(e.index,0,new TE(e.parser,e.parser.startParse(this.input,T$(e.mounts,t),t),e.ranges.map(t=>new E9(t.from-e.start,t.to-e.start)),e.target,t[0].from))),e=e.prev}!r||--r.depth||(r=r.prev)}}}constructor(t,e,r,n,i){this.nest=e,this.input=r,this.fragments=n,this.ranges=i,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}}function TM(t,e,r,n,i,o){if(e<r){let s=t.buffer[e+1];n.push(t.slice(e,r,s)),i.push(s-o)}}class TN{moveTo(t){let{cursor:e}=this,r=t-this.offset;for(;!this.done&&e.from<r;)e.to>=t&&e.enter(r,1,Bb.IgnoreOverlays|Bb.ExcludeBuffers)||e.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let e=this.cursor.tree;;){if(e==t.tree)return!0;if(e.children.length&&0==e.positions[0]&&e.children[0]instanceof Ta)e=e.children[0];else break}return!1}constructor(t,e){this.offset=e,this.done=!1,this.cursor=t.cursor(Bb.IncludeAnonymous|Bb.IgnoreMounts)}}class TD{hasNode(t){for(;this.curFrag&&t.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=t.from&&this.curTo>=t.to&&this.inner.hasNode(t)}nextFrag(){var t;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let e=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(t=e.tree.prop(TI))&&void 0!==t?t:e.to,this.inner=new TN(e.tree,-e.offset)}}findMounts(t,e){var r;let n=[];if(this.inner){this.inner.cursor.moveTo(t,1);for(let t=this.inner.cursor.node;t;t=t.parent){let i=null===(r=t.tree)||void 0===r?void 0:r.prop(Tt.mounted);if(i&&i.parser==e)for(let e=this.fragI;e<this.fragments.length;e++){let r=this.fragments[e];if(r.from>=t.to)break;r.tree==this.curFrag.tree&&n.push({frag:r,pos:t.from-r.offset,mount:i})}}}return n}constructor(t){var e;if(this.fragments=t,this.curTo=0,this.fragI=0,t.length){let r=this.curFrag=t[0];this.curTo=null!==(e=r.tree.prop(TI))&&void 0!==e?e:r.to,this.inner=new TN(r.tree,-r.offset)}else this.curFrag=this.inner=null}}function TL(t,e){let r=null,n=e;for(let i=1,o=0;i<t.length;i++){let s=t[i-1].to,a=t[i].from;for(;o<n.length;o++){let t=n[o];if(t.from>=a)break;!(t.to<=s)&&(r||(n=r=e.slice()),t.from<s?(r[o]=new E9(t.from,s),t.to>a&&r.splice(o+1,0,new E9(a,t.to))):t.to>a?r[o--]=new E9(a,t.to):r.splice(o--,1))}}return n}function T$(t,e){let r=[];for(let{pos:n,mount:i,frag:o}of t){let t=n+(i.overlay?i.overlay[0].from:0),s=t+i.tree.length,a=Math.max(o.from,t),l=Math.min(o.to,s);if(i.overlay){let s=function(t,e,r,n){let i=0,o=0,s=!1,a=!1,l=-1e9,h=[];for(;;){let c=i==t.length?1e9:s?t[i].to:t[i].from,u=o==e.length?1e9:a?e[o].to:e[o].from;if(s!=a){let t=Math.max(l,r),e=Math.min(c,u,n);t<e&&h.push(new E9(t,e))}if(1e9==(l=Math.min(c,u)))break;c==l&&(s?(s=!1,i++):s=!0),u==l&&(a?(a=!1,o++):a=!0)}return h}(e,i.overlay.map(t=>new E9(t.from+n,t.to+n)),a,l);for(let e=0,n=a;;e++){let a=e==s.length,h=a?l:s[e].from;if(h>n&&r.push(new TS(n,h,i.tree,-t,o.from>=n||o.openStart,o.to<=h||o.openEnd)),a)break;n=s[e].to}}else r.push(new TS(a,l,i.tree,-t,o.from>=t||o.openStart,o.to<=s||o.openEnd))}return r}class Tq{static create(t,e,r,n,i){return new Tq(t,e,r,n+(n<<8)+t+(e<<4)|0,i,[],[])}addChild(t,e){t.prop(Tt.contextHash)!=this.hash&&(t=new Ta(t.type,t.children,t.positions,t.length,this.hashProp)),this.children.push(t),this.positions.push(e)}toTree(t,e=this.end){let r=this.children.length-1;return r>=0&&(e=Math.max(e,this.positions[r]+this.children[r].length+this.from)),new Ta(t.types[this.type],this.children,this.positions,e-this.from).balance({makeTree:(t,e,r)=>new Ta(Tn.none,t,e,r,this.hashProp)})}constructor(t,e,r,n,i,o,s){this.type=t,this.value=e,this.from=r,this.hash=n,this.end=i,this.children=o,this.positions=s,this.hashProp=[[Tt.contextHash,n]]}}(Q$=BO||(BO={}))[Q$.Document=1]="Document",Q$[Q$.CodeBlock=2]="CodeBlock",Q$[Q$.FencedCode=3]="FencedCode",Q$[Q$.Blockquote=4]="Blockquote",Q$[Q$.HorizontalRule=5]="HorizontalRule",Q$[Q$.BulletList=6]="BulletList",Q$[Q$.OrderedList=7]="OrderedList",Q$[Q$.ListItem=8]="ListItem",Q$[Q$.ATXHeading1=9]="ATXHeading1",Q$[Q$.ATXHeading2=10]="ATXHeading2",Q$[Q$.ATXHeading3=11]="ATXHeading3",Q$[Q$.ATXHeading4=12]="ATXHeading4",Q$[Q$.ATXHeading5=13]="ATXHeading5",Q$[Q$.ATXHeading6=14]="ATXHeading6",Q$[Q$.SetextHeading1=15]="SetextHeading1",Q$[Q$.SetextHeading2=16]="SetextHeading2",Q$[Q$.HTMLBlock=17]="HTMLBlock",Q$[Q$.LinkReference=18]="LinkReference",Q$[Q$.Paragraph=19]="Paragraph",Q$[Q$.CommentBlock=20]="CommentBlock",Q$[Q$.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",Q$[Q$.Escape=22]="Escape",Q$[Q$.Entity=23]="Entity",Q$[Q$.HardBreak=24]="HardBreak",Q$[Q$.Emphasis=25]="Emphasis",Q$[Q$.StrongEmphasis=26]="StrongEmphasis",Q$[Q$.Link=27]="Link",Q$[Q$.Image=28]="Image",Q$[Q$.InlineCode=29]="InlineCode",Q$[Q$.HTMLTag=30]="HTMLTag",Q$[Q$.Comment=31]="Comment",Q$[Q$.ProcessingInstruction=32]="ProcessingInstruction",Q$[Q$.Autolink=33]="Autolink",Q$[Q$.HeaderMark=34]="HeaderMark",Q$[Q$.QuoteMark=35]="QuoteMark",Q$[Q$.ListMark=36]="ListMark",Q$[Q$.LinkMark=37]="LinkMark",Q$[Q$.EmphasisMark=38]="EmphasisMark",Q$[Q$.CodeMark=39]="CodeMark",Q$[Q$.CodeText=40]="CodeText",Q$[Q$.CodeInfo=41]="CodeInfo",Q$[Q$.LinkTitle=42]="LinkTitle",Q$[Q$.LinkLabel=43]="LinkLabel",Q$[Q$.URL=44]="URL";class TQ{constructor(t,e){this.start=t,this.content=e,this.marks=[],this.parsers=[]}}class TB{forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let t=this.skipSpace(this.basePos);this.indent=this.countIndent(t,this.pos,this.indent),this.pos=t,this.next=t==this.text.length?-1:this.text.charCodeAt(t)}skipSpace(t){return TF(this.text,t)}reset(t){for(this.text=t,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(t){this.basePos=t,this.baseIndent=this.countIndent(t,this.pos,this.indent)}moveBaseColumn(t){this.baseIndent=t,this.basePos=this.findColumn(t)}addMarker(t){this.markers.push(t)}countIndent(t,e=0,r=0){for(let n=e;n<t;n++)r+=9==this.text.charCodeAt(n)?4-r%4:1;return r}findColumn(t){let e=0;for(let r=0;e<this.text.length&&r<t;e++)r+=9==this.text.charCodeAt(e)?4-r%4:1;return e}scrub(){if(!this.baseIndent)return this.text;let t="";for(let e=0;e<this.basePos;e++)t+=" ";return t+this.text.slice(this.basePos)}constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}}function Tj(t,e,r){if(r.pos==r.text.length||t!=e.block&&r.indent>=e.stack[r.depth+1].value+r.baseIndent)return!0;if(r.indent>=r.baseIndent+4)return!1;let n=(t.type==BO.OrderedList?TG:TY)(r,e,!1);return n>0&&(t.type!=BO.BulletList||0>TW(r,e,!1))&&r.text.charCodeAt(r.pos+n-1)==t.value}let Tz={[BO.Blockquote]:(t,e,r)=>62==r.next&&(r.markers.push(Pd(BO.QuoteMark,e.lineStart+r.pos,e.lineStart+r.pos+1)),r.moveBase(r.pos+(TZ(r.text.charCodeAt(r.pos+1))?2:1)),t.end=e.lineStart+r.text.length,!0),[BO.ListItem]:(t,e,r)=>(!(r.indent<r.baseIndent+t.value)||!(r.next>-1))&&(r.moveBaseColumn(r.baseIndent+t.value),!0),[BO.OrderedList]:Tj,[BO.BulletList]:Tj,[BO.Document]:()=>!0};function TZ(t){return 32==t||9==t||10==t||13==t}function TF(t,e=0){for(;e<t.length&&TZ(t.charCodeAt(e));)e++;return e}function TX(t,e,r){for(;e>r&&TZ(t.charCodeAt(e-1));)e--;return e}function TV(t){if(96!=t.next&&126!=t.next)return -1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return -1;if(96==t.next){for(let r=e;r<t.text.length;r++)if(96==t.text.charCodeAt(r))return -1}return e}function TU(t){return 62!=t.next?-1:32==t.text.charCodeAt(t.pos+1)?2:1}function TW(t,e,r){if(42!=t.next&&45!=t.next&&95!=t.next)return -1;let n=1;for(let e=t.pos+1;e<t.text.length;e++){let r=t.text.charCodeAt(e);if(r==t.next)n++;else if(!TZ(r))return -1}return r&&45==t.next&&TJ(t)>-1&&t.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(Pe.SetextHeading)>-1?-1:n<3?-1:1}function TH(t,e){for(let r=t.stack.length-1;r>=0;r--)if(t.stack[r].type==e)return!0;return!1}function TY(t,e,r){return(45==t.next||43==t.next||42==t.next)&&(t.pos==t.text.length-1||TZ(t.text.charCodeAt(t.pos+1)))&&(!r||TH(e,BO.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function TG(t,e,r){let n=t.pos,i=t.next;for(;i>=48&&i<=57;){if(++n==t.text.length)return -1;i=t.text.charCodeAt(n)}return n==t.pos||n>t.pos+9||46!=i&&41!=i||n<t.text.length-1&&!TZ(t.text.charCodeAt(n+1))||r&&!TH(e,BO.OrderedList)&&(t.skipSpace(n+1)==t.text.length||n>t.pos+1||49!=t.next)?-1:n+1-t.pos}function TK(t){if(35!=t.next)return -1;let e=t.pos+1;for(;e<t.text.length&&35==t.text.charCodeAt(e);)e++;if(e<t.text.length&&32!=t.text.charCodeAt(e))return -1;let r=e-t.pos;return r>6?-1:r}function TJ(t){if(45!=t.next&&61!=t.next||t.indent>=t.baseIndent+4)return -1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let r=e;for(;e<t.text.length&&TZ(t.text.charCodeAt(e));)e++;return e==t.text.length?r:-1}let T0=/^[ \t]*$/,T1=/-->/,T2=/\?>/,T3=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,T1],[/^\s*<\?/,T2],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,T0],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,T0]];function T4(t,e,r){if(60!=t.next)return -1;let n=t.text.slice(t.pos);for(let t=0,e=T3.length-(r?1:0);t<e;t++)if(T3[t][0].test(n))return t;return -1}function T5(t,e){let r=t.countIndent(e,t.pos,t.indent),n=t.countIndent(t.skipSpace(e),e,r);return n>=r+5?r+1:n}function T6(t,e,r){let n=t.length-1;n>=0&&t[n].to==e&&t[n].type==BO.CodeText?t[n].to=r:t.push(Pd(BO.CodeText,e,r))}let T8={LinkReference:void 0,IndentedCode(t,e){let r=e.baseIndent+4;if(e.indent<r)return!1;let n=e.findColumn(r),i=t.lineStart+n,o=t.lineStart+e.text.length,s=[],a=[];for(T6(s,i,o);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length)for(let r of(T6(a,t.lineStart-1,t.lineStart),e.markers))a.push(r);else if(e.indent<r)break;else{if(a.length){for(let t of a)t.type==BO.CodeText?T6(s,t.from,t.to):s.push(t);a=[]}for(let r of(T6(s,t.lineStart-1,t.lineStart),e.markers))s.push(r);o=t.lineStart+e.text.length;let r=t.lineStart+e.findColumn(e.baseIndent+4);r<o&&T6(s,r,o)}return a.length&&(a=a.filter(t=>t.type!=BO.CodeText)).length&&(e.markers=a.concat(e.markers)),t.addNode(t.buffer.writeElements(s,-i).finish(BO.CodeBlock,o-i),i),!0},FencedCode(t,e){let r=TV(e);if(r<0)return!1;let n=t.lineStart+e.pos,i=e.next,o=r-e.pos,s=e.skipSpace(r),a=TX(e.text,e.text.length,s),l=[Pd(BO.CodeMark,n,n+o)];s<a&&l.push(Pd(BO.CodeInfo,t.lineStart+s,t.lineStart+a));for(let r=!0;t.nextLine()&&e.depth>=t.stack.length;r=!1){let n=e.pos;if(e.indent-e.baseIndent<4)for(;n<e.text.length&&e.text.charCodeAt(n)==i;)n++;if(n-e.pos>=o&&e.skipSpace(n)==e.text.length){for(let t of e.markers)l.push(t);l.push(Pd(BO.CodeMark,t.lineStart+e.pos,t.lineStart+n)),t.nextLine();break}{for(let n of(r||T6(l,t.lineStart-1,t.lineStart),e.markers))l.push(n);let n=t.lineStart+e.basePos,i=t.lineStart+e.text.length;n<i&&T6(l,n,i)}}return t.addNode(t.buffer.writeElements(l,-n).finish(BO.FencedCode,t.prevLineEnd()-n),n),!0},Blockquote(t,e){let r=TU(e);return!(r<0)&&(t.startContext(BO.Blockquote,e.pos),t.addNode(BO.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+r),null)},HorizontalRule(t,e){if(0>TW(e,t,!1))return!1;let r=t.lineStart+e.pos;return t.nextLine(),t.addNode(BO.HorizontalRule,r),!0},BulletList(t,e){let r=TY(e,t,!1);if(r<0)return!1;t.block.type!=BO.BulletList&&t.startContext(BO.BulletList,e.basePos,e.next);let n=T5(e,e.pos+1);return t.startContext(BO.ListItem,e.basePos,n-e.baseIndent),t.addNode(BO.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+r),e.moveBaseColumn(n),null},OrderedList(t,e){let r=TG(e,t,!1);if(r<0)return!1;t.block.type!=BO.OrderedList&&t.startContext(BO.OrderedList,e.basePos,e.text.charCodeAt(e.pos+r-1));let n=T5(e,e.pos+r);return t.startContext(BO.ListItem,e.basePos,n-e.baseIndent),t.addNode(BO.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+r),e.moveBaseColumn(n),null},ATXHeading(t,e){let r=TK(e);if(r<0)return!1;let n=e.pos,i=t.lineStart+n,o=TX(e.text,e.text.length,n),s=o;for(;s>n&&e.text.charCodeAt(s-1)==e.next;)s--;s!=o&&s!=n&&TZ(e.text.charCodeAt(s-1))||(s=e.text.length);let a=t.buffer.write(BO.HeaderMark,0,r).writeElements(t.parser.parseInline(e.text.slice(n+r+1,s),i+r+1),-i);s<e.text.length&&a.write(BO.HeaderMark,s-n,o-n);let l=a.finish(BO.ATXHeading1-1+r,e.text.length-n);return t.nextLine(),t.addNode(l,i),!0},HTMLBlock(t,e){let r=T4(e,t,!1);if(r<0)return!1;let n=t.lineStart+e.pos,i=T3[r][1],o=[],s=i!=T0;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){s=!1;break}for(let t of e.markers)o.push(t)}s&&t.nextLine();let a=i==T1?BO.CommentBlock:i==T2?BO.ProcessingInstructionBlock:BO.HTMLBlock,l=t.prevLineEnd();return t.addNode(t.buffer.writeElements(o,-n).finish(a,l-n),n),!0},SetextHeading:void 0};class T7{nextLine(t,e,r){if(-1==this.stage)return!1;let n=r.content+"\n"+e.scrub(),i=this.advance(n);return i>-1&&i<n.length&&this.complete(t,r,i)}finish(t,e){return(2==this.stage||3==this.stage)&&TF(e.content,this.pos)==e.content.length&&this.complete(t,e,e.content.length)}complete(t,e,r){return t.addLeafElement(e,Pd(BO.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(t){return t?(this.pos=t.to-this.start,this.elts.push(t),this.stage++,!0):(!1===t&&(this.stage=-1),!1)}advance(t){for(;;){if(-1==this.stage)return -1;if(0==this.stage){if(!this.nextStage(P_(t,this.pos,this.start,!0)))return -1;if(58!=t.charCodeAt(this.pos))return this.stage=-1;this.elts.push(Pd(BO.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(1==this.stage){if(!this.nextStage(Pw(t,TF(t,this.pos),this.start)))return -1}else{if(2!=this.stage)return T9(t,this.pos);let e=TF(t,this.pos),r=0;if(e>this.pos){let n=Px(t,e,this.start);if(n){let e=T9(t,n.to-this.start);e>0&&(this.nextStage(n),r=e)}}return r||(r=T9(t,this.pos)),r>0&&r<t.length?r:-1}}}constructor(t){this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}}function T9(t,e){for(;e<t.length;e++){let r=t.charCodeAt(e);if(10==r)break;if(!TZ(r))return -1}return e}class Pt{nextLine(t,e,r){let n=e.depth<t.stack.length?-1:TJ(e),i=e.next;if(n<0)return!1;let o=Pd(BO.HeaderMark,t.lineStart+e.pos,t.lineStart+n);return t.nextLine(),t.addLeafElement(r,Pd(61==i?BO.SetextHeading1:BO.SetextHeading2,r.start,t.prevLineEnd(),[...t.parser.parseInline(r.content,r.start),o])),!0}finish(){return!1}}let Pe={LinkReference:(t,e)=>91==e.content.charCodeAt(0)?new T7(e):null,SetextHeading:()=>new Pt},Pr={text:"",end:0};class Pn{get parsedPos(){return this.absoluteLineStart}advance(){if(null!=this.stoppedAt&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:t}=this;for(;;){for(let e=0;;){let r=t.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;e<t.markers.length&&(!r||t.markers[e].from<r.end);){let r=t.markers[e++];this.addNode(r.type,r.from,r.to)}if(!r)break;this.finishContext()}if(t.pos<t.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(t.basePos))return null;a:for(;;){for(let e of this.parser.blockParsers)if(e){let r=e(this,t);if(!1!=r){if(!0==r)return null;t.forward();continue a}}break}let e=new TQ(this.lineStart+t.pos,t.text.slice(t.pos));for(let t of this.parser.leafBlockParsers)if(t){let r=t(this,e);r&&e.parsers.push(r)}l:for(;this.nextLine()&&t.pos!=t.text.length;){if(t.indent<t.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,t,e))break l}for(let r of e.parsers)if(r.nextLine(this,t,e))return null;for(let r of(e.content+="\n"+t.scrub(),t.markers))e.marks.push(r)}return this.finishLeaf(e),null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=t}reuseFragment(t){if(!this.fragments.moveTo(this.absoluteLineStart+t,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let e=this.fragments.takeNodes(this);return!!e&&(this.absoluteLineStart+=e,this.lineStart=PE(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++):this.atEnd=!0,this.readLine(),!0)}get depth(){return this.stack.length}parentType(t=this.depth-1){return this.parser.nodeSet.types[this.stack[t].type]}nextLine(){return(this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to)?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(t){if(Pr.end=t,t>=this.to)Pr.text="";else if(Pr.text=this.lineChunkAt(t),Pr.end+=Pr.text.length,this.ranges.length>1){let t=this.absoluteLineStart,e=this.rangeI;for(;this.ranges[e].to<Pr.end;){e++;let r=this.ranges[e].from,n=this.lineChunkAt(r);Pr.end=r+n.length,Pr.text=Pr.text.slice(0,this.ranges[e-1].to-t)+n,t=Pr.end-Pr.text.length}}return Pr}readLine(){let{line:t}=this,{text:e,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,t.reset(e);t.depth<this.stack.length;t.depth++){let e=this.stack[t.depth],r=this.parser.skipContextMarkup[e.type];if(!r)throw Error("Unhandled block context "+BO[e.type]);if(!r(e,this,t))break;t.forward()}}lineChunkAt(t){let e=this.input.chunk(t),r;if(this.input.lineChunks)r="\n"==e?"":e;else{let t=e.indexOf("\n");r=t<0?e:e.slice(0,t)}return t+r.length>this.to?r.slice(0,this.to-t):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(t,e,r=0){this.block=Tq.create(t,r,this.lineStart+e,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(t,e,r=0){this.startContext(this.parser.getNodeType(t),e,r)}addNode(t,e,r){"number"==typeof t&&(t=new Ta(this.parser.nodeSet.types[t],Pl,Pl,(null!=r?r:this.prevLineEnd())-e)),this.block.addChild(t,e-this.block.from)}addElement(t){this.block.addChild(t.toTree(this.parser.nodeSet),t.from-this.block.from)}addLeafElement(t,e){this.addNode(this.buffer.writeElements(PS(e.children,t.marks),-e.from).finish(e.type,e.to-e.from),e.from)}finishContext(){let t=this.stack.pop(),e=this.stack[this.stack.length-1];e.addChild(t.toTree(this.parser.nodeSet),t.from-e.from),this.block=e}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(t){return this.ranges.length>1?function t(e,r,n,i,o){let s=e[r].to,a=[],l=[],h=n.from+i;function c(t,n){for(;n?t>=s:t>s;){let n=e[r+1].from-s;i+=n,t+=n,s=e[++r].to}}for(let u=n.firstChild;u;u=u.nextSibling){c(u.from+i,!0);let n=u.from+i,d,f=o.get(u.tree);f?d=f:u.to+i>s?(d=t(e,r,u,i,o),c(u.to+i,!1)):d=u.toTree(),a.push(d),l.push(n-h)}return c(n.to+i,!1),new Ta(n.type,a,l,n.to+i-h,n.tree?n.tree.propValues:void 0)}(this.ranges,0,t.topNode,this.ranges[0].from,this.reusePlaceholders):t}finishLeaf(t){for(let e of t.parsers)if(e.finish(this,t))return;let e=PS(this.parser.parseInline(t.content,t.start),t.marks);this.addNode(this.buffer.writeElements(e,-t.start).finish(BO.Paragraph,t.content.length),t.start)}elt(t,e,r,n){return"string"==typeof t?Pd(this.parser.getNodeType(t),e,r,n):new Pu(t,e)}get buffer(){return new Ph(this.parser.nodeSet)}constructor(t,e,r,n){this.parser=t,this.input=e,this.ranges=n,this.line=new TB,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=n[n.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=n[0].from,this.block=Tq.create(BO.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new PA(r,e):null,this.readLine()}}class Pi extends TC{createParse(t,e,r){let n=new Pn(this,t,e,r);for(let i of this.wrappers)n=i(n,t,e,r);return n}configure(t){let e=function t(e){if(!Array.isArray(e))return e;if(0==e.length)return null;let r=t(e[0]);if(1==e.length)return r;let n=t(e.slice(1));if(!n||!r)return r||n;let i=(t,e)=>(t||Pl).concat(e||Pl),o=r.wrap,s=n.wrap;return{props:i(r.props,n.props),defineNodes:i(r.defineNodes,n.defineNodes),parseBlock:i(r.parseBlock,n.parseBlock),parseInline:i(r.parseInline,n.parseInline),remove:i(r.remove,n.remove),wrap:o?s?(t,e,r,n)=>o(s(t,e,r,n),e,r,n):o:s}}(t);if(!e)return this;let{nodeSet:r,skipContextMarkup:n}=this,i=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),s=this.blockNames.slice(),a=this.inlineParsers.slice(),l=this.inlineNames.slice(),h=this.endLeafBlock.slice(),c=this.wrappers;if(Po(e.defineNodes)){n=Object.assign({},n);let t=r.types.slice(),i;for(let r of e.defineNodes){let{name:e,block:o,composite:s,style:a}="string"==typeof r?{name:r}:r;if(t.some(t=>t.name==e))continue;s&&(n[t.length]=(t,e,r)=>s(e,r,t.value));let l=t.length,h=s?["Block","BlockContext"]:o?l>=BO.ATXHeading1&&l<=BO.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;t.push(Tn.define({id:l,name:e,props:h&&[[Tt.group,h]]})),a&&(i||(i={}),Array.isArray(a)||a instanceof _x?i[e]=a:Object.assign(i,a))}r=new Ti(t),i&&(r=r.extend(_S(i)))}if(Po(e.props)&&(r=r.extend(...e.props)),Po(e.remove))for(let t of e.remove){let e=this.blockNames.indexOf(t),r=this.inlineNames.indexOf(t);e>-1&&(i[e]=o[e]=void 0),r>-1&&(a[r]=void 0)}if(Po(e.parseBlock))for(let t of e.parseBlock){let e=s.indexOf(t.name);if(e>-1)i[e]=t.parse,o[e]=t.leaf;else{let e=t.before?Ps(s,t.before):t.after?Ps(s,t.after)+1:s.length-1;i.splice(e,0,t.parse),o.splice(e,0,t.leaf),s.splice(e,0,t.name)}t.endLeaf&&h.push(t.endLeaf)}if(Po(e.parseInline))for(let t of e.parseInline){let e=l.indexOf(t.name);if(e>-1)a[e]=t.parse;else{let e=t.before?Ps(l,t.before):t.after?Ps(l,t.after)+1:l.length-1;a.splice(e,0,t.parse),l.splice(e,0,t.name)}}return e.wrap&&(c=c.concat(e.wrap)),new Pi(r,i,o,s,h,n,a,l,c)}getNodeType(t){let e=this.nodeTypes[t];if(null==e)throw RangeError(`Unknown node type '${t}'`);return e}parseInline(t,e){let r=new Pk(this,t,e);h:for(let t=e;t<r.end;){let e=r.char(t);for(let n of this.inlineParsers)if(n){let i=n(r,e,t);if(i>=0){t=i;continue h}}t++}return r.resolveMarkers(0)}constructor(t,e,r,n,i,o,s,a,l){for(let h of(super(),this.nodeSet=t,this.blockParsers=e,this.leafBlockParsers=r,this.blockNames=n,this.endLeafBlock=i,this.skipContextMarkup=o,this.inlineParsers=s,this.inlineNames=a,this.wrappers=l,this.nodeTypes=Object.create(null),t.types))this.nodeTypes[h.name]=h.id}}function Po(t){return null!=t&&t.length>0}function Ps(t,e){let r=t.indexOf(e);if(r<0)throw RangeError(`Position specified relative to unknown parser ${e}`);return r}let Pa=[Tn.none];for(let t=1,e;e=BO[t];t++)Pa[t]=Tn.define({id:t,name:e,props:t>=BO.Escape?[]:[[Tt.group,t in Tz?["Block","BlockContext"]:["Block","LeafBlock"]]],top:"Document"==e});let Pl=[];class Ph{write(t,e,r,n=0){return this.content.push(t,e,r,4+4*n),this}writeElements(t,e=0){for(let r of t)r.writeTo(this,e);return this}finish(t,e){return Ta.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:t,length:e})}constructor(t){this.nodeSet=t,this.content=[],this.nodes=[]}}class Pc{writeTo(t,e){let r=t.content.length;t.writeElements(this.children,e),t.content.push(this.type,this.from+e,this.to+e,t.content.length+4-r)}toTree(t){return new Ph(t).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}constructor(t,e,r,n=Pl){this.type=t,this.from=e,this.to=r,this.children=n}}class Pu{get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Pl}writeTo(t,e){t.nodes.push(this.tree),t.content.push(t.nodes.length-1,this.from+e,this.to+e,-1)}toTree(){return this.tree}constructor(t,e){this.tree=t,this.from=e}}function Pd(t,e,r,n){return new Pc(t,e,r,n)}let Pf={resolve:"Emphasis",mark:"EmphasisMark"},Pp={resolve:"Emphasis",mark:"EmphasisMark"},Pg={},Pm={};class Pv{constructor(t,e,r,n){this.type=t,this.from=e,this.to=r,this.side=n}}let Py="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",Pb=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Pb=RegExp("[\\p{S}|\\p{P}]","u")}catch(t){}let PO={Escape(t,e,r){if(92!=e||r==t.end-1)return -1;let n=t.char(r+1);for(let e=0;e<Py.length;e++)if(Py.charCodeAt(e)==n)return t.append(Pd(BO.Escape,r,r+2));return -1},Entity(t,e,r){if(38!=e)return -1;let n=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(r+1,r+31));return n?t.append(Pd(BO.Entity,r,r+1+n[0].length)):-1},InlineCode(t,e,r){if(96!=e||r&&96==t.char(r-1))return -1;let n=r+1;for(;n<t.end&&96==t.char(n);)n++;let i=n-r,o=0;for(;n<t.end;n++)if(96==t.char(n)){if(++o==i&&96!=t.char(n+1))return t.append(Pd(BO.InlineCode,r,n+1,[Pd(BO.CodeMark,r,r+i),Pd(BO.CodeMark,n+1-i,n+1)]))}else o=0;return -1},HTMLTag(t,e,r){if(60!=e||r==t.end-1)return -1;let n=t.slice(r+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(n);if(i)return t.append(Pd(BO.Autolink,r,r+1+i[0].length,[Pd(BO.LinkMark,r,r+1),Pd(BO.URL,r+1,r+i[0].length),Pd(BO.LinkMark,r+i[0].length,r+1+i[0].length)]));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(n);if(o)return t.append(Pd(BO.Comment,r,r+1+o[0].length));let s=/^\?[^]*?\?>/.exec(n);if(s)return t.append(Pd(BO.ProcessingInstruction,r,r+1+s[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(n);return a?t.append(Pd(BO.HTMLTag,r,r+1+a[0].length)):-1},Emphasis(t,e,r){if(95!=e&&42!=e)return -1;let n=r+1;for(;t.char(n)==e;)n++;let i=t.slice(r-1,r),o=t.slice(n,n+1),s=Pb.test(i),a=Pb.test(o),l=/\s|^$/.test(i),h=/\s|^$/.test(o),c=!h&&(!a||l||s),u=!l&&(!s||h||a);return t.append(new Pv(95==e?Pf:Pp,r,n,(c&&(42==e||!u||s)?1:0)|(u&&(42==e||!c||a)?2:0)))},HardBreak(t,e,r){if(92==e&&10==t.char(r+1))return t.append(Pd(BO.HardBreak,r,r+2));if(32==e){let e=r+1;for(;32==t.char(e);)e++;if(10==t.char(e)&&e>=r+2)return t.append(Pd(BO.HardBreak,r,e+1))}return -1},Link:(t,e,r)=>91==e?t.append(new Pv(Pg,r,r+1,1)):-1,Image:(t,e,r)=>33==e&&91==t.char(r+1)?t.append(new Pv(Pm,r,r+2,1)):-1,LinkEnd(t,e,r){if(93!=e)return -1;for(let e=t.parts.length-1;e>=0;e--){let n=t.parts[e];if(n instanceof Pv&&(n.type==Pg||n.type==Pm)){if(!n.side||t.skipSpace(n.to)==r&&!/[(\[]/.test(t.slice(r+1,r+2)))return t.parts[e]=null,-1;let i=t.takeContent(e),o=t.parts[e]=function(t,e,r,n,i){let{text:o}=t,s=t.char(i),a=i;if(e.unshift(Pd(BO.LinkMark,n,n+(r==BO.Image?2:1))),e.push(Pd(BO.LinkMark,i-1,i)),40==s){let r=t.skipSpace(i+1),n=Pw(o,r-t.offset,t.offset),s;n&&(r=t.skipSpace(n.to))!=n.to&&(s=Px(o,r-t.offset,t.offset))&&(r=t.skipSpace(s.to)),41==t.char(r)&&(e.push(Pd(BO.LinkMark,i,i+1)),a=r+1,n&&e.push(n),s&&e.push(s),e.push(Pd(BO.LinkMark,r,a)))}else if(91==s){let r=P_(o,i-t.offset,t.offset,!1);r&&(e.push(r),a=r.to)}return Pd(r,n,a,e)}(t,i,n.type==Pg?BO.Link:BO.Image,n.from,r+1);if(n.type==Pg)for(let r=0;r<e;r++){let e=t.parts[r];e instanceof Pv&&e.type==Pg&&(e.side=0)}return o.to}}return -1}};function Pw(t,e,r){if(60==t.charCodeAt(e)){for(let n=e+1;n<t.length;n++){let i=t.charCodeAt(n);if(62==i)return Pd(BO.URL,e+r,n+1+r);if(60==i||10==i)return!1}return null}{let n=0,i=e;for(let e=!1;i<t.length;i++){let r=t.charCodeAt(i);if(TZ(r))break;if(e)e=!1;else if(40==r)n++;else if(41==r){if(!n)break;n--}else 92==r&&(e=!0)}return i>e?Pd(BO.URL,e+r,i+r):i==t.length&&null}}function Px(t,e,r){let n=t.charCodeAt(e);if(39!=n&&34!=n&&40!=n)return!1;let i=40==n?41:n;for(let n=e+1,o=!1;n<t.length;n++){let s=t.charCodeAt(n);if(o)o=!1;else{if(s==i)return Pd(BO.LinkTitle,e+r,n+1+r);92==s&&(o=!0)}}return null}function P_(t,e,r,n){for(let i=!1,o=e+1,s=Math.min(t.length,o+999);o<s;o++){let s=t.charCodeAt(o);if(i)i=!1;else{if(93==s)return!n&&Pd(BO.LinkLabel,e+r,o+1+r);if(n&&!TZ(s)&&(n=!1),91==s)return!1;92==s&&(i=!0)}}return null}class Pk{char(t){return t>=this.end?-1:this.text.charCodeAt(t-this.offset)}get end(){return this.offset+this.text.length}slice(t,e){return this.text.slice(t-this.offset,e-this.offset)}append(t){return this.parts.push(t),t.to}addDelimiter(t,e,r,n,i){return this.append(new Pv(t,e,r,(n?1:0)|(i?2:0)))}get hasOpenLink(){for(let t=this.parts.length-1;t>=0;t--){let e=this.parts[t];if(e instanceof Pv&&(e.type==Pg||e.type==Pm))return!0}return!1}addElement(t){return this.append(t)}resolveMarkers(t){for(let e=t;e<this.parts.length;e++){let r=this.parts[e];if(!(r instanceof Pv&&r.type.resolve&&2&r.side))continue;let n=r.type==Pf||r.type==Pp,i=r.to-r.from,o,s=e-1;for(;s>=t;s--){let t=this.parts[s];if(t instanceof Pv&&1&t.side&&t.type==r.type&&!(n&&(1&r.side||2&t.side)&&(t.to-t.from+i)%3==0&&((t.to-t.from)%3||i%3))){o=t;break}}if(!o)continue;let a=r.type.resolve,l=[],h=o.from,c=r.to;if(n){let t=Math.min(2,o.to-o.from,i);h=o.to-t,c=r.from+t,a=1==t?"Emphasis":"StrongEmphasis"}o.type.mark&&l.push(this.elt(o.type.mark,h,o.to));for(let t=s+1;t<e;t++)this.parts[t]instanceof Pc&&l.push(this.parts[t]),this.parts[t]=null;r.type.mark&&l.push(this.elt(r.type.mark,r.from,c));let u=this.elt(a,h,c,l);this.parts[s]=n&&o.from!=h?new Pv(o.type,o.from,h,o.side):null,(this.parts[e]=n&&r.to!=c?new Pv(r.type,c,r.to,r.side):null)?this.parts.splice(e,0,u):this.parts[e]=u}let e=[];for(let r=t;r<this.parts.length;r++){let t=this.parts[r];t instanceof Pc&&e.push(t)}return e}findOpeningDelimiter(t){for(let e=this.parts.length-1;e>=0;e--){let r=this.parts[e];if(r instanceof Pv&&r.type==t)return e}return null}takeContent(t){let e=this.resolveMarkers(t);return this.parts.length=t,e}skipSpace(t){return TF(this.text,t-this.offset)+this.offset}elt(t,e,r,n){return"string"==typeof t?Pd(this.parser.getNodeType(t),e,r,n):new Pu(t,e)}constructor(t,e,r){this.parser=t,this.text=e,this.offset=r,this.parts=[]}}function PS(t,e){if(!e.length)return t;if(!t.length)return e;let r=t.slice(),n=0;for(let t of e){for(;n<r.length&&r[n].to<t.to;)n++;if(n<r.length&&r[n].from<t.from){let e=r[n];e instanceof Pc&&(r[n]=new Pc(e.type,e.from,e.to,PS(e.children,[t])))}else r.splice(n++,0,t)}return r}let PC=[BO.CodeBlock,BO.ListItem,BO.OrderedList,BO.BulletList];class PA{nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(t,e){for(;this.fragment&&this.fragment.to<=t;)this.nextFragment();if(!this.fragment||this.fragment.from>(t?t-1:0))return!1;if(this.fragmentEnd<0){let t=this.fragment.to;for(;t>0&&"\n"!=this.input.read(t-1,t);)t--;this.fragmentEnd=t?t-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor()).firstChild();let n=t+this.fragment.offset;for(;r.to<=n;)if(!r.parent())return!1;for(;;){if(r.from>=n)return this.fragment.from<=e;if(!r.childAfter(n))return!1}}matches(t){let e=this.cursor.tree;return e&&e.prop(Tt.contextHash)==t}takeNodes(t){let e=this.cursor,r=this.fragment.offset,n=this.fragmentEnd-(this.fragment.openEnd?1:0),i=t.absoluteLineStart,o=i,s=t.block.children.length,a=o,l=s;for(;;){if(e.to-r>n){if(e.type.isAnonymous&&e.firstChild())continue;break}let i=PE(e.from-r,t.ranges);if(e.to-r<=t.ranges[t.rangeI].to)t.addNode(e.tree,i);else{let r=new Ta(t.parser.nodeSet.types[BO.Paragraph],[],[],0,t.block.hashProp);t.reusePlaceholders.set(r,e.tree),t.addNode(r,i)}if(e.type.is("Block")&&(0>PC.indexOf(e.type.id)?(o=e.to-r,s=t.block.children.length):(o=a,s=l,a=e.to-r,l=t.block.children.length)),!e.nextSibling())break}for(;t.block.children.length>s;)t.block.children.pop(),t.block.positions.pop();return o-i}constructor(t,e){this.fragments=t,this.input=e,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}}function PE(t,e){let r=t;for(let n=1;n<e.length;n++){let i=e[n-1].to,o=e[n].from;i<t&&(r-=o-i)}return r}let PT=_S({"Blockquote/...":_X.quote,HorizontalRule:_X.contentSeparator,"ATXHeading1/... SetextHeading1/...":_X.heading1,"ATXHeading2/... SetextHeading2/...":_X.heading2,"ATXHeading3/...":_X.heading3,"ATXHeading4/...":_X.heading4,"ATXHeading5/...":_X.heading5,"ATXHeading6/...":_X.heading6,"Comment CommentBlock":_X.comment,Escape:_X.escape,Entity:_X.character,"Emphasis/...":_X.emphasis,"StrongEmphasis/...":_X.strong,"Link/... Image/...":_X.link,"OrderedList/... BulletList/...":_X.list,"BlockQuote/...":_X.quote,"InlineCode CodeText":_X.monospace,"URL Autolink":_X.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":_X.processingInstruction,"CodeInfo LinkLabel":_X.labelName,LinkTitle:_X.string,Paragraph:_X.content}),PP=new Pi(new Ti(Pa).extend(PT),Object.keys(T8).map(t=>T8[t]),Object.keys(T8).map(t=>Pe[t]),Object.keys(T8),[(t,e)=>TK(e)>=0,(t,e)=>TV(e)>=0,(t,e)=>TU(e)>=0,(t,e)=>TY(e,t,!0)>=0,(t,e)=>TG(e,t,!0)>=0,(t,e)=>TW(e,t,!0)>=0,(t,e)=>T4(e,t,!0)>=0],Tz,Object.keys(PO).map(t=>PO[t]),Object.keys(PO),[]),PI={resolve:"Strikethrough",mark:"StrikethroughMark"},PR={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":_X.strikethrough}},{name:"StrikethroughMark",style:_X.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,r){if(126!=e||126!=t.char(r+1)||126==t.char(r+2))return -1;let n=t.slice(r-1,r),i=t.slice(r+2,r+3),o=/\s|^$/.test(n),s=/\s|^$/.test(i),a=Pb.test(n),l=Pb.test(i);return t.addDelimiter(PI,r,r+2,!s&&(!l||o||a),!o&&(!a||s||l))},after:"Emphasis"}]};function PM(t,e,r=0,n,i=0){let o=0,s=!0,a=-1,l=-1,h=!1,c=()=>{n.push(t.elt("TableCell",i+a,i+l,t.parser.parseInline(e.slice(a,l),i+a)))};for(let u=r;u<e.length;u++){let r=e.charCodeAt(u);124!=r||h?(h||32!=r&&9!=r)&&(a<0&&(a=u),l=u+1):((!s||a>-1)&&o++,s=!1,n&&(a>-1&&c(),n.push(t.elt("TableDelimiter",u+i,u+i+1))),a=l=-1),h=!h&&92==r}return a>-1&&(o++,n&&c()),o}function PN(t,e){for(let r=e;r<t.length;r++){let e=t.charCodeAt(r);if(124==e)return!0;92==e&&r++}return!1}let PD=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class PL{nextLine(t,e,r){if(null==this.rows){let n;if(this.rows=!1,(45==e.next||58==e.next||124==e.next)&&PD.test(n=e.text.slice(e.pos))){let i=[];PM(t,r.content,0,i,r.start)==PM(t,n,e.pos)&&(this.rows=[t.elt("TableHeader",r.start,r.start+r.content.length,i),t.elt("TableDelimiter",t.lineStart+e.pos,t.lineStart+e.text.length)])}}else if(this.rows){let r=[];PM(t,e.text,e.pos,r,t.lineStart),this.rows.push(t.elt("TableRow",t.lineStart+e.pos,t.lineStart+e.text.length,r))}return!1}finish(t,e){return!!this.rows&&(t.addLeafElement(e,t.elt("Table",e.start,e.start+e.content.length,this.rows)),!0)}constructor(){this.rows=null}}let P$={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":_X.heading}},"TableRow",{name:"TableCell",style:_X.content},{name:"TableDelimiter",style:_X.processingInstruction}],parseBlock:[{name:"Table",leaf:(t,e)=>PN(e.content,0)?new PL:null,endLeaf(t,e,r){if(r.parsers.some(t=>t instanceof PL)||!PN(e.text,e.basePos))return!1;let n=t.peekLine();return PD.test(n)&&PM(t,e.text,e.basePos)==PM(t,n,e.basePos)},before:"SetextHeading"}]};class Pq{nextLine(){return!1}finish(t,e){return t.addLeafElement(e,t.elt("Task",e.start,e.start+e.content.length,[t.elt("TaskMarker",e.start,e.start+3),...t.parser.parseInline(e.content.slice(3),e.start+3)])),!0}}let PQ={defineNodes:[{name:"Task",block:!0,style:_X.list},{name:"TaskMarker",style:_X.atom}],parseBlock:[{name:"TaskList",leaf:(t,e)=>/^\[[ xX]\][ \t]/.test(e.content)&&"ListItem"==t.parentType().name?new Pq:null,after:"SetextHeading"}]},PB=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,Pj=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,Pz=/[\w-]+\.[\w-]+($|\/)/,PZ=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,PF=/\/[a-zA-Z\d@.]+/gy;function PX(t,e,r,n){let i=0;for(let o=e;o<r;o++)t[o]==n&&i++;return i}function PV(t,e){PZ.lastIndex=e;let r=PZ.exec(t);if(!r)return -1;let n=r[0][r[0].length-1];return"_"==n||"-"==n?-1:e+r[0].length-("."==n?1:0)}let PU=[P$,PQ,PR,{parseInline:[{name:"Autolink",parse(t,e,r){let n=r-t.offset;if(n&&/\w/.test(t.text[n-1]))return -1;PB.lastIndex=n;let i=PB.exec(t.text),o=-1;if(!i)return -1;if(i[1]||i[2]){if((o=function(t,e){Pj.lastIndex=e;let r=Pj.exec(t);if(!r||Pz.exec(r[0])[0].indexOf("_")>-1)return -1;let n=e+r[0].length;for(;;){let r=t[n-1],i;if(/[?!.,:*_~]/.test(r)||")"==r&&PX(t,e,n,")")>PX(t,e,n,"("))n--;else if(";"==r&&(i=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,n))))n=e+i.index;else break}return n}(t.text,n+i[0].length))>-1&&t.hasOpenLink){let e=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(n,o));o=n+e[0].length}}else i[3]?o=PV(t.text,n):(o=PV(t.text,n+i[0].length))>-1&&"xmpp:"==i[0]&&(PF.lastIndex=o,(i=PF.exec(t.text))&&(o=i.index+i[0].length));return o<0?-1:(t.addElement(t.elt("URL",r,o+t.offset)),o+t.offset)}}]}];function PW(t,e,r){return(n,i,o)=>{if(i!=t||n.char(o+1)==t)return -1;let s=[n.elt(r,o,o+1)];for(let i=o+1;i<n.end;i++){let a=n.char(i);if(a==t)return n.addElement(n.elt(e,o,i+1,s.concat(n.elt(r,i,i+1))));if(92==a&&s.push(n.elt("Escape",i,i+++2)),TZ(a))break}return -1}}let PH={defineNodes:[{name:"Superscript",style:_X.special(_X.content)},{name:"SuperscriptMark",style:_X.processingInstruction}],parseInline:[{name:"Superscript",parse:PW(94,"Superscript","SuperscriptMark")}]},PY={defineNodes:[{name:"Subscript",style:_X.special(_X.content)},{name:"SubscriptMark",style:_X.processingInstruction}],parseInline:[{name:"Subscript",parse:PW(126,"Subscript","SubscriptMark")}]},PG={defineNodes:[{name:"Emoji",style:_X.character}],parseInline:[{name:"Emoji",parse(t,e,r){let n;return 58==e&&(n=/^[a-zA-Z_0-9]+:/.exec(t.slice(r+1,t.end)))?t.addElement(t.elt("Emoji",r,r+1+n[0].length)):-1}}]},PK=0;class PJ{constructor(t,e){this.from=t,this.to=e}}class P0{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=P3.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=PK++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}P0.closedBy=new P0({deserialize:t=>t.split(" ")}),P0.openedBy=new P0({deserialize:t=>t.split(" ")}),P0.group=new P0({deserialize:t=>t.split(" ")}),P0.isolate=new P0({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),P0.contextHash=new P0({perNode:!0}),P0.lookAhead=new P0({perNode:!0}),P0.mounted=new P0({perNode:!0});class P1{static get(t){return t&&t.props&&t.props[P0.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let P2=Object.create(null);class P3{static define(t){let e=t.props&&t.props.length?Object.create(null):P2,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new P3(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(P0.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(P0.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}P3.none=new P3("",Object.create(null),0,8);class P4{extend(...t){let e=[];for(let r of this.types){let n=null;for(let e of t){let t=e(r);t&&(n||(n=Object.assign({},r.props)),n[t[0].id]=t[1])}e.push(n?new P3(r.name,n,r.id,r.flags):r)}return new P4(e)}constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw RangeError("Node type ids should correspond to array positions when creating a node set")}}let P5=new WeakMap,P6=new WeakMap;(Qq=Bw||(Bw={}))[Qq.ExcludeBuffers=1]="ExcludeBuffers",Qq[Qq.IncludeAnonymous=2]="IncludeAnonymous",Qq[Qq.IgnoreMounts=4]="IgnoreMounts",Qq[Qq.IgnoreOverlays=8]="IgnoreOverlays";class P8{toString(){let t=P1.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Ic(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new Ic(P5.get(this)||this.topNode);return n.moveTo(t,e),P5.set(this,n._tree),n}get topNode(){return new In(this,0,0,null)}resolve(t,e=0){let r=Ie(P5.get(this)||this.topNode,t,e,!1);return P5.set(this,r),r}resolveInner(t,e=0){let r=Ie(P6.get(this)||this.topNode,t,e,!0);return P6.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof In?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=P1.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new In(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(Ie(s,e,r,!1))}}return i?Il(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&Bw.IncludeAnonymous)>0;for(let t=this.cursor(o|Bw.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:Ip(P3.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new P8(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new P8(P3.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new P7(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[P0.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[P0.lookAhead,i];s=s?[t].concat(s):[t]}return new P8(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new P9(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new P9(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof P8){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(P0.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=Ip(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new P8(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}P8.empty=new P8(P3.none,[],[],0);class P7{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new P7(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class P9{get type(){return P3.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!It(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new P9(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function It(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function Ie(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof In&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:Bw.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof In&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class Ir{cursor(t=0){return new Ic(this,t)}getChild(t,e=null,r=null){let n=Ii(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return Ii(this,t,e,r)}resolve(t,e=0){return Ie(this,t,e,!1)}resolveInner(t,e=0){return Ie(this,t,e,!0)}matchContext(t){return Io(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class In extends Ir{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(It(n,r,h,h+l.length)){if(l instanceof P9){if(i&Bw.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new Ia(new Is(o,l,t,h),null,s)}else if(i&Bw.IncludeAnonymous||!l.type.isAnonymous||Iu(l)){let s;if(!(i&Bw.IgnoreMounts)&&(s=P1.get(l))&&!s.overlay)return new In(s.tree,h,t,o);let a=new In(l,h,t,o);return i&Bw.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&Bw.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&Bw.IgnoreOverlays)&&(n=P1.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new In(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function Ii(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function Io(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class Is{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class Ia extends Ir{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new Ia(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&Bw.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new Ia(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Ia(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Ia(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new P8(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function Il(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof In&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new Ih(i,r)}class Ih{get next(){return Il(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class Ic{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof In?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&Bw.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Bw.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Bw.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&Bw.IncludeAnonymous||t instanceof P9||!t.type.isAnonymous||Iu(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new Ia(this.buffer,e,this.stack[t]);return this.bufferNode=new Ia(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return Io(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return Io(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof In)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function Iu(t){return t.children.some(t=>t instanceof P9||!t.type.isAnonymous||Iu(t))}let Id=new WeakMap;function If(t,e){if(!t.isAnonymous||e instanceof P9||e.type!=t)return 1;let r=Id.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof P8)){r=1;break}r+=If(t,n)}Id.set(e,r)}return r}function Ip(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=If(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=If(t,r[h]);for(h++;h<s;h++){let e=If(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(Ip(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}class Ig{get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],r=!1){let n=[new Ig(0,t.length,t,0,!1,r)];for(let r of e)r.to>t.length&&n.push(r);return n}static applyChanges(t,e,r=128){if(!e.length)return t;let n=[],i=1,o=t.length?t[0]:null;for(let s=0,a=0,l=0;;s++){let h=s<e.length?e[s]:null,c=h?h.fromA:1e9;if(c-a>=r)for(;o&&o.from<c;){let e=o;if(a>=e.from||c<=e.to||l){let t=Math.max(e.from,a)-l,r=Math.min(e.to,c)-l;e=t>=r?null:new Ig(t,r,e.tree,e.offset+l,s>0,!!h)}if(e&&n.push(e),o.to>c)break;o=i<t.length?t[i++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return n}constructor(t,e,r,n,i=!1,o=!1){this.from=t,this.to=e,this.tree=r,this.offset=n,this.open=(i?1:0)|(o?2:0)}}class Im{startParse(t,e,r){return"string"==typeof t&&(t=new Iv(t)),r=r?r.length?r.map(t=>new PJ(t.from,t.to)):[new PJ(0,0)]:[new PJ(0,t.length)],this.createParse(t,e||[],r)}parse(t,e,r){let n=this.startParse(t,e,r);for(;;){let t=n.advance();if(t)return t}}}class Iv{get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}constructor(t){this.string=t}}class Iy{constructor(t,e,r,n,i){this.parser=t,this.parse=e,this.overlay=r,this.target=n,this.from=i}}function Ib(t){if(!t.length||t.some(t=>t.from>=t.to))throw RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class IO{constructor(t,e,r,n,i,o,s){this.parser=t,this.predicate=e,this.mounts=r,this.index=n,this.start=i,this.target=o,this.prev=s,this.depth=0,this.ranges=[]}}let Iw=new P0({perNode:!0});class Ix{advance(){if(this.baseParse){let t=this.baseParse.advance();if(!t)return null;if(this.baseParse=null,this.baseTree=t,this.startInner(),null!=this.stoppedAt)for(let t of this.inner)t.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let t=this.baseTree;return null!=this.stoppedAt&&(t=new P8(t.type,t.children,t.positions,t.length,t.propValues.concat([[Iw,this.stoppedAt]]))),t}let t=this.inner[this.innerDone],e=t.parse.advance();if(e){this.innerDone++;let r=Object.assign(Object.create(null),t.target.props);r[P0.mounted.id]=new P1(e,t.overlay,t.parser),t.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].from<t&&(t=Math.min(t,this.inner[e].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].parse.stopAt(t)}startInner(){let t=new IS(this.fragments),e=null,r=null,n=new Ic(new In(this.baseTree,this.ranges[0].from,0,null),Bw.IncludeAnonymous|Bw.IgnoreMounts);o:for(let i,o;;){let s=!0,a;if(null!=this.stoppedAt&&n.from>=this.stoppedAt)s=!1;else if(t.hasNode(n)){if(e){let t=e.mounts.find(t=>t.frag.from<=n.from&&t.frag.to>=n.to&&t.mount.overlay);if(t)for(let r of t.mount.overlay){let i=r.from+t.pos,o=r.to+t.pos;i>=n.from&&o<=n.to&&!e.ranges.some(t=>t.from<o&&t.to>i)&&e.ranges.push({from:i,to:o})}}s=!1}else if(r&&(o=function(t,e,r){for(let n of t){if(n.from>=r)break;if(n.to>e)return n.from<=e&&n.to>=r?2:1}return 0}(r.ranges,n.from,n.to)))s=2!=o;else if(!n.type.isAnonymous&&(i=this.nest(n,this.input))&&(n.from<n.to||!i.overlay)){n.tree||function(t){let{node:e}=t,r=[],n=e.context.buffer;do r.push(t.index),t.parent();while(!t.tree)let i=t.tree,o=i.children.indexOf(n),s=i.children[o],a=s.buffer,l=[o];for(let n of(i.children[o]=function t(n,i,o,h,c,u){let d=r[u],f=[],p=[];I_(s,n,d,f,p,h);let g=a[d+1],m=a[d+2];l.push(f.length);let v=u?t(d+4,a[d+3],s.set.types[a[d]],g,m-g,u-1):e.toTree();return f.push(v),p.push(g-h),I_(s,a[d+3],i,f,p,h),new P8(o,f,p,c)}(0,a.length,P3.none,0,s.length,r.length-1),l)){let e=t.tree.children[n],r=t.tree.positions[n];t.yield(new In(e,r+t.from,n,t._tree))}}(n);let o=t.findMounts(n.from,i.parser);if("function"==typeof i.overlay)e=new IO(i.parser,i.overlay,o,this.inner.length,n.from,n.tree,e);else{let t=IC(this.ranges,i.overlay||(n.from<n.to?[new PJ(n.from,n.to)]:[]));t.length&&Ib(t),(t.length||!i.overlay)&&this.inner.push(new Iy(i.parser,t.length?i.parser.startParse(this.input,IA(o,t),t):i.parser.startParse(""),i.overlay?i.overlay.map(t=>new PJ(t.from-n.from,t.to-n.from)):null,n.tree,t.length?t[0].from:n.from)),i.overlay?t.length&&(r={ranges:t,depth:0,prev:r}):s=!1}}else if(e&&(a=e.predicate(n))&&(!0===a&&(a=new PJ(n.from,n.to)),a.from<a.to)){let t=e.ranges.length-1;t>=0&&e.ranges[t].to==a.from?e.ranges[t]={from:e.ranges[t].from,to:a.to}:e.ranges.push(a)}if(s&&n.firstChild())e&&e.depth++,r&&r.depth++;else for(;!n.nextSibling();){if(!n.parent())break o;if(e&&!--e.depth){let t=IC(this.ranges,e.ranges);t.length&&(Ib(t),this.inner.splice(e.index,0,new Iy(e.parser,e.parser.startParse(this.input,IA(e.mounts,t),t),e.ranges.map(t=>new PJ(t.from-e.start,t.to-e.start)),e.target,t[0].from))),e=e.prev}!r||--r.depth||(r=r.prev)}}}constructor(t,e,r,n,i){this.nest=e,this.input=r,this.fragments=n,this.ranges=i,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}}function I_(t,e,r,n,i,o){if(e<r){let s=t.buffer[e+1];n.push(t.slice(e,r,s)),i.push(s-o)}}class Ik{moveTo(t){let{cursor:e}=this,r=t-this.offset;for(;!this.done&&e.from<r;)e.to>=t&&e.enter(r,1,Bw.IgnoreOverlays|Bw.ExcludeBuffers)||e.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let e=this.cursor.tree;;){if(e==t.tree)return!0;if(e.children.length&&0==e.positions[0]&&e.children[0]instanceof P8)e=e.children[0];else break}return!1}constructor(t,e){this.offset=e,this.done=!1,this.cursor=t.cursor(Bw.IncludeAnonymous|Bw.IgnoreMounts)}}class IS{hasNode(t){for(;this.curFrag&&t.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=t.from&&this.curTo>=t.to&&this.inner.hasNode(t)}nextFrag(){var t;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let e=this.curFrag=this.fragments[this.fragI];this.curTo=null!==(t=e.tree.prop(Iw))&&void 0!==t?t:e.to,this.inner=new Ik(e.tree,-e.offset)}}findMounts(t,e){var r;let n=[];if(this.inner){this.inner.cursor.moveTo(t,1);for(let t=this.inner.cursor.node;t;t=t.parent){let i=null===(r=t.tree)||void 0===r?void 0:r.prop(P0.mounted);if(i&&i.parser==e)for(let e=this.fragI;e<this.fragments.length;e++){let r=this.fragments[e];if(r.from>=t.to)break;r.tree==this.curFrag.tree&&n.push({frag:r,pos:t.from-r.offset,mount:i})}}}return n}constructor(t){var e;if(this.fragments=t,this.curTo=0,this.fragI=0,t.length){let r=this.curFrag=t[0];this.curTo=null!==(e=r.tree.prop(Iw))&&void 0!==e?e:r.to,this.inner=new Ik(r.tree,-r.offset)}else this.curFrag=this.inner=null}}function IC(t,e){let r=null,n=e;for(let i=1,o=0;i<t.length;i++){let s=t[i-1].to,a=t[i].from;for(;o<n.length;o++){let t=n[o];if(t.from>=a)break;!(t.to<=s)&&(r||(n=r=e.slice()),t.from<s?(r[o]=new PJ(t.from,s),t.to>a&&r.splice(o+1,0,new PJ(a,t.to))):t.to>a?r[o--]=new PJ(a,t.to):r.splice(o--,1))}}return n}function IA(t,e){let r=[];for(let{pos:n,mount:i,frag:o}of t){let t=n+(i.overlay?i.overlay[0].from:0),s=t+i.tree.length,a=Math.max(o.from,t),l=Math.min(o.to,s);if(i.overlay){let s=function(t,e,r,n){let i=0,o=0,s=!1,a=!1,l=-1e9,h=[];for(;;){let c=i==t.length?1e9:s?t[i].to:t[i].from,u=o==e.length?1e9:a?e[o].to:e[o].from;if(s!=a){let t=Math.max(l,r),e=Math.min(c,u,n);t<e&&h.push(new PJ(t,e))}if(1e9==(l=Math.min(c,u)))break;c==l&&(s?(s=!1,i++):s=!0),u==l&&(a?(a=!1,o++):a=!0)}return h}(e,i.overlay.map(t=>new PJ(t.from+n,t.to+n)),a,l);for(let e=0,n=a;;e++){let a=e==s.length,h=a?l:s[e].from;if(h>n&&r.push(new Ig(n,h,i.tree,-t,o.from>=n||o.openStart,o.to<=h||o.openEnd)),a)break;n=s[e].to}}else r.push(new Ig(a,l,i.tree,-t,o.from>=t||o.openStart,o.to<=s||o.openEnd))}return r}var IE={},IT=IE={};function IP(){throw Error("setTimeout has not been defined")}function II(){throw Error("clearTimeout has not been defined")}function IR(t){if(Bx===setTimeout)return setTimeout(t,0);if((Bx===IP||!Bx)&&setTimeout)return Bx=setTimeout,setTimeout(t,0);try{return Bx(t,0)}catch(e){try{return Bx.call(null,t,0)}catch(e){return Bx.call(this,t,0)}}}!function(){try{Bx="function"==typeof setTimeout?setTimeout:IP}catch(t){Bx=IP}try{B_="function"==typeof clearTimeout?clearTimeout:II}catch(t){B_=II}}();var IM=[],IN=!1,ID=-1;function IL(){IN&&Bk&&(IN=!1,Bk.length?IM=Bk.concat(IM):ID=-1,IM.length&&I$())}function I$(){if(!IN){var t=IR(IL);IN=!0;for(var e=IM.length;e;){for(Bk=IM,IM=[];++ID<e;)Bk&&Bk[ID].run();ID=-1,e=IM.length}Bk=null,IN=!1,function(t){if(B_===clearTimeout)return clearTimeout(t);if((B_===II||!B_)&&clearTimeout)return B_=clearTimeout,clearTimeout(t);try{B_(t)}catch(e){try{return B_.call(null,t)}catch(e){return B_.call(this,t)}}}(t)}}function Iq(t,e){this.fun=t,this.array=e}function IQ(){}IT.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];IM.push(new Iq(t,e)),1!==IM.length||IN||IR(I$)},Iq.prototype.run=function(){this.fun.apply(null,this.array)},IT.title="browser",IT.browser=!0,IT.env={},IT.argv=[],IT.version="",IT.versions={},IT.on=IQ,IT.addListener=IQ,IT.once=IQ,IT.off=IQ,IT.removeListener=IQ,IT.removeAllListeners=IQ,IT.emit=IQ,IT.prependListener=IQ,IT.prependOnceListener=IQ,IT.listeners=function(t){return[]},IT.binding=function(t){throw Error("process.binding is not supported")},IT.cwd=function(){return"/"},IT.chdir=function(t){throw Error("process.chdir is not supported")},IT.umask=function(){return 0};class IB{toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,r=0){let n=t.parser.context;return new IB(t,[],e,r,r,0,[],0,n?new Ij(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let r=t>>19,n=65535&t,{parser:i}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let s=i.dynamicPrecedence(n);if(s&&(this.score+=s),0==r){this.pushState(i.getGoto(this.state,n,!0),this.reducePos),n<i.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(r-1)*3-(262144&t?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-l;h>=2e3&&!(null===(e=this.p.parser.nodeSet.types[n])||void 0===e?void 0:e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=h));let c=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-c;if(n<i.minRepeatTerm||131072&t){let t=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,t,u+4,!0)}if(262144&t)this.state=this.stack[a];else{let t=this.stack[a-3];this.state=i.getGoto(t,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(t,e,r,n=4,i=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,n=this.buffer.length;if(0==n&&t.parent&&(n=t.bufferBase-t.parent.bufferBase,t=t.parent),n>0&&0==t.buffer[n-4]&&t.buffer[n-1]>-1){if(e==r)return;if(t.buffer[n-2]>=e){t.buffer[n-2]=r;return}}}if(i&&this.pos!=r){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4]){let t=!1;for(let e=i;e>0&&this.buffer[e-2]>r;e-=4)if(this.buffer[e-1]>=0){t=!0;break}if(t)for(;i>0&&this.buffer[i-2]>r;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,n>4&&(n-=4)}this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=r,this.buffer[i+3]=n}else this.buffer.push(t,e,r,n)}shift(t,e,r,n){if(131072&t)this.pushState(65535&t,this.pos);else if((262144&t)==0){let{parser:i}=this.p;(n>this.pos||e<=i.maxNode)&&(this.pos=n,i.stateFlag(t,1)||(this.reducePos=n)),this.pushState(t,r),this.shiftContext(e,r),e<=i.maxNode&&this.buffer.push(e,r,n,4)}else this.pos=n,this.shiftContext(e,r),e<=this.p.parser.maxNode&&this.buffer.push(e,r,n,4)}apply(t,e,r,n){65536&t?this.reduce(t):this.shift(t,e,r,n)}useNode(t,e){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=t)&&(this.p.reused.push(t),r++);let n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let r=t.buffer.slice(e),n=t.bufferBase+e;for(;t&&n==t.bufferBase;)t=t.parent;return new IB(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let r=t<=this.p.parser.maxNode;r&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,r?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new Iz(this);;){let r=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==r)return!1;if((65536&r)==0)return!0;e.reduce(r)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let r=[];for(let n=0,i;n<e.length;n+=2)(i=e[n+1])!=this.state&&this.p.parser.hasAction(i,t)&&r.push(e[n],i);if(this.stack.length<120)for(let t=0;r.length<8&&t<e.length;t+=2){let n=e[t+1];r.some((t,e)=>1&e&&t==n)||r.push(e[t],n)}e=r}let r=[];for(let t=0;t<e.length&&r.length<4;t+=2){let n=e[t+1];if(n==this.state)continue;let i=this.split();i.pushState(n,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(e[t],this.pos),i.reducePos=this.pos,i.score-=200,r.push(i)}return r}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((65536&e)==0)return!1;if(!t.validAction(this.state,e)){let r=e>>19,n=65535&e,i=this.stack.length-3*r;if(i<0||0>t.getGoto(this.stack[i],n,!1)){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],r=(n,i)=>{if(!e.includes(n))return e.push(n),t.allActions(n,e=>{if(393216&e);else if(65536&e){let r=(e>>19)-i;if(r>1){let n=65535&e,i=this.stack.length-3*r;if(i>=0&&t.getGoto(this.stack[i],n,!1)>=0)return r<<19|65536|n}}else{let t=r(e,i+1);if(null!=t)return t}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new Ij(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}constructor(t,e,r,n,i,o,s,a,l,h=0,c){this.p=t,this.stack=e,this.state=r,this.reducePos=n,this.pos=i,this.score=o,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=h,this.parent=c}}class Ij{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class Iz{reduce(t){let e=t>>19;0==e?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(e-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],65535&t,!0);this.state=r}constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}}class IZ{static create(t,e=t.bufferBase+t.buffer.length){return new IZ(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new IZ(this.stack,this.pos,this.index)}constructor(t,e,r){this.stack=t,this.pos=e,this.index=r,this.buffer=t.buffer,0==this.index&&this.maybeNext()}}function IF(t,e=Uint16Array){if("string"!=typeof t)return t;let r=null;for(let n=0,i=0;n<t.length;){let o=0;for(;;){let e=t.charCodeAt(n++),r=!1;if(126==e){o=65535;break}e>=92&&e--,e>=34&&e--;let i=e-32;if(i>=46&&(i-=46,r=!0),o+=i,r)break;o*=46}r?r[i++]=o:r=new e(o)}return r}class IX{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}let IV=new IX;class IU{resolveOffset(t,e){let r=this.range,n=this.rangeIndex,i=this.pos+t;for(;i<r.from;){if(!n)return null;let t=this.ranges[--n];i-=r.from-t.to,r=t}for(;e<0?i>r.to:i>=r.to;){if(n==this.ranges.length-1)return null;let t=this.ranges[++n];i+=t.from-r.to,r=t}return i}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,r,n;if(e>=0&&e<this.chunk.length)r=this.pos+t,n=this.chunk.charCodeAt(e);else{let e=this.resolveOffset(t,1);if(null==e)return -1;if((r=e)>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let t=this.rangeIndex,e=this.range;for(;e.to<=r;)e=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>e.to&&(this.chunk2=this.chunk2.slice(0,e.to-r)),n=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),n}acceptToken(t,e=0){let r=e?this.resolveOffset(e,-1):this.pos;if(null==r||r<this.token.start)throw RangeError("Token end out of bounds");this.token.value=t,this.token.end=r}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=IV,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let r="";for(let n of this.ranges){if(n.from>=e)break;n.to>t&&(r+=this.input.read(Math.max(n.from,t),Math.min(n.to,e)))}return r}constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=IV,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}}class IW{token(t,e){let{parser:r}=e.p;IY(this.data,t,e,this.id,r.data,r.tokenPrecTable)}constructor(t,e){this.data=t,this.id=e}}IW.prototype.contextual=IW.prototype.fallback=IW.prototype.extend=!1,(class{token(t,e){let r=t.pos,n=0;for(;;){let r=t.next<0,i=t.resolveOffset(1,1);if(IY(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(null==this.elseToken)return;if(!r&&n++,null==i)break;t.reset(i,t.token)}n&&(t.reset(r,t.token),t.acceptToken(this.elseToken,n))}constructor(t,e,r){this.precTable=e,this.elseToken=r,this.data="string"==typeof t?IF(t):t}}).prototype.contextual=IW.prototype.fallback=IW.prototype.extend=!1;class IH{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function IY(t,e,r,n,i,o){let s=0,a=1<<n,{dialect:l}=r.p.parser;o:for(;(a&t[s])!=0;){let r=t[s+1];for(let n=s+3;n<r;n+=2)if((t[n+1]&a)>0){let r=t[n];if(l.allows(r)&&(-1==e.token.value||e.token.value==r||function(t,e,r,n){let i=IG(r,n,e);return i<0||IG(r,n,t)<i}(r,e.token.value,i,o))){e.acceptToken(r);break}}let n=e.next,h=0,c=t[s+2];if(e.next<0&&c>h&&65535==t[r+3*c-3]){s=t[r+3*c-1];continue}for(;h<c;){let i=h+c>>1,o=r+i+(i<<1),a=t[o],l=t[o+1]||65536;if(n<a)c=i;else if(n>=l)h=i+1;else{s=t[o+2],e.advance();continue o}}break}}function IG(t,e,r){for(let n=e,i;65535!=(i=t[n]);n++)if(i==r)return n-e;return -1}let IK=void 0!==IE&&IE.env&&/\bparse\b/.test(void 0),IJ=null;function I0(t,e,r){let n=t.cursor(Bw.IncludeAnonymous);for(n.moveTo(e);;)if(!(r<0?n.childBefore(e):n.childAfter(e)))for(;;){if((r<0?n.to<e:n.from>e)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:t.length}}class I1{nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?I0(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?I0(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let r=this.trees[e],n=this.index[e];if(n==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=r.children[n],o=this.start[e]+r.positions[n];if(o>t)return this.nextStart=o,null;if(i instanceof P8){if(o==t){if(o<this.safeFrom)return null;let t=o+i.length;if(t<=this.safeTo){let e=i.prop(P0.lookAhead);if(!e||t+e<this.fragment.to)return i}}this.index[e]++,o+i.length>=Math.max(this.safeFrom,t)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[e]++,this.nextStart=o+i.length}}constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}}class I2{getActions(t){let e=0,r=null,{parser:n}=t.p,{tokenizers:i}=n,o=n.stateSlot(t.state,3),s=t.curContext?t.curContext.hash:0,a=0;for(let n=0;n<i.length;n++){if((1<<n&o)==0)continue;let l=i[n],h=this.tokens[n];if((!r||l.fallback)&&((l.contextual||h.start!=t.pos||h.mask!=o||h.context!=s)&&(this.updateCachedToken(h,l,t),h.mask=o,h.context=s),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),0!=h.value)){let n=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!l.extend&&(r=h,e>n))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),r||t.pos!=this.stream.end||((r=new IX).value=t.p.parser.eofTerm,r.start=r.end=t.pos,e=this.addActions(t,r.value,r.end,e)),this.mainToken=r,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new IX,{pos:r,p:n}=t;return e.start=r,e.end=Math.min(r+1,n.stream.end),e.value=r==n.stream.end?n.parser.eofTerm:0,e}updateCachedToken(t,e,r){let n=this.stream.clipPos(r.pos);if(e.token(this.stream.reset(n,t),r),t.value>-1){let{parser:e}=r.p;for(let n=0;n<e.specialized.length;n++)if(e.specialized[n]==t.value){let i=e.specializers[n](this.stream.read(t.start,t.end),r);if(i>=0&&r.p.parser.dialect.allows(i>>1)){(1&i)==0?t.value=i>>1:t.extended=i>>1;break}}}else t.value=0,t.end=this.stream.clipPos(n+1)}putAction(t,e,r,n){for(let e=0;e<n;e+=3)if(this.actions[e]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=r,n}addActions(t,e,r,n){let{state:i}=t,{parser:o}=t.p,{data:s}=o;for(let t=0;t<2;t++)for(let a=o.stateSlot(i,t?2:1);;a+=3){if(65535==s[a]){if(1==s[a+1])a=I7(s,a+2);else{0==n&&2==s[a+1]&&(n=this.putAction(I7(s,a+2),e,r,n));break}}s[a]==e&&(n=this.putAction(I7(s,a+1),e,r,n))}return n}constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(t=>new IX)}}class I3{get parsedPos(){return this.minStackPos}advance(){let t,e,r=this.stacks,n=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==r.length){let[t]=r;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<r.length;o++){let s=r[o];for(;;){if(this.tokens.mainToken=null,s.pos>n)i.push(s);else{if(this.advanceStack(s,i,r))continue;t||(t=[],e=[]),t.push(s);let n=this.tokens.getMainToken(s);e.push(n.value,n.end)}break}}if(!i.length){let e=t&&function(t){let e=null;for(let r of t){let t=r.p.stoppedAt;(r.pos==r.p.stream.end||null!=t&&r.pos>t)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}(t);if(e)return IK&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw IK&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&t){let r=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,i);if(r)return IK&&console.log("Force-finish "+this.stackID(r)),this.stackToTree(r.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(i.length>t)for(i.sort((t,e)=>e.score-t.score);i.length>t;)i.pop();i.some(t=>t.reducePos>n)&&this.recovering--}else if(i.length>1){h:for(let t=0;t<i.length-1;t++){let e=i[t];for(let r=t+1;r<i.length;r++){let n=i[r];if(e.sameState(n)||e.buffer.length>500&&n.buffer.length>500){if((e.score-n.score||e.buffer.length-n.buffer.length)>0)i.splice(r--,1);else{i.splice(t--,1);continue h}}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let t=1;t<i.length;t++)i[t].pos<this.minStackPos&&(this.minStackPos=i[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,r){let n=t.pos,{parser:i}=this,o=IK?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,r=e?t.curContext.hash:0;for(let s=this.fragments.nodeAt(n);s;){let n=this.parser.nodeSet.types[s.type.id]==s.type?i.getGoto(t.state,s.type.id):-1;if(n>-1&&s.length&&(!e||(s.prop(P0.contextHash)||0)==r))return t.useNode(s,n),IK&&console.log(o+this.stackID(t)+` (via reuse of ${i.getName(s.type.id)})`),!0;if(!(s instanceof P8)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(a instanceof P8&&0==s.positions[0])s=a;else break}}let s=i.stateSlot(t.state,4);if(s>0)return t.reduce(s),IK&&console.log(o+this.stackID(t)+` (via always-reduce ${i.getName(65535&s)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let s=0;s<a.length;){let l=a[s++],h=a[s++],c=a[s++],u=s==a.length||!r,d=u?t:t.split(),f=this.tokens.mainToken;if(d.apply(l,h,f?f.start:d.pos,c),IK&&console.log(o+this.stackID(d)+` (via ${(65536&l)==0?"shift":`reduce of ${i.getName(65535&l)}`} for ${i.getName(h)} @ ${n}${d==t?"":", split"})`),u)return!0;d.pos>n?e.push(d):r.push(d)}return!1}advanceFully(t,e){let r=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>r)return I4(t,e),!0}}runRecovery(t,e,r){let n=null,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=e[o<<1],l=e[(o<<1)+1],h=IK?this.stackID(s)+" -> ":"";if(s.deadEnd&&(i||(i=!0,s.restart(),IK&&console.log(h+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))))continue;let c=s.split(),u=h;for(let t=0;c.forceReduce()&&t<10&&(IK&&console.log(u+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,r));t++)IK&&(u=this.stackID(c)+" -> ");for(let t of s.recoverByInsert(a))IK&&console.log(h+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,r);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),IK&&console.log(h+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),I4(s,r)):(!n||n.score<s.score)&&(n=s)}return n}stackToTree(t){return t.close(),P8.build({buffer:IZ.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(IJ||(IJ=new WeakMap)).get(t);return e||IJ.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}constructor(t,e,r,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new IU(e,n),this.tokens=new I2(t,this.stream),this.topTerm=t.top[1];let{from:i}=n[0];this.stacks=[IB.start(this,t.top[0],i)],this.fragments=r.length&&this.stream.end-i>4*t.bufferLength?new I1(r,t.nodeSet):null}}function I4(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(n.pos==t.pos&&n.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class I5{allows(t){return!this.disabled||0==this.disabled[t]}constructor(t,e,r){this.source=t,this.flags=e,this.disabled=r}}let I6=t=>t;class I8 extends Im{createParse(t,e,r){let n=new I3(this,t,e,r);for(let i of this.wrappers)n=i(n,t,e,r);return n}getGoto(t,e,r=!1){let n=this.goto;if(e>=n[0])return -1;for(let i=n[e+1];;){let e=n[i++],o=1&e,s=n[i++];if(o&&r)return s;for(let r=i+(e>>1);i<r;i++)if(n[i]==t)return s;if(o)return -1}}hasAction(t,e){let r=this.data;for(let n=0;n<2;n++)for(let i=this.stateSlot(t,n?2:1),o;;i+=3){if(65535==(o=r[i])){if(1==r[i+1])o=r[i=I7(r,i+2)];else if(2==r[i+1])return I7(r,i+2);else break}if(o==e||0==o)return I7(r,i+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,t=>t==e||null)}allActions(t,e){let r=this.stateSlot(t,4),n=r?e(r):void 0;for(let r=this.stateSlot(t,1);null==n;r+=3){if(65535==this.data[r]){if(1==this.data[r+1])r=I7(this.data,r+2);else break}n=e(I7(this.data,r+1))}return n}nextStates(t){let e=[];for(let r=this.stateSlot(t,1);;r+=3){if(65535==this.data[r]){if(1==this.data[r+1])r=I7(this.data,r+2);else break}if((1&this.data[r+2])==0){let t=this.data[r+1];e.some((e,r)=>1&r&&e==t)||e.push(this.data[r],t)}}return e}configure(t){let e=Object.assign(Object.create(I8.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let r=this.topRules[t.top];if(!r)throw RangeError(`Invalid top rule name ${t.top}`);e.top=r}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(e=>{let r=t.tokenizers.find(t=>t.from==e);return r?r.to:e})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((r,n)=>{let i=t.specializers.find(t=>t.from==r.external);if(!i)return r;let o=Object.assign(Object.assign({},r),{external:i.to});return e.specializers[n]=I9(o),o})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),r=e.map(()=>!1);if(t)for(let n of t.split(" ")){let t=e.indexOf(n);t>=0&&(r[t]=!0)}let n=null;for(let t=0;t<e.length;t++)if(!r[t])for(let r=this.dialects[e[t]],i;65535!=(i=this.data[r++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[i]=1;return new I5(t,r,n)}static deserialize(t){return new I8(t)}constructor(t){if(super(),this.wrappers=[],14!=t.version)throw RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let r=0;r<t.repeatNodeCount;r++)e.push("");let r=Object.keys(t.topRules).map(e=>t.topRules[e][1]),n=[];for(let t=0;t<e.length;t++)n.push([]);function i(t,e,r){n[t].push([e,e.deserialize(String(r))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];"string"==typeof t&&(t=P0[t]);for(let r=1;r<e.length;){let n=e[r++];if(n>=0)i(n,t,e[r++]);else{let o=e[r+-n];for(let s=-n;s>0;s--)i(e[r++],t,o);r++}}}this.nodeSet=new P4(e.map((e,i)=>P3.define({name:i>=this.minRepeatTerm?void 0:e,id:i,props:n[i],top:r.indexOf(i)>-1,error:0==i,skipped:t.skippedNodes&&t.skippedNodes.indexOf(i)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=1024;let o=IF(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(I9),this.states=IF(t.states,Uint32Array),this.data=IF(t.stateData),this.goto=IF(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(t=>"number"==typeof t?new IW(o,t):t),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}}function I7(t,e){return t[e]|t[e+1]<<16}function I9(t){if(t.external){let e=t.extend?1:0;return(r,n)=>t.external(r,n)<<1|e}return t.get}let Rt={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Re={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},Rr={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Rn(t){return 9==t||10==t||13==t||32==t}let Ri=null,Ro=null,Rs=0;function Ra(t,e){var r;let n=t.pos+e;if(Rs==n&&Ro==t)return Ri;let i=t.peek(e);for(;Rn(i);)i=t.peek(++e);let o="";for(;45==(r=i)||46==r||58==r||r>=65&&r<=90||95==r||r>=97&&r<=122||r>=161;)o+=String.fromCharCode(i),i=t.peek(++e);return Ro=t,Rs=n,Ri=o?o.toLowerCase():i==Rl||i==Rh?void 0:null}let Rl=63,Rh=33;function Rc(t,e){this.name=t,this.parent=e}let Ru=[6,10,7,8,9],Rd=new class{constructor(t){this.start=t.start,this.shift=t.shift||I6,this.reduce=t.reduce||I6,this.reuse=t.reuse||I6,this.hash=t.hash||(()=>0),this.strict=!1!==t.strict}}({start:null,shift:(t,e,r,n)=>Ru.indexOf(e)>-1?new Rc(Ra(n,1)||"",t):t,reduce:(t,e)=>20==e&&t?t.parent:t,reuse(t,e,r,n){let i=e.type.id;return 6==i||36==i?new Rc(Ra(n,1)||"",t):t},strict:!1}),Rf=new IH((t,e)=>{if(60!=t.next){t.next<0&&e.context&&t.acceptToken(57);return}t.advance();let r=47==t.next;r&&t.advance();let n=Ra(t,0);if(void 0===n)return;if(!n)return t.acceptToken(r?14:6);let i=e.context?e.context.name:null;if(r){if(n==i)return t.acceptToken(11);if(i&&Re[i])return t.acceptToken(57,-2);if(e.dialectEnabled(0))return t.acceptToken(12);for(let t=e.context;t;t=t.parent)if(t.name==n)return;t.acceptToken(13)}else{if("script"==n)return t.acceptToken(7);if("style"==n)return t.acceptToken(8);if("textarea"==n)return t.acceptToken(9);if(Rt.hasOwnProperty(n))return t.acceptToken(10);i&&Rr[i]&&Rr[i][n]?t.acceptToken(57,-1):t.acceptToken(6)}},{contextual:!0}),Rp=new IH(t=>{for(let e=0,r=0;;r++){if(t.next<0){r&&t.acceptToken(58);break}if(45==t.next)e++;else if(62==t.next&&e>=2){r>=3&&t.acceptToken(58,-2);break}else e=0;t.advance()}}),Rg=new IH((t,e)=>{if(47==t.next&&62==t.peek(1)){let r=e.dialectEnabled(1)||function(t){for(;t;t=t.parent)if("svg"==t.name||"math"==t.name)return!0;return!1}(e.context);t.acceptToken(r?5:4,2)}else 62==t.next&&t.acceptToken(4,1)});function Rm(t,e,r){let n=2+t.length;return new IH(i=>{for(let o=0,s=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(0==o&&60==i.next||1==o&&47==i.next||o>=2&&o<n&&i.next==t.charCodeAt(o-2))o++,s++;else if((2==o||o==n)&&Rn(i.next))s++;else if(o==n&&62==i.next){a>s?i.acceptToken(e,-s):i.acceptToken(r,-(s-2));break}else if((10==i.next||13==i.next)&&a){i.acceptToken(e,1);break}else o=s=0;i.advance()}})}let Rv=Rm("script",54,1),Ry=Rm("style",55,2),Rb=Rm("textarea",56,3),RO=_S({"Text RawText":_X.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":_X.angleBracket,TagName:_X.tagName,"MismatchedCloseTag/TagName":[_X.tagName,_X.invalid],AttributeName:_X.attributeName,"AttributeValue UnquotedAttributeValue":_X.attributeValue,Is:_X.definitionOperator,"EntityReference CharacterReference":_X.character,Comment:_X.blockComment,ProcessingInst:_X.processingInstruction,DoctypeDecl:_X.documentMeta}),Rw=I8.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:Rd,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[RO],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Rv,Ry,Rb,Rg,Rf,Rp,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function Rx(t,e){let r=Object.create(null);for(let n of t.getChildren(23)){let t=n.getChild(24),i=n.getChild(26)||n.getChild(27);t&&(r[e.read(t.from,t.to)]=i?26==i.type.id?e.read(i.from+1,i.to-1):e.read(i.from,i.to):"")}return r}function R_(t,e){let r=t.getChild(22);return r?e.read(r.from,r.to):" "}function Rk(t,e,r){let n;for(let i of r)if(!i.attrs||i.attrs(n||(n=Rx(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function RS(t=[],e=[]){var r;let n=[],i=[],o=[],s=[];for(let e of t)("script"==e.tag?n:"style"==e.tag?i:"textarea"==e.tag?o:s).push(e);let a=e.length?Object.create(null):null;for(let t of e)(a[t.name]||(a[t.name]=[])).push(t);return r=(t,e)=>{let r=t.type.id;if(28==r)return Rk(t,e,n);if(31==r)return Rk(t,e,i);if(34==r)return Rk(t,e,o);if(20==r&&s.length){let r=t.node,n=r.firstChild,i=n&&R_(n,e),o;if(i){for(let t of s)if(t.tag==i&&(!t.attrs||t.attrs(o||(o=Rx(n,e))))){let e=r.lastChild,i=37==e.type.id?e.from:r.to;if(i>n.to)return{parser:t.parser,overlay:[{from:n.to,to:i}]}}}}if(a&&23==r){let r=t.node,n;if(n=r.firstChild){let t=a[e.read(n.from,n.to)];if(t)for(let n of t){if(n.tagName&&n.tagName!=R_(r.parent,e))continue;let t=r.lastChild;if(26==t.type.id){let e=t.from+1,r=t.lastChild,i=t.to-(r&&r.isError?0:1);if(i>e)return{parser:n.parser,overlay:[{from:e,to:i}]}}else if(27==t.type.id)return{parser:n.parser,overlay:[{from:t.from,to:t.to}]}}}}return null},(t,e,n,i)=>new Ix(t,r,e,n,i)}let RC=0;class RA{constructor(t,e){this.from=t,this.to=e}}class RE{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=RI.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=RC++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}RE.closedBy=new RE({deserialize:t=>t.split(" ")}),RE.openedBy=new RE({deserialize:t=>t.split(" ")}),RE.group=new RE({deserialize:t=>t.split(" ")}),RE.isolate=new RE({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),RE.contextHash=new RE({perNode:!0}),RE.lookAhead=new RE({perNode:!0}),RE.mounted=new RE({perNode:!0});class RT{static get(t){return t&&t.props&&t.props[RE.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let RP=Object.create(null);class RI{static define(t){let e=t.props&&t.props.length?Object.create(null):RP,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new RI(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(RE.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(RE.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}RI.none=new RI("",Object.create(null),0,8);class RR{extend(...t){let e=[];for(let r of this.types){let n=null;for(let e of t){let t=e(r);t&&(n||(n=Object.assign({},r.props)),n[t[0].id]=t[1])}e.push(n?new RI(r.name,n,r.id,r.flags):r)}return new RR(e)}constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw RangeError("Node type ids should correspond to array positions when creating a node set")}}let RM=new WeakMap,RN=new WeakMap;(QQ=BS||(BS={}))[QQ.ExcludeBuffers=1]="ExcludeBuffers",QQ[QQ.IncludeAnonymous=2]="IncludeAnonymous",QQ[QQ.IgnoreMounts=4]="IgnoreMounts",QQ[QQ.IgnoreOverlays=8]="IgnoreOverlays";class RD{toString(){let t=RT.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new RW(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new RW(RM.get(this)||this.topNode);return n.moveTo(t,e),RM.set(this,n._tree),n}get topNode(){return new Rj(this,0,0,null)}resolve(t,e=0){let r=RQ(RM.get(this)||this.topNode,t,e,!1);return RM.set(this,r),r}resolveInner(t,e=0){let r=RQ(RN.get(this)||this.topNode,t,e,!0);return RN.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof Rj?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=RT.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new Rj(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(RQ(s,e,r,!1))}}return i?RV(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&BS.IncludeAnonymous)>0;for(let t=this.cursor(o|BS.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:RK(RI.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new RD(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new RD(RI.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new RL(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[RE.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[RE.lookAhead,i];s=s?[t].concat(s):[t]}return new RD(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new R$(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new R$(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof RD){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(RE.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=RK(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new RD(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}RD.empty=new RD(RI.none,[],[],0);class RL{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new RL(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class R${get type(){return RI.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!Rq(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new R$(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function Rq(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function RQ(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof Rj&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:BS.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof Rj&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class RB{cursor(t=0){return new RW(this,t)}getChild(t,e=null,r=null){let n=Rz(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return Rz(this,t,e,r)}resolve(t,e=0){return RQ(this,t,e,!1)}resolveInner(t,e=0){return RQ(this,t,e,!0)}matchContext(t){return RZ(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class Rj extends RB{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(Rq(n,r,h,h+l.length)){if(l instanceof R$){if(i&BS.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new RX(new RF(o,l,t,h),null,s)}else if(i&BS.IncludeAnonymous||!l.type.isAnonymous||RH(l)){let s;if(!(i&BS.IgnoreMounts)&&(s=RT.get(l))&&!s.overlay)return new Rj(s.tree,h,t,o);let a=new Rj(l,h,t,o);return i&BS.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&BS.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&BS.IgnoreOverlays)&&(n=RT.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new Rj(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function Rz(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function RZ(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class RF{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class RX extends RB{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new RX(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&BS.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new RX(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new RX(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new RX(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new RD(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function RV(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof Rj&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new RU(i,r)}class RU{get next(){return RV(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class RW{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Rj?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&BS.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&BS.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&BS.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&BS.IncludeAnonymous||t instanceof R$||!t.type.isAnonymous||RH(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new RX(this.buffer,e,this.stack[t]);return this.bufferNode=new RX(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return RZ(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return RZ(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Rj)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function RH(t){return t.children.some(t=>t instanceof R$||!t.type.isAnonymous||RH(t))}let RY=new WeakMap;function RG(t,e){if(!t.isAnonymous||e instanceof R$||e.type!=t)return 1;let r=RY.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof RD)){r=1;break}r+=RG(t,n)}RY.set(e,r)}return r}function RK(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=RG(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=RG(t,r[h]);for(h++;h<s;h++){let e=RG(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(RK(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}class RJ{startParse(t,e,r){return"string"==typeof t&&(t=new R0(t)),r=r?r.length?r.map(t=>new RA(t.from,t.to)):[new RA(0,0)]:[new RA(0,t.length)],this.createParse(t,e||[],r)}parse(t,e,r){let n=this.startParse(t,e,r);for(;;){let t=n.advance();if(t)return t}}}class R0{get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}constructor(t){this.string=t}}new RE({perNode:!0});class R1{toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,r=0){let n=t.parser.context;return new R1(t,[],e,r,r,0,[],0,n?new R2(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let r=t>>19,n=65535&t,{parser:i}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let s=i.dynamicPrecedence(n);if(s&&(this.score+=s),0==r){this.pushState(i.getGoto(this.state,n,!0),this.reducePos),n<i.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(r-1)*3-(262144&t?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-l;h>=2e3&&!(null===(e=this.p.parser.nodeSet.types[n])||void 0===e?void 0:e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=h));let c=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-c;if(n<i.minRepeatTerm||131072&t){let t=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,t,u+4,!0)}if(262144&t)this.state=this.stack[a];else{let t=this.stack[a-3];this.state=i.getGoto(t,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(t,e,r,n=4,i=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,n=this.buffer.length;if(0==n&&t.parent&&(n=t.bufferBase-t.parent.bufferBase,t=t.parent),n>0&&0==t.buffer[n-4]&&t.buffer[n-1]>-1){if(e==r)return;if(t.buffer[n-2]>=e){t.buffer[n-2]=r;return}}}if(i&&this.pos!=r){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4]){let t=!1;for(let e=i;e>0&&this.buffer[e-2]>r;e-=4)if(this.buffer[e-1]>=0){t=!0;break}if(t)for(;i>0&&this.buffer[i-2]>r;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,n>4&&(n-=4)}this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=r,this.buffer[i+3]=n}else this.buffer.push(t,e,r,n)}shift(t,e,r,n){if(131072&t)this.pushState(65535&t,this.pos);else if((262144&t)==0){let{parser:i}=this.p;(n>this.pos||e<=i.maxNode)&&(this.pos=n,i.stateFlag(t,1)||(this.reducePos=n)),this.pushState(t,r),this.shiftContext(e,r),e<=i.maxNode&&this.buffer.push(e,r,n,4)}else this.pos=n,this.shiftContext(e,r),e<=this.p.parser.maxNode&&this.buffer.push(e,r,n,4)}apply(t,e,r,n){65536&t?this.reduce(t):this.shift(t,e,r,n)}useNode(t,e){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=t)&&(this.p.reused.push(t),r++);let n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let r=t.buffer.slice(e),n=t.bufferBase+e;for(;t&&n==t.bufferBase;)t=t.parent;return new R1(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let r=t<=this.p.parser.maxNode;r&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,r?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new R3(this);;){let r=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==r)return!1;if((65536&r)==0)return!0;e.reduce(r)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let r=[];for(let n=0,i;n<e.length;n+=2)(i=e[n+1])!=this.state&&this.p.parser.hasAction(i,t)&&r.push(e[n],i);if(this.stack.length<120)for(let t=0;r.length<8&&t<e.length;t+=2){let n=e[t+1];r.some((t,e)=>1&e&&t==n)||r.push(e[t],n)}e=r}let r=[];for(let t=0;t<e.length&&r.length<4;t+=2){let n=e[t+1];if(n==this.state)continue;let i=this.split();i.pushState(n,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(e[t],this.pos),i.reducePos=this.pos,i.score-=200,r.push(i)}return r}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((65536&e)==0)return!1;if(!t.validAction(this.state,e)){let r=e>>19,n=65535&e,i=this.stack.length-3*r;if(i<0||0>t.getGoto(this.stack[i],n,!1)){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],r=(n,i)=>{if(!e.includes(n))return e.push(n),t.allActions(n,e=>{if(393216&e);else if(65536&e){let r=(e>>19)-i;if(r>1){let n=65535&e,i=this.stack.length-3*r;if(i>=0&&t.getGoto(this.stack[i],n,!1)>=0)return r<<19|65536|n}}else{let t=r(e,i+1);if(null!=t)return t}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new R2(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}constructor(t,e,r,n,i,o,s,a,l,h=0,c){this.p=t,this.stack=e,this.state=r,this.reducePos=n,this.pos=i,this.score=o,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=h,this.parent=c}}class R2{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class R3{reduce(t){let e=t>>19;0==e?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(e-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],65535&t,!0);this.state=r}constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}}class R4{static create(t,e=t.bufferBase+t.buffer.length){return new R4(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new R4(this.stack,this.pos,this.index)}constructor(t,e,r){this.stack=t,this.pos=e,this.index=r,this.buffer=t.buffer,0==this.index&&this.maybeNext()}}function R5(t,e=Uint16Array){if("string"!=typeof t)return t;let r=null;for(let n=0,i=0;n<t.length;){let o=0;for(;;){let e=t.charCodeAt(n++),r=!1;if(126==e){o=65535;break}e>=92&&e--,e>=34&&e--;let i=e-32;if(i>=46&&(i-=46,r=!0),o+=i,r)break;o*=46}r?r[i++]=o:r=new e(o)}return r}class R6{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}let R8=new R6;class R7{resolveOffset(t,e){let r=this.range,n=this.rangeIndex,i=this.pos+t;for(;i<r.from;){if(!n)return null;let t=this.ranges[--n];i-=r.from-t.to,r=t}for(;e<0?i>r.to:i>=r.to;){if(n==this.ranges.length-1)return null;let t=this.ranges[++n];i+=t.from-r.to,r=t}return i}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,r,n;if(e>=0&&e<this.chunk.length)r=this.pos+t,n=this.chunk.charCodeAt(e);else{let e=this.resolveOffset(t,1);if(null==e)return -1;if((r=e)>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let t=this.rangeIndex,e=this.range;for(;e.to<=r;)e=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>e.to&&(this.chunk2=this.chunk2.slice(0,e.to-r)),n=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),n}acceptToken(t,e=0){let r=e?this.resolveOffset(e,-1):this.pos;if(null==r||r<this.token.start)throw RangeError("Token end out of bounds");this.token.value=t,this.token.end=r}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=R8,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let r="";for(let n of this.ranges){if(n.from>=e)break;n.to>t&&(r+=this.input.read(Math.max(n.from,t),Math.min(n.to,e)))}return r}constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=R8,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}}class R9{token(t,e){let{parser:r}=e.p;Mr(this.data,t,e,this.id,r.data,r.tokenPrecTable)}constructor(t,e){this.data=t,this.id=e}}R9.prototype.contextual=R9.prototype.fallback=R9.prototype.extend=!1;class Mt{token(t,e){let r=t.pos,n=0;for(;;){let r=t.next<0,i=t.resolveOffset(1,1);if(Mr(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(null==this.elseToken)return;if(!r&&n++,null==i)break;t.reset(i,t.token)}n&&(t.reset(r,t.token),t.acceptToken(this.elseToken,n))}constructor(t,e,r){this.precTable=e,this.elseToken=r,this.data="string"==typeof t?R5(t):t}}Mt.prototype.contextual=R9.prototype.fallback=R9.prototype.extend=!1;class Me{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function Mr(t,e,r,n,i,o){let s=0,a=1<<n,{dialect:l}=r.p.parser;o:for(;(a&t[s])!=0;){let r=t[s+1];for(let n=s+3;n<r;n+=2)if((t[n+1]&a)>0){let r=t[n];if(l.allows(r)&&(-1==e.token.value||e.token.value==r||function(t,e,r,n){let i=Mn(r,n,e);return i<0||Mn(r,n,t)<i}(r,e.token.value,i,o))){e.acceptToken(r);break}}let n=e.next,h=0,c=t[s+2];if(e.next<0&&c>h&&65535==t[r+3*c-3]){s=t[r+3*c-1];continue}for(;h<c;){let i=h+c>>1,o=r+i+(i<<1),a=t[o],l=t[o+1]||65536;if(n<a)c=i;else if(n>=l)h=i+1;else{s=t[o+2],e.advance();continue o}}break}}function Mn(t,e,r){for(let n=e,i;65535!=(i=t[n]);n++)if(i==r)return n-e;return -1}let Mi=void 0!==IE&&IE.env&&/\bparse\b/.test(void 0),Mo=null;function Ms(t,e,r){let n=t.cursor(BS.IncludeAnonymous);for(n.moveTo(e);;)if(!(r<0?n.childBefore(e):n.childAfter(e)))for(;;){if((r<0?n.to<e:n.from>e)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:t.length}}class Ma{nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Ms(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Ms(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let r=this.trees[e],n=this.index[e];if(n==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=r.children[n],o=this.start[e]+r.positions[n];if(o>t)return this.nextStart=o,null;if(i instanceof RD){if(o==t){if(o<this.safeFrom)return null;let t=o+i.length;if(t<=this.safeTo){let e=i.prop(RE.lookAhead);if(!e||t+e<this.fragment.to)return i}}this.index[e]++,o+i.length>=Math.max(this.safeFrom,t)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[e]++,this.nextStart=o+i.length}}constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}}class Ml{getActions(t){let e=0,r=null,{parser:n}=t.p,{tokenizers:i}=n,o=n.stateSlot(t.state,3),s=t.curContext?t.curContext.hash:0,a=0;for(let n=0;n<i.length;n++){if((1<<n&o)==0)continue;let l=i[n],h=this.tokens[n];if((!r||l.fallback)&&((l.contextual||h.start!=t.pos||h.mask!=o||h.context!=s)&&(this.updateCachedToken(h,l,t),h.mask=o,h.context=s),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),0!=h.value)){let n=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!l.extend&&(r=h,e>n))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),r||t.pos!=this.stream.end||((r=new R6).value=t.p.parser.eofTerm,r.start=r.end=t.pos,e=this.addActions(t,r.value,r.end,e)),this.mainToken=r,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new R6,{pos:r,p:n}=t;return e.start=r,e.end=Math.min(r+1,n.stream.end),e.value=r==n.stream.end?n.parser.eofTerm:0,e}updateCachedToken(t,e,r){let n=this.stream.clipPos(r.pos);if(e.token(this.stream.reset(n,t),r),t.value>-1){let{parser:e}=r.p;for(let n=0;n<e.specialized.length;n++)if(e.specialized[n]==t.value){let i=e.specializers[n](this.stream.read(t.start,t.end),r);if(i>=0&&r.p.parser.dialect.allows(i>>1)){(1&i)==0?t.value=i>>1:t.extended=i>>1;break}}}else t.value=0,t.end=this.stream.clipPos(n+1)}putAction(t,e,r,n){for(let e=0;e<n;e+=3)if(this.actions[e]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=r,n}addActions(t,e,r,n){let{state:i}=t,{parser:o}=t.p,{data:s}=o;for(let t=0;t<2;t++)for(let a=o.stateSlot(i,t?2:1);;a+=3){if(65535==s[a]){if(1==s[a+1])a=Mf(s,a+2);else{0==n&&2==s[a+1]&&(n=this.putAction(Mf(s,a+2),e,r,n));break}}s[a]==e&&(n=this.putAction(Mf(s,a+1),e,r,n))}return n}constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(t=>new R6)}}class Mh{get parsedPos(){return this.minStackPos}advance(){let t,e,r=this.stacks,n=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==r.length){let[t]=r;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<r.length;o++){let s=r[o];for(;;){if(this.tokens.mainToken=null,s.pos>n)i.push(s);else{if(this.advanceStack(s,i,r))continue;t||(t=[],e=[]),t.push(s);let n=this.tokens.getMainToken(s);e.push(n.value,n.end)}break}}if(!i.length){let e=t&&function(t){let e=null;for(let r of t){let t=r.p.stoppedAt;(r.pos==r.p.stream.end||null!=t&&r.pos>t)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}(t);if(e)return Mi&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw Mi&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&t){let r=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,i);if(r)return Mi&&console.log("Force-finish "+this.stackID(r)),this.stackToTree(r.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(i.length>t)for(i.sort((t,e)=>e.score-t.score);i.length>t;)i.pop();i.some(t=>t.reducePos>n)&&this.recovering--}else if(i.length>1){h:for(let t=0;t<i.length-1;t++){let e=i[t];for(let r=t+1;r<i.length;r++){let n=i[r];if(e.sameState(n)||e.buffer.length>500&&n.buffer.length>500){if((e.score-n.score||e.buffer.length-n.buffer.length)>0)i.splice(r--,1);else{i.splice(t--,1);continue h}}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let t=1;t<i.length;t++)i[t].pos<this.minStackPos&&(this.minStackPos=i[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,r){let n=t.pos,{parser:i}=this,o=Mi?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,r=e?t.curContext.hash:0;for(let s=this.fragments.nodeAt(n);s;){let n=this.parser.nodeSet.types[s.type.id]==s.type?i.getGoto(t.state,s.type.id):-1;if(n>-1&&s.length&&(!e||(s.prop(RE.contextHash)||0)==r))return t.useNode(s,n),Mi&&console.log(o+this.stackID(t)+` (via reuse of ${i.getName(s.type.id)})`),!0;if(!(s instanceof RD)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(a instanceof RD&&0==s.positions[0])s=a;else break}}let s=i.stateSlot(t.state,4);if(s>0)return t.reduce(s),Mi&&console.log(o+this.stackID(t)+` (via always-reduce ${i.getName(65535&s)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let s=0;s<a.length;){let l=a[s++],h=a[s++],c=a[s++],u=s==a.length||!r,d=u?t:t.split(),f=this.tokens.mainToken;if(d.apply(l,h,f?f.start:d.pos,c),Mi&&console.log(o+this.stackID(d)+` (via ${(65536&l)==0?"shift":`reduce of ${i.getName(65535&l)}`} for ${i.getName(h)} @ ${n}${d==t?"":", split"})`),u)return!0;d.pos>n?e.push(d):r.push(d)}return!1}advanceFully(t,e){let r=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>r)return Mc(t,e),!0}}runRecovery(t,e,r){let n=null,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=e[o<<1],l=e[(o<<1)+1],h=Mi?this.stackID(s)+" -> ":"";if(s.deadEnd&&(i||(i=!0,s.restart(),Mi&&console.log(h+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))))continue;let c=s.split(),u=h;for(let t=0;c.forceReduce()&&t<10&&(Mi&&console.log(u+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,r));t++)Mi&&(u=this.stackID(c)+" -> ");for(let t of s.recoverByInsert(a))Mi&&console.log(h+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,r);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),Mi&&console.log(h+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),Mc(s,r)):(!n||n.score<s.score)&&(n=s)}return n}stackToTree(t){return t.close(),RD.build({buffer:R4.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Mo||(Mo=new WeakMap)).get(t);return e||Mo.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}constructor(t,e,r,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new R7(e,n),this.tokens=new Ml(t,this.stream),this.topTerm=t.top[1];let{from:i}=n[0];this.stacks=[R1.start(this,t.top[0],i)],this.fragments=r.length&&this.stream.end-i>4*t.bufferLength?new Ma(r,t.nodeSet):null}}function Mc(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(n.pos==t.pos&&n.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class Mu{allows(t){return!this.disabled||0==this.disabled[t]}constructor(t,e,r){this.source=t,this.flags=e,this.disabled=r}}class Md extends RJ{createParse(t,e,r){let n=new Mh(this,t,e,r);for(let i of this.wrappers)n=i(n,t,e,r);return n}getGoto(t,e,r=!1){let n=this.goto;if(e>=n[0])return -1;for(let i=n[e+1];;){let e=n[i++],o=1&e,s=n[i++];if(o&&r)return s;for(let r=i+(e>>1);i<r;i++)if(n[i]==t)return s;if(o)return -1}}hasAction(t,e){let r=this.data;for(let n=0;n<2;n++)for(let i=this.stateSlot(t,n?2:1),o;;i+=3){if(65535==(o=r[i])){if(1==r[i+1])o=r[i=Mf(r,i+2)];else if(2==r[i+1])return Mf(r,i+2);else break}if(o==e||0==o)return Mf(r,i+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,t=>t==e||null)}allActions(t,e){let r=this.stateSlot(t,4),n=r?e(r):void 0;for(let r=this.stateSlot(t,1);null==n;r+=3){if(65535==this.data[r]){if(1==this.data[r+1])r=Mf(this.data,r+2);else break}n=e(Mf(this.data,r+1))}return n}nextStates(t){let e=[];for(let r=this.stateSlot(t,1);;r+=3){if(65535==this.data[r]){if(1==this.data[r+1])r=Mf(this.data,r+2);else break}if((1&this.data[r+2])==0){let t=this.data[r+1];e.some((e,r)=>1&r&&e==t)||e.push(this.data[r],t)}}return e}configure(t){let e=Object.assign(Object.create(Md.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let r=this.topRules[t.top];if(!r)throw RangeError(`Invalid top rule name ${t.top}`);e.top=r}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(e=>{let r=t.tokenizers.find(t=>t.from==e);return r?r.to:e})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((r,n)=>{let i=t.specializers.find(t=>t.from==r.external);if(!i)return r;let o=Object.assign(Object.assign({},r),{external:i.to});return e.specializers[n]=Mp(o),o})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),r=e.map(()=>!1);if(t)for(let n of t.split(" ")){let t=e.indexOf(n);t>=0&&(r[t]=!0)}let n=null;for(let t=0;t<e.length;t++)if(!r[t])for(let r=this.dialects[e[t]],i;65535!=(i=this.data[r++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[i]=1;return new Mu(t,r,n)}static deserialize(t){return new Md(t)}constructor(t){if(super(),this.wrappers=[],14!=t.version)throw RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let r=0;r<t.repeatNodeCount;r++)e.push("");let r=Object.keys(t.topRules).map(e=>t.topRules[e][1]),n=[];for(let t=0;t<e.length;t++)n.push([]);function i(t,e,r){n[t].push([e,e.deserialize(String(r))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];"string"==typeof t&&(t=RE[t]);for(let r=1;r<e.length;){let n=e[r++];if(n>=0)i(n,t,e[r++]);else{let o=e[r+-n];for(let s=-n;s>0;s--)i(e[r++],t,o);r++}}}this.nodeSet=new RR(e.map((e,i)=>RI.define({name:i>=this.minRepeatTerm?void 0:e,id:i,props:n[i],top:r.indexOf(i)>-1,error:0==i,skipped:t.skippedNodes&&t.skippedNodes.indexOf(i)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=1024;let o=R5(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(Mp),this.states=R5(t.states,Uint32Array),this.data=R5(t.stateData),this.goto=R5(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(t=>"number"==typeof t?new R9(o,t):t),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}}function Mf(t,e){return t[e]|t[e+1]<<16}function Mp(t){if(t.external){let e=t.extend?1:0;return(r,n)=>t.external(r,n)<<1|e}return t.get}let Mg=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];function Mm(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function Mv(t){return t>=48&&t<=57}let My=new Me((t,e)=>{for(let r=!1,n=0,i=0;;i++){let{next:o}=t;if(Mm(o)||45==o||95==o||r&&Mv(o))!r&&(45!=o||i>0)&&(r=!0),n===i&&45==o&&n++,t.advance();else if(92==o&&10!=t.peek(1))t.advance(),t.next>-1&&t.advance(),r=!0;else{r&&t.acceptToken(40==o?100:2==n&&e.canShift(2)?2:101);break}}}),Mb=new Me(t=>{if(Mg.includes(t.peek(-1))){let{next:e}=t;(Mm(e)||95==e||35==e||46==e||91==e||58==e&&Mm(t.peek(1))||45==e||38==e)&&t.acceptToken(99)}}),MO=new Me(t=>{if(!Mg.includes(t.peek(-1))){let{next:e}=t;if(37==e&&(t.advance(),t.acceptToken(1)),Mm(e)){do t.advance();while(Mm(t.next)||Mv(t.next))t.acceptToken(1)}}}),Mw=_S({"AtKeyword import charset namespace keyframes media supports":_X.definitionKeyword,"from to selector":_X.keyword,NamespaceName:_X.namespace,KeyframeName:_X.labelName,KeyframeRangeName:_X.operatorKeyword,TagName:_X.tagName,ClassName:_X.className,PseudoClassName:_X.constant(_X.className),IdName:_X.labelName,"FeatureName PropertyName":_X.propertyName,AttributeName:_X.attributeName,NumberLiteral:_X.number,KeywordQuery:_X.keyword,UnaryQueryOp:_X.operatorKeyword,"CallTag ValueName":_X.atom,VariableName:_X.variableName,Callee:_X.operatorKeyword,Unit:_X.unit,"UniversalSelector NestingSelector":_X.definitionOperator,MatchOp:_X.compareOperator,"ChildOp SiblingOp, LogicOp":_X.logicOperator,BinOp:_X.arithmeticOperator,Important:_X.modifier,Comment:_X.blockComment,ColorLiteral:_X.color,"ParenthesizedContent StringLiteral":_X.string,":":_X.punctuation,"PseudoOp #":_X.derefOperator,"; ,":_X.separator,"( )":_X.paren,"[ ]":_X.squareBracket,"{ }":_X.brace}),Mx={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:138},M_={__proto__:null,"@import":118,"@media":142,"@charset":146,"@namespace":150,"@keyframes":156,"@supports":168},Mk={__proto__:null,not:132,only:132},MS=Md.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DTO$vQ[O'#DWOOQP'#Em'#EmO${QdO'#DgO%jQ[O'#DtO${QdO'#DvO%{Q[O'#DxO&WQ[O'#D{O&`Q[O'#ERO&nQ[O'#ETOOQS'#El'#ElOOQS'#EW'#EWQYQ[OOO&uQXO'#CdO'jQWO'#DcO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@[)C@[OOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E[O({QWO,58{O)TQ[O,59SO$qQ[O,59oO$vQ[O,59rO(aQ[O,59uO(aQ[O,59wO(aQ[O,59xO)`Q[O'#DbOOQS,58{,58{OOQP'#Ck'#CkOOQO'#DR'#DROOQP,59S,59SO)gQWO,59SO)lQWO,59SOOQP'#DV'#DVOOQP,59o,59oOOQO'#DX'#DXO)qQ`O,59rOOQS'#Cp'#CpO${QdO'#CqO)yQvO'#CsO+ZQtO,5:ROOQO'#Cx'#CxO)lQWO'#CwO+oQWO'#CyO+tQ[O'#DOOOQS'#Ep'#EpOOQO'#Dj'#DjO+|Q[O'#DqO,[QWO'#EtO&`Q[O'#DoO,jQWO'#DrOOQO'#Eu'#EuO)OQWO,5:`O,oQpO,5:bOOQS'#Dz'#DzO,wQWO,5:dO,|Q[O,5:dOOQO'#D}'#D}O-UQWO,5:gO-ZQWO,5:mO-cQWO,5:oOOQS-E8U-E8UO-kQdO,59}O-{Q[O'#E^O.YQWO,5;_O.YQWO,5;_POOO'#EV'#EVP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:vOOQO-E8Y-E8YOOQS1G.g1G.gOOQP1G.n1G.nO)gQWO1G.nO)lQWO1G.nOOQP1G/Z1G/ZO/iQ`O1G/^O0SQXO1G/aO0jQXO1G/cO1QQXO1G/dO1hQWO,59|O1mQ[O'#DSO1tQdO'#CoOOQP1G/^1G/^O${QdO1G/^O1{QpO,59]OOQS,59_,59_O${QdO,59aO2TQWO1G/mOOQS,59c,59cO2YQ!bO,59eOOQS'#DP'#DPOOQS'#EY'#EYO2eQ[O,59jOOQS,59j,59jO2mQWO'#DjO2xQWO,5:VO2}QWO,5:]O&`Q[O,5:XO&`Q[O'#E_O3VQWO,5;`O3bQWO,5:ZO(aQ[O,5:^OOQS1G/z1G/zOOQS1G/|1G/|OOQS1G0O1G0OO3sQWO1G0OO3xQdO'#EOOOQS1G0R1G0ROOQS1G0X1G0XOOQS1G0Z1G0ZO4TQtO1G/iOOQO1G/i1G/iOOQO,5:x,5:xO4kQ[O,5:xOOQO-E8[-E8[O4xQWO1G0yPOOO-E8T-E8TPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$x7+$xO${QdO7+$xOOQS1G/h1G/hO5TQXO'#ErO5[QWO,59nO5aQtO'#EXO6XQdO'#EoO6cQWO,59ZO6hQpO7+$xOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%X7+%XOOQS1G/P1G/PO6pQWO1G/POOQS-E8W-E8WOOQS1G/U1G/UO${QdO1G/qOOQO1G/w1G/wOOQO1G/s1G/sO6uQWO,5:yOOQO-E8]-E8]O7TQXO1G/xOOQS7+%j7+%jO7[QYO'#CsOOQO'#EQ'#EQO7gQ`O'#EPOOQO'#EP'#EPO7rQWO'#E`O7zQdO,5:jOOQS,5:j,5:jO8VQtO'#E]O${QdO'#E]O9WQdO7+%TOOQO7+%T7+%TOOQO1G0d1G0dO9kQpO<<HdO9sQWO,5;^OOQP1G/Y1G/YOOQS-E8V-E8VO${QdO'#EZO9{QWO,5;ZOOQT1G.u1G.uOOQP<<Hd<<HdOOQS7+$k7+$kO:TQdO7+%]OOQO7+%d7+%dOOQO,5:k,5:kO3{QdO'#EaO7rQWO,5:zOOQS,5:z,5:zOOQS-E8^-E8^OOQS1G0U1G0UO:[QtO,5:wOOQS-E8Z-E8ZOOQO<<Ho<<HoOOQPAN>OAN>OO;]QdO,5:uOOQO-E8X-E8XOOQO<<Hw<<HwOOQO,5:{,5:{OOQO-E8_-E8_OOQS1G0f1G0f",stateData:";o~O#ZOS#[QQ~OUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XRO#bTO~OQfOUYOXYO]VO^VOqXOxWO![aO!]ZO!i[O!k]O!m^O!p_O!v`O#XeO#bTO~O#U#gP~P!ZO#[jO~O#XlO~O]qO^qOqsOtoOxrO!OtO!RvO#VuO#bnO~O!TwO~P#pO`}O#WzO#XyO~O#X!OO~O#X!QO~OQ![Ob!TOf![Oh![On!YOq!ZO#W!WO#X!SO#e!UO~Ob!^O!d!`O!g!aO#X!]O!T#hP~Oh!fOn!YO#X!eO~Oh!hO#X!hO~Ob!^O!d!`O!g!aO#X!]O~O!Y#hP~P%jO]WX]!WX^WXqWXtWXxWX!OWX!RWX!TWX#VWX#bWX~O]!mO~O!Y!nO#U#gX!S#gX~O#U#gX!S#gX~P!ZO#]!qO#^!qO#_!sO~OUYOXYO]VO^VOqXOxWO#XRO#bTO~OtoO!TwO~O`!zO#WzO#XyO~O!S#gP~P!ZOb#RO~Ob#SO~Op#TO|#UO~OP#WObgXjgX!YgX!dgX!ggX#XgXagXQgXfgXhgXngXqgXtgX!XgX#UgX#WgX#egXpgX!SgX~Ob!^Oj#XO!d!`O!g!aO#X!]O!Y#hP~Ob#[O~Op#`O#X#]O~Ob!^O!d!`O!g!aO#X#aO~Ot#eO!b#dO!T#hX!Y#hX~Ob#hO~Oj#XO!Y#jO~O!Y#kO~Oh#lOn!YO~O!T#mO~O!TwO!b#dO~O!TwO!Y#pO~O!X#rO!Y!Va#U!Va!S!Va~P${O!Y#QX#U#QX!S#QX~P!ZO!Y!nO#U#ga!S#ga~O#]!qO#^!qO#_#xO~O]qO^qOqsOxrO!OtO!RvO#VuO#bnO~Ot#Oa!T#Oaa#Oa~P.pOp#zO|#{O~O]qO^qOqsOxrO#bnO~Ot}i!O}i!R}i!T}i#V}ia}i~P/qOt!Pi!O!Pi!R!Pi!T!Pi#V!Pia!Pi~P/qOt!Qi!O!Qi!R!Qi!T!Qi#V!Qia!Qi~P/qO!S#|O~Oa#fP~P(aOa#cP~P${Oa$TOj#XO~O!Y$VO~Oa$WOh$XOo$XO~Op$ZO#X#]O~O]!`Xa!^X!b!^X~O]$[O~Oa$]O!b#dO~Ot#eO!T#ha!Y#ha~O!b#dOt!ca!T!ca!Y!caa!ca~O!Y$bO~O!S$iO#X$dO#e$cO~Oj#XOt$kO!X$mO!Y!Vi#U!Vi!S!Vi~P${O!Y#Qa#U#Qa!S#Qa~P!ZO!Y!nO#U#gi!S#gi~Oa#fX~P#pOa$qO~Oj#XOQ!{Xa!{Xb!{Xf!{Xh!{Xn!{Xq!{Xt!{X#W!{X#X!{X#e!{X~Ot$sOa#cX~P${Oa$uO~Oj#XOp$vO~Oa$wO~O!b#dOt#Ra!T#Ra!Y#Ra~Oa$yO~P.pOP#WOtgX!TgX~O#e$cOt!sX!T!sX~Ot${O!TwO~O!S%PO#X$dO#e$cO~Oj#XOQ#PXb#PXf#PXh#PXn#PXq#PXt#PX!X#PX!Y#PX#U#PX#W#PX#X#PX#e#PX!S#PX~Ot$kO!X%SO!Y!Vq#U!Vq!S!Vq~P${Oj#XOp%TO~OtoOa#fa~Ot$sOa#ca~Oa%WO~P${Oj#XOQ#Pab#Paf#Pah#Pan#Paq#Pat#Pa!X#Pa!Y#Pa#U#Pa#W#Pa#X#Pa#e#Pa!S#Pa~Oa!}at!}a~P${O#Zo#[#ej!R#e~",goto:"-g#jPPP#kP#nP#w$WP#w$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+ZP+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,24,""],["openedBy",17,"(",32,"[",50,"{"],["closedBy",18,")",33,"]",51,"}"]],propSources:[Mw],skippedNodes:[0,3,87],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#Z~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#Z~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!X[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYxQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS|So`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!RQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSt^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#bQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#[~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Y^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS|SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!OQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!OQo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[![Qo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSq^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSp^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!bQo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!TUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!S^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!RQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[Mb,MO,My,1,2,3,4,new Mt("m~RRYZ[z{a~~g~aO#^~~dP!P!Qg~lO#_~~",28,105)],topRules:{StyleSheet:[0,4],Styles:[1,86]},specialized:[{term:100,get:t=>Mx[t]||-1},{term:58,get:t=>M_[t]||-1},{term:101,get:t=>Mk[t]||-1}],tokenPrec:1219}),MC=0;class MA{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=MP.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=MC++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}MA.closedBy=new MA({deserialize:t=>t.split(" ")}),MA.openedBy=new MA({deserialize:t=>t.split(" ")}),MA.group=new MA({deserialize:t=>t.split(" ")}),MA.isolate=new MA({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),MA.contextHash=new MA({perNode:!0}),MA.lookAhead=new MA({perNode:!0}),MA.mounted=new MA({perNode:!0});class ME{static get(t){return t&&t.props&&t.props[MA.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let MT=Object.create(null);class MP{static define(t){let e=t.props&&t.props.length?Object.create(null):MT,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new MP(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(MA.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(MA.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}MP.none=new MP("",Object.create(null),0,8);let MI=new WeakMap,MR=new WeakMap;(QB=BC||(BC={}))[QB.ExcludeBuffers=1]="ExcludeBuffers",QB[QB.IncludeAnonymous=2]="IncludeAnonymous",QB[QB.IgnoreMounts=4]="IgnoreMounts",QB[QB.IgnoreOverlays=8]="IgnoreOverlays";class MM{toString(){let t=ME.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new MV(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new MV(MI.get(this)||this.topNode);return n.moveTo(t,e),MI.set(this,n._tree),n}get topNode(){return new MQ(this,0,0,null)}resolve(t,e=0){let r=M$(MI.get(this)||this.topNode,t,e,!1);return MI.set(this,r),r}resolveInner(t,e=0){let r=M$(MR.get(this)||this.topNode,t,e,!0);return MR.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof MQ?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=ME.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new MQ(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(M$(s,e,r,!1))}}return i?MF(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&BC.IncludeAnonymous)>0;for(let t=this.cursor(o|BC.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:MY(MP.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new MM(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new MM(MP.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new MN(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[MA.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[MA.lookAhead,i];s=s?[t].concat(s):[t]}return new MM(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new MD(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new MD(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof MM){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(MA.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=MY(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new MM(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}MM.empty=new MM(MP.none,[],[],0);class MN{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new MN(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class MD{get type(){return MP.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!ML(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new MD(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function ML(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function M$(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof MQ&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:BC.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof MQ&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class Mq{cursor(t=0){return new MV(this,t)}getChild(t,e=null,r=null){let n=MB(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return MB(this,t,e,r)}resolve(t,e=0){return M$(this,t,e,!1)}resolveInner(t,e=0){return M$(this,t,e,!0)}matchContext(t){return Mj(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class MQ extends Mq{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(ML(n,r,h,h+l.length)){if(l instanceof MD){if(i&BC.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new MZ(new Mz(o,l,t,h),null,s)}else if(i&BC.IncludeAnonymous||!l.type.isAnonymous||MU(l)){let s;if(!(i&BC.IgnoreMounts)&&(s=ME.get(l))&&!s.overlay)return new MQ(s.tree,h,t,o);let a=new MQ(l,h,t,o);return i&BC.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&BC.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&BC.IgnoreOverlays)&&(n=ME.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new MQ(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function MB(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function Mj(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class Mz{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class MZ extends Mq{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new MZ(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&BC.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new MZ(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new MZ(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new MZ(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new MM(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function MF(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof MQ&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new MX(i,r)}class MX{get next(){return MF(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class MV{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof MQ?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&BC.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&BC.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&BC.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&BC.IncludeAnonymous||t instanceof MD||!t.type.isAnonymous||MU(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new MZ(this.buffer,e,this.stack[t]);return this.bufferNode=new MZ(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return Mj(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return Mj(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof MQ)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function MU(t){return t.children.some(t=>t instanceof MD||!t.type.isAnonymous||MU(t))}let MW=new WeakMap;function MH(t,e){if(!t.isAnonymous||e instanceof MD||e.type!=t)return 1;let r=MW.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof MM)){r=1;break}r+=MH(t,n)}MW.set(e,r)}return r}function MY(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=MH(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=MH(t,r[h]);for(h++;h<s;h++){let e=MH(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(MY(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}new MA({perNode:!0});let MG=null;function MK(){if(!MG&&"object"==typeof document&&document.body){let{style:t}=document.body,e=[],r=new Set;for(let n in t)"cssText"==n||"cssFloat"==n||"string"!=typeof t[n]||(/[A-Z]/.test(n)&&(n=n.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())),r.has(n)||(e.push(n),r.add(n)));MG=e.sort().map(t=>({type:"property",label:t,apply:t+": "}))}return MG||[]}let MJ=/*@__PURE__*/["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),M0=/*@__PURE__*/["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(/*@__PURE__*/["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),M1=/*@__PURE__*/["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),M2=/*@__PURE__*/["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),M3=/^(\w[\w-]*|-\w[\w-]*|)$/,M4=/^-(-[\w-]*)?$/,M5=/*@__PURE__*/new class{setBuffer(t,e,r){let n=this.map.get(t);n||this.map.set(t,n=new Map),n.set(e,r)}getBuffer(t,e){let r=this.map.get(t);return r&&r.get(e)}set(t,e){t instanceof MZ?this.setBuffer(t.context.buffer,t.index,e):t instanceof MQ&&this.map.set(t.tree,e)}get(t){return t instanceof MZ?this.getBuffer(t.context.buffer,t.index):t instanceof MQ?this.map.get(t.tree):void 0}cursorSet(t,e){t.buffer?this.setBuffer(t.buffer.buffer,t.index,e):this.map.set(t.tree,e)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}constructor(){this.map=new WeakMap}},M6=["Declaration"],M8=(f=t=>"VariableName"==t.name,t=>{let{state:e,pos:r}=t,n=_K(e).resolveInner(r,-1),i=n.type.isError&&n.from==n.to-1&&"-"==e.doc.sliceString(n.from,n.to);if("PropertyName"==n.name||(i||"TagName"==n.name)&&/^(Block|Styles)$/.test(n.resolve(n.to).name))return{from:n.from,options:MK(),validFor:M3};if("ValueName"==n.name)return{from:n.from,options:M0,validFor:M3};if("PseudoClassName"==n.name)return{from:n.from,options:MJ,validFor:M3};if(f(n)||(t.explicit||i)&&function(t,e){var r;if(("("==t.name||t.type.isError)&&(t=t.parent||t),"ArgList"!=t.name)return!1;let n=null===(r=t.parent)||void 0===r?void 0:r.firstChild;return(null==n?void 0:n.name)=="Callee"&&"var"==e.sliceString(n.from,n.to)}(n,e.doc))return{from:f(n)||i?n.from:r,options:function t(e,r,n){if(r.to-r.from>4096){let i=M5.get(r);if(i)return i;let o=[],s=new Set,a=r.cursor(BC.IncludeAnonymous);if(a.firstChild())do for(let r of t(e,a.node,n))s.has(r.label)||(s.add(r.label),o.push(r));while(a.nextSibling())return M5.set(r,o),o}{let t=[],i=new Set;return r.cursor().iterate(r=>{var o;if(n(r)&&r.matchContext(M6)&&(null===(o=r.node.nextSibling)||void 0===o?void 0:o.name)==":"){let n=e.sliceString(r.from,r.to);i.has(n)||(i.add(n),t.push({label:n,type:"variable"}))}}),t}}(e.doc,function(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}(n),f),validFor:M4};if("TagName"==n.name){for(let{parent:t}=n;t;t=t.parent)if("Block"==t.name)return{from:n.from,options:MK(),validFor:M3};return{from:n.from,options:M1,validFor:M3}}if("AtKeyword"==n.name)return{from:n.from,options:M2,validFor:M3};if(!t.explicit)return null;let o=n.resolve(r),s=o.childBefore(r);return s&&":"==s.name&&"PseudoClassSelector"==o.name?{from:r,options:MJ,validFor:M3}:s&&":"==s.name&&"Declaration"==o.name||"ArgList"==o.name?{from:r,options:M0,validFor:M3}:"Block"==o.name||"Styles"==o.name?{from:r,options:MK(),validFor:M3}:null}),M7=/*@__PURE__*/_G.define({name:"css",parser:/*@__PURE__*/MS.configure({props:[/*@__PURE__*/ks.add({Declaration:/*@__PURE__*/ku()}),/*@__PURE__*/kf.add({"Block KeyframeList":kp})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}}),M9=0;class Nt{constructor(t,e){this.from=t,this.to=e}}class Ne{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Ni.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=M9++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}Ne.closedBy=new Ne({deserialize:t=>t.split(" ")}),Ne.openedBy=new Ne({deserialize:t=>t.split(" ")}),Ne.group=new Ne({deserialize:t=>t.split(" ")}),Ne.isolate=new Ne({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Ne.contextHash=new Ne({perNode:!0}),Ne.lookAhead=new Ne({perNode:!0}),Ne.mounted=new Ne({perNode:!0});class Nr{static get(t){return t&&t.props&&t.props[Ne.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let Nn=Object.create(null);class Ni{static define(t){let e=t.props&&t.props.length?Object.create(null):Nn,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new Ni(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Ne.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(Ne.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}Ni.none=new Ni("",Object.create(null),0,8);class No{extend(...t){let e=[];for(let r of this.types){let n=null;for(let e of t){let t=e(r);t&&(n||(n=Object.assign({},r.props)),n[t[0].id]=t[1])}e.push(n?new Ni(r.name,n,r.id,r.flags):r)}return new No(e)}constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw RangeError("Node type ids should correspond to array positions when creating a node set")}}let Ns=new WeakMap,Na=new WeakMap;(Qj=BA||(BA={}))[Qj.ExcludeBuffers=1]="ExcludeBuffers",Qj[Qj.IncludeAnonymous=2]="IncludeAnonymous",Qj[Qj.IgnoreMounts=4]="IgnoreMounts",Qj[Qj.IgnoreOverlays=8]="IgnoreOverlays";class Nl{toString(){let t=Nr.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Nw(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new Nw(Ns.get(this)||this.topNode);return n.moveTo(t,e),Ns.set(this,n._tree),n}get topNode(){return new Np(this,0,0,null)}resolve(t,e=0){let r=Nd(Ns.get(this)||this.topNode,t,e,!1);return Ns.set(this,r),r}resolveInner(t,e=0){let r=Nd(Na.get(this)||this.topNode,t,e,!0);return Na.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof Np?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=Nr.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new Np(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(Nd(s,e,r,!1))}}return i?Nb(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&BA.IncludeAnonymous)>0;for(let t=this.cursor(o|BA.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:NS(Ni.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new Nl(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new Nl(Ni.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new Nh(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[Ne.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[Ne.lookAhead,i];s=s?[t].concat(s):[t]}return new Nl(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new Nc(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new Nc(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof Nl){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(Ne.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=NS(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new Nl(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}Nl.empty=new Nl(Ni.none,[],[],0);class Nh{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Nh(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class Nc{get type(){return Ni.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!Nu(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new Nc(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function Nu(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function Nd(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof Np&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:BA.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof Np&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class Nf{cursor(t=0){return new Nw(this,t)}getChild(t,e=null,r=null){let n=Ng(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return Ng(this,t,e,r)}resolve(t,e=0){return Nd(this,t,e,!1)}resolveInner(t,e=0){return Nd(this,t,e,!0)}matchContext(t){return Nm(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class Np extends Nf{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(Nu(n,r,h,h+l.length)){if(l instanceof Nc){if(i&BA.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new Ny(new Nv(o,l,t,h),null,s)}else if(i&BA.IncludeAnonymous||!l.type.isAnonymous||Nx(l)){let s;if(!(i&BA.IgnoreMounts)&&(s=Nr.get(l))&&!s.overlay)return new Np(s.tree,h,t,o);let a=new Np(l,h,t,o);return i&BA.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&BA.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&BA.IgnoreOverlays)&&(n=Nr.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new Np(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function Ng(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function Nm(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class Nv{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class Ny extends Nf{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new Ny(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&BA.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new Ny(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Ny(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Ny(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new Nl(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function Nb(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof Np&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new NO(i,r)}class NO{get next(){return Nb(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class Nw{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Np?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&BA.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&BA.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&BA.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&BA.IncludeAnonymous||t instanceof Nc||!t.type.isAnonymous||Nx(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new Ny(this.buffer,e,this.stack[t]);return this.bufferNode=new Ny(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return Nm(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return Nm(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Np)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function Nx(t){return t.children.some(t=>t instanceof Nc||!t.type.isAnonymous||Nx(t))}let N_=new WeakMap;function Nk(t,e){if(!t.isAnonymous||e instanceof Nc||e.type!=t)return 1;let r=N_.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof Nl)){r=1;break}r+=Nk(t,n)}N_.set(e,r)}return r}function NS(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=Nk(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=Nk(t,r[h]);for(h++;h<s;h++){let e=Nk(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(NS(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}class NC{startParse(t,e,r){return"string"==typeof t&&(t=new NA(t)),r=r?r.length?r.map(t=>new Nt(t.from,t.to)):[new Nt(0,0)]:[new Nt(0,t.length)],this.createParse(t,e||[],r)}parse(t,e,r){let n=this.startParse(t,e,r);for(;;){let t=n.advance();if(t)return t}}}class NA{get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}constructor(t){this.string=t}}new Ne({perNode:!0});class NE{toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,r=0){let n=t.parser.context;return new NE(t,[],e,r,r,0,[],0,n?new NT(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let r=t>>19,n=65535&t,{parser:i}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let s=i.dynamicPrecedence(n);if(s&&(this.score+=s),0==r){this.pushState(i.getGoto(this.state,n,!0),this.reducePos),n<i.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(r-1)*3-(262144&t?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-l;h>=2e3&&!(null===(e=this.p.parser.nodeSet.types[n])||void 0===e?void 0:e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=h));let c=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-c;if(n<i.minRepeatTerm||131072&t){let t=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,t,u+4,!0)}if(262144&t)this.state=this.stack[a];else{let t=this.stack[a-3];this.state=i.getGoto(t,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(t,e,r,n=4,i=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,n=this.buffer.length;if(0==n&&t.parent&&(n=t.bufferBase-t.parent.bufferBase,t=t.parent),n>0&&0==t.buffer[n-4]&&t.buffer[n-1]>-1){if(e==r)return;if(t.buffer[n-2]>=e){t.buffer[n-2]=r;return}}}if(i&&this.pos!=r){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4]){let t=!1;for(let e=i;e>0&&this.buffer[e-2]>r;e-=4)if(this.buffer[e-1]>=0){t=!0;break}if(t)for(;i>0&&this.buffer[i-2]>r;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,n>4&&(n-=4)}this.buffer[i]=t,this.buffer[i+1]=e,this.buffer[i+2]=r,this.buffer[i+3]=n}else this.buffer.push(t,e,r,n)}shift(t,e,r,n){if(131072&t)this.pushState(65535&t,this.pos);else if((262144&t)==0){let{parser:i}=this.p;(n>this.pos||e<=i.maxNode)&&(this.pos=n,i.stateFlag(t,1)||(this.reducePos=n)),this.pushState(t,r),this.shiftContext(e,r),e<=i.maxNode&&this.buffer.push(e,r,n,4)}else this.pos=n,this.shiftContext(e,r),e<=this.p.parser.maxNode&&this.buffer.push(e,r,n,4)}apply(t,e,r,n){65536&t?this.reduce(t):this.shift(t,e,r,n)}useNode(t,e){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=t)&&(this.p.reused.push(t),r++);let n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let r=t.buffer.slice(e),n=t.bufferBase+e;for(;t&&n==t.bufferBase;)t=t.parent;return new NE(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let r=t<=this.p.parser.maxNode;r&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,r?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new NP(this);;){let r=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==r)return!1;if((65536&r)==0)return!0;e.reduce(r)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let r=[];for(let n=0,i;n<e.length;n+=2)(i=e[n+1])!=this.state&&this.p.parser.hasAction(i,t)&&r.push(e[n],i);if(this.stack.length<120)for(let t=0;r.length<8&&t<e.length;t+=2){let n=e[t+1];r.some((t,e)=>1&e&&t==n)||r.push(e[t],n)}e=r}let r=[];for(let t=0;t<e.length&&r.length<4;t+=2){let n=e[t+1];if(n==this.state)continue;let i=this.split();i.pushState(n,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(e[t],this.pos),i.reducePos=this.pos,i.score-=200,r.push(i)}return r}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if((65536&e)==0)return!1;if(!t.validAction(this.state,e)){let r=e>>19,n=65535&e,i=this.stack.length-3*r;if(i<0||0>t.getGoto(this.stack[i],n,!1)){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],r=(n,i)=>{if(!e.includes(n))return e.push(n),t.allActions(n,e=>{if(393216&e);else if(65536&e){let r=(e>>19)-i;if(r>1){let n=65535&e,i=this.stack.length-3*r;if(i>=0&&t.getGoto(this.stack[i],n,!1)>=0)return r<<19|65536|n}}else{let t=r(e,i+1);if(null!=t)return t}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new NT(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}constructor(t,e,r,n,i,o,s,a,l,h=0,c){this.p=t,this.stack=e,this.state=r,this.reducePos=n,this.pos=i,this.score=o,this.buffer=s,this.bufferBase=a,this.curContext=l,this.lookAhead=h,this.parent=c}}class NT{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class NP{reduce(t){let e=t>>19;0==e?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(e-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],65535&t,!0);this.state=r}constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}}class NI{static create(t,e=t.bufferBase+t.buffer.length){return new NI(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new NI(this.stack,this.pos,this.index)}constructor(t,e,r){this.stack=t,this.pos=e,this.index=r,this.buffer=t.buffer,0==this.index&&this.maybeNext()}}function NR(t,e=Uint16Array){if("string"!=typeof t)return t;let r=null;for(let n=0,i=0;n<t.length;){let o=0;for(;;){let e=t.charCodeAt(n++),r=!1;if(126==e){o=65535;break}e>=92&&e--,e>=34&&e--;let i=e-32;if(i>=46&&(i-=46,r=!0),o+=i,r)break;o*=46}r?r[i++]=o:r=new e(o)}return r}class NM{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}let NN=new NM;class ND{resolveOffset(t,e){let r=this.range,n=this.rangeIndex,i=this.pos+t;for(;i<r.from;){if(!n)return null;let t=this.ranges[--n];i-=r.from-t.to,r=t}for(;e<0?i>r.to:i>=r.to;){if(n==this.ranges.length-1)return null;let t=this.ranges[++n];i+=t.from-r.to,r=t}return i}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,r,n;if(e>=0&&e<this.chunk.length)r=this.pos+t,n=this.chunk.charCodeAt(e);else{let e=this.resolveOffset(t,1);if(null==e)return -1;if((r=e)>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let t=this.rangeIndex,e=this.range;for(;e.to<=r;)e=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>e.to&&(this.chunk2=this.chunk2.slice(0,e.to-r)),n=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),n}acceptToken(t,e=0){let r=e?this.resolveOffset(e,-1):this.pos;if(null==r||r<this.token.start)throw RangeError("Token end out of bounds");this.token.value=t,this.token.end=r}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=NN,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let r="";for(let n of this.ranges){if(n.from>=e)break;n.to>t&&(r+=this.input.read(Math.max(n.from,t),Math.min(n.to,e)))}return r}constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=NN,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}}class NL{token(t,e){let{parser:r}=e.p;NQ(this.data,t,e,this.id,r.data,r.tokenPrecTable)}constructor(t,e){this.data=t,this.id=e}}NL.prototype.contextual=NL.prototype.fallback=NL.prototype.extend=!1;class N${token(t,e){let r=t.pos,n=0;for(;;){let r=t.next<0,i=t.resolveOffset(1,1);if(NQ(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(null==this.elseToken)return;if(!r&&n++,null==i)break;t.reset(i,t.token)}n&&(t.reset(r,t.token),t.acceptToken(this.elseToken,n))}constructor(t,e,r){this.precTable=e,this.elseToken=r,this.data="string"==typeof t?NR(t):t}}N$.prototype.contextual=NL.prototype.fallback=NL.prototype.extend=!1;class Nq{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function NQ(t,e,r,n,i,o){let s=0,a=1<<n,{dialect:l}=r.p.parser;o:for(;(a&t[s])!=0;){let r=t[s+1];for(let n=s+3;n<r;n+=2)if((t[n+1]&a)>0){let r=t[n];if(l.allows(r)&&(-1==e.token.value||e.token.value==r||function(t,e,r,n){let i=NB(r,n,e);return i<0||NB(r,n,t)<i}(r,e.token.value,i,o))){e.acceptToken(r);break}}let n=e.next,h=0,c=t[s+2];if(e.next<0&&c>h&&65535==t[r+3*c-3]){s=t[r+3*c-1];continue}for(;h<c;){let i=h+c>>1,o=r+i+(i<<1),a=t[o],l=t[o+1]||65536;if(n<a)c=i;else if(n>=l)h=i+1;else{s=t[o+2],e.advance();continue o}}break}}function NB(t,e,r){for(let n=e,i;65535!=(i=t[n]);n++)if(i==r)return n-e;return -1}let Nj=void 0!==IE&&IE.env&&/\bparse\b/.test(void 0),Nz=null;function NZ(t,e,r){let n=t.cursor(BA.IncludeAnonymous);for(n.moveTo(e);;)if(!(r<0?n.childBefore(e):n.childAfter(e)))for(;;){if((r<0?n.to<e:n.from>e)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:t.length}}class NF{nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?NZ(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?NZ(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let r=this.trees[e],n=this.index[e];if(n==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=r.children[n],o=this.start[e]+r.positions[n];if(o>t)return this.nextStart=o,null;if(i instanceof Nl){if(o==t){if(o<this.safeFrom)return null;let t=o+i.length;if(t<=this.safeTo){let e=i.prop(Ne.lookAhead);if(!e||t+e<this.fragment.to)return i}}this.index[e]++,o+i.length>=Math.max(this.safeFrom,t)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[e]++,this.nextStart=o+i.length}}constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}}class NX{getActions(t){let e=0,r=null,{parser:n}=t.p,{tokenizers:i}=n,o=n.stateSlot(t.state,3),s=t.curContext?t.curContext.hash:0,a=0;for(let n=0;n<i.length;n++){if((1<<n&o)==0)continue;let l=i[n],h=this.tokens[n];if((!r||l.fallback)&&((l.contextual||h.start!=t.pos||h.mask!=o||h.context!=s)&&(this.updateCachedToken(h,l,t),h.mask=o,h.context=s),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),0!=h.value)){let n=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!l.extend&&(r=h,e>n))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),r||t.pos!=this.stream.end||((r=new NM).value=t.p.parser.eofTerm,r.start=r.end=t.pos,e=this.addActions(t,r.value,r.end,e)),this.mainToken=r,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new NM,{pos:r,p:n}=t;return e.start=r,e.end=Math.min(r+1,n.stream.end),e.value=r==n.stream.end?n.parser.eofTerm:0,e}updateCachedToken(t,e,r){let n=this.stream.clipPos(r.pos);if(e.token(this.stream.reset(n,t),r),t.value>-1){let{parser:e}=r.p;for(let n=0;n<e.specialized.length;n++)if(e.specialized[n]==t.value){let i=e.specializers[n](this.stream.read(t.start,t.end),r);if(i>=0&&r.p.parser.dialect.allows(i>>1)){(1&i)==0?t.value=i>>1:t.extended=i>>1;break}}}else t.value=0,t.end=this.stream.clipPos(n+1)}putAction(t,e,r,n){for(let e=0;e<n;e+=3)if(this.actions[e]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=r,n}addActions(t,e,r,n){let{state:i}=t,{parser:o}=t.p,{data:s}=o;for(let t=0;t<2;t++)for(let a=o.stateSlot(i,t?2:1);;a+=3){if(65535==s[a]){if(1==s[a+1])a=NG(s,a+2);else{0==n&&2==s[a+1]&&(n=this.putAction(NG(s,a+2),e,r,n));break}}s[a]==e&&(n=this.putAction(NG(s,a+1),e,r,n))}return n}constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(t=>new NM)}}class NV{get parsedPos(){return this.minStackPos}advance(){let t,e,r=this.stacks,n=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==r.length){let[t]=r;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<r.length;o++){let s=r[o];for(;;){if(this.tokens.mainToken=null,s.pos>n)i.push(s);else{if(this.advanceStack(s,i,r))continue;t||(t=[],e=[]),t.push(s);let n=this.tokens.getMainToken(s);e.push(n.value,n.end)}break}}if(!i.length){let e=t&&function(t){let e=null;for(let r of t){let t=r.p.stoppedAt;(r.pos==r.p.stream.end||null!=t&&r.pos>t)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}(t);if(e)return Nj&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw Nj&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&t){let r=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,i);if(r)return Nj&&console.log("Force-finish "+this.stackID(r)),this.stackToTree(r.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(i.length>t)for(i.sort((t,e)=>e.score-t.score);i.length>t;)i.pop();i.some(t=>t.reducePos>n)&&this.recovering--}else if(i.length>1){h:for(let t=0;t<i.length-1;t++){let e=i[t];for(let r=t+1;r<i.length;r++){let n=i[r];if(e.sameState(n)||e.buffer.length>500&&n.buffer.length>500){if((e.score-n.score||e.buffer.length-n.buffer.length)>0)i.splice(r--,1);else{i.splice(t--,1);continue h}}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let t=1;t<i.length;t++)i[t].pos<this.minStackPos&&(this.minStackPos=i[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,r){let n=t.pos,{parser:i}=this,o=Nj?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let e=t.curContext&&t.curContext.tracker.strict,r=e?t.curContext.hash:0;for(let s=this.fragments.nodeAt(n);s;){let n=this.parser.nodeSet.types[s.type.id]==s.type?i.getGoto(t.state,s.type.id):-1;if(n>-1&&s.length&&(!e||(s.prop(Ne.contextHash)||0)==r))return t.useNode(s,n),Nj&&console.log(o+this.stackID(t)+` (via reuse of ${i.getName(s.type.id)})`),!0;if(!(s instanceof Nl)||0==s.children.length||s.positions[0]>0)break;let a=s.children[0];if(a instanceof Nl&&0==s.positions[0])s=a;else break}}let s=i.stateSlot(t.state,4);if(s>0)return t.reduce(s),Nj&&console.log(o+this.stackID(t)+` (via always-reduce ${i.getName(65535&s)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let s=0;s<a.length;){let l=a[s++],h=a[s++],c=a[s++],u=s==a.length||!r,d=u?t:t.split(),f=this.tokens.mainToken;if(d.apply(l,h,f?f.start:d.pos,c),Nj&&console.log(o+this.stackID(d)+` (via ${(65536&l)==0?"shift":`reduce of ${i.getName(65535&l)}`} for ${i.getName(h)} @ ${n}${d==t?"":", split"})`),u)return!0;d.pos>n?e.push(d):r.push(d)}return!1}advanceFully(t,e){let r=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>r)return NU(t,e),!0}}runRecovery(t,e,r){let n=null,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=e[o<<1],l=e[(o<<1)+1],h=Nj?this.stackID(s)+" -> ":"";if(s.deadEnd&&(i||(i=!0,s.restart(),Nj&&console.log(h+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))))continue;let c=s.split(),u=h;for(let t=0;c.forceReduce()&&t<10&&(Nj&&console.log(u+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,r));t++)Nj&&(u=this.stackID(c)+" -> ");for(let t of s.recoverByInsert(a))Nj&&console.log(h+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,r);this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),Nj&&console.log(h+this.stackID(s)+` (via recover-delete ${this.parser.getName(a)})`),NU(s,r)):(!n||n.score<s.score)&&(n=s)}return n}stackToTree(t){return t.close(),Nl.build({buffer:NI.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(Nz||(Nz=new WeakMap)).get(t);return e||Nz.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}constructor(t,e,r,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new ND(e,n),this.tokens=new NX(t,this.stream),this.topTerm=t.top[1];let{from:i}=n[0];this.stacks=[NE.start(this,t.top[0],i)],this.fragments=r.length&&this.stream.end-i>4*t.bufferLength?new NF(r,t.nodeSet):null}}function NU(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(n.pos==t.pos&&n.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class NW{allows(t){return!this.disabled||0==this.disabled[t]}constructor(t,e,r){this.source=t,this.flags=e,this.disabled=r}}let NH=t=>t;class NY extends NC{createParse(t,e,r){let n=new NV(this,t,e,r);for(let i of this.wrappers)n=i(n,t,e,r);return n}getGoto(t,e,r=!1){let n=this.goto;if(e>=n[0])return -1;for(let i=n[e+1];;){let e=n[i++],o=1&e,s=n[i++];if(o&&r)return s;for(let r=i+(e>>1);i<r;i++)if(n[i]==t)return s;if(o)return -1}}hasAction(t,e){let r=this.data;for(let n=0;n<2;n++)for(let i=this.stateSlot(t,n?2:1),o;;i+=3){if(65535==(o=r[i])){if(1==r[i+1])o=r[i=NG(r,i+2)];else if(2==r[i+1])return NG(r,i+2);else break}if(o==e||0==o)return NG(r,i+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,t=>t==e||null)}allActions(t,e){let r=this.stateSlot(t,4),n=r?e(r):void 0;for(let r=this.stateSlot(t,1);null==n;r+=3){if(65535==this.data[r]){if(1==this.data[r+1])r=NG(this.data,r+2);else break}n=e(NG(this.data,r+1))}return n}nextStates(t){let e=[];for(let r=this.stateSlot(t,1);;r+=3){if(65535==this.data[r]){if(1==this.data[r+1])r=NG(this.data,r+2);else break}if((1&this.data[r+2])==0){let t=this.data[r+1];e.some((e,r)=>1&r&&e==t)||e.push(this.data[r],t)}}return e}configure(t){let e=Object.assign(Object.create(NY.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let r=this.topRules[t.top];if(!r)throw RangeError(`Invalid top rule name ${t.top}`);e.top=r}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(e=>{let r=t.tokenizers.find(t=>t.from==e);return r?r.to:e})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((r,n)=>{let i=t.specializers.find(t=>t.from==r.external);if(!i)return r;let o=Object.assign(Object.assign({},r),{external:i.to});return e.specializers[n]=NK(o),o})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),r=e.map(()=>!1);if(t)for(let n of t.split(" ")){let t=e.indexOf(n);t>=0&&(r[t]=!0)}let n=null;for(let t=0;t<e.length;t++)if(!r[t])for(let r=this.dialects[e[t]],i;65535!=(i=this.data[r++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[i]=1;return new NW(t,r,n)}static deserialize(t){return new NY(t)}constructor(t){if(super(),this.wrappers=[],14!=t.version)throw RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let r=0;r<t.repeatNodeCount;r++)e.push("");let r=Object.keys(t.topRules).map(e=>t.topRules[e][1]),n=[];for(let t=0;t<e.length;t++)n.push([]);function i(t,e,r){n[t].push([e,e.deserialize(String(r))])}if(t.nodeProps)for(let e of t.nodeProps){let t=e[0];"string"==typeof t&&(t=Ne[t]);for(let r=1;r<e.length;){let n=e[r++];if(n>=0)i(n,t,e[r++]);else{let o=e[r+-n];for(let s=-n;s>0;s--)i(e[r++],t,o);r++}}}this.nodeSet=new No(e.map((e,i)=>Ni.define({name:i>=this.minRepeatTerm?void 0:e,id:i,props:n[i],top:r.indexOf(i)>-1,error:0==i,skipped:t.skippedNodes&&t.skippedNodes.indexOf(i)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=1024;let o=NR(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(NK),this.states=NR(t.states,Uint32Array),this.data=NR(t.stateData),this.goto=NR(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(t=>"number"==typeof t?new NL(o,t):t),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}}function NG(t,e){return t[e]|t[e+1]<<16}function NK(t){if(t.external){let e=t.extend?1:0;return(r,n)=>t.external(r,n)<<1|e}return t.get}let NJ=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],N0=new class{constructor(t){this.start=t.start,this.shift=t.shift||NH,this.reduce=t.reduce||NH,this.reuse=t.reuse||NH,this.hash=t.hash||(()=>0),this.strict=!1!==t.strict}}({start:!1,shift:(t,e)=>5==e||6==e||318==e?t:319==e,strict:!1}),N1=new Nq((t,e)=>{let{next:r}=t;(125==r||-1==r||e.context)&&t.acceptToken(316)},{contextual:!0,fallback:!0}),N2=new Nq((t,e)=>{let{next:r}=t,n;!(NJ.indexOf(r)>-1)&&(47==r&&(47==(n=t.peek(1))||42==n)||125==r||59==r||-1==r||e.context||t.acceptToken(314))},{contextual:!0}),N3=new Nq((t,e)=>{91!=t.next||e.context||t.acceptToken(315)},{contextual:!0}),N4=new Nq((t,e)=>{let{next:r}=t;if(43==r||45==r){if(t.advance(),r==t.next){t.advance();let r=!e.context&&e.canShift(1);t.acceptToken(r?1:2)}}else 63==r&&46==t.peek(1)&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(3))},{contextual:!0});function N5(t,e){return t>=65&&t<=90||t>=97&&t<=122||95==t||t>=192||!e&&t>=48&&t<=57}let N6=new Nq((t,e)=>{if(60!=t.next||!e.dialectEnabled(0)||(t.advance(),47==t.next))return;let r=0;for(;NJ.indexOf(t.next)>-1;)t.advance(),r++;if(N5(t.next,!0)){for(t.advance(),r++;N5(t.next,!1);)t.advance(),r++;for(;NJ.indexOf(t.next)>-1;)t.advance(),r++;if(44==t.next)return;for(let e=0;;e++){if(7==e){if(!N5(t.next,!0))return;break}if(t.next!="extends".charCodeAt(e))break;t.advance(),r++}}t.acceptToken(4,-r)}),N8=_S({"get set async static":_X.modifier,"for while do if else switch try catch finally return throw break continue default case":_X.controlKeyword,"in of await yield void typeof delete instanceof":_X.operatorKeyword,"let var const using function class extends":_X.definitionKeyword,"import export from":_X.moduleKeyword,"with debugger as new":_X.keyword,TemplateString:_X.special(_X.string),super:_X.atom,BooleanLiteral:_X.bool,this:_X.self,null:_X.null,Star:_X.modifier,VariableName:_X.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":_X.function(_X.variableName),VariableDefinition:_X.definition(_X.variableName),Label:_X.labelName,PropertyName:_X.propertyName,PrivatePropertyName:_X.special(_X.propertyName),"CallExpression/MemberExpression/PropertyName":_X.function(_X.propertyName),"FunctionDeclaration/VariableDefinition":_X.function(_X.definition(_X.variableName)),"ClassDeclaration/VariableDefinition":_X.definition(_X.className),"NewExpression/VariableName":_X.className,PropertyDefinition:_X.definition(_X.propertyName),PrivatePropertyDefinition:_X.definition(_X.special(_X.propertyName)),UpdateOp:_X.updateOperator,"LineComment Hashbang":_X.lineComment,BlockComment:_X.blockComment,Number:_X.number,String:_X.string,Escape:_X.escape,ArithOp:_X.arithmeticOperator,LogicOp:_X.logicOperator,BitOp:_X.bitwiseOperator,CompareOp:_X.compareOperator,RegExp:_X.regexp,Equals:_X.definitionOperator,Arrow:_X.function(_X.punctuation),": Spread":_X.punctuation,"( )":_X.paren,"[ ]":_X.squareBracket,"{ }":_X.brace,"InterpolationStart InterpolationEnd":_X.special(_X.brace),".":_X.derefOperator,", ;":_X.separator,"@":_X.meta,TypeName:_X.typeName,TypeDefinition:_X.definition(_X.typeName),"type enum interface implements namespace module declare":_X.definitionKeyword,"abstract global Privacy readonly override":_X.modifier,"is keyof unique infer asserts":_X.operatorKeyword,JSXAttributeValue:_X.attributeValue,JSXText:_X.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":_X.angleBracket,"JSXIdentifier JSXNameSpacedName":_X.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":_X.attributeName,"JSXBuiltin/JSXIdentifier":_X.standard(_X.tagName)}),N7={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},N9={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},Dt={__proto__:null,"<":189},De=NY.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:N0,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[N8],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[N2,N3,N4,N6,2,3,4,5,6,7,8,9,10,11,12,13,14,N1,new N$("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new N$("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:t=>N7[t]||-1},{term:341,get:t=>N9[t]||-1},{term:93,get:t=>Dt[t]||-1}],tokenPrec:15116}),Dr=0;class Dn{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Ds.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=Dr++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}Dn.closedBy=new Dn({deserialize:t=>t.split(" ")}),Dn.openedBy=new Dn({deserialize:t=>t.split(" ")}),Dn.group=new Dn({deserialize:t=>t.split(" ")}),Dn.isolate=new Dn({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Dn.contextHash=new Dn({perNode:!0}),Dn.lookAhead=new Dn({perNode:!0}),Dn.mounted=new Dn({perNode:!0});class Di{static get(t){return t&&t.props&&t.props[Dn.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let Do=Object.create(null);class Ds{static define(t){let e=t.props&&t.props.length?Object.create(null):Do,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new Ds(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Dn.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(Dn.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}Ds.none=new Ds("",Object.create(null),0,8);let Da=new WeakMap,Dl=new WeakMap;(Qz=BE||(BE={}))[Qz.ExcludeBuffers=1]="ExcludeBuffers",Qz[Qz.IncludeAnonymous=2]="IncludeAnonymous",Qz[Qz.IgnoreMounts=4]="IgnoreMounts",Qz[Qz.IgnoreOverlays=8]="IgnoreOverlays";class Dh{toString(){let t=Di.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Dx(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new Dx(Da.get(this)||this.topNode);return n.moveTo(t,e),Da.set(this,n._tree),n}get topNode(){return new Dg(this,0,0,null)}resolve(t,e=0){let r=Df(Da.get(this)||this.topNode,t,e,!1);return Da.set(this,r),r}resolveInner(t,e=0){let r=Df(Dl.get(this)||this.topNode,t,e,!0);return Dl.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof Dg?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=Di.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new Dg(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(Df(s,e,r,!1))}}return i?DO(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&BE.IncludeAnonymous)>0;for(let t=this.cursor(o|BE.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:DC(Ds.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new Dh(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new Dh(Ds.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new Dc(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[Dn.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[Dn.lookAhead,i];s=s?[t].concat(s):[t]}return new Dh(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new Du(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new Du(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof Dh){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(Dn.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=DC(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new Dh(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}Dh.empty=new Dh(Ds.none,[],[],0);class Dc{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Dc(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class Du{get type(){return Ds.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!Dd(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new Du(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function Dd(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function Df(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof Dg&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:BE.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof Dg&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class Dp{cursor(t=0){return new Dx(this,t)}getChild(t,e=null,r=null){let n=Dm(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return Dm(this,t,e,r)}resolve(t,e=0){return Df(this,t,e,!1)}resolveInner(t,e=0){return Df(this,t,e,!0)}matchContext(t){return Dv(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class Dg extends Dp{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(Dd(n,r,h,h+l.length)){if(l instanceof Du){if(i&BE.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new Db(new Dy(o,l,t,h),null,s)}else if(i&BE.IncludeAnonymous||!l.type.isAnonymous||D_(l)){let s;if(!(i&BE.IgnoreMounts)&&(s=Di.get(l))&&!s.overlay)return new Dg(s.tree,h,t,o);let a=new Dg(l,h,t,o);return i&BE.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&BE.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&BE.IgnoreOverlays)&&(n=Di.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new Dg(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function Dm(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function Dv(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class Dy{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class Db extends Dp{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new Db(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&BE.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new Db(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Db(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Db(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new Dh(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function DO(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof Dg&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new Dw(i,r)}class Dw{get next(){return DO(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class Dx{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Dg?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&BE.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&BE.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&BE.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&BE.IncludeAnonymous||t instanceof Du||!t.type.isAnonymous||D_(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new Db(this.buffer,e,this.stack[t]);return this.bufferNode=new Db(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return Dv(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return Dv(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Dg)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function D_(t){return t.children.some(t=>t instanceof Du||!t.type.isAnonymous||D_(t))}let Dk=new WeakMap;function DS(t,e){if(!t.isAnonymous||e instanceof Du||e.type!=t)return 1;let r=Dk.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof Dh)){r=1;break}r+=DS(t,n)}Dk.set(e,r)}return r}function DC(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=DS(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=DS(t,r[h]);for(h++;h<s;h++){let e=DS(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(DC(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}new Dn({perNode:!0});let DA=[/*@__PURE__*/Eg("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),/*@__PURE__*/Eg("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),/*@__PURE__*/Eg("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),/*@__PURE__*/Eg("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),/*@__PURE__*/Eg("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),/*@__PURE__*/Eg("try {\n	${}\n} catch (${error}) {\n	${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),/*@__PURE__*/Eg("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),/*@__PURE__*/Eg("if (${}) {\n	${}\n} else {\n	${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),/*@__PURE__*/Eg("class ${name} {\n	constructor(${params}) {\n		${}\n	}\n}",{label:"class",detail:"definition",type:"keyword"}),/*@__PURE__*/Eg('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),/*@__PURE__*/Eg('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],DE=/*@__PURE__*/DA.concat([/*@__PURE__*/Eg("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),/*@__PURE__*/Eg("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),/*@__PURE__*/Eg("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),DT=/*@__PURE__*/new class{setBuffer(t,e,r){let n=this.map.get(t);n||this.map.set(t,n=new Map),n.set(e,r)}getBuffer(t,e){let r=this.map.get(t);return r&&r.get(e)}set(t,e){t instanceof Db?this.setBuffer(t.context.buffer,t.index,e):t instanceof Dg&&this.map.set(t.tree,e)}get(t){return t instanceof Db?this.getBuffer(t.context.buffer,t.index):t instanceof Dg?this.map.get(t.tree):void 0}cursorSet(t,e){t.buffer?this.setBuffer(t.buffer.buffer,t.index,e):this.map.set(t.tree,e)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}constructor(){this.map=new WeakMap}},DP=/*@__PURE__*/new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function DI(t){return(e,r)=>{let n=e.node.getChild("VariableDefinition");return n&&r(n,t),!0}}let DR=["FunctionDeclaration"],DM={FunctionDeclaration:/*@__PURE__*/DI("function"),ClassDeclaration:/*@__PURE__*/DI("class"),ClassExpression:()=>!0,EnumDeclaration:/*@__PURE__*/DI("constant"),TypeAliasDeclaration:/*@__PURE__*/DI("type"),NamespaceDeclaration:/*@__PURE__*/DI("namespace"),VariableDefinition(t,e){t.matchContext(DR)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null},DN=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,DD=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function DL(t){let e=_K(t.state).resolveInner(t.pos,-1);if(DD.indexOf(e.name)>-1)return null;let r="VariableName"==e.name||e.to-e.from<20&&DN.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let n=[];for(let r=e;r;r=r.parent)DP.has(r.name)&&(n=n.concat(function t(e,r){let n=DT.get(r);if(n)return n;let i=[],o=!0;function s(t,r){let n=e.sliceString(t.from,t.to);i.push({label:n,type:r})}return r.cursor(BE.IncludeAnonymous).iterate(r=>{if(o)o=!1;else if(r.name){let t=DM[r.name];if(t&&t(r,s)||DP.has(r.name))return!1}else if(r.to-r.from>8192){for(let n of t(e,r.node))i.push(n);return!1}}),DT.set(r,i),i}(t.state.doc,r)));return{options:n,from:r?e.from:t.pos,validFor:DN}}let D$=/*@__PURE__*/_G.define({name:"javascript",parser:/*@__PURE__*/De.configure({props:[/*@__PURE__*/ks.add({IfStatement:/*@__PURE__*/ku({except:/^\s*({|else\b)/}),TryStatement:/*@__PURE__*/ku({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:t=>t.baseIndent,SwitchBody:t=>{let e=t.textAfter,r=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return t.baseIndent+(r?0:n?1:2)*t.unit},Block:/*@__PURE__*/function({closing:t,align:e=!0,units:r=1}){return n=>kc(n,e,r,t)}({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":/*@__PURE__*/ku({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag":t=>t.column(t.node.from)+t.unit}),/*@__PURE__*/kf.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":kp,BlockComment:t=>({from:t.from+2,to:t.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Dq={test:t=>/^JSX/.test(t.name),facet:/*@__PURE__*/_U({commentTokens:{block:{open:"{/*",close:"*/}"}}})},DQ=/*@__PURE__*/D$.configure({dialect:"ts"},"typescript"),DB=/*@__PURE__*/D$.configure({dialect:"jsx",props:[/*@__PURE__*/_W.add(t=>t.isTop?[Dq]:void 0)]}),Dj=/*@__PURE__*/D$.configure({dialect:"jsx ts",props:[/*@__PURE__*/_W.add(t=>t.isTop?[Dq]:void 0)]},"typescript"),Dz=t=>({label:t,type:"keyword"}),DZ=/*@__PURE__*/"break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Dz),DF=/*@__PURE__*/DZ.concat(/*@__PURE__*/["declare","implements","private","protected","public"].map(Dz));function DX(t,e,r=t.length){for(let n=null==e?void 0:e.firstChild;n;n=n.nextSibling)if("JSXIdentifier"==n.name||"JSXBuiltin"==n.name||"JSXNamespacedName"==n.name||"JSXMemberExpression"==n.name)return t.sliceString(n.from,Math.min(n.to,r));return""}let DV="object"==typeof navigator&&/*@__PURE__*//Android\b/.test(navigator.userAgent),DU=/*@__PURE__*/wi.inputHandler.of((t,e,r,n,i)=>{if((DV?t.composing:t.compositionStarted)||t.state.readOnly||e!=r||">"!=n&&"/"!=n||!D$.isActiveAt(t.state,e,-1))return!1;let o=i(),{state:s}=o,a=s.changeByRange(t=>{var e;let{head:r}=t,i=_K(s).resolveInner(r-1,-1),o;if("JSXStartTag"==i.name&&(i=i.parent),s.doc.sliceString(r-1,r)!=n||"JSXAttributeValue"==i.name&&i.to>r);else if(">"==n&&"JSXFragmentTag"==i.name)return{range:t,changes:{from:r,insert:"</>"}};else if("/"==n&&"JSXStartCloseTag"==i.name){let t=i.parent,n=t.parent;if(n&&t.from==r-2&&((o=DX(s.doc,n.firstChild,r))||(null===(e=n.firstChild)||void 0===e?void 0:e.name)=="JSXFragmentTag")){let t=`${o}>`;return{range:m9.cursor(r+t.length,-1),changes:{from:r,insert:t}}}}else if(">"==n){let e=function(t){for(;;){if("JSXOpenTag"==t.name||"JSXSelfClosingTag"==t.name||"JSXFragmentTag"==t.name)return t;if("JSXEscape"==t.name||!t.parent)return null;t=t.parent}}(i);if(e&&"JSXOpenTag"==e.name&&!/^\/?>|^<\//.test(s.doc.sliceString(r,r+2))&&(o=DX(s.doc,e,r)))return{range:t,changes:{from:r,insert:`</${o}>`}}}return{range:t}});return!a.changes.empty&&(t.dispatch([o,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),DW=["_blank","_self","_top","_parent"],DH=["ascii","utf-8","utf-16","latin1","latin1"],DY=["get","post","put","delete"],DG=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],DK=["true","false"],DJ={},D0={a:{attrs:{href:null,ping:null,type:null,media:null,target:DW,hreflang:null}},abbr:DJ,address:DJ,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:DJ,aside:DJ,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:DJ,base:{attrs:{href:null,target:DW}},bdi:DJ,bdo:DJ,blockquote:{attrs:{cite:null}},body:DJ,br:DJ,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:DG,formmethod:DY,formnovalidate:["novalidate"],formtarget:DW,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:DJ,center:DJ,cite:DJ,code:DJ,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:DJ,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:DJ,div:DJ,dl:DJ,dt:DJ,em:DJ,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:DJ,figure:DJ,footer:DJ,form:{attrs:{action:null,name:null,"accept-charset":DH,autocomplete:["on","off"],enctype:DG,method:DY,novalidate:["novalidate"],target:DW}},h1:DJ,h2:DJ,h3:DJ,h4:DJ,h5:DJ,h6:DJ,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:DJ,hgroup:DJ,hr:DJ,html:{attrs:{manifest:null}},i:DJ,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:DG,formmethod:DY,formnovalidate:["novalidate"],formtarget:DW,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:DJ,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:DJ,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:DJ,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:DH,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:DJ,noscript:DJ,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:DJ,param:{attrs:{name:null,value:null}},pre:DJ,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:DJ,rt:DJ,ruby:DJ,samp:DJ,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:DH}},section:DJ,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:DJ,source:{attrs:{src:null,type:null,media:null}},span:DJ,strong:DJ,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:DJ,summary:DJ,sup:DJ,table:DJ,tbody:DJ,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:DJ,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:DJ,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:DJ,time:{attrs:{datetime:null}},title:DJ,tr:DJ,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:DJ,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:DJ},D1={accesskey:null,class:null,contenteditable:DK,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:DK,autocorrect:DK,autocapitalize:DK,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:/*@__PURE__*/"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":DK,"aria-autocomplete":["inline","list","both","none"],"aria-busy":DK,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":DK,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":DK,"aria-hidden":DK,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":DK,"aria-multiselectable":DK,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":DK,"aria-relevant":null,"aria-required":DK,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},D2=/*@__PURE__*/"beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of D2)D1[t]=null;class D3{constructor(t,e){this.tags=Object.assign(Object.assign({},D0),t),this.globalAttrs=Object.assign(Object.assign({},D1),e),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}function D4(t,e,r=t.length){if(!e)return"";let n=e.firstChild,i=n&&n.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,r)):""}function D5(t,e=!1){for(;t;t=t.parent)if("Element"==t.name){if(!e)return t;e=!1}return null}function D6(t,e,r){let n=r.tags[D4(t,D5(e))];return(null==n?void 0:n.children)||r.allTags}function D8(t,e){let r=[];for(let n=D5(e);n&&!n.type.isTop;n=D5(n.parent)){let i=D4(t,n);if(i&&"CloseTag"==n.lastChild.name)break;i&&0>r.indexOf(i)&&("EndTag"==e.name||e.from>=n.firstChild.to)&&r.push(i)}return r}D3.default=/*@__PURE__*/new D3;let D7=/^[:\-\.\w\u00b7-\uffff]*$/;function D9(t,e,r,n,i){let o=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",s=D5(r,!0);return{from:n,to:i,options:D6(t.doc,s,e).map(t=>({label:t,type:"type"})).concat(D8(t.doc,r).map((t,e)=>({label:"/"+t,apply:"/"+t+o,type:"type",boost:99-e}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Lt(t,e,r,n){let i=/\s*>/.test(t.sliceDoc(n,n+5))?"":">";return{from:r,to:n,options:D8(t.doc,e).map((t,e)=>({label:t,apply:t+i,type:"type",boost:99-e})),validFor:D7}}function Le(t,e){let{state:r,pos:n}=e,i=_K(r).resolveInner(n,-1),o=i.resolve(n);for(let t=n,e;o==i&&(e=i.childBefore(t));){let r=e.lastChild;if(!r||!r.type.isError||r.from<r.to)break;o=i=e,t=r.from}if("TagName"==i.name)return i.parent&&/CloseTag$/.test(i.parent.name)?Lt(r,i,i.from,n):D9(r,t,i,i.from,n);if("StartTag"==i.name)return D9(r,t,i,n,n);if("StartCloseTag"==i.name||"IncompleteCloseTag"==i.name)return Lt(r,i,n,n);if("OpenTag"==i.name||"SelfClosingTag"==i.name||"AttributeName"==i.name){var s,a;let e,o,l;return s=i,a="AttributeName"==i.name?i.from:n,l=(o=(e=D5(s))?t.tags[D4(r.doc,e)]:null)&&o.attrs?Object.keys(o.attrs):[],{from:a,to:n,options:(o&&!1===o.globalAttrs?l:l.length?l.concat(t.globalAttrNames):t.globalAttrNames).map(t=>({label:t,type:"property"})),validFor:D7}}return"Is"==i.name||"AttributeValue"==i.name||"UnquotedAttributeValue"==i.name?function(t,e,r,n,i){var o;let s=null===(o=r.parent)||void 0===o?void 0:o.getChild("AttributeName"),a=[],l;if(s){let o=t.sliceDoc(s.from,s.to),h=e.globalAttrs[o];if(!h){let n=D5(r),i=n?e.tags[D4(t.doc,n)]:null;h=(null==i?void 0:i.attrs)&&i.attrs[o]}if(h){let e=t.sliceDoc(n,i).toLowerCase(),r='"',o='"';for(let s of(/^['"]/.test(e)?(l='"'==e[0]?/^[^"]*$/:/^[^']*$/,r="",o=t.sliceDoc(i,i+1)==e[0]?"":e[0],e=e.slice(1),n++):l=/^[^\s<>='"]*$/,h))a.push({label:s,apply:r+s+o,type:"constant"})}}return{from:n,to:i,options:a,validFor:l}}(r,t,i,"Is"==i.name?n:i.from,n):e.explicit&&("Element"==o.name||"Text"==o.name||"Document"==o.name)?function(t,e,r,n){let i=[],o=0;for(let n of D6(t.doc,r,e))i.push({label:"<"+n,type:"type"});for(let e of D8(t.doc,r))i.push({label:"</"+e+">",type:"type",boost:99-o++});return{from:n,to:n,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}(r,t,i,n):null}let Lr=/*@__PURE__*/D$.parser.configure({top:"SingleExpression"}),Ln=[{tag:"script",attrs:t=>"text/typescript"==t.type||"ts"==t.lang,parser:DQ.parser},{tag:"script",attrs:t=>"text/babel"==t.type||"text/jsx"==t.type,parser:DB.parser},{tag:"script",attrs:t=>"text/typescript-jsx"==t.type,parser:Dj.parser},{tag:"script",attrs:t=>/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type),parser:Lr},{tag:"script",attrs:t=>!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type),parser:D$.parser},{tag:"style",attrs:t=>(!t.lang||"css"==t.lang)&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type)),parser:M7.parser}],Li=/*@__PURE__*/[{name:"style",parser:/*@__PURE__*/M7.parser.configure({top:"Styles"})}].concat(/*@__PURE__*/D2.map(t=>({name:t,parser:D$.parser}))),Lo=/*@__PURE__*/_G.define({name:"html",parser:/*@__PURE__*/Rw.configure({props:[/*@__PURE__*/ks.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag":t=>t.column(t.node.from)+t.unit,Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,r;for(let r=t.node;;){let t=r.lastChild;if(!t||"Element"!=t.name||t.to!=r.to)break;e=r=t}return e&&!((r=e.lastChild)&&("CloseTag"==r.name||"SelfClosingTag"==r.name))?t.lineIndent(e.from)+t.unit:null}}),/*@__PURE__*/kf.add({Element(t){let e=t.firstChild,r=t.lastChild;return e&&"OpenTag"==e.name?{from:e.to,to:"CloseTag"==r.name?r.from:t.to}:null}}),/*@__PURE__*/kU.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Ls=/*@__PURE__*/Lo.configure({wrap:/*@__PURE__*/RS(Ln,Li)}),La=/*@__PURE__*/new Set(/*@__PURE__*/"area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Ll=/*@__PURE__*/wi.inputHandler.of((t,e,r,n,i)=>{if(t.composing||t.state.readOnly||e!=r||">"!=n&&"/"!=n||!Ls.isActiveAt(t.state,e,-1))return!1;let o=i(),{state:s}=o,a=s.changeByRange(t=>{var e,r,i;let o=s.doc.sliceString(t.from-1,t.to)==n,{head:a}=t,l=_K(s).resolveInner(a,-1),h;if(o&&">"==n&&"EndTag"==l.name){let n=l.parent;if((null===(r=null===(e=n.parent)||void 0===e?void 0:e.lastChild)||void 0===r?void 0:r.name)!="CloseTag"&&(h=D4(s.doc,n.parent,a))&&!La.has(h)){let e=a+(">"===s.doc.sliceString(a,a+1)?1:0);return{range:t,changes:{from:a,to:e,insert:`</${h}>`}}}}else if(o&&"/"==n&&"IncompleteCloseTag"==l.name){let t=l.parent;if(l.from==a-2&&(null===(i=t.lastChild)||void 0===i?void 0:i.name)!="CloseTag"&&(h=D4(s.doc,t,a))&&!La.has(h)){let t=a+(">"===s.doc.sliceString(a,a+1)?1:0),e=`${h}>`;return{range:m9.cursor(a+e.length,-1),changes:{from:a,to:t,insert:e}}}}return{range:t}});return!a.changes.empty&&(t.dispatch([o,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Lh=0;class Lc{add(t){if(this.perNode)throw RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Lf.match(t)),e=>{let r=t(e);return void 0===r?null:[this,r]}}constructor(t={}){this.id=Lh++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")})}}Lc.closedBy=new Lc({deserialize:t=>t.split(" ")}),Lc.openedBy=new Lc({deserialize:t=>t.split(" ")}),Lc.group=new Lc({deserialize:t=>t.split(" ")}),Lc.isolate=new Lc({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw RangeError("Invalid value for isolate: "+t);return t||"auto"}}),Lc.contextHash=new Lc({perNode:!0}),Lc.lookAhead=new Lc({perNode:!0}),Lc.mounted=new Lc({perNode:!0});class Lu{static get(t){return t&&t.props&&t.props[Lc.mounted.id]}constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}let Ld=Object.create(null);class Lf{static define(t){let e=t.props&&t.props.length?Object.create(null):Ld,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),n=new Lf(t.name||"",e,t.id,r);if(t.props){for(let r of t.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Lc.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return t=>{for(let r=t.prop(Lc.group),n=-1;n<(r?r.length:0);n++){let i=e[n<0?t.name:r[n]];if(i)return i}}}constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}}Lf.none=new Lf("",Object.create(null),0,8);let Lp=new WeakMap,Lg=new WeakMap;(QZ=BT||(BT={}))[QZ.ExcludeBuffers=1]="ExcludeBuffers",QZ[QZ.IncludeAnonymous=2]="IncludeAnonymous",QZ[QZ.IgnoreMounts=4]="IgnoreMounts",QZ[QZ.IgnoreOverlays=8]="IgnoreOverlays";class Lm{toString(){let t=Lu.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let r=t.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new LT(this.topNode,t)}cursorAt(t,e=0,r=0){let n=new LT(Lp.get(this)||this.topNode);return n.moveTo(t,e),Lp.set(this,n._tree),n}get topNode(){return new Lx(this,0,0,null)}resolve(t,e=0){let r=LO(Lp.get(this)||this.topNode,t,e,!1);return Lp.set(this,r),r}resolveInner(t,e=0){let r=LO(Lg.get(this)||this.topNode,t,e,!0);return Lg.set(this,r),r}resolveStack(t,e=0){return function(t,e,r){let n=t.resolveInner(e,r),i=null;for(let t=n instanceof Lx?n:n.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[n])).push(o.resolve(e,r)),t=o}else{let o=Lu.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new Lx(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[n])).push(LO(s,e,r,!1))}}return i?LA(i):n}(this,t,e)}iterate(t){let{enter:e,leave:r,from:n=0,to:i=this.length}=t,o=t.mode||0,s=(o&BT.IncludeAnonymous)>0;for(let t=this.cursor(o|BT.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=n&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&r&&(s||!t.type.isAnonymous)&&r(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:LM(Lf.none,this.children,this.positions,0,this.children.length,0,this.length,(t,e,r)=>new Lm(this.type,t,e,r,this.propValues),t.makeTree||((t,e,r)=>new Lm(Lf.none,t,e,r)))}static build(t){return function(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=t,a=Array.isArray(r)?new Lv(r,r.length):r,l=n.types,h=0,c=0;function u(t,e,r,i,o,s,a,l,h){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+r-o);t.push(d(n.types[a],c,u,s-o,l-s,h)),e.push(o-r)}function d(t,e,r,n,i,o,s){if(o){let t=[Lc.contextHash,o];s=s?[t].concat(s):[t]}if(i>25){let t=[Lc.lookAhead,i];s=s?[t].concat(s):[t]}return new Lm(t,e,r,n,s)}let f=[],p=[];for(;a.pos>0;)!function t(e,r,f,p,g,m){let{id:v,start:y,end:b,size:O}=a,w=c,x=h;for(;O<0;){if(a.next(),-1==O){let t=o[v];f.push(t),p.push(y-e);return}if(-3==O){h=v;return}if(-4==O){c=v;return}throw RangeError(`Unrecognized record size: ${O}`)}let k=l[v],S,C,A=y-e;if(b-y<=i&&(C=function(t,e){let r=a.fork(),n=0,o=0,l=0,h=r.end-i,c={size:0,start:0,skip:0};o:for(let i=r.pos-t;r.pos>i;){let t=r.size;if(r.id==e&&t>=0){c.size=n,c.start=o,c.skip=l,l+=4,n+=4,r.next();continue}let a=r.pos-t;if(t<0||a<i||r.start<h)break;let u=r.id>=s?4:0,d=r.start;for(r.next();r.pos>a;){if(r.size<0){if(-3==r.size)u+=4;else break o}else r.id>=s&&(u+=4);r.next()}o=d,n+=t,l+=u}return(e<0||n==t)&&(c.size=n,c.start=o,c.skip=l),c.size>4?c:void 0}(a.pos-r,g))){let t=new Uint16Array(C.size-C.skip),r=a.pos-C.size,i=t.length;for(;a.pos>r;)i=function t(e,r,n){let{id:i,start:o,end:l,size:u}=a;if(a.next(),u>=0&&i<s){let s=n;if(u>4){let i=a.pos-(u-4);for(;a.pos>i;)n=t(e,r,n)}r[--n]=s,r[--n]=l-e,r[--n]=o-e,r[--n]=i}else -3==u?h=i:-4==u&&(c=i);return n}(C.start,t,i);S=new Ly(t,b-C.start,n),A=C.start-e}else{let e=a.pos-O;a.next();let r=[],o=[],l=v>=s?v:-1,h=0,c=b;for(;a.pos>e;)l>=0&&a.id==l&&a.size>=0?(a.end<=c-i&&(u(r,o,y,h,a.end,c,l,w,x),h=r.length,c=a.end),a.next()):m>2500?function(t,e,r,o){let s=[],l=0,h=-1;for(;a.pos>e;){let{id:t,start:e,end:r,size:n}=a;if(n>4)a.next();else if(h>-1&&e<h)break;else h<0&&(h=r-i),s.push(t,e,r),l++,a.next()}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,r=0;t>=0;t-=3)e[r++]=s[t],e[r++]=s[t+1]-i,e[r++]=s[t+2]-i,e[r++]=r;r.push(new Ly(e,s[2]-i,n)),o.push(i-t)}}(y,e,r,o):t(y,e,r,o,l,m+1);if(l>=0&&h>0&&h<r.length&&u(r,o,y,h,y,c,l,w,x),r.reverse(),o.reverse(),l>-1&&h>0){let t=function(t,e){return(r,n,i)=>{let o=0,s=r.length-1,a,l;if(s>=0&&(a=r[s])instanceof Lm){if(!s&&a.type==t&&a.length==i)return a;(l=a.prop(Lc.lookAhead))&&(o=n[s]+a.length+l)}return d(t,r,n,i,o,e)}}(k,x);S=LM(k,r,o,0,r.length,0,b-y,t,t)}else S=d(k,r,o,b-y,w-b,x)}f.push(S),p.push(A)}(t.start||0,t.bufferStart||0,f,p,-1,0);let g=null!==(e=t.length)&&void 0!==e?e:f.length?p[0]+f[0].length:0;return new Lm(l[t.topID],f.reverse(),p.reverse(),g)}(t)}constructor(t,e,r,n,i){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,i&&i.length)for(let[t,e]of(this.props=Object.create(null),i))this.props["number"==typeof t?t:t.id]=e}}Lm.empty=new Lm(Lf.none,[],[],0);class Lv{get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Lv(this.buffer,this.index)}constructor(t,e){this.buffer=t,this.index=e}}class Ly{get type(){return Lf.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(t+=4))return i;let o=[];for(;t<r;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,r,n,i){let{buffer:o}=this,s=-1;for(let a=t;a!=e&&(!Lb(i,n,o[a+1],o[a+2])||(s=a,!(r>0)));a=o[a+3]);return s}slice(t,e,r){let n=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,a=0;s<e;){i[a++]=n[s++],i[a++]=n[s++]-r;let e=i[a++]=n[s++]-r;i[a++]=n[s++]-t,o=Math.max(o,e)}return new Ly(i,o,this.set)}constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}}function Lb(t,e,r,n){switch(t){case -2:return r<e;case -1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function LO(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let e=!n&&t instanceof Lx&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=n?0:BT.IgnoreOverlays;if(n)for(let n=t,s=n.parent;s;s=(n=s).parent)n instanceof Lx&&n.index<0&&(null===(i=s.enter(e,r,o))||void 0===i?void 0:i.from)!=n.from&&(t=s);for(;;){let n=t.enter(e,r,o);if(!n)return t;t=n}}class Lw{cursor(t=0){return new LT(this,t)}getChild(t,e=null,r=null){let n=L_(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return L_(this,t,e,r)}resolve(t,e=0){return LO(this,t,e,!1)}resolveInner(t,e=0){return LO(this,t,e,!0)}matchContext(t){return Lk(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(r=e,e=t.prevSibling):e=t}return r}get node(){return this}get next(){return this.parent}}class Lx extends Lw{get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,i=0){for(let o=this;;){for(let{children:s,positions:a}=o._tree,l=e>0?s.length:-1;t!=l;t+=e){let l=s[t],h=a[t]+o.from;if(Lb(n,r,h,h+l.length)){if(l instanceof Ly){if(i&BT.ExcludeBuffers)continue;let s=l.findChild(0,l.buffer.length,e,r-h,n);if(s>-1)return new LC(new LS(o,l,t,h),null,s)}else if(i&BT.IncludeAnonymous||!l.type.isAnonymous||LP(l)){let s;if(!(i&BT.IgnoreMounts)&&(s=Lu.get(l))&&!s.overlay)return new Lx(s.tree,h,t,o);let a=new Lx(l,h,t,o);return i&BT.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(e<0?l.children.length-1:0,e,r,n)}}}if(i&BT.IncludeAnonymous||!o.type.isAnonymous||(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,!(o=o._parent)))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&BT.IgnoreOverlays)&&(n=Lu.get(this._tree))&&n.overlay){let r=t-this.from;for(let{from:t,to:i}of n.overlay)if((e>0?t<=r:t<r)&&(e<0?i>=r:i>r))return new Lx(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}constructor(t,e,r,n){super(),this._tree=t,this.from=e,this.index=r,this._parent=n}}function L_(t,e,r,n){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=r){for(let t=!1;!t;)if(t=i.type.is(r),!i.nextSibling())return o}for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function Lk(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class LS{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class LC extends Lw{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(t,e,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return i<0?null:new LC(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&BT.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new LC(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new LC(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new LC(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1];t.push(r.slice(n,i,o)),e.push(0)}return new Lm(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}}function LA(t){if(!t.length)return null;let e=0,r=t[0];for(let n=1;n<t.length;n++){let i=t[n];(i.from>r.from||i.to<r.to)&&(r=i,e=n)}let n=r instanceof Lx&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new LE(i,r)}class LE{get next(){return LA(this.heads)}constructor(t,e){this.heads=t,this.node=e}}class LT{get name(){return this.type.name}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Lx?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&BT.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&BT.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&BT.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let t=r<0?0:this.stack[r]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(t)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(n.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let n=e+t,i=t<0?-1:r._tree.children.length;n!=i;n+=t){let t=r._tree.children[n];if(this.mode&BT.IncludeAnonymous||t instanceof Ly||!t.type.isAnonymous||LP(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)o:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==n){if(n==this.index)return o;e=o,r=i+1;break o}n=this.stack[--i]}for(let t=r;t<this.stack.length;t++)e=new LC(this.buffer,e,this.stack[t]);return this.bufferNode=new LC(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&e&&e(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return Lk(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return Lk(this._tree,t,n);let o=r[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[n]&&t[n]!=o.name)return!1;n--}}return!0}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Lx)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}}function LP(t){return t.children.some(t=>t instanceof Ly||!t.type.isAnonymous||LP(t))}let LI=new WeakMap;function LR(t,e){if(!t.isAnonymous||e instanceof Ly||e.type!=t)return 1;let r=LI.get(e);if(null==r){for(let n of(r=1,e.children)){if(n.type!=t||!(n instanceof Lm)){r=1;break}r+=LR(t,n)}LI.set(e,r)}return r}function LM(t,e,r,n,i,o,s,a,l){let h=0;for(let r=n;r<i;r++)h+=LR(t,e[r]);let c=Math.ceil(1.5*h/8),u=[],d=[];return!function e(r,n,i,s,a){for(let h=i;h<s;){let i=h,f=n[h],p=LR(t,r[h]);for(h++;h<s;h++){let e=LR(t,r[h]);if(p+e>=c)break;p+=e}if(h==i+1){if(p>c){let t=r[i];e(t.children,t.positions,0,t.children.length,n[i]+a);continue}u.push(r[i])}else{let e=n[h-1]+r[h-1].length-f;u.push(LM(t,r,n,i,h,f,e,null,l))}d.push(f+a-o)}}(e,r,n,i,0),(a||l)(u,d,s)}new Lc({perNode:!0});let LN=/*@__PURE__*/_U({commentTokens:{block:{open:"\x3c!--",close:"--\x3e"}}}),LD=/*@__PURE__*/new Lc,LL=/*@__PURE__*/PP.configure({props:[/*@__PURE__*/kf.add(t=>{var e;return!t.is("Block")||t.is("Document")||null!=L$(t)||"OrderedList"==(e=t).name||"BulletList"==e.name?void 0:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})}),/*@__PURE__*/LD.add(L$),/*@__PURE__*/ks.add({Document:()=>null}),/*@__PURE__*/_V.add({Document:LN})]});function L$(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}let Lq=/*@__PURE__*/kd.of((t,e,r)=>{for(let n=_K(t).resolveInner(r,-1);n&&!(n.from<e);n=n.parent){let t=n.type.prop(LD);if(null==t)continue;let e=function(t,e){let r=t;for(;;){let t=r.nextSibling,n;if(!t||null!=(n=L$(t.type))&&n<=e)break;r=t}return r.to}(n,t);if(e>r)return{from:r,to:e}}return null});function LQ(t){return new _H(LN,t,[Lq],"markdown")}let LB=/*@__PURE__*/LQ(LL),Lj=/*@__PURE__*/LQ(/*@__PURE__*/LL.configure([PU,PY,PH,PG,{props:[/*@__PURE__*/kf.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]));class Lz{blank(t,e=!0){let r=this.spaceBefore+("Blockquote"==this.node.name?">":"");if(null!=t){for(;r.length<t;)r+=" ";return r}for(let t=this.to-this.from-r.length-this.spaceAfter.length;t>0;t--)r+=" ";return r+(e?this.spaceAfter:"")}marker(t,e){let r="OrderedList"==this.node.name?String(+LF(this.item,t)[2]+e):"";return this.spaceBefore+r+this.type+this.spaceAfter}constructor(t,e,r,n,i,o,s){this.node=t,this.from=e,this.to=r,this.spaceBefore=n,this.spaceAfter=i,this.type=o,this.item=s}}function LZ(t,e){let r=[],n=[];for(let e=t;e;e=e.parent){if("FencedCode"==e.name)return n;("ListItem"==e.name||"Blockquote"==e.name)&&r.push(e)}for(let t=r.length-1;t>=0;t--){let i=r[t],o,s=e.lineAt(i.from),a=i.from-s.from;if("Blockquote"==i.name&&(o=/^ *>( ?)/.exec(s.text.slice(a))))n.push(new Lz(i,a,a+o[0].length,"",o[1],">",null));else if("ListItem"==i.name&&"OrderedList"==i.parent.name&&(o=/^( *)\d+([.)])( *)/.exec(s.text.slice(a)))){let t=o[3],e=o[0].length;t.length>=4&&(t=t.slice(0,t.length-4),e-=4),n.push(new Lz(i.parent,a,a+e,o[1],t,o[2],i))}else if("ListItem"==i.name&&"BulletList"==i.parent.name&&(o=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(s.text.slice(a)))){let t=o[4],e=o[0].length;t.length>4&&(t=t.slice(0,t.length-4),e-=4);let r=o[2];o[3]&&(r+=o[3].replace(/[xX]/," ")),n.push(new Lz(i.parent,a,a+e,o[1],t,r,i))}}return n}function LF(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function LX(t,e,r,n=0){for(let i=-1,o=t;;){if("ListItem"==o.name){let t=LF(o,e),s=+t[2];if(i>=0){if(s!=i+1)return;r.push({from:o.from+t[1].length,to:o.from+t[0].length,insert:String(i+2+n)})}i=s}let t=o.nextSibling;if(!t)break;o=t}}function LV(t,e){let r=/^[ \t]*/.exec(t)[0].length;if(!r||"	"!=e.facet(ke))return t;let n=v0(t,4,r),i="";for(let t=n;t>0;)t>=4?(i+="	",t-=4):(i+=" ",t--);return i+t.slice(r)}function LU(t){return"QuoteMark"==t.name||"ListMark"==t.name}function LW(t,e,r){let n="";for(let e=0,i=t.length-2;e<=i;e++)n+=t[e].blank(e<i?v0(r.text,4,Math.min(r.text.length,t[e+1].from))-n.length:null,e<i);return LV(n,e)}let LH=[{key:"Enter",run:({state:t,dispatch:e})=>{let r=_K(t),{doc:n}=t,i=null,o=t.changeByRange(e=>{if(!e.empty||!Lj.isActiveAt(t,e.from,0))return i={range:e};let o=e.from,s=n.lineAt(o),a=LZ(r.resolveInner(o,-1),n);for(;a.length&&a[a.length-1].from>o-s.from;)a.pop();if(!a.length)return i={range:e};let l=a[a.length-1];if(l.to-l.spaceAfter.length>o-s.from)return i={range:e};let h=o>=l.to-l.spaceAfter.length&&!/\S/.test(s.text.slice(l.to));if(l.item&&h){let e=l.node.firstChild,r=l.node.getChild("ListItem","ListItem");if(e.to>=o||r&&r.to<o||s.from>0&&!/[^\s>]/.test(n.lineAt(s.from-1).text)){let t=a.length>1?a[a.length-2]:null,e,r="";t&&t.item?(e=s.from+t.from,r=t.marker(n,1)):e=s.from+(t?t.to:0);let i=[{from:e,to:o,insert:r}];return"OrderedList"==l.node.name&&LX(l.item,n,i,-2),t&&"OrderedList"==t.node.name&&LX(t.item,n,i),{range:m9.cursor(e+r.length),changes:i}}{let e=LW(a,t,s);return{range:m9.cursor(o+e.length+1),changes:{from:s.from,insert:e+t.lineBreak}}}}if("Blockquote"==l.node.name&&h&&s.from){let r=n.lineAt(s.from-1),i=/>\s*$/.exec(r.text);if(i&&i.index==l.from){let n=t.changes([{from:r.from+i.index,to:r.to},{from:s.from+l.from,to:s.to}]);return{range:e.map(n),changes:n}}}let c=[];"OrderedList"==l.node.name&&LX(l.item,n,c);let u=l.item&&l.item.from<s.from,d="";if(!u||/^[\s\d.)\-+*>]*/.exec(s.text)[0].length>=l.to)for(let t=0,e=a.length-1;t<=e;t++)d+=t!=e||u?a[t].blank(t<e?v0(s.text,4,a[t+1].from)-d.length:null):a[t].marker(n,1);let f=o;for(;f>s.from&&/\s/.test(s.text.charAt(f-s.from-1));)f--;return d=LV(d,t),function(t,e){if("OrderedList"!=t.name&&"BulletList"!=t.name)return!1;let r=t.firstChild,n=t.getChild("ListItem","ListItem");if(!n)return!1;let i=e.lineAt(r.to),o=e.lineAt(n.from),s=/^[\s>]*$/.test(i.text);return i.number+(s?0:1)<o.number}(l.node,t.doc)&&(d=LW(a,t,s)+t.lineBreak+d),c.push({from:f,to:o,insert:t.lineBreak+d}),{range:m9.cursor(f+d.length+1),changes:c}});return!i&&(e(t.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)}},{key:"Backspace",run:({state:t,dispatch:e})=>{let r=_K(t),n=null,i=t.changeByRange(e=>{let i=e.from,{doc:o}=t;if(e.empty&&Lj.isActiveAt(t,e.from)){let e=o.lineAt(i),n=LZ(function(t,e){let r=t.resolveInner(e,-1),n=e;LU(r)&&(n=r.from,r=r.parent);for(let t;t=r.childBefore(n);)if(LU(t))n=t.from;else if("OrderedList"==t.name||"BulletList"==t.name)n=(r=t.lastChild).to;else break;return r}(r,i),o);if(n.length){let r=n[n.length-1],o=r.to-r.spaceAfter.length+(r.spaceAfter?1:0);if(i-e.from>o&&!/\S/.test(e.text.slice(o,i-e.from)))return{range:m9.cursor(e.from+o),changes:{from:e.from+o,to:i}};if(i-e.from==o&&(!r.item||e.from<=r.item.from||!/\S/.test(e.text.slice(0,r.to)))){let n=e.from+r.from;if(r.item&&r.node.from<r.item.from&&/\S/.test(e.text.slice(r.from,r.to))){let i=r.blank(v0(e.text,4,r.to)-v0(e.text,4,r.from));return n==e.from&&(i=LV(i,t)),{range:m9.cursor(n+i.length),changes:{from:n,to:e.from+r.to,insert:i}}}if(n<i)return{range:m9.cursor(n),changes:{from:n,to:i}}}}}return n={range:e}});return!n&&(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)}}],LY=/*@__PURE__*/function(t={}){let e="",r;return!1===t.matchClosingTags&&(e="noMatch"),!0===t.selfClosingTags&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(r=RS((t.nestedLanguages||[]).concat(Ln),(t.nestedAttributes||[]).concat(Li))),new _7(r?Lo.configure({wrap:r,dialect:e}):e?Ls.configure({dialect:e}):Ls,[Ls.data.of({autocomplete:function(t){let{extraTags:e,extraGlobalAttributes:r}=t,n=r||e?new D3(e,r):D3.default;return t=>Le(n,t)}(t)}),!1!==t.autoCloseTags?Ll:[],function(t={}){var e;let r=t.jsx?t.typescript?Dj:DB:t.typescript?DQ:D$,n=t.typescript?DE.concat(DF):DA.concat(DZ);return new _7(r,[D$.data.of({autocomplete:(e=AA(n),t=>{for(let e=_K(t.state).resolveInner(t.pos,-1);e;e=e.parent){if(DD.indexOf(e.name)>-1)return null;if(e.type.isTop)break}return e(t)})}),D$.data.of({autocomplete:DL}),t.jsx?DU:[]])}().support,new _7(M7,M7.data.of({autocomplete:M8})).support])}({matchClosingTags:!1});function LG(t){let{state:e,pos:r}=t,n=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(r-25,r));if(!n)return null;let i=_K(e).resolveInner(r,-1);for(;i&&!i.type.isTop;){if("CodeBlock"==i.name||"FencedCode"==i.name||"ProcessingInstructionBlock"==i.name||"CommentBlock"==i.name||"Link"==i.name||"Image"==i.name)return null;i=i.parent}return{from:r-n[0].length,to:r,options:function(){var t;if(LK)return LK;let e=(t=new AS(vL.create({extensions:LY}),0,!0),Le(D3.default,t));return LK=e?e.options:[]}(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let LK=null;var LJ=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let L0=class extends r0{createRenderRoot(){return this}firstUpdated(){let t=this.querySelector("#editor-container");t&&(this.editorView=new wi({parent:t,state:vL.create({doc:this.content,extensions:[E8,function(t={}){var e;let{codeLanguages:r,defaultCodeLanguage:n,addKeymap:i=!0,base:{parser:o}=LB,completeHTMLTags:s=!0,htmlTagLanguage:a=LY}=t;if(!(o instanceof Pi))throw RangeError("Base parser provided to `markdown` should be a Markdown parser");let l=t.extensions?[t.extensions]:[],h=[a.support],c;n instanceof _7?(h.push(n.support),c=n.language):n&&(c=n);let u=r||c?(e=c,t=>{if(t&&r){let e=null;if(t=/\S*/.exec(t)[0],(e="function"==typeof r?r(t):_9.matchLanguageName(r,t,!0))instanceof _9)return e.support?e.support.language.parser:_1.getSkippingParser(e.load());if(e)return e.parser}return e?e.parser:null}):void 0;l.push(function(t){var e;let{codeParser:r,htmlParser:n}=t;return{wrap:(e=(t,e)=>{let i=t.type.id;if(r&&(i==BO.CodeBlock||i==BO.FencedCode)){let n="";if(i==BO.FencedCode){let r=t.node.getChild(BO.CodeInfo);r&&(n=e.read(r.from,r.to))}let o=r(n);if(o)return{parser:o,overlay:t=>t.type.id==BO.CodeText}}else if(n&&(i==BO.HTMLBlock||i==BO.HTMLTag))return{parser:n,overlay:function(t,e,r){let n=[];for(let i=t.firstChild,o=e;;i=i.nextSibling){let t=i?i.from:r;if(t>o&&n.push({from:o,to:t}),!i)break;o=i.to}return n}(t.node,t.from,t.to)};return null},(t,r,n,i)=>new TR(t,e,r,n,i))}}({codeParser:u,htmlParser:a.language.parser})),i&&h.push(vu.high(wd.of(LH)));let d=LQ(o.configure(l));return s&&h.push(d.data.of({autocomplete:LG})),new _7(d,h)}(),wi.updateListener.of(t=>{if(t.docChanged){var e;this.content=(null===(e=this.editorView)||void 0===e?void 0:e.state.doc.toString())||"",this.dispatchEvent(new CustomEvent("ContentChanged",{detail:{content:this.content},bubbles:!0,composed:!0}))}})]})}))}render(){return rL`<div id="editor-container" style="height: 100%;"></div>`}constructor(){super(...arguments),this.content=""}};LJ([ru({type:String})],L0.prototype,"content",void 0),L0=LJ([eF("juel-markdown-editor")],L0);var L1=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let L2=class extends r0{firstUpdated(){this.addClickListeners()}addClickListeners(){this.images.forEach((t,e)=>{t.addEventListener("click",()=>this.openLightbox(e))})}openLightbox(t){this.selectedIndex=t,this.requestUpdate()}closeLightbox(){this.selectedIndex=null,this.requestUpdate()}nextImage(t){t.stopPropagation(),null!==this.selectedIndex&&this.images.length>0&&(this.selectedIndex=(this.selectedIndex+1)%this.images.length,this.requestUpdate())}prevImage(t){t.stopPropagation(),null!==this.selectedIndex&&this.images.length>0&&(this.selectedIndex=(this.selectedIndex-1+this.images.length)%this.images.length,this.requestUpdate())}render(){return rL`
      <div class="gallery">
        <slot @slotchange="${()=>{this.requestUpdate(),this.addClickListeners()}}"></slot>
      </div>
      
      ${null!==this.selectedIndex?rL`
        <div class="lightbox" @click="${this.closeLightbox}">
          <span class="close" @click="${t=>{t.stopPropagation(),this.closeLightbox()}}">&times;</span>
          <span class="prev" @click="${this.prevImage}">&#10094;</span>
          <img src="${this.images[this.selectedIndex].src}" alt="${this.images[this.selectedIndex].alt}">
          <div class="caption">${this.images[this.selectedIndex].alt}</div>
          <span class="next" @click="${this.nextImage}">&#10095;</span>
        </div>
      `:""}
    `}constructor(){super(...arguments),this.selectedIndex=null}};L2.styles=e1`
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 10px;
    }
    .image-container {
      position: relative;
      overflow: hidden;
    }
    ::slotted(img) {
      width: 100%;
      cursor: pointer;
      border-radius: 5px;
      transition: transform 0.3s;
    }
    ::slotted(img:hover) {
      transform: scale(1.05);
    }
    .caption {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      text-align: center;
      padding: 5px;
      font-size: 14px;
      transform: translateY(100%);
      transition: transform 0.3s;
    }
    .image-container:hover .caption {
      transform: translateY(0);
    }
    .lightbox {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
    .lightbox img {
      max-width: 90%;
      max-height: 80%;
      border-radius: 5px;
    }
    .lightbox .caption {
      position: relative;
      background: none;
      font-size: 1.2rem;
      padding: 10px;
    }
    .lightbox .close, .lightbox .prev, .lightbox .next {
      position: absolute;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px;
      border-radius: 5px;
    }
    .close { top: 10px; right: 20px; }
    .prev { left: 20px; }
    .next { right: 20px; }
  `,L1([rp({selector:"img"})],L2.prototype,"images",void 0),L2=L1([eF("juel-gallery")],L2);var L3={};L3=":host{display:block}.overlay{backdrop-filter:blur(5px);z-index:1000;background:rgba(0,0,0,.8);justify-content:center;align-items:center;width:100vw;height:100vh;display:none;position:fixed;top:0;left:0}.overlay.open{display:flex}.lightbox-content{flex-direction:column;align-items:center;width:90%;height:80%;display:flex}.lightbox-content img{border-radius:5px;max-width:90%;max-height:90%}.controls{justify-content:space-between;width:100%;margin-top:10px;display:flex}.controls button{color:#000;cursor:pointer;background:#fff;border:none;border-radius:5px;padding:10px;font-size:14px}.controls button:hover{background:#f0f0f0}.close-btn{background-color:#fff;background-image:var(--icon-close);cursor:pointer;background-position:50%;background-repeat:no-repeat;border-radius:50%;width:30px;height:30px;padding:4px;position:absolute;top:15px;right:15px}.close-btn:hover{background-color:#a9a9a9}";var L4=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let L5=class extends r5{ready(){let t=0;if(console.log(this.selector),this.selector){let e=document.querySelectorAll(this.selector);if(console.log(e.length),e)for(let r of(console.log("Found"),Array.from(e))){let e=t;this.processElement(r,e),t++}}else if(this.selectors)for(let e of this.selectors){let r=document.querySelector(e);if(r){let e=t;this.processElement(r,e)}t++}}processElement(t,e){var r;let n=null!==(r=t.dataset.src)&&void 0!==r?r:t.src;console.log(n);let i=hR(n),o={src:n,type:i.type,platform:i.platform};if(this.items.push(o),"video"==i.type||"audio"==i.type){let r=$('<div class="play-btn" />'),n=QH.get("play");r.append(n),$(t).wrap($('<div class="play-container" />')).after(r),r.on("click",()=>this.openLightbox(e))}else t.addEventListener("click",()=>this.openLightbox(e))}openLightbox(t){this.currentIndex=t,this.isOpen=!0}closeLightbox(){this.isOpen=!1}prevImage(){this.items.length>0&&(this.currentIndex=(this.currentIndex-1+this.items.length)%this.items.length)}nextImage(){this.items.length>0&&(this.currentIndex=(this.currentIndex+1)%this.items.length)}render(){return rL`
      <div class="overlay ${this.isOpen?"open":""}">
        <div class="lightbox-content">
          <div class="close-btn" @click="${this.closeLightbox}"></div>
          ${this.items.length>0&&this.isOpen?function(t){switch(console.log(t),t.type){case"image":return rL`<img src="${t.src}" />`;case"video":if(t.platform&&t.platform.startsWith("youtu")){let e;return e=function(t){try{let e=new URL(t);if(e.hostname.includes("youtube.com"))return e.searchParams.get("v")||null;if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;return null}catch(t){return null}}(t.src),rL`<iframe width="100%" height="100%" src="https://www.youtube.com/embed/${e}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`}}}(this.items[this.currentIndex]):rL`<p>No images available</p>`}
          <div class="controls">
            <button @click="${this.prevImage}" ?disabled="${this.items.length<=1}">Previous</button>
            <button @click="${this.nextImage}" ?disabled="${this.items.length<=1}">Next</button>
          </div>
        </div>
      </div>
    `}constructor(){super(...arguments),this.selectors=[],this.currentIndex=0,this.isOpen=!1,this.items=[]}};L5.styles=e0(/*@__PURE__*/ew(L3)),L4([ru()],L5.prototype,"selector",void 0),L4([ru({type:Array,converter:sw()})],L5.prototype,"selectors",void 0),L4([ru({type:Number})],L5.prototype,"currentIndex",void 0),L4([ru({type:Boolean})],L5.prototype,"isOpen",void 0),L5=L4([eF("juel-lightbox")],L5);var L6={};L6=":host{width:100%;height:100%;display:block;position:relative;overflow:hidden}.carousel{will-change:transform;transition:transform .5s ease-in-out;display:flex}::slotted(juel-item){flex:0 0 100%;width:100%;height:100%}.controls{justify-content:space-between;width:100%;display:flex;position:absolute;top:50%;transform:translateY(-50%)}.control{color:#fff;cursor:pointer;background:rgba(0,0,0,.5);border:none;padding:.5em}";class L8 extends ns{ready(){super.ready(),window.location.hash&&this.navigateToSelector(window.location.hash)}navigateTo(t){}navigateToSelector(t){}}var L7=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let L9=class extends L8{render(){return rL`
          <div
            class="carousel"
            style="transform: translateX(-${100*this.currentIndex}%);">
            <slot></slot>
          </div>
    
          ${this.showControls?rL`
                <div class="controls">
                  <button class="control prev" @click="${this.prev}">&#9664;</button>
                  <button class="control next" @click="${this.next}">&#9654;</button>
                </div>
              `:""}
        `}connectedCallback(){super.connectedCallback(),this.startAutoRotate(),this.initializeHammer()}disconnectedCallback(){super.disconnectedCallback(),this.stopAutoRotate(),this.destroyHammer()}initializeHammer(){this.hammer=new Hammer(this),this.hammer.on("swipeleft",()=>this.next()),this.hammer.on("swiperight",()=>this.prev()),this.hammer.on("panstart panend",()=>this.pauseAutoRotate())}destroyHammer(){var t;null===(t=this.hammer)||void 0===t||t.destroy(),this.hammer=null}next(){this.pauseAutoRotate(),this.currentIndex=(this.currentIndex+1)%this.items.length,this.requestUpdate()}prev(){this.pauseAutoRotate(),this.currentIndex=(this.currentIndex-1+this.items.length)%this.items.length,this.requestUpdate()}startAutoRotate(){this.autoRotateTimer=window.setInterval(()=>{this.next()},this.autoRotateInterval)}pauseAutoRotate(){null!==this.autoRotateTimer&&(window.clearInterval(this.autoRotateTimer),this.autoRotateTimer=null)}stopAutoRotate(){this.pauseAutoRotate()}constructor(){super(...arguments),this.showControls=!0,this.autoRotateInterval=3e3,this.currentIndex=0,this.autoRotateTimer=null,this.hammer=null}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*$t(t,e){if(void 0!==t){let r=0;for(let n of t)yield e(n,r++)}}function $e(t){return t.charAt(0).toUpperCase()+t.slice(1)}L9.styles=e0(/*@__PURE__*/ew(L6)),L7([ru({type:Boolean})],L9.prototype,"showControls",void 0),L7([ru({type:Number})],L9.prototype,"autoRotateInterval",void 0),L9=L7([eF("juel-carousel")],L9);var $r=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};class $n extends r5{getFilters(t){if(t){let e={};for(let r of t){let t;if(t="filter"in r?r.filter:function(t,e){let r={};for(let n in t.dataset)if(n.startsWith(e)&&n.length>e.length){let i=n.slice(e.length),o=(i.charAt(0).toLowerCase()+i.slice(1)).split(/(?=[A-Z])/).map(t=>t.charAt(0).toLowerCase()+t.slice(1)),s=t.dataset[n];"true"===s?s=!0:"false"===s?s=!1:isNaN(Number(s))||""===s.trim()||(s=Number(s));let a=r;for(let t=0;t<o.length;t++){let e=o[t];t===o.length-1?a[e]=s:(e in a||(a[e]={}),a=a[e])}}return r}(r,"filter"))for(let r in t){let n;r in e?n=e[r]:(n=[],e[r]=n),n.includes(t[r])||n.push(t[r])}}console.log(e),this.filterObjects=e}}handleSlotChange(t){let e=t.target;this.items=e.assignedElements({flatten:!0}),this.getFilters(this.items),this.requestUpdate()}filterItems(t,e){if(console.log(`Filter: ${t} - ${e}`),null!=this.items){for(let r of this.items)if(r.hasAttribute(`data-filter-${t}`)){let n=r.getAttribute(`data-filter-${t}`);if(!0==e&&null==n){$(r).hide("slow");continue}if(null==n)continue;"*"==e?$(r).show("slow"):!0==e&&"true"==n?$(r).show("slow"):n==e?$(r).show("slow"):$(r).hide("slow")}}}renderStringFiltersAsButtons(t,e){let r=`filter-${t}-button`;return rL`${nd(this.all&&"false"!=this.all,()=>rL`<juel-button part="${r}" label="${"true"==this.all?"All":this.all}" @button-clicked=${()=>this.filterItems(t,"*")}></juel-button>`)}
            ${$t(e,e=>rL`<juel-button part="${r}" label="${$e(e)}" @button-clicked=${()=>this.filterItems(t,e)}></juel-button>`)}`}renderStringFiltersAsSelect(t,e){let r=`filter-${t}-select`;return rL`<juel-select part="${r}">${$t(e,e=>rL`<juel-select-option @click=${()=>this.filterItems(t,e)}>${$e(e)}</juel-select-option>`)}
            </juel-select>`}renderFilters(){if(console.log(this.filters,this.filterObjects),this.filters&&"false"!=this.filters&&this.filterObjects){let t=Object.keys(this.filterObjects),e=t.map(t=>typeof this.filterObjects[t][0]);return rL`<ul id="filters" part="filters">${$t(t,(t,r)=>{let n=this.filterObjects[t],i=e[r];return rL`<li><span part="filter-text filter-${t}-text">${$e(t)}</span><span class="filter-options">${hM(i,[["string",()=>rL`${nd(e.filter(t=>t==i).length>=2,()=>this.renderStringFiltersAsSelect(t,n),()=>this.renderStringFiltersAsButtons(t,n))}`],["number",()=>rL``],["boolean",()=>rL`<juel-toggle checked="true" part="filter-${t}-toggle" @toggled=${e=>this.filterItems(t,e.detail.value)}></juel-toggle>`]])}</span></li>`})}</ul>`}}constructor(){super(),this.filterObjects=null,this.all="true"}}$r([ru()],$n.prototype,"filters",void 0),$r([ru()],$n.prototype,"all",void 0);var $i=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $o=class extends $n{generateGridStyles(){if(!this.layout)return`
        display: flex !important;
        flex-wrap: wrap;
        ${this.gap?`gap: ${this.gap};`:""}
      `;let t=this.layout.trim().split(" ").map(Number),e=Math.max(...t),r=t.map(()=>"auto").join(" "),n=`repeat(${e}, 1fr)`,i=t.map((t,r)=>{let n=Array.from({length:t},(t,e)=>`cell-${r+1}-${e+1}`);for(;n.length<e;)n.push(n[n.length-1]);return`"${n.join(" ")}"`}).join(" "),o=`
      ${this.gap?`gap: ${this.gap};`:""}
      ${this.columnGap?`column-gap: ${this.columnGap};`:""}
      ${this.rowGap?`row-gap: ${this.rowGap};`:""}
    `;return`
      grid-template-rows: ${r};
      grid-template-columns: ${n};
      grid-template-areas: ${i};
      ${o}
    `}generateSlottedStyles(){if(!this.layout)return"";let t=this.layout.trim().split(" ").map(Number),e="",r=1;return t.forEach((t,n)=>{for(let i=0;i<t;i++)e+=`
          ::slotted(:nth-child(${r})) {
            grid-area: cell-${n+1}-${i+1};
          }
        `,r++}),e}render(){let t=this.generateGridStyles(),e=this.generateSlottedStyles();return rL`
      <style>
        .grid {
          ${t}
        }
        ${e}
      </style>
      ${this.renderFilters()}
      <div class="grid">
        <slot @slotchange="${this.handleSlotChange}"></slot>
      </div>
    `}constructor(){super(...arguments),this.layout="",this.gap=null,this.columnGap=null,this.rowGap=null}};$o.styles=e1`
    :host {
      display: block;
    }

    .grid {
      display: grid;
      width: 100%;
      height: 100%;
    }
  `,$i([ru({type:String})],$o.prototype,"layout",void 0),$i([ru({type:String})],$o.prototype,"gap",void 0),$i([ru({type:String,attribute:"column-gap"})],$o.prototype,"columnGap",void 0),$i([ru({type:String,attribute:"row-gap"})],$o.prototype,"rowGap",void 0),$o=$i([eF("juel-grid")],$o);var $s=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $a=class extends r0{toggle(){(this.items.length>0||this.querySelector("juel-list-item"))&&(this.expanded=!this.expanded)}render(){let t=this.items.filter(t=>t.label.toLowerCase().includes(this.filter.toLowerCase()));return rL`
      <div @click="${()=>this.toggle()}">
        ${this.label}
        ${t.length>0?rL`<span> ${this.expanded?"-":"+"} </span>`:""}
      </div>
      <div class="nested">
        ${t.map(t=>rL`<juel-list-item .label="${t.label}" .items="${t.items||[]}" .filter="${this.filter}"></juel-list-item>`)}
        <slot></slot>
      </div>
    `}constructor(){super(...arguments),this.label="",this.expanded=!1,this.items=[],this.filter=""}};$a.styles=e1`
    :host {
      display: block;
      border: 1px solid #ddd;
      padding: 10px;
      cursor: pointer;
      background: #fff;
    }
    :host([expandable]) {
      font-weight: bold;
    }
    .nested {
      margin-left: 20px;
      display: none;
    }
    :host([expanded]) .nested {
      display: block;
    }
  `,$s([ru({type:String})],$a.prototype,"label",void 0),$s([ru({type:Boolean,reflect:!0})],$a.prototype,"expanded",void 0),$s([ru({type:Array})],$a.prototype,"items",void 0),$s([ru({type:String})],$a.prototype,"filter",void 0),$a=$s([eF("juel-list-item")],$a);let $l=class extends r0{updateFilter(t){this.filter=t.target.value}render(){let t=this.items.filter(t=>t.label.toLowerCase().includes(this.filter.toLowerCase()));return rL`
      ${this.enableSearch?rL`<input type="text" class="search-box" @input="${this.updateFilter}" placeholder="Search..." />`:""}
      ${this.title?rL`<div class="title">${this.title}</div>`:""}
      ${t.map(t=>rL`<juel-list-item .label="${t.label}" .items="${t.items||[]}" .filter="${this.filter}"></juel-list-item>`)}
      <slot></slot>
    `}constructor(){super(...arguments),this.title="",this.items=[],this.enableSearch=!1,this.filter=""}};$l.styles=e1`
    :host {
      display: block;
      border: 1px solid #ccc;
      border-radius: 5px;
      overflow: hidden;
      padding: 10px;
    }
    .search-box {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
  `,$s([ru({type:String})],$l.prototype,"title",void 0),$s([ru({type:Array})],$l.prototype,"items",void 0),$s([ru({type:Boolean,attribute:"enable-search"})],$l.prototype,"enableSearch",void 0),$s([rd()],$l.prototype,"filter",void 0),$l=$s([eF("juel-list")],$l);var $h=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $c=class extends r0{firstUpdated(){let t=this.parentElement;if(t&&t.shadowRoot){let e=t.shadowRoot.querySelector(".submenu");e&&e.classList.add("has-children")}}render(){return rL`
      <div class="item">
        ${this.label}
        <slot name="icon"></slot>
      </div>
      <div class="submenu">
        <slot></slot>
      </div>
    `}constructor(){super(...arguments),this.open=!1,this.label=""}};$c.styles=e1`
    :host {
      position: relative;
    }
    .item {
      padding: 8px 12px;
      cursor: pointer;
      white-space: nowrap;
    }
    .item:hover {
      background: #eee;
    }
    .submenu {
      position: absolute;
      top: 0;
      left: 100%;
      display: none;
      background: white;
      border: 1px solid #ccc;
      min-width: 160px;
      z-index: 1000;
    }
    :host(:hover) .submenu.has-children {
      display: block;
    }
  `,$h([ru({type:Boolean})],$c.prototype,"open",void 0),$h([ru({type:String})],$c.prototype,"label",void 0),$c=$h([eF("juel-menu-item")],$c);var $u={};$u=":host{display:inline-block;position:relative}#items{z-index:100;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem;margin:0;padding:.25rem;font-size:1rem;display:none}.item{padding:.5rem}";var $d=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $f=class extends r5{load(){if(ej()&&this.disableMobile)return;let t=this.shadowRoot.getElementById("items"),e=$(this.shadowRoot.getElementById("title"));this.trigger&&"over"!=this.trigger||(this.trigger="mouseover touchstart"),e.off(this.trigger).on(this.trigger,r=>{!1==this.menuShown&&(this.triggered=!0,e.toggleClass("open"),t.style.display="inline-block",!1==this.push&&(this.menu=sa(e[0],t,{placement:$(this).parent("juel-menu").length>0?"right-end":this.placement})),this.menuShown=!0)}),$([t,e[0]]).off("mousemove").on("mousemove",()=>{!0==this.triggered&&(this.menuShown=!0)}).off("mouseleave").on("mouseleave",e=>{this.menuShown=!1,setTimeout(()=>{!1==this.menuShown&&(t.style.display="none",this.menu=null,this.triggered=!1)},1e3)})}render(){return rL`<div id="container">
            <div id="title">
                <slot name="title">
                    <span>${this.title}</span>
                </slot>
            </div>
            <div id="items" part="items">
            ${function(t,e,...r){let n=Array.prototype.slice.call(t.children);return r&&r.length>0?n.filter(t=>r.some(e=>!t.matches(e))).map(e):n.map(e)}(this,(t,e)=>{let r=t.id?t.id:`item-${e}`;return t.setAttribute("slot",r),rL`
                        <div class="item" part="item" data-index="${e}">
                        <slot name="${r}"></slot>
                        </div>`},'[slot="title"]')}
            </div>
        </div>`}constructor(){super(),this.push=ej(),this.trigger="over",this.menuShown=!1,this.triggered=!1,this.placement="bottom"}};$f.styles=e0(/*@__PURE__*/ew($u)),$d([ru({type:Boolean})],$f.prototype,"push",void 0),$d([ru()],$f.prototype,"trigger",void 0),$d([ru()],$f.prototype,"placement",void 0),$d([ru({type:Boolean,attribute:"disable-mobile"})],$f.prototype,"disableMobile",void 0),$f=$d([eF("juel-menu")],$f);var $p=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $g=class extends r0{connectedCallback(){super.connectedCallback(),(this.parentElement||document).addEventListener("contextmenu",this.handleContextMenu);let t=oc(this,"mouseleave").pipe(i8(400)).subscribe(()=>this.closeMenu());this.subscriptions.push(t)}disconnectedCallback(){super.disconnectedCallback(),(this.parentElement||document).removeEventListener("contextmenu",this.handleContextMenu),this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=[]}render(){return rL`<slot></slot>`}constructor(){super(...arguments),this.open=!1,this.x=0,this.y=0,this.subscriptions=[],this.handleContextMenu=t=>{t.preventDefault(),this.x=t.clientX,this.y=t.clientY,this.open=!0,this.style.left=`${this.x}px`,this.style.top=`${this.y}px`},this.closeMenu=()=>{this.open=!1}}};$g.styles=e1`
    :host {
      position: absolute;
      display: none;
      background: white;
      border: 1px solid #ccc;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      min-width: 160px;
      z-index: 1000;
    }
    :host([open]) {
      display: block;
    }
    ::slotted(menu-item) {
      display: block;
    }
  `,$p([ru({type:Boolean,reflect:!0})],$g.prototype,"open",void 0),$p([ru({type:Number})],$g.prototype,"x",void 0),$p([ru({type:Number})],$g.prototype,"y",void 0),$g=$p([eF("juel-context-menu")],$g);var $m={};$m=":host{--nav-height:50px;font-family:Arial,sans-serif;display:block}nav{background-color:var(--background,var(--light));color:var(--color,var(--dark));height:var(--nav-height);justify-content:space-between;align-items:center;padding:10px 20px;display:flex;position:relative}nav.fixed{position:fixed;top:0;left:0;right:0;box-shadow:0 3px 15px rgba(0,0,0,.2)}.logo{font-size:20px;font-weight:700}.menu{margin:0;padding:0;list-style:none;display:flex}::slotted(*){padding:var(--padding,12px 8px);color:var(--color,var(--dark))}.menu-toggle{cursor:pointer;flex-direction:column;justify-content:space-between;width:30px;height:25px;display:none}.menu-toggle div{background-color:var(--background,var(--dark));transform-origin:0;width:100%;height:3px;transition:transform 1s,opacity 1s}.menu-toggle.open div:first-child{transform:rotate(45deg)}.menu-toggle.open div:nth-child(2){opacity:0}.menu-toggle.open div:nth-child(3){transform:rotate(-45deg)}@media (max-width:768px){.menu{background-color:var(--background,var(--light));width:100%;top:var(--nav-height);flex-direction:column;padding:10px 0;display:none;position:absolute;left:0}.fixed{position:relative!important}.menu.open,.menu-toggle{display:flex}}";var $v=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $y=class extends r0{firstUpdated(t){this.sticky&&this.stickNavbar()}stickNavbar(){document.addEventListener("DOMContentLoaded",()=>{let t=this.nav.value,e=t.offsetTop;window.addEventListener("scroll",function(){window.scrollY>e?t.classList.add("fixed"):t.classList.remove("fixed")})})}toggleMenu(){this.open=!this.open}render(){let t={open:this.open};return rL`
      <nav ${nS(this.nav)}>
        <div class="logo"><slot name="title"></slot></div>
        <div class="menu-toggle ${sl(t)}" @click="${this.toggleMenu}">
          <div></div>
          <div></div>
          <div></div>
        </div>
        <ul class="menu ${sl(t)}">
          <slot></slot>
        </ul>
      </nav>
    `}constructor(){super(...arguments),this.nav=nx(),this.open=!1,this.sticky=!0}};$y.styles=e0(/*@__PURE__*/ew($m)),$v([ru({type:Boolean})],$y.prototype,"open",void 0),$v([ru({type:Boolean})],$y.prototype,"sticky",void 0),$y=$v([eF("juel-nav")],$y);var $b={};$b=':host{display:block}nav{flex-wrap:wrap;align-items:center;margin:0;padding:0;list-style:none;display:flex}::slotted(breadcrumb-item:not(:last-child)):after{content:var(--breadcrumb-separator,"/");color:var(--breadcrumb-separator-color,#6c757d);margin:0 .5em}';let $O=class extends r0{render(){return rL`
      <nav aria-label="breadcrumb">
        <slot></slot>
      </nav>
    `}};$O.styles=e0(/*@__PURE__*/ew($b)),$O=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}([eF("juel-breadcrumb")],$O);var $w={};$w=":host{display:inline}a{color:var(--breadcrumb-link-color,#007bff);text-decoration:none}a:hover{text-decoration:underline}.separator{color:var(--breadcrumb-separator-color,#6c757d);margin:0 .5em}";var $x=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $_=class extends r0{render(){return rL`
      ${this.active?rL`<span><slot></slot></span>`:rL`<a href="${this.href}"><slot></slot></a>`}
    `}constructor(){super(...arguments),this.href="",this.active=!1}};$_.styles=e0(/*@__PURE__*/ew($w)),$x([ru({type:String})],$_.prototype,"href",void 0),$x([ru({type:Boolean,reflect:!0})],$_.prototype,"active",void 0),$_=$x([eF("juel-breadcrumb-item")],$_);class $k extends r5{}var $S=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $C=class extends r0{render(){return rL`<slot></slot>`}constructor(){super(...arguments),this.title=""}};$C.styles=e1`
    :host {
      display: none;
      padding: 16px;
      border: 1px solid #ccc;
      border-top: none;
    }
  `,$S([ru({type:String})],$C.prototype,"title",void 0),$S([rp({selector:"juel-tab"})],$C.prototype,"subTabs",void 0),$C=$S([eF("juel-tab")],$C);let $A=class extends $k{_handleSlotChange(){this.requestUpdate()}render(){return rL`
      <div class="tabs-container" style="--container-direction: ${"vertical"===this.direction?"row":"column"};">
        <div class="tabs" style="--direction: ${"vertical"===this.direction?"column":"row"};">
          <slot name="prepend"></slot>
          ${$t(this._tabs,(t,e)=>{var r,n;return rL`
            <div class="tab" ?selected=${this.selectedIndex===e}>
              <div @click=${this.clickFactory(t,e)}>
                ${t.title}
                ${(null===(r=t.subTabs)||void 0===r?void 0:r.length)?rL`
                  <button class="expand-collapse-button" @click=${this.toggleSubTabs(e)}></button>
                `:""}
              </div>
              ${(null===(n=t.subTabs)||void 0===n?void 0:n.length)?this.renderSubTabs(t.subTabs,t,e):""}
            </div>
          `})}
          <slot name="append"></slot>
        </div>
        <div class="tab-content">
          <slot @slotchange=${this._handleSlotChange}></slot>
        </div>
      </div>
    `}renderSubTabs(t,e,r){return rL`
      <div class="sub-tabs" style="--sub-tabs-direction: ${"vertical"===this.direction?"column":"row"};">
        ${Array.from(t).map((t,n)=>{var i,o;return rL`
          <div class="sub-tab" ?selected=${this.selectedIndex===r&&"block"===t.style.display} @click=${this.clickFactory(e,r,n)}>
            ${t.title}
            ${(null===(i=t.subTabs)||void 0===i?void 0:i.length)?rL`
              <button class="expand-collapse-button" @click=${this.toggleSubTabs(r,n)}></button>
            `:""}
            ${(null===(o=t.subTabs)||void 0===o?void 0:o.length)?this.renderSubTabs(t.subTabs,t,r):""}
          </div>
        `})}
      </div>
    `}updated(){this._updateTabs()}_updateTabs(){this._tabs&&this._tabs.forEach((t,e)=>{t.style.display=e===this.selectedIndex?"block":"none"})}clickFactory(t,e,r){return n=>{super.handleClick(n),void 0!==r?this.selectSubTab(t,e,r):this.selectTab(e)}}selectTab(t){this.selectedIndex=t}selectSubTab(t,e,r){this.selectedIndex=e;let n=t.subTabs;n&&Array.from(n).forEach((t,e)=>{t.style.display=e===r?"block":"none"})}toggleSubTabs(t,e){return t=>{t.stopPropagation();let r=t.target,n=r.closest(void 0!==e?".sub-tab":".tab");if(n){let t=n.querySelector(".sub-tabs");if(t){let e="flex"===t.style.display;t.style.display=e?"none":"flex",e?r.removeAttribute("expanded"):r.setAttribute("expanded","true")}}}}constructor(){super(...arguments),this.selectedIndex=0,this.direction="horizontal"}};$A.styles=e1`
    :host {
      display: block;
      font-family: Arial, sans-serif;
    }
    .tabs-container {
      display: flex;
      flex-direction: var(--container-direction, row);
    }
    :host([direction="vertical"]) .tabs-container {
      flex-direction: row;
    }
    .tabs {
      display: flex;
      flex-direction: var(--direction, row);
      border-bottom: 1px solid #dee2e6;
    }
    :host([direction="vertical"]) .tabs {
      flex-direction: column;
      border-bottom: none;
      border-right: 1px solid #dee2e6;
    }
    .tab {
      position: relative;
      padding: 10px 16px;
      cursor: pointer;
      border: 1px solid transparent;
      border-bottom: none;
      border-radius: 0.25rem 0.25rem 0 0;
      background-color: #f8f9fa;
      margin-right: 4px;
      transition: background-color 0.2s, border-color 0.2s;
    }
    :host([direction="vertical"]) .tab {
      border-bottom: 1px solid transparent;
      border-right: none;
      border-radius: 0.25rem 0 0 0.25rem;
      margin-right: 0;
      margin-bottom: 4px;
    }
    .tab:hover {
      background-color: #e9ecef;
      border-color: #ced4da;
    }
    .tab[selected] {
      font-weight: bold;
      border: 1px solid #ced4da;
      border-bottom: 1px solid white;
      background-color: var(--active, #e7f1ff);
      color: #495057;
    }
    :host([direction="vertical"]) .tab[selected] {
      border-bottom: 1px solid #ced4da;
      border-right: 1px solid white;
    }
    .tab-content {
      flex: 1;
      padding: 16px;
      border: 1px solid #ccc;
      border-left: none;
    }
    :host([direction="vertical"]) .tab-content {
      border-left: 1px solid #dee2e6;
    }
    .sub-tabs {
      display: none;
      flex-direction: var(--sub-tabs-direction, row);
      margin-left: var(--sub-tabs-indent, 0);
      border-left: var(--sub-tabs-border-left, none);
      border-right: var(--sub-tabs-border-right, none);
      border-top: var(--sub-tabs-border-top, none);
      border-bottom: var(--sub-tabs-border-bottom, none);
    }
    :host([direction="vertical"]) .sub-tabs {
      flex-direction: column;
      margin-left: 16px;
      border-left: 1px solid #dee2e6;
    }
    :host([direction="horizontal"]) .sub-tabs {
      border-top: 1px solid #dee2e6;
      border-bottom: 1px solid #dee2e6;
    }
    .sub-tab {
      position: relative;
      padding: 8px 12px;
      cursor: pointer;
      background-color: #f1f3f5;
      border: 1px solid transparent;
      transition: background-color 0.2s, border-color 0.2s;
    }
    .sub-tab:hover {
      background-color: #e9ecef;
      border-color: #ced4da;
    }
    .sub-tab[selected] {
      font-weight: bold;
      background-color: var(--active, #e7f1ff);
      color: #495057;
    }
    .expand-collapse-button {
      width: 16px;
      height: 16px;
      margin-left: 8px;
      cursor: pointer;
      background-color: black;
      mask-size: contain;
      mask-repeat: no-repeat;
      transition: transform 0.2s;
    }
    .expand-collapse-button[expanded] {
      mask-image: var(--icon-minus);
    }
    .expand-collapse-button:not([expanded]) {
      mask-image: var(--icon-plus);
    }
  `,$S([ru({type:Number})],$A.prototype,"selectedIndex",void 0),$S([ru({type:String})],$A.prototype,"direction",void 0),$S([rp({selector:"juel-tab"})],$A.prototype,"_tabs",void 0),$A=$S([eF("juel-tabs")],$A);let $E=class extends r0{render(){return rL`
      <div class="toolbar">
        <slot></slot>
      </div>
    `}};$E.styles=e1`
    :host {
      display: block;
      box-shadow: var(--toolbar-box-shadow, 0px 2px 4px rgba(0, 0, 0, 0.1));
      background-color: var(--toolbar-background-color, #ffffff);
      color: var(--toolbar-color, #000000);
      padding: var(--toolbar-padding, 0.5rem 1rem);
    }

    .toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--toolbar-gap, 1rem);
    }

    ::slotted(*) {
      flex-shrink: 0;
    }

    ::slotted(.spacer) {
      flex-grow: 1;
    }
  `,$E=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}([eF("juel-toolbar")],$E);var $T=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $P=class extends r5{connectedCallback(){if(super.connectedCallback(),this.trigger&&"hover"!==this.trigger&&"click"!==this.trigger){let t=document.querySelector(this.trigger);t&&t.addEventListener("click",this._externalToggle.bind(this))}}disconnectedCallback(){if(this.trigger&&"hover"!==this.trigger&&"click"!==this.trigger){let t=document.querySelector(this.trigger);t&&t.removeEventListener("click",this._externalToggle.bind(this))}super.disconnectedCallback()}updated(t){let e=this.parentElement;if(e&&"direction"in e){var r;let t=null===(r=this.shadowRoot)||void 0===r?void 0:r.querySelector(".header");if(t){let r="horizontal"===e.direction,n=r?t.offsetWidth:t.offsetHeight;e.style.setProperty(r?"--width":"--height",`${n}px`)}}}render(){let t=this.glyph?`--glyph: var(--icon-${this.glyph})`:"",e=this.glyph?"icon glyph":"icon";return rL`
      <div 
        class="header" 
        @click="${"click"===this.trigger?this.toggle:null}" 
        @mouseover="${"hover"===this.trigger?this.toggle:null}">
        <slot name="header">
          <span>${this.title}</span>
        </slot>
        <span style="${t}" class="${e}"></span>
      </div>
      <div class="content"><slot></slot></div>
    `}toggle(t){super.handleClick(t),this.open=!this.open,this.dispatchEvent(new CustomEvent("toggle",{detail:this.open,bubbles:!0,composed:!0}))}_externalToggle(){this.open=!this.open,this.dispatchEvent(new CustomEvent("toggle",{detail:this.open,bubbles:!0,composed:!0}))}constructor(){super(...arguments),this.title="",this.open=!1,this.trigger="click"}};$P.styles=e1`
    :host {
      display: flex;
      flex-direction: var(--direction);
      border: 1px solid #ccc;
      margin: 4px;
      border-radius: 0.25rem;
      transition: box-shadow 0.3s ease, width 0.3s ease, height 0.3s ease;
      flex: 0 0 auto;
      width: var(--width);
      height: var(--height);
      overflow: hidden;
    }
    :host([open]) {
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
      width: var(--expand-width);
      height: var(--expand-height);
    }
    .header {
      position: relative;
      background: #f8f9fa; /* Light gray background similar to Bootstrap */
      padding: 0.75rem 1.25rem;
      cursor: pointer;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #dee2e6;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }
    :host([open]) .header {
      background: var(--active, #e7f1ff);
      box-shadow: inset 0 -1px 0 rgba(0,0,0,.125);
    }
    .icon {
      display: inline-block;
      width: 16px;
      height: 16px;
      background: var(--glyph, var(--icon-chevron-down));
      transition: transform 0.3s ease;
    }
    :host([open]) .icon:not(.glyph) {
      transform: rotate(-180deg);
    }
    .content {
      display: block;
      max-width: var(--max-width);
      max-height: var(--max-height);
      overflow: hidden;
      transition: max-width 0.3s ease, max-height 0.3s ease, padding 0.3s ease;
      padding: 0 1.25rem;
      border-top: 1px solid #dee2e6;
    }
    :host([open]) .content {
      max-width: var(--max-width);
      max-height: var(--max-height);
      padding: 1rem 1.25rem;
      overflow: auto;
    }
  `,$T([ru({type:String})],$P.prototype,"title",void 0),$T([ru({type:String})],$P.prototype,"glyph",void 0),$T([ru({type:Boolean,reflect:!0})],$P.prototype,"open",void 0),$T([ru({type:String})],$P.prototype,"trigger",void 0),$P=$T([eF("juel-accordion-section")],$P);let $I=class extends $k{render(){return rL`
      <slot @slotchange="${this._handleSlotChange}"></slot>
    `}updated(t){if(super.updated(t),t.has("direction")){let t="horizontal"===this.direction;this.style.setProperty("--direction",t?"row":"column"),this.style.setProperty("--max-width",t?"100%":"unset"),this.style.setProperty("--max-height",t?"unset":"100%"),this.style.setProperty("--expand-width",t?"400px":"unset"),this.style.setProperty("--expand-height",t?"unset":"400px"),this.style.setProperty("--width",t?"100px":"100%"),this.style.setProperty("--height",t?"100%":"100px")}}_handleSlotChange(){var t;null===(t=this._sections)||void 0===t||t.forEach(t=>{t.addEventListener("toggle",e=>this._handleToggle(e,t))})}_handleToggle(t,e){var r;this.multiple||null===(r=this._sections)||void 0===r||r.forEach(t=>{t!==e&&(t.open=!1)})}constructor(){super(),this.multiple=!1,this.direction="vertical",this.ripple=!1}};$I.styles=e1`
    :host {
      display: flex;
      flex-direction: var(--direction, column); /* Default to vertical layout */
    }
  `,$T([ru({type:Boolean})],$I.prototype,"multiple",void 0),$T([ru({type:String})],$I.prototype,"direction",void 0),$T([rp({selector:"juel-accordion-section"})],$I.prototype,"_sections",void 0),$I=$T([eF("juel-accordion")],$I);var $R=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $M=class extends r0{toggle(t){t._expanded=!t._expanded,this.requestUpdate()}isSelectable(t,e){if(!1===t[this.selectableField])return!1;switch(this.selectable){case"false":return!1;case"true":return!0;case"branchesOnly":return e;case"leavesOnly":return!e}}handleSelect(t){this.dispatchEvent(new CustomEvent("node-selected",{detail:{label:t}}))}renderNode(t){let e=t[this.labelField],r=t[this.itemsField],n=Array.isArray(r)&&r.length>0,i=this.isSelectable(t,n);return rL`
      <li>
        <div class="node">
          ${n?rL`<span
                class="chevron ${t._expanded?"rotated":""}"
                @click="${()=>this.toggle(t)}"
              ></span>`:rL`<span style="width: 1em; margin-right: 0.5em;">•</span>`}
          <span
            class="label ${i?"selectable":""}"
            @click="${()=>i&&this.handleSelect(e)}"
          >
            ${e}
          </span>
        </div>
        ${n&&t._expanded?rL`<ul>${r.map(t=>this.renderNode(t))}</ul>`:""}
      </li>
    `}render(){return this.data.length>0?rL`<ul>${this.data.map(t=>this.renderNode(t))}</ul>`:rL`<slot></slot>`}constructor(){super(...arguments),this.data=[],this.labelField="label",this.itemsField="items",this.selectableField="selectable",this.selectable="false"}};$M.styles=e1`
    ul {
      list-style: none;
      padding-left: 1rem;
      margin: 0;
    }
    .node {
      cursor: pointer;
      display: flex;
      align-items: center;
    }
    .label {
      padding: 2px 4px;
    }
    .label.selectable:hover {
      background: #efefef;
    }
    .chevron {
      width: 1em;
      height: 1em;
      background: var(--icon-chevron-down) no-repeat center;
      background-size: contain;
      transition: transform 0.3s ease;
      margin-right: 0.5em;
    }
    .chevron.rotated {
      transform: rotate(180deg);
    }
  `,$R([ru({type:Array})],$M.prototype,"data",void 0),$R([ru({type:String})],$M.prototype,"labelField",void 0),$R([ru({type:String})],$M.prototype,"itemsField",void 0),$R([ru({type:String})],$M.prototype,"selectableField",void 0),$R([ru({type:String})],$M.prototype,"selectable",void 0),$M=$R([eF("tree-menu")],$M);let $N=class extends r0{isParentSelectable(){var t;let e=this.parentElement;return t="selectable"in e&&((null==e?void 0:e.selectable)===!0||(null==e?void 0:e.selectable)=="true"),this.selectable=void 0!==t?t:this.selectable,this.selectable}handleClick(){this.isParentSelectable()&&this.dispatchEvent(new CustomEvent("node-selected",{detail:{label:this.label}}))}render(){let t=this.isParentSelectable();return rL`
      <div
        class="leaf ${t?"selectable":""}"
        @click="${this.handleClick}"
      >
        ${t?rL`<juel-check @value-changed="${t=>t.stopPropagation()}"></juel-check>`:""}
        ${this.label}
      </div>
    `}constructor(){super(...arguments),this.label="",this.selectable=!1}};$N.styles=e1`
    :host {
      display: block;
      padding-left: 1rem;
    }
    .leaf {
      cursor: default;
    }
    .leaf.selectable {
      cursor: pointer;
    }
    .leaf.selectable:hover {
      background: #efefef;
    }
  `,$R([ru({type:String})],$N.prototype,"label",void 0),$R([ru({type:Boolean})],$N.prototype,"selectable",void 0),$N=$R([eF("tree-leaf")],$N);let $D=class extends r0{isParentSelectable(){var t;let e=this.parentElement;return t="selectable"in e&&((null==e?void 0:e.selectable)===!0||(null==e?void 0:e.selectable)=="true"),this.selectable=void 0!==t?t:this.selectable,this.selectable}handleClick(){this.isParentSelectable()&&this.dispatchEvent(new CustomEvent("node-selected",{detail:{label:this.label}})),this.toggle()}toggle(){this.expanded=!this.expanded}render(){let t=this.isParentSelectable();return rL`
      <div
        class="branch-header ${t?"selectable":""}"
        @click="${this.handleClick}"
      >
        ${t?rL`<juel-check @value-changed="${t=>t.stopPropagation()}"></juel-check>`:""}
        <span class="chevron ${this.expanded?"rotated":""}"></span>
        ${this.label}
      </div>
      <div class="children" ?hidden="${!this.expanded}">
        <slot></slot>
      </div>
    `}constructor(){super(...arguments),this.label="",this.expanded=!1,this.selectable=!1}};$D.styles=e1`
    :host {
      display: block;
      padding-left: 1rem;
    }
    .branch-header {
      cursor: pointer;
      font-weight: bold;
      display: flex;
      align-items: center;
    }
    .chevron {
      width: 1em;
      height: 1em;
      background: var(--icon-chevron-down) no-repeat center;
      background-size: contain;
      transition: transform 0.3s ease;
      margin-right: 0.5em;
    }
    .chevron.rotated {
      transform: rotate(180deg);
    }
    .branch-header.selectable:hover {
      background: #efefef;
    }
    .children {
      margin-left: 1rem;
    }
    .children[hidden] {
      display: none;
    }
  `,$R([ru({type:String})],$D.prototype,"label",void 0),$R([ru({type:Boolean,reflect:!0})],$D.prototype,"expanded",void 0),$R([ru({type:Boolean})],$D.prototype,"selectable",void 0),$D=$R([eF("tree-branch")],$D);var $L=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $$=BP=class extends r5{updated(t){this.data.labels=this.labels;let e={};this.legend&&("false"==this.legend?e.legend={display:!1}:e.legend={position:this.legend}),this.title&&(e.title={display:!0,text:this.title}),this.options.responsive=this.responsive,this.indexAxis&&(this.options.indexAxis=this.indexAxis),e&&(this.options.plugins=e),this.g=this.shadowRoot.getElementById("canvas").getContext("2d"),this.chartScriptLoaded=this.scriptElement()}scriptElement(){return eW(function*(){document.querySelector(`#${BP.ChartScriptId}`),"Chart"in window||(console.log("Loading ChartJS"),yield import(BP.ChartScriptUrl))})()}renderChart(){this.chartScriptLoaded.then(()=>{try{console.log("Render chart");let t=window.Chart,e={type:this.type,data:this.data,options:this.options};console.log(e),this.chart?(this.chart.data=this.data,this.chart.update(),console.log("Chart updated")):(this.chart=new t(this.g,e),console.log(t),console.log("Chart created"))}catch(t){console.log(t)}})}render(){return rL`<canvas id="canvas" width="${this.width}" height="${this.height}"></canvas>`}constructor(){super(),this.width=400,this.height=400,this.responsive=!1,this.width=400,this.height=400,this.type="bar",this.data={},this.options={}}};$$.ChartScriptId="juel-chart-js",$$.ChartScriptUrl="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js",$L([ru({type:Number})],$$.prototype,"width",void 0),$L([ru({type:Number})],$$.prototype,"height",void 0),$L([ru()],$$.prototype,"type",void 0),$L([ru({converter:sw(",")})],$$.prototype,"labels",void 0),$L([ru({type:Boolean})],$$.prototype,"responsive",void 0),$L([ru()],$$.prototype,"legend",void 0),$L([ru()],$$.prototype,"indexAxis",void 0),$L([ru({type:Object})],$$.prototype,"data",void 0),$L([ru({type:Object})],$$.prototype,"options",void 0),$$=BP=$L([eF("juel-chart")],$$);class $q extends r0{getParentComponent(){if(this.parentElement)return"getParentComponent"in this.parentElement?this.parentElement.getParentComponent():this.parentElement}createRenderRoot(){return this}}var $Q=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $B=class extends $q{updated(){if(console.log(this.parentElement.nodeName.toUpperCase()),"JUEL-CHART"==this.parentElement.nodeName.toUpperCase()){let t={};t.label=this.label,t.data=this.data,t.type=this.type,t.backgroundColor=this.backgroundColour,t.backgroundColorHover=this.backgroundColourHover,t.borderColor=this.borderColour,t.borderWidth=this.borderWidth,t.fill=this.fill,t.pointBorderColor=this.pointBorderColour,t.pointBackgroundColor=this.pointBackgroundColour,t=function t(e){let r={};return Object.entries(e).forEach(([n,i])=>{i===Object(i)&&!1==Array.isArray(i)?r[n]=t(i):null!=i&&(r[n]=e[n])}),r}(t);let e=this.parentElement;e.data.datasets&&0!=e.data.datasets.length||(e.data.datasets=[]),e.data.datasets.push(t),console.log("Call to render chart"),e.renderChart()}}};$Q([ru()],$B.prototype,"label",void 0),$Q([ru({converter:sw()})],$B.prototype,"data",void 0),$Q([ru()],$B.prototype,"type",void 0),$Q([ru({converter:sw(),attribute:"background-colour"})],$B.prototype,"backgroundColour",void 0),$Q([ru({attribute:"background-colour-hover"})],$B.prototype,"backgroundColourHover",void 0),$Q([ru({converter:sw(),attribute:"border-colour"})],$B.prototype,"borderColour",void 0),$Q([ru({type:Number})],$B.prototype,"borderWidth",void 0),$Q([ru({converter:function(t){return"true"==t}})],$B.prototype,"fill",void 0),$Q([ru({attribute:"point-border-colour"})],$B.prototype,"pointBorderColour",void 0),$Q([ru({attribute:"point-background-colour"})],$B.prototype,"pointBackgroundColour",void 0),$B=$Q([eF("juel-chart-dataset")],$B);var $j={};$j=":host{display:block}.timeline{gap:16px;display:flex}.timeline.vertical{flex-direction:column}.timeline.horizontal{flex-direction:row}.timeline-item{align-items:center;gap:8px;display:flex}.timeline-item.vertical{flex-direction:row}.timeline-item.horizontal{flex-direction:column}.connector{background-color:#ddd;width:2px}.connector.vertical{height:16px}.connector.horizontal{flex:1;height:2px}.content{background-color:#f9f9f9;border:1px solid #ddd;border-radius:4px;padding:8px}";var $z=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $Z=class extends r0{render(){return rL`
    <div class="timeline ${this.direction}">
      ${this.items.map((t,e)=>rL`
          <div class="timeline-item ${this.direction}">
            ${e>0?rL`<div class="connector ${this.direction}"></div>`:null}
            <div class="content">
              <h4>${t.title}</h4>
              <p>${t.content}</p>
            </div>
          </div>
        `)}
    </div>
  `}constructor(){super(...arguments),this.items=[],this.direction="vertical"}};$Z.styles=e0(/*@__PURE__*/ew($j)),$z([ru({type:Array})],$Z.prototype,"items",void 0),$z([ru({type:String})],$Z.prototype,"direction",void 0),$Z=$z([eF("juel-timeline")],$Z);var $F={};$F=":host{background:#f0f0f0;width:100%;height:10px;display:block;position:relative}.progress{background:#007bff;width:0;height:100%;transition:width .3s}";var $X=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $V=class extends r0{connectedCallback(){super.connectedCallback(),this.trackScroll&&this.initializeScrollTracking()}disconnectedCallback(){super.disconnectedCallback(),this.trackScroll&&this.teardownScrollTracking()}updated(t){t.has("trackScroll")&&(this.trackScroll?this.initializeScrollTracking():this.teardownScrollTracking())}initializeScrollTracking(){this.scrollListener=this.updateScrollProgress.bind(this),window.addEventListener("scroll",this.scrollListener),this.updateScrollProgress()}teardownScrollTracking(){window.removeEventListener("scroll",this.scrollListener)}updateScrollProgress(){let t=document.body.scrollTop,e=document.body.scrollHeight-document.body.clientHeight;this.value=e>0?t/e*100:0}render(){return rL`
      <div class="progress" style="width: ${this.value}%;"></div>
    `}constructor(){super(...arguments),this.value=0,this.trackScroll=!1}};$V.styles=e0(/*@__PURE__*/ew($F)),$X([ru({type:Number})],$V.prototype,"value",void 0),$X([ru({type:Boolean})],$V.prototype,"trackScroll",void 0),$V=$X([eF("juel-progress")],$V);var $U={};!function(t){function e(t){var e,r,n,i;for(r=1,n=arguments.length;r<n;r++)for(e in i=arguments[r])t[e]=i[e];return t}var r,n,i,o,s,a,l,h,c,u,d=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function f(t,e){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var n=r.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(r.call(arguments)):arguments)}}var p=0;function g(t){return"_leaflet_id"in t||(t._leaflet_id=++p),t._leaflet_id}function m(t,e,r){var n,i,o,s;return s=function(){n=!1,i&&(o.apply(r,i),i=!1)},o=function(){n?i=arguments:(t.apply(r,arguments),setTimeout(s,e),n=!0)}}function v(t,e,r){var n=e[1],i=e[0],o=n-i;return t===n&&r?t:((t-i)%o+o)%o+i}function y(){return!1}function b(t,e){if(!1===e)return t;var r=Math.pow(10,void 0===e?6:e);return Math.round(t*r)/r}function O(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function w(t){return O(t).split(/\s+/)}function x(t,e){for(var r in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?d(t.options):{}),e)t.options[r]=e[r];return t.options}function k(t,e,r){var n=[];for(var i in t)n.push(encodeURIComponent(r?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function C(t,e){return t.replace(S,function(t,r){var n=e[r];if(void 0===n)throw Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}var A=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function E(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return -1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var I=0;function R(t){var e=+new Date,r=Math.max(0,16-(e-I));return I=e+r,window.setTimeout(t,r)}var M=window.requestAnimationFrame||P("RequestAnimationFrame")||R,N=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function D(t,e,r){if(!r||M!==R)return M.call(window,f(t,e));t.call(e)}function q(t){t&&N.call(window,t)}function Q(){}Q.extend=function(t){var r=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=r.__super__=this.prototype,i=d(n);for(var o in i.constructor=r,r.prototype=i,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(r[o]=this[o]);return t.statics&&e(r,t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=A(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",Error().stack)}}(t.includes),e.apply(null,[i].concat(t.includes))),e(i,t),delete i.statics,delete i.includes,i.options&&(i.options=n.options?d(n.options):{},e(i.options,t.options)),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},r},Q.include=function(t){var r=this.prototype.options;return e(this.prototype,t),t.options&&(this.prototype.options=r,this.mergeOptions(t.options)),this},Q.mergeOptions=function(t){return e(this.prototype.options,t),this},Q.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),r="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};var B={on:function(t,e,r){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else{t=w(t);for(var i=0,o=t.length;i<o;i++)this._on(t[i],e,r)}return this},off:function(t,e,r){if(arguments.length){if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else{t=w(t);for(var i=1==arguments.length,o=0,s=t.length;o<s;o++)i?this._off(t[o]):this._off(t[o],e,r)}}else delete this._events;return this},_on:function(t,e,r,n){if("function"!=typeof e){console.warn("wrong listener type: "+typeof e);return}if(!1===this._listens(t,e,r)){r===this&&(r=void 0);var i={fn:e,ctx:r};n&&(i.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(i)}},_off:function(t,e,r){if(this._events&&(n=this._events[t])){if(1==arguments.length){if(this._firingCount)for(i=0,o=n.length;i<o;i++)n[i].fn=y;delete this._events[t];return}if("function"!=typeof e){console.warn("wrong listener type: "+typeof e);return}var n,i,o,s=this._listens(t,e,r);if(!1!==s){var a=n[s];this._firingCount&&(a.fn=y,this._events[t]=n=n.slice()),n.splice(s,1)}}},fire:function(t,r,n){if(!this.listens(t,n))return this;var i=e({},r,{type:t,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s],h=l.fn;l.once&&this.off(t,h,l.ctx),h.call(l.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e,r,n){"string"!=typeof t&&console.warn('"string" type argument expected');var i=e;"function"!=typeof e&&(n=!!e,i=void 0,r=void 0);var o=this._events&&this._events[t];if(o&&o.length&&!1!==this._listens(t,i,r))return!0;if(n){for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,r,n))return!0}return!1},_listens:function(t,e,r){if(!this._events)return!1;var n=this._events[t]||[];if(!e)return!!n.length;r===this&&(r=void 0);for(var i=0,o=n.length;i<o;i++)if(n[i].fn===e&&n[i].ctx===r)return i;return!1},once:function(t,e,r){if("object"==typeof t)for(var n in t)this._on(n,t[n],e,!0);else{t=w(t);for(var i=0,o=t.length;i<o;i++)this._on(t[i],e,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[g(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[g(t)],this},_propagateEvent:function(t){for(var r in this._eventParents)this._eventParents[r].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};B.addEventListener=B.on,B.removeEventListener=B.clearAllEventListeners=B.off,B.addOneTimeEventListener=B.once,B.fireEvent=B.fire,B.hasEventListeners=B.listens;var j=Q.extend(B);function z(t,e,r){this.x=r?Math.round(t):t,this.y=r?Math.round(e):e}var Z=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function F(t,e,r){return t instanceof z?t:A(t)?new z(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new z(t.x,t.y):new z(t,e,r)}function X(t,e){if(t)for(var r=e?[t,e]:t,n=0,i=r.length;n<i;n++)this.extend(r[n])}function V(t,e){return!t||t instanceof X?t:new X(t,e)}function U(t,e){if(t)for(var r=e?[t,e]:t,n=0,i=r.length;n<i;n++)this.extend(r[n])}function W(t,e){return t instanceof U?t:new U(t,e)}function H(t,e,r){if(isNaN(t)||isNaN(e))throw Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==r&&(this.alt=+r)}function Y(t,e,r){return t instanceof H?t:A(t)&&"object"!=typeof t[0]?3===t.length?new H(t[0],t[1],t[2]):2===t.length?new H(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new H(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new H(t,e,r)}z.prototype={clone:function(){return new z(this.x,this.y)},add:function(t){return this.clone()._add(F(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(F(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new z(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new z(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(t){var e=(t=F(t)).x-this.x,r=t.y-this.y;return Math.sqrt(e*e+r*r)},equals:function(t){return(t=F(t)).x===this.x&&t.y===this.y},contains:function(t){return Math.abs((t=F(t)).x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}},X.prototype={extend:function(t){var e,r;if(!t)return this;if(t instanceof z||"number"==typeof t[0]||"x"in t)e=r=F(t);else if(e=(t=V(t)).min,r=t.max,!e||!r)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)):(this.min=e.clone(),this.max=r.clone()),this},getCenter:function(t){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,r;return(t="number"==typeof t[0]||t instanceof z?F(t):V(t))instanceof X?(e=t.min,r=t.max):e=r=t,e.x>=this.min.x&&r.x<=this.max.x&&e.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=V(t);var e=this.min,r=this.max,n=t.min,i=t.max,o=i.x>=e.x&&n.x<=r.x,s=i.y>=e.y&&n.y<=r.y;return o&&s},overlaps:function(t){t=V(t);var e=this.min,r=this.max,n=t.min,i=t.max,o=i.x>e.x&&n.x<r.x,s=i.y>e.y&&n.y<r.y;return o&&s},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,r=this.max,n=Math.abs(e.x-r.x)*t,i=Math.abs(e.y-r.y)*t;return V(F(e.x-n,e.y-i),F(r.x+n,r.y+i))},equals:function(t){return!!t&&(t=V(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},U.prototype={extend:function(t){var e,r,n=this._southWest,i=this._northEast;if(t instanceof H)e=t,r=t;else if(!(t instanceof U))return t?this.extend(Y(t)||W(t)):this;else if(e=t._southWest,r=t._northEast,!e||!r)return this;return n||i?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),i.lat=Math.max(r.lat,i.lat),i.lng=Math.max(r.lng,i.lng)):(this._southWest=new H(e.lat,e.lng),this._northEast=new H(r.lat,r.lng)),this},pad:function(t){var e=this._southWest,r=this._northEast,n=Math.abs(e.lat-r.lat)*t,i=Math.abs(e.lng-r.lng)*t;return new U(new H(e.lat-n,e.lng-i),new H(r.lat+n,r.lng+i))},getCenter:function(){return new H((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new H(this.getNorth(),this.getWest())},getSouthEast:function(){return new H(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof H||"lat"in t?Y(t):W(t);var e,r,n=this._southWest,i=this._northEast;return t instanceof U?(e=t.getSouthWest(),r=t.getNorthEast()):e=r=t,e.lat>=n.lat&&r.lat<=i.lat&&e.lng>=n.lng&&r.lng<=i.lng},intersects:function(t){t=W(t);var e=this._southWest,r=this._northEast,n=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&n.lat<=r.lat,s=i.lng>=e.lng&&n.lng<=r.lng;return o&&s},overlaps:function(t){t=W(t);var e=this._southWest,r=this._northEast,n=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&n.lat<r.lat,s=i.lng>e.lng&&n.lng<r.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=W(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!!(this._southWest&&this._northEast)}},H.prototype={equals:function(t,e){return!!t&&(t=Y(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+b(this.lat,t)+", "+b(this.lng,t)+")"},distanceTo:function(t){return K.distance(this,Y(t))},wrap:function(){return K.wrapLatLng(this)},toBounds:function(t){var e=180*t/0x2637f09,r=e/Math.cos(Math.PI/180*this.lat);return W([this.lat-e,this.lng-r],[this.lat+e,this.lng+r])},clone:function(){return new H(this.lat,this.lng,this.alt)}};var G={latLngToPoint:function(t,e){var r=this.projection.project(t),n=this.scale(e);return this.transformation._transform(r,n)},pointToLatLng:function(t,e){var r=this.scale(e),n=this.transformation.untransform(t,r);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,r=this.scale(t);return new X(this.transformation.transform(e.min,r),this.transformation.transform(e.max,r))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?v(t.lng,this.wrapLng,!0):t.lng;return new H(this.wrapLat?v(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),r=this.wrapLatLng(e),n=e.lat-r.lat,i=e.lng-r.lng;if(0===n&&0===i)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new U(new H(o.lat-n,o.lng-i),new H(s.lat-n,s.lng-i))}},K=e({},G,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var r=Math.PI/180,n=t.lat*r,i=e.lat*r,o=Math.sin((e.lat-t.lat)*r/2),s=Math.sin((e.lng-t.lng)*r/2),a=o*o+Math.cos(n)*Math.cos(i)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),J={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,r=this.MAX_LATITUDE,n=Math.sin(Math.max(Math.min(r,t.lat),-r)*e);return new z(this.R*t.lng*e,this.R*Math.log((1+n)/(1-n))/2)},unproject:function(t){var e=180/Math.PI;return new H((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:new X([-(l=6378137*Math.PI),-l],[l,l])};function tt(t,e,r,n){if(A(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=r,this._d=n}function te(t,e,r,n){return new tt(t,e,r,n)}tt.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new z((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var tr=e({},K,{code:"EPSG:3857",projection:J,transformation:te(h=.5/(Math.PI*J.R),.5,-h,.5)}),tn=e({},tr,{code:"EPSG:900913"});function ti(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function to(t,e){var r,n,i,o,s,a,l="";for(r=0,i=t.length;r<i;r++){for(n=0,o=(s=t[r]).length;n<o;n++)a=s[n],l+=(n?"L":"M")+a.x+" "+a.y;l+=e?tq.svg?"z":"x":""}return l||"M0 0"}var ts=document.documentElement.style,ta="ActiveXObject"in window,tl=ta&&!document.addEventListener,th="msLaunchUri"in navigator&&!("documentMode"in document),tc=t$("webkit"),tu=t$("android"),td=t$("android 2")||t$("android 3"),tf=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tp=tu&&t$("Google")&&tf<537&&!("AudioNode"in window),tg=!!window.opera,tm=!th&&t$("chrome"),tv=t$("gecko")&&!tc&&!tg&&!ta,ty=!tm&&t$("safari"),tb=t$("phantom"),tO="OTransition"in ts,tw=0===navigator.platform.indexOf("Win"),tx=ta&&"transition"in ts,t_="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!td,tk="MozPerspective"in ts,tS=!window.L_DISABLE_3D&&(tx||t_||tk)&&!tO&&!tb,tC="undefined"!=typeof orientation||t$("mobile"),tA=!window.PointerEvent&&window.MSPointerEvent,tE=!!(window.PointerEvent||tA),tT="ontouchstart"in window||!!window.TouchEvent,tP=!window.L_NO_TOUCH&&(tT||tE),tI=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tR=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",y,e),window.removeEventListener("testPassiveEventSupport",y,e)}catch(t){}return t}(),tM=!!document.createElement("canvas").getContext,tN=!!(document.createElementNS&&ti("svg").createSVGRect),tD=!!tN&&((c=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(c.firstChild&&c.firstChild.namespaceURI)),tL=!tN&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function t$(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var tq={ie:ta,ielt9:tl,edge:th,webkit:tc,android:tu,android23:td,androidStock:tp,opera:tg,chrome:tm,gecko:tv,safari:ty,phantom:tb,opera12:tO,win:tw,ie3d:tx,webkit3d:t_,gecko3d:tk,any3d:tS,mobile:tC,mobileWebkit:tC&&tc,mobileWebkit3d:tC&&t_,msPointer:tA,pointer:tE,touch:tP,touchNative:tT,mobileOpera:tC&&tg,mobileGecko:tC&&tv,retina:tI,passiveEvents:tR,canvas:tM,svg:tN,vml:tL,inlineSvg:tD,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},tQ=tq.msPointer?"MSPointerDown":"pointerdown",tB=tq.msPointer?"MSPointerMove":"pointermove",tj=tq.msPointer?"MSPointerUp":"pointerup",tz=tq.msPointer?"MSPointerCancel":"pointercancel",tZ={touchstart:tQ,touchmove:tB,touchend:tj,touchcancel:tz},tF={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&ek(e),tY(t,e)},touchmove:tY,touchend:tY,touchcancel:tY},tX={},tV=!1;function tU(t){tX[t.pointerId]=t}function tW(t){tX[t.pointerId]&&(tX[t.pointerId]=t)}function tH(t){delete tX[t.pointerId]}function tY(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var r in e.touches=[],tX)e.touches.push(tX[r]);e.changedTouches=[e],t(e)}}var tG=en(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tK=en(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),tJ="webkitTransition"===tK||"OTransition"===tK?tK+"End":"transitionend";function t0(t){return"string"==typeof t?document.getElementById(t):t}function t1(t,e){var r=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!r||"auto"===r)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);r=n?n[e]:null}return"auto"===r?null:r}function t2(t,e,r){var n=document.createElement(t);return n.className=e||"",r&&r.appendChild(n),n}function t3(t){var e=t.parentNode;e&&e.removeChild(t)}function t4(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function t5(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function t6(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function t8(t,e){if(void 0!==t.classList)return t.classList.contains(e);var r=ee(t);return r.length>0&&RegExp("(^|\\s)"+e+"(\\s|$)").test(r)}function t7(t,e){if(void 0!==t.classList)for(var r=w(e),n=0,i=r.length;n<i;n++)t.classList.add(r[n]);else if(!t8(t,e)){var o=ee(t);et(t,(o?o+" ":"")+e)}}function t9(t,e){void 0!==t.classList?t.classList.remove(e):et(t,O((" "+ee(t)+" ").replace(" "+e+" "," ")))}function et(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ee(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function er(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var r=!1,n="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),r?(r.Enabled=100!==e,r.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function en(t){for(var e=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in e)return t[r];return!1}function ei(t,e,r){var n=e||new z(0,0);t.style[tG]=(tq.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(r?" scale("+r+")":"")}function eo(t,e){t._leaflet_pos=e,tq.any3d?ei(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function es(t){return t._leaflet_pos||new z(0,0)}if("onselectstart"in document)r=function(){ep(window,"selectstart",ek)},n=function(){em(window,"selectstart",ek)};else{var ea=en(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);r=function(){if(ea){var t=document.documentElement.style;i=t[ea],t[ea]="none"}},n=function(){ea&&(document.documentElement.style[ea]=i,i=void 0)}}function el(){ep(window,"dragstart",ek)}function eh(){em(window,"dragstart",ek)}function ec(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(eu(),o=t,s=t.style.outlineStyle,t.style.outlineStyle="none",ep(window,"keydown",eu))}function eu(){o&&(o.style.outlineStyle=s,o=void 0,s=void 0,em(window,"keydown",eu))}function ed(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body)return t}function ef(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function ep(t,e,r,n){if(e&&"object"==typeof e)for(var i in e)eb(t,i,e[i],r);else{e=w(e);for(var o=0,s=e.length;o<s;o++)eb(t,e[o],r,n)}return this}var eg="_leaflet_events";function em(t,e,r,n){if(1==arguments.length)ev(t),delete t[eg];else if(e&&"object"==typeof e)for(var i in e)eO(t,i,e[i],r);else if(e=w(e),2==arguments.length)ev(t,function(t){return -1!==E(e,t)});else for(var o=0,s=e.length;o<s;o++)eO(t,e[o],r,n);return this}function ev(t,e){for(var r in t[eg]){var n=r.split(/\d/)[0];(!e||e(n))&&eO(t,n,null,null,r)}}var ey={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function eb(t,e,r,n){var i=e+g(r)+(n?"_"+g(n):"");if(t[eg]&&t[eg][i])return this;var o=function(e){return r.call(n||t,e||window.event)},s=o;!tq.touchNative&&tq.pointer&&0===e.indexOf("touch")?o=function(t,e,r){return("touchstart"===e&&(tV||(document.addEventListener(tQ,tU,!0),document.addEventListener(tB,tW,!0),document.addEventListener(tj,tH,!0),document.addEventListener(tz,tH,!0),tV=!0)),tF[e])?(r=tF[e].bind(this,r),t.addEventListener(tZ[e],r,!1),r):(console.warn("wrong event specified:",e),y)}(t,e,o):tq.touch&&"dblclick"===e?o=function(t,e){t.addEventListener("dblclick",e);var r,n=0;function i(t){if(1!==t.detail){r=t.detail;return}if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var i=eC(t);if(!i.some(function(t){return t instanceof HTMLLabelElement&&t.attributes.for})||i.some(function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement})){var o=Date.now();o-n<=200?2==++r&&e(function(t){var e,r,n={};for(r in t)e=t[r],n[r]=e&&e.bind?e.bind(t):e;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}(t)):r=1,n=o}}}return t.addEventListener("click",i),{dblclick:e,simDblclick:i}}(t,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(ey[e]||e,o,!!tq.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){eP(t,e=e||window.event)&&s(e)},t.addEventListener(ey[e],o,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,o),t[eg]=t[eg]||{},t[eg][i]=o}function eO(t,e,r,n,i){i=i||e+g(r)+(n?"_"+g(n):"");var o=t[eg]&&t[eg][i];if(!o)return this;!tq.touchNative&&tq.pointer&&0===e.indexOf("touch")?function(t,e,r){if(!tZ[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(tZ[e],r,!1)}(t,e,o):tq.touch&&"dblclick"===e?(t.removeEventListener("dblclick",o.dblclick),t.removeEventListener("click",o.simDblclick)):"removeEventListener"in t?t.removeEventListener(ey[e]||e,o,!1):t.detachEvent("on"+e,o),t[eg][i]=null}function ew(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ex(t){return eb(t,"wheel",ew),this}function e_(t){return ep(t,"mousedown touchstart dblclick contextmenu",ew),t._leaflet_disable_click=!0,this}function ek(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function eS(t){return ek(t),ew(t),this}function eC(t){if(t.composedPath)return t.composedPath();for(var e=[],r=t.target;r;)e.push(r),r=r.parentNode;return e}function eA(t,e){if(!e)return new z(t.clientX,t.clientY);var r=ef(e),n=r.boundingClientRect;return new z((t.clientX-n.left)/r.x-e.clientLeft,(t.clientY-n.top)/r.y-e.clientTop)}var eE=tq.linux&&tq.chrome?window.devicePixelRatio:tq.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function eT(t){return tq.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/eE:t.deltaY&&1===t.deltaMode?-(20*t.deltaY):t.deltaY&&2===t.deltaMode?-(60*t.deltaY):t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&32765>Math.abs(t.detail)?-(20*t.detail):t.detail?-(60*(t.detail/32765)):0}function eP(t,e){var r=e.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch(t){return!1}return r!==t}var eI=j.extend({run:function(t,e,r,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=es(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,r=1e3*this._duration;e<r?this._runFrame(this._easeOut(e/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var r=this._startPos.add(this._offset.multiplyBy(t));e&&r._round(),eo(this._el,r),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),eR=j.extend({options:{crs:tr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=x(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(Y(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tK&&tq.any3d&&!tq.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ep(this._proxy,tJ,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,r,n){return(r=void 0===r?this._zoom:this._limitZoom(r),t=this._limitCenter(Y(t),r,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=e({animate:n.animate},n.zoom),n.pan=e({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,r,n.zoom):this._tryAnimatedPan(t,n.pan)))?clearTimeout(this._sizeTimer):this._resetView(t,r,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(tq.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(tq.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,r){var n=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof z?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/n),s=this.containerPointToLatLng(i.add(o));return this.setView(s,e,{zoom:r})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():W(t);var r=F(e.paddingTopLeft||e.padding||[0,0]),n=F(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,r.add(n));if((i="number"==typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=n.subtract(r).divideBy(2),s=this.project(t.getSouthWest(),i),a=this.project(t.getNorthEast(),i);return{center:this.unproject(s.add(a).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=W(t)).isValid())throw Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,e);return this.setView(r.center,r.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=F(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new eI,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){t7(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,r){if(!1===(r=r||{}).animate||!tq.any3d)return this.setView(t,e,r);this._stop();var n=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),s=this._zoom;t=Y(t),e=void 0===e?s:e;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,e),h=i.distanceTo(n)||1;function c(t){var e=(l*l-a*a+(t?-1:1)*4.0658689599999995*h*h)/(2*(t?l:a)*2.0164*h),r=Math.sqrt(e*e+1)-e;return r<1e-9?-18:Math.log(r)}function u(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}var f=c(0),p=Date.now(),g=(c(1)-f)/1.42,m=r.duration?1e3*r.duration:1e3*g*.8;return this._moveStart(!0,r.noMoveStart),(function r(){var o,l=(Date.now()-p)/m,c=(1-Math.pow(1-l,1.5))*g;l<=1?(this._flyToFrame=D(r,this),this._move(this.unproject(n.add(i.subtract(n).multiplyBy(a*(d(f)*(u(o=f+1.42*c)/d(o))-u(f))/2.0164/h)),s),this.getScaleZoom(a/(a*(d(f)/d(f+1.42*c))),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}).call(this),this},flyToBounds:function(t,e){var r=this._getBoundsCenterZoom(t,e);return this.flyTo(r.center,r.zoom,e)},setMaxBounds:function(t){return(t=W(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid())?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return(this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom))?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return(this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom))?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var r=this.getCenter(),n=this._limitCenter(r,this._zoom,W(t));return r.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){var r=F((e=e||{}).paddingTopLeft||e.padding||[0,0]),n=F(e.paddingBottomRight||e.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(t),s=this.getPixelBounds(),a=V([s.min.add(r),s.max.subtract(n)]),l=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var h=o.subtract(a.getCenter()),c=a.extend(o).getSize().subtract(l);i.x+=h.x<0?-c.x:c.x,i.y+=h.y<0?-c.y:c.y,this.panTo(this.unproject(i),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=r.divideBy(2).round(),o=n.divideBy(2).round(),s=i.subtract(o);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=f(this._handleGeolocationResponse,this),n=f(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,n,t):navigator.geolocation.getCurrentPosition(r,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,r=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new H(t.coords.latitude,t.coords.longitude),r=e.toBounds(2*t.coords.accuracy),n=this._locateOptions;if(n.setView){var i=this.getBoundsZoom(r);this.setView(e,n.maxZoom?Math.min(i,n.maxZoom):i)}var o={latlng:e,bounds:r,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(o[s]=t.coords[s]);this.fire("locationfound",o)}},addHandler:function(t,e){if(!e)return this;var r=this[t]=new e(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){var t;if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),t3(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)t3(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var r=t2("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=r),r},getCenter:function(){return(this._checkIfLoaded(),this._lastCenter&&!this._moved())?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new U(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,r){t=W(t),r=F(r||[0,0]);var n=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(r),h=V(this.project(a,n),this.project(s,n)).getSize(),c=tq.any3d?this.options.zoomSnap:1,u=l.x/h.x,d=l.y/h.y,f=e?Math.max(u,d):Math.min(u,d);return n=this.getScaleZoom(f,n),c&&(n=c/100*Math.round(n/(c/100)),n=e?Math.ceil(n/c)*c:Math.floor(n/c)*c),Math.max(i,Math.min(o,n))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var r=this._getTopLeftPoint(t,e);return new X(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var r=this.options.crs;return e=void 0===e?this._zoom:e,r.scale(t)/r.scale(e)},getScaleZoom:function(t,e){var r=this.options.crs;e=void 0===e?this._zoom:e;var n=r.zoom(t*r.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(Y(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(F(t),e)},layerPointToLatLng:function(t){var e=F(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(Y(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Y(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(W(t))},distance:function(t,e){return this.options.crs.distance(Y(t),Y(e))},containerPointToLayerPoint:function(t){return F(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return F(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(F(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(t)))},mouseEventToContainerPoint:function(t){return eA(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=t0(t);if(e){if(e._leaflet_id)throw Error("Map container is already initialized.")}else throw Error("Map container not found.");ep(e,"scroll",this._onScroll,this),this._containerId=g(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&tq.any3d,t7(t,"leaflet-container"+(tq.touch?" leaflet-touch":"")+(tq.retina?" leaflet-retina":"")+(tq.ielt9?" leaflet-oldie":"")+(tq.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=t1(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),eo(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(t7(t.markerPane,"leaflet-zoom-hide"),t7(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,r){eo(this._mapPane,new z(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,r)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,r,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),n?r&&r.pinch&&this.fire("zoom",r):((i||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){eo(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[g(this._container)]=this;var e=t?em:ep;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),tq.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var r,n=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((r=this._targets[g(o)])&&("click"===e||"preclick"===e)&&this._draggableMoved(r)){s=!0;break}if(r&&r.listens(e,!0)&&(i&&!eP(o,t)||(n.push(r),i))||o===this._container)break;o=o.parentNode}return!n.length&&!s&&!i&&this.listens(e,!0)&&(n=[this]),n},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var r=t.type;"mousedown"===r&&ec(e),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,r,n){if("click"===t.type){var i=e({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}var o=this._findEventTargets(t,r);if(n){for(var s=[],a=0;a<n.length;a++)n[a].listens(r,!0)&&s.push(n[a]);o=s.concat(o)}if(o.length){"contextmenu"===r&&ek(t);var l=o[0],h={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var c=l.getLatLng&&(!l._radius||l._radius<=10);h.containerPoint=c?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),h.layerPoint=this.containerPointToLayerPoint(h.containerPoint),h.latlng=c?l.getLatLng():this.layerPointToLatLng(h.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(r,h,!0),h.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==E(this._mouseEvents,r))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return es(this._mapPane)||new z(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var r=this.getSize()._divideBy(2);return this.project(t,e)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,r){var n=this._getNewPixelOrigin(r,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,r){var n=this._getNewPixelOrigin(r,e);return V([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,r){if(!r)return t;var n=this.project(t,e),i=this.getSize().divideBy(2),o=new X(n.subtract(i),n.add(i)),s=this._getBoundsOffset(o,r,e);return 1>=Math.abs(s.x)&&1>=Math.abs(s.y)?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var r=this.getPixelBounds(),n=new X(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,r){var n=V(this.project(e.getNorthEast(),r),this.project(e.getSouthWest(),r)),i=n.min.subtract(t.min),o=n.max.subtract(t.max);return new z(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),r=this.getMaxZoom(),n=tq.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){t9(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var r=this._getCenterOffset(t)._trunc();return!!(!0===(e&&e.animate)||this.getSize().contains(r))&&(this.panBy(r,e),!0)},_createAnimProxy:function(){var t=this._proxy=t2("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=this._proxy.style[tG];ei(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),e===this._proxy.style[tG]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){t3(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ei(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||!1===r.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/n);return!!(!0===r.animate||this.getSize().contains(i))&&(D(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,r,n){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,t7(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&t9(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}}),eM=Q.extend({options:{position:"topright"},initialize:function(t){x(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),r=this.getPosition(),n=t._controlCorners[r];return t7(e,"leaflet-control"),-1!==r.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(t3(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),eN=function(t){return new eM(t)};eR.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",r=this._controlContainer=t2("div",e+"control-container",this._container);function n(n,i){t[n+i]=t2("div",e+n+" "+e+i,r)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)t3(this._controlCorners[t]);t3(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var eD=eM.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,r,n){return r<n?-1:n<r?1:0}},initialize:function(t,e,r){for(var n in x(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return eM.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(g(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){t7(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(t7(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):t9(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return t9(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=t2("div",t),r=this.options.collapsed;e.setAttribute("aria-haspopup",!0),e_(e),ex(e);var n=this._section=t2("section",t+"-list");r&&(this._map.on("click",this.collapse,this),ep(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=t2("a",t+"-toggle",e);i.href="#",i.title="Layers",i.setAttribute("role","button"),ep(i,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){ek(t),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=t2("div",t+"-base",n),this._separator=t2("div",t+"-separator",n),this._overlaysList=t2("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&g(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:r}),this.options.sortLayers&&this._layers.sort(f(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;t4(this._baseLayersList),t4(this._overlaysList),this._layerControlInputs=[];var t,e,r,n,i=0;for(r=0;r<this._layers.length;r++)n=this._layers[r],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,i+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(g(t.target)),r=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;r&&this._map.fire(r,e)},_createRadioElement:function(t,e){var r=document.createElement("div");return r.innerHTML='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r.firstChild},_addItem:function(t){var e,r=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers_"+g(this),n),this._layerControlInputs.push(e),e.layerId=g(t.layer),ep(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("span");return r.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var t,e,r=this._layerControlInputs,n=[],i=[];this._handlingClick=!0;for(var o=r.length-1;o>=0;o--)t=r[o],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<n.length;o++)this._map.hasLayer(n[o])||this._map.addLayer(n[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,r=this._layerControlInputs,n=this._map.getZoom(),i=r.length-1;i>=0;i--)t=r[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ep(t,"click",ek),this.expand();var e=this;setTimeout(function(){em(t,"click",ek),e._preventClick=!1})}}),eL=eM.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",r=t2("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,r,n,i){var o=t2("a",r,n);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),e_(o),ep(o,"click",eS),ep(o,"click",i,this),ep(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";t9(this._zoomInButton,e),t9(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(t7(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(t7(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});eR.mergeOptions({zoomControl:!0}),eR.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new eL,this.addControl(this.zoomControl))});var e$=eM.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",r=t2("div",e),n=this.options;return this._addScales(n,e+"-line",r),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,r){t.metric&&(this._mScale=t2("div",e,r)),t.imperial&&(this._iScale=t2("div",e,r))},_update:function(){var t=this._map,e=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+" m":e/1e3+" km",e/t)},_updateImperial:function(t){var e,r,n,i=3.2808399*t;i>5280?(e=i/5280,r=this._getRoundNum(e),this._updateScale(this._iScale,r+" mi",r/e)):(n=this._getRoundNum(i),this._updateScale(this._iScale,n+" ft",n/i))},_updateScale:function(t,e,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),r=t/e;return e*(r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1)}}),eq=eM.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tq.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){x(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=t2("div","leaflet-control-attribution"),e_(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});eR.mergeOptions({attributionControl:!0}),eR.addInitHook(function(){this.options.attributionControl&&new eq().addTo(this)}),eM.Layers=eD,eM.Zoom=eL,eM.Scale=e$,eM.Attribution=eq,eN.layers=function(t,e,r){return new eD(t,e,r)},eN.zoom=function(t){return new eL(t)},eN.scale=function(t){return new e$(t)},eN.attribution=function(t){return new eq(t)};var eQ=Q.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});eQ.addTo=function(t,e){return t.addHandler(e,this),this};var eB=tq.touch?"touchstart mousedown":"mousedown",ej=j.extend({options:{clickTolerance:3},initialize:function(t,e,r,n){x(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=r},enable:function(){this._enabled||(ep(this._dragStartTarget,eB,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ej._dragging===this&&this.finishDrag(!0),em(this._dragStartTarget,eB,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!(!this._enabled||(this._moved=!1,t8(this._element,"leaflet-zoom-anim")))){if(t.touches&&1!==t.touches.length){ej._dragging===this&&this.finishDrag();return}if(!ej._dragging&&!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(ej._dragging=this,this._preventOutline&&ec(this._element),el(),r(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=ed(this._element);this._startPoint=new z(e.clientX,e.clientY),this._startPos=es(this._element),this._parentScale=ef(n);var i="mousedown"===t.type;ep(document,i?"mousemove":"touchmove",this._onMove,this),ep(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&1===t.touches.length?t.touches[0]:t,r=new z(e.clientX,e.clientY)._subtract(this._startPoint);(r.x||r.y)&&(Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,ek(t),this._moved||(this.fire("dragstart"),this._moved=!0,t7(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),t7(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),eo(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){t9(document.body,"leaflet-dragging"),this._lastTarget&&(t9(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),em(document,"mousemove touchmove",this._onMove,this),em(document,"mouseup touchend touchcancel",this._onUp,this),eh(),n();var e=this._moved&&this._moving;this._moving=!1,ej._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ez(t,e,r){var n,i,o,s,a,l,h,c,u,d=[1,4,2,8];for(i=0,h=t.length;i<h;i++)t[i]._code=eH(t[i],e);for(s=0;s<4;s++){for(i=0,c=d[s],n=[],o=(h=t.length)-1;i<h;o=i++)a=t[i],l=t[o],a._code&c?l._code&c||((u=eW(l,a,c,e,r))._code=eH(u,e),n.push(u)):(l._code&c&&((u=eW(l,a,c,e,r))._code=eH(u,e),n.push(u)),n.push(a));t=n}return t}function eZ(t,e){if(!t||0===t.length)throw Error("latlngs not passed");eG(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var r,n,i,o,s,a,l,h,c,u=Y([0,0]),d=W(t);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=eF(t));var f=t.length,p=[];for(r=0;r<f;r++){var g=Y(t[r]);p.push(e.project(Y([g.lat-u.lat,g.lng-u.lng])))}for(r=0,a=l=h=0,n=f-1;r<f;n=r++)i=p[r],o=p[n],s=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*s,h+=(i.y+o.y)*s,a+=3*s;c=0===a?p[0]:[l/a,h/a];var m=e.unproject(F(c));return Y([m.lat+u.lat,m.lng+u.lng])}function eF(t){for(var e=0,r=0,n=0,i=0;i<t.length;i++){var o=Y(t[i]);e+=o.lat,r+=o.lng,n++}return Y([e/n,r/n])}function eX(t,e){if(!e||!t.length)return t.slice();var r=e*e;return t=function(t,e){var r=t.length,n=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(r);n[0]=n[r-1]=1,function t(e,r,n,i,o){var s,a,l,h=0;for(a=i+1;a<=o-1;a++)(l=eY(e[a],e[i],e[o],!0))>h&&(s=a,h=l);h>n&&(r[s]=1,t(e,r,n,i,s),t(e,r,n,s,o))}(t,n,e,0,r-1);var i,o=[];for(i=0;i<r;i++)n[i]&&o.push(t[i]);return o}(t=function(t,e){for(var r=[t[0]],n=1,i=0,o=t.length;n<o;n++)(function(t,e){var r=e.x-t.x,n=e.y-t.y;return r*r+n*n})(t[n],t[i])>e&&(r.push(t[n]),i=n);return i<o-1&&r.push(t[o-1]),r}(t,r),r)}function eV(t,e,r){return Math.sqrt(eY(t,e,r,!0))}function eU(t,e,r,n,i){var o,s,l,h=n?a:eH(t,r),c=eH(e,r);for(a=c;;){if(!(h|c))return[t,e];if(h&c)return!1;l=eH(s=eW(t,e,o=h||c,r,i),r),o===h?(t=s,h=l):(e=s,c=l)}}function eW(t,e,r,n,i){var o,s,a=e.x-t.x,l=e.y-t.y,h=n.min,c=n.max;return 8&r?(o=t.x+a*(c.y-t.y)/l,s=c.y):4&r?(o=t.x+a*(h.y-t.y)/l,s=h.y):2&r?(o=c.x,s=t.y+l*(c.x-t.x)/a):1&r&&(o=h.x,s=t.y+l*(h.x-t.x)/a),new z(o,s,i)}function eH(t,e){var r=0;return t.x<e.min.x?r|=1:t.x>e.max.x&&(r|=2),t.y<e.min.y?r|=4:t.y>e.max.y&&(r|=8),r}function eY(t,e,r,n){var i,o=e.x,s=e.y,a=r.x-o,l=r.y-s,h=a*a+l*l;return h>0&&((i=((t.x-o)*a+(t.y-s)*l)/h)>1?(o=r.x,s=r.y):i>0&&(o+=a*i,s+=l*i)),a=t.x-o,l=t.y-s,n?a*a+l*l:new z(o,s)}function eG(t){return!A(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function eK(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),eG(t)}function eJ(t,e){if(!t||0===t.length)throw Error("latlngs not passed");eG(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var r,n,i,o,s,a,l,h,c=Y([0,0]),u=W(t);u.getNorthWest().distanceTo(u.getSouthWest())*u.getNorthEast().distanceTo(u.getNorthWest())<1700&&(c=eF(t));var d=t.length,f=[];for(r=0;r<d;r++){var p=Y(t[r]);f.push(e.project(Y([p.lat-c.lat,p.lng-c.lng])))}for(r=0,n=0;r<d-1;r++)n+=f[r].distanceTo(f[r+1])/2;if(0===n)h=f[0];else for(r=0,o=0;r<d-1;r++)if(s=f[r],a=f[r+1],(o+=i=s.distanceTo(a))>n){l=(o-n)/i,h=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}var g=e.unproject(F(h));return Y([g.lat+c.lat,g.lng+c.lng])}var e0={project:function(t){return new z(t.lng,t.lat)},unproject:function(t){return new H(t.y,t.x)},bounds:new X([-180,-90],[180,90])},e1={R:6378137,R_MINOR:6356752.314245179,bounds:new X([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,r=this.R,n=t.lat*e,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),s=o*Math.sin(n);return n=-r*Math.log(Math.max(Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),o/2),1e-10)),new z(t.lng*e*r,n)},unproject:function(t){for(var e,r=180/Math.PI,n=this.R,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),s=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(s),l=0,h=.1;l<15&&Math.abs(h)>1e-7;l++)h=Math.PI/2-2*Math.atan(s*(e=Math.pow((1-(e=o*Math.sin(a)))/(1+e),o/2)))-a,a+=h;return new H(a*r,t.x*r/n)}},e2=e({},K,{code:"EPSG:3395",projection:e1,transformation:te(u=.5/(Math.PI*e1.R),.5,-u,.5)}),e3=e({},K,{code:"EPSG:4326",projection:e0,transformation:te(1/180,1,-1/180,.5)}),e4=e({},G,{projection:e0,transformation:te(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var r=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(r*r+n*n)},infinite:!0});G.Earth=K,G.EPSG3395=e2,G.EPSG3857=tr,G.EPSG900913=tn,G.EPSG4326=e3,G.Simple=e4;var e5=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[g(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[g(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var r=this.getEvents();e.on(r,this),this.once("remove",function(){e.off(r,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});eR.include({addLayer:function(t){if(!t._layerAdd)throw Error("The provided object is not a Layer.");var e=g(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=g(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return g(t)in this._layers},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},_addLayers:function(t){t=t?A(t)?t:[t]:[];for(var e=0,r=t.length;e<r;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[g(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=g(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,r=this._getZoomSpan();for(var n in this._zoomBoundLayers){var i=this._zoomBoundLayers[n].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var e6=e5.extend({initialize:function(t,e){var r,n;if(x(this,e),this._layers={},t)for(r=0,n=t.length;r<n;r++)this.addLayer(t[r])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,r,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(r=this._layers[e])[t]&&r[t].apply(r,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return g(t)}}),e8=e6.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),e6.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),e6.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new U;for(var e in this._layers){var r=this._layers[e];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),e7=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){x(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var r=this._getIconUrl(t);if(!r){if("icon"===t)throw Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(r,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n},_setIconStyles:function(t,e){var r=this.options,n=r[e+"Size"];"number"==typeof n&&(n=[n,n]);var i=F(n),o=F("shadow"===e&&r.shadowAnchor||r.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(r.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return tq.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),e9=e7.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof e9.imagePath&&(e9.imagePath=this._detectIconPath()),(this.options.imagePath||e9.imagePath)+e7.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,r){var n=e.exec(t);return n&&n[r]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=t2("div","leaflet-default-icon-path",document.body),e=t1(t,"background-image")||t1(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),rt=eQ.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ej(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),t7(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&t9(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,r=e._map,n=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=es(e._icon),s=r.getPixelBounds(),a=r.getPixelOrigin(),l=V(s.min._subtract(a).add(i),s.max._subtract(a).subtract(i));if(!l.contains(o)){var h=F((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(n);r.panBy(h,{animate:!1}),this._draggable._newPos._add(h),this._draggable._startPos._add(h),eo(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=D(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,r=e._shadow,n=es(e._icon),i=e._map.layerPointToLatLng(n);r&&eo(r,n),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),re=e5.extend({options:{icon:new e9,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){x(this,e),this._latlng=Y(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=Y(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),n=!1;r!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(r.title=t.title),"IMG"===r.tagName&&(r.alt=t.alt||"")),t7(r,e),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ep(r,"focus",this._panOnFocus,this);var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(t7(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&em(this._icon,"focus",this._panOnFocus,this),t3(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&t3(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&eo(this._icon,t),this._shadow&&eo(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(t7(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rt)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rt(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&er(this._icon,t),this._shadow&&er(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,r=e.iconSize?F(e.iconSize):F(0,0),n=e.iconAnchor?F(e.iconAnchor):F(0,0);t.panInside(this._latlng,{paddingTopLeft:n,paddingBottomRight:r.subtract(n)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),rr=e5.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return x(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rn=rr.extend({options:{fill:!0,radius:10},initialize:function(t,e){x(this,e),this._latlng=Y(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=Y(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return rr.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,r=this._clickTolerance(),n=[t+r,e+r];this._pxBounds=new X(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),ri=rn.extend({initialize:function(t,r,n){if("number"==typeof r&&(r=e({},n,{radius:r})),x(this,r),this._latlng=Y(t),isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new U(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:rr.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,r=this._map,n=r.options.crs;if(n.distance===K.distance){var i=Math.PI/180,o=this._mRadius/K.R/i,s=r.project([e+o,t]),a=r.project([e-o,t]),l=s.add(a).divideBy(2),h=r.unproject(l).lat,c=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(h*i))/(Math.cos(e*i)*Math.cos(h*i)))/i;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=l.subtract(r.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-r.project([h,t-c]).x,this._radiusY=l.y-s.y}else{var u=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(u).x}this._updateBounds()}}),ro=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){x(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,r,n=1/0,i=null,o=eY,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],h=1,c=l.length;h<c;h++){var u=o(t,e=l[h-1],r=l[h],!0);u<n&&(n=u,i=o(t,e,r))}return i&&(i.distance=Math.sqrt(n)),i},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");return eJ(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=Y(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new U,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return eG(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],r=eG(t),n=0,i=t.length;n<i;n++)r?(e[n]=Y(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new z(t,t);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,r){var n,i,o=t[0]instanceof H,s=t.length;if(o){for(n=0,i=[];n<s;n++)i[n]=this._map.latLngToLayerPoint(t[n]),r.extend(i[n]);e.push(i)}else for(n=0;n<s;n++)this._projectLatlngs(t[n],e,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip){this._parts=this._rings;return}var e,r,n,i,o,s,a,l=this._parts;for(e=0,n=0,i=this._rings.length;e<i;e++)for(r=0,o=(a=this._rings[e]).length;r<o-1;r++)(s=eU(a[r],a[r+1],t,r,!0))&&(l[n]=l[n]||[],l[n].push(s[0]),(s[1]!==a[r+1]||r===o-2)&&(l[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,r=0,n=t.length;r<n;r++)t[r]=eX(t[r],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var r,n,i,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,o=this._parts.length;r<o;r++)for(n=0,i=(s=(a=this._parts[r]).length)-1;n<s;i=n++)if((e||0!==n)&&eV(t,a[i],a[n])<=l)return!0;return!1}});ro._flat=eK;var rs=ro.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");return eZ(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=ro.prototype._convertLatLngs.call(this,t),r=e.length;return r>=2&&e[0]instanceof H&&e[0].equals(e[r-1])&&e.pop(),e},_setLatLngs:function(t){ro.prototype._setLatLngs.call(this,t),eG(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return eG(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,r=new z(e,e);if(t=new X(t.min.subtract(r),t.max.add(r)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip){this._parts=this._rings;return}for(var n,i=0,o=this._rings.length;i<o;i++)(n=ez(this._rings[i],t,!0)).length&&this._parts.push(n)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,r,n,i,o,s,a,l,h=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,a=this._parts.length;i<a;i++)for(o=0,s=(l=(e=this._parts[i]).length)-1;o<l;s=o++)r=e[o],n=e[s],r.y>t.y!=n.y>t.y&&t.x<(n.x-r.x)*(t.y-r.y)/(n.y-r.y)+r.x&&(h=!h);return h||ro.prototype._containsPoint.call(this,t,!0)}}),ra=e8.extend({initialize:function(t,e){x(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,r,n,i=A(t)?t:t.features;if(i){for(e=0,r=i.length;e<r;e++)((n=i[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=rl(t,o);return s?(s.feature=rg(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function rl(t,e){var r,n,i,o="Feature"===t.type?t.geometry:t,s=o?o.coordinates:null,a=[],l=e&&e.pointToLayer,h=e&&e.coordsToLatLng||rc;if(!s&&!o)return null;switch(o.type){case"Point":return rh(l,t,r=h(s),e);case"MultiPoint":for(n=0,i=s.length;n<i;n++)r=h(s[n]),a.push(rh(l,t,r,e));return new e8(a);case"LineString":case"MultiLineString":return new ro(ru(s,"LineString"===o.type?0:1,h),e);case"Polygon":case"MultiPolygon":return new rs(ru(s,"Polygon"===o.type?1:2,h),e);case"GeometryCollection":for(n=0,i=o.geometries.length;n<i;n++){var c=rl({geometry:o.geometries[n],type:"Feature",properties:t.properties},e);c&&a.push(c)}return new e8(a);case"FeatureCollection":for(n=0,i=o.features.length;n<i;n++){var u=rl(o.features[n],e);u&&a.push(u)}return new e8(a);default:throw Error("Invalid GeoJSON object.")}}function rh(t,e,r,n){return t?t(e,r):new re(r,n&&n.markersInheritOptions&&n)}function rc(t){return new H(t[1],t[0],t[2])}function ru(t,e,r){for(var n=[],i=0,o=t.length;i<o;i++)n.push(e?ru(t[i],e-1,r):(r||rc)(t[i]));return n}function rd(t,e){return void 0!==(t=Y(t)).alt?[b(t.lng,e),b(t.lat,e),b(t.alt,e)]:[b(t.lng,e),b(t.lat,e)]}function rf(t,e,r,n){for(var i=[],o=0,s=t.length;o<s;o++)i.push(e?rf(t[o],eG(t[o])?0:e-1,r,n):rd(t[o],n));return!e&&r&&i.length>0&&i.push(i[0].slice()),i}function rp(t,r){return t.feature?e({},t.feature,{geometry:r}):rg(r)}function rg(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var rm={toGeoJSON:function(t){return rp(this,{type:"Point",coordinates:rd(this.getLatLng(),t)})}};function rv(t,e){return new ra(t,e)}re.include(rm),ri.include(rm),rn.include(rm),ro.include({toGeoJSON:function(t){var e=!eG(this._latlngs),r=rf(this._latlngs,e?1:0,!1,t);return rp(this,{type:(e?"Multi":"")+"LineString",coordinates:r})}}),rs.include({toGeoJSON:function(t){var e=!eG(this._latlngs),r=e&&!eG(this._latlngs[0]),n=rf(this._latlngs,r?2:e?1:0,!0,t);return e||(n=[n]),rp(this,{type:(r?"Multi":"")+"Polygon",coordinates:n})}}),e6.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(r){e.push(r.toGeoJSON(t).geometry.coordinates)}),rp(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var r="GeometryCollection"===e,n=[];return(this.eachLayer(function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(r)n.push(i.geometry);else{var o=rg(i);"FeatureCollection"===o.type?n.push.apply(n,o.features):n.push(o)}}}),r)?rp(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var ry=e5.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,r){this._url=t,this._bounds=W(e),x(this,r)},onAdd:function(){!this._image&&(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(t7(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){t3(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&t5(this._image),this},bringToBack:function(){return this._map&&t6(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=W(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:t2("img");if(t7(e,"leaflet-image-layer"),this._zoomAnimated&&t7(e,"leaflet-zoom-animated"),this.options.className&&t7(e,this.options.className),e.onselectstart=y,e.onmousemove=y,e.onload=f(this.fire,this,"load"),e.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ei(this._image,r,e)},_reset:function(){var t=this._image,e=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=e.getSize();eo(t,e.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){er(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),rb=ry.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:t2("video");if(t7(e,"leaflet-image-layer"),this._zoomAnimated&&t7(e,"leaflet-zoom-animated"),this.options.className&&t7(e,this.options.className),e.onselectstart=y,e.onmousemove=y,e.onloadeddata=f(this.fire,this,"load"),t){for(var r=e.getElementsByTagName("source"),n=[],i=0;i<r.length;i++)n.push(r[i].src);this._url=r.length>0?n:[e.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=t2("source");s.src=this._url[o],e.appendChild(s)}}}),rO=ry.extend({_initImage:function(){var t=this._image=this._url;t7(t,"leaflet-image-layer"),this._zoomAnimated&&t7(t,"leaflet-zoom-animated"),this.options.className&&t7(t,this.options.className),t.onselectstart=y,t.onmousemove=y}}),rw=e5.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof H||A(t))?(this._latlng=Y(t),x(this,e)):(x(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&er(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&er(this._container,1),this.bringToFront(),this.options.interactive&&(t7(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(er(this._container,0),this._removeTimeout=setTimeout(f(t3,void 0,this._container),200)):t3(this._container),this.options.interactive&&(t9(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Y(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&t5(this._container),this},bringToBack:function(){return this._map&&t6(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof e8){e=null;var r=this._source._layers;for(var n in r)if(r[n]._map){e=r[n];break}if(!e)return!1;this._source=e}if(!t){if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw Error("Unable to get source layer LatLng.")}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=F(this.options.offset),r=this._getAnchor();this._zoomAnimated?eo(this._container,t.add(r)):e=e.add(t).add(r);var n=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});eR.include({_initOverlay:function(t,e,r,n){var i=e;return i instanceof t||(i=new t(n).setContent(e)),r&&i.setLatLng(r),i}}),e5.include({_initOverlay:function(t,e,r,n){var i=r;return i instanceof t?(x(i,n),i._source=this):(i=e&&!n?e:new t(n,this)).setContent(r),i}});var rx=rw.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,rw.prototype.openOn.call(this,t)},onAdd:function(t){rw.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),!this._source||(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",ew))},onRemove:function(t){rw.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),!this._source||(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",ew))},getEvents:function(){var t=rw.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=t2("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=t2("div",t+"-content-wrapper",e);if(this._contentNode=t2("div",t+"-content",r),e_(e),ex(this._contentNode),ep(e,"contextmenu",ew),this._tipContainer=t2("div",t+"-tip-container",e),this._tip=t2("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=t2("a",t+"-close-button",e);n.setAttribute("role","button"),n.setAttribute("aria-label","Close popup"),n.href="#close",n.innerHTML='<span aria-hidden="true">&#215;</span>',ep(n,"click",function(t){ek(t),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.max(r=Math.min(r,this.options.maxWidth),this.options.minWidth),e.width=r+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&n>i?(e.height=i+"px",t7(t,o)):t9(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();eo(this._container,e.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(t1(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+e,n=this._containerWidth,i=new z(this._containerLeft,-r-this._containerBottom);i._add(es(this._container));var o=t.layerPointToContainerPoint(i),s=F(this.options.autoPanPadding),a=F(this.options.autoPanPaddingTopLeft||s),l=F(this.options.autoPanPaddingBottomRight||s),h=t.getSize(),c=0,u=0;o.x+n+l.x>h.x&&(c=o.x+n-h.x+l.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+r+l.y>h.y&&(u=o.y+r-h.y+l.y),o.y-u-a.y<0&&(u=o.y-a.y),(c||u)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([c,u]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});eR.mergeOptions({closePopupOnClick:!0}),eR.include({openPopup:function(t,e,r){return this._initOverlay(rx,t,e,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),e5.include({bindPopup:function(t,e){return this._popup=this._initOverlay(rx,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof e8||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){eS(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof rr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var r_=rw.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){rw.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){rw.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=rw.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=t2("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,r,n=this._map,i=this._container,o=n.latLngToContainerPoint(n.getCenter()),s=n.layerPointToContainerPoint(t),a=this.options.direction,l=i.offsetWidth,h=i.offsetHeight,c=F(this.options.offset),u=this._getAnchor();"top"===a?(e=l/2,r=h):"bottom"===a?(e=l/2,r=0):("center"===a?e=l/2:"right"===a?e=0:"left"===a?e=l:s.x<o.x?(a="right",e=0):(a="left",e=l+(c.x+u.x)*2),r=h/2),t=t.subtract(F(e,r,!0)).add(c).add(u),t9(i,"leaflet-tooltip-right"),t9(i,"leaflet-tooltip-left"),t9(i,"leaflet-tooltip-top"),t9(i,"leaflet-tooltip-bottom"),t7(i,"leaflet-tooltip-"+a),eo(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&er(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});eR.include({openTooltip:function(t,e,r){return this._initOverlay(r_,t,e,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),e5.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(r_,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?e.add=this._openTooltip:(e.mouseover=this._openTooltip,e.mouseout=this.closeTooltip,e.click=this._openTooltip,this._map?this._addFocusListeners():e.add=this._addFocusListeners),this._tooltip.options.sticky&&(e.mousemove=this._moveTooltip),this[t?"off":"on"](e),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof e8||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&(ep(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ep(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e,r,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),r=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(n)}});var rk=e7.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(t4(e),e.appendChild(r.html)):e.innerHTML=!1!==r.html?r.html:"",r.bgPos){var n=F(r.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});e7.Default=e9;var rS=e5.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tq.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){x(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),t3(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(t5(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(t6(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof z?t:new z(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,r=this.getPane().children,n=-t(-1/0,1/0),i=0,o=r.length;i<o;i++)e=r[i].style.zIndex,r[i]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tq.ielt9){er(this._container,this.options.opacity);var t=+new Date,e=!1,r=!1;for(var n in this._tiles){var i=this._tiles[n];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);er(i.el,o),o<1?e=!0:(i.active?r=!0:this._onOpaqueTile(i),i.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),e&&(q(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=t2("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=e-Math.abs(t-r),this._onUpdateLevel(r)):(t3(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var n=this._levels[t],i=this._map;return n||((n=this._levels[t]={}).el=t2("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,i.getCenter(),i.getZoom()),y(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var t,e,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)t3(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,r,n){var i=Math.floor(t/2),o=Math.floor(e/2),s=r-1,a=new z(+i,+o);a.z=+s;var l=this._tileCoordsToKey(a),h=this._tiles[l];return h&&h.active?(h.retain=!0,!0):(h&&h.loaded&&(h.retain=!0),s>n&&this._retainParent(i,o,s,n))},_retainChildren:function(t,e,r,n){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var s=new z(i,o);s.z=r+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];if(l&&l.active){l.retain=!0;continue}l&&l.loaded&&(l.retain=!0),r+1<n&&this._retainChildren(i,o,r+1,n)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,r,n){var i=Math.round(e);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;(!n||o)&&(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,e)},_setZoomTransform:function(t,e,r){var n=this._map.getZoomScale(r,t.zoom),i=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,r)).round();tq.any3d?ei(t.el,i,n):eo(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,r=this._tileSize=this.getTileSize(),n=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/r.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/r.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/r.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/r.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,r=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(r,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*n);return new X(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var r=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(n),o=i.getCenter(),s=[],a=this.options.keepBuffer,l=new X(i.getBottomLeft().subtract([a,-a]),i.getTopRight().add([a,-a]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw Error("Attempted to load an infinite number of tiles");for(var h in this._tiles){var c=this._tiles[h].coords;c.z===this._tileZoom&&l.contains(new z(c.x,c.y))||(this._tiles[h].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var u=i.min.y;u<=i.max.y;u++)for(var d=i.min.x;d<=i.max.x;d++){var f=new z(d,u);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],g);this._level.el.appendChild(g)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var r=this._globalTileRange;if(!e.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!e.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return W(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,r=this.getTileSize(),n=t.scaleBy(r),i=n.add(r);return[e.unproject(n,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),r=new U(e[0],e[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),r=new z(+e[0],+e[1]);return r.z=+e[2],r},_removeTile:function(t){var e=this._tiles[t];e&&(t3(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){t7(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=y,t.onmousemove=y,tq.ielt9&&this.options.opacity<1&&er(t,this.options.opacity)},_addTile:function(t,e){var r=this._getTilePos(t),n=this._tileCoordsToKey(t),i=this.createTile(this._wrapCoords(t),f(this._tileReady,this,t));this._initTile(i),this.createTile.length<2&&D(f(this._tileReady,this,t,null,i)),eo(i,r),this._tiles[n]={el:i,coords:t,current:!0},e.appendChild(i),this.fire("tileloadstart",{tile:i,coords:t})},_tileReady:function(t,e,r){e&&this.fire("tileerror",{error:e,tile:r,coords:t});var n=this._tileCoordsToKey(t);(r=this._tiles[n])&&(r.loaded=+new Date,this._map._fadeAnimated?(er(r.el,0),q(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),e||(t7(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tq.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new z(this._wrapX?v(t.x,this._wrapX):t.x,this._wrapY?v(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new X(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),rC=rS.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=x(this,e)).detectRetina&&tq.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var r=document.createElement("img");return ep(r,"load",f(this._tileOnLoad,this,e,r)),ep(r,"error",f(this._tileOnError,this,e,r)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var r={r:tq.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(r.y=n),r["-y"]=n}return C(this._url,e(r,this.options))},_tileOnLoad:function(t,e){tq.ielt9?setTimeout(f(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,r){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(r,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,r=this.options.zoomReverse,n=this.options.zoomOffset;return r&&(t=e-t),t+n},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=y,e.onerror=y,!e.complete)){e.src=T;var r=this._tiles[t].coords;t3(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:r})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",T),rS.prototype._removeTile.call(this,t)},_tileReady:function(t,e,r){if(this._map&&(!r||r.getAttribute("src")!==T))return rS.prototype._tileReady.call(this,t,e,r)}});function rA(t,e){return new rC(t,e)}var rE=rC.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,r){this._url=t;var n=e({},this.defaultWmsParams);for(var i in r)i in this.options||(n[i]=r[i]);var o=(r=x(this,r)).detectRetina&&tq.retina?2:1,s=this.getTileSize();n.width=s.x*o,n.height=s.y*o,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,rC.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),r=this._crs,n=V(r.project(e[0]),r.project(e[1])),i=n.min,o=n.max,s=(this._wmsVersion>=1.3&&this._crs===e3?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),a=rC.prototype.getTileUrl.call(this,t);return a+k(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,r){return e(this.wmsParams,t),r||this.redraw(),this}});rC.WMS=rE,rA.wms=function(t,e){return new rE(t,e)};var rT=e5.extend({options:{padding:.1},initialize:function(t){x(this,t),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),t7(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var r=this._map.getZoomScale(e,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,e),o=n.multiplyBy(-r).add(i).subtract(this._map._getNewPixelOrigin(t,e));tq.any3d?ei(this._container,o,r):eo(this._container,o)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),r=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new X(r,r.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),rP=rT.extend({options:{tolerance:0},getEvents:function(){var t=rT.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rT.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ep(t,"mousemove",this._onMouseMove,this),ep(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ep(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,t3(this._container),em(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){rT.prototype._update.call(this);var t=this._bounds,e=this._container,r=t.getSize(),n=tq.retina?2:1;eo(e,t.min),e.width=n*r.x,e.height=n*r.y,e.style.width=r.x+"px",e.style.height=r.y+"px",tq.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){rT.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[g(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,r=e.next,n=e.prev;r?r.prev=n:this._drawLast=n,n?n.next=r:this._drawFirst=r,delete t._order,delete this._layers[g(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,r,n=t.options.dashArray.split(/[, ]+/),i=[];for(r=0;r<n.length;r++){if(isNaN(e=Number(n[r])))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var r=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var r,n,i,o,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),r=0;r<a;r++){for(n=0,i=s[r].length;n<i;n++)o=s[r][n],l[n?"lineTo":"moveTo"](o.x,o.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,r=this._ctx,n=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==i&&(r.save(),r.scale(1,i)),r.beginPath(),r.arc(e.x,e.y/i,n,0,2*Math.PI,!1),1!==i&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,e){var r=e.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&0!==r.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var e,r,n=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(n)&&(!("click"===t.type||"preclick"===t.type)||!this._map._draggableMoved(e))&&(r=e);this._fireEvent(!!r&&[r],t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving())&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(t9(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var r,n,i=this._drawFirst;i;i=i.next)(r=i.layer).options.interactive&&r._containsPoint(e)&&(n=r);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(t7(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,r){this._map._fireDOMEvent(e,r||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var r=e.next,n=e.prev;if(!r)return;r.prev=n,n?n.next=r:r&&(this._drawFirst=r),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var r=e.next,n=e.prev;if(!n)return;n.next=r,r?r.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function rI(t){return tq.canvas?new rP(t):null}var rR=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),rM=tq.vml?rR:ti,rN=rT.extend({_initContainer:function(){this._container=rM("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=rM("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){t3(this._container),em(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){rT.prototype._update.call(this);var t=this._bounds,e=t.getSize(),r=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,r.setAttribute("width",e.x),r.setAttribute("height",e.y)),eo(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=rM("path");t.options.className&&t7(e,t.options.className),t.options.interactive&&t7(e,"leaflet-interactive"),this._updateStyle(t),this._layers[g(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){t3(t._path),t.removeInteractiveTarget(t._path),delete this._layers[g(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,r=t.options;e&&(r.stroke?(e.setAttribute("stroke",r.color),e.setAttribute("stroke-opacity",r.opacity),e.setAttribute("stroke-width",r.weight),e.setAttribute("stroke-linecap",r.lineCap),e.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?e.setAttribute("stroke-dasharray",r.dashArray):e.removeAttribute("stroke-dasharray"),r.dashOffset?e.setAttribute("stroke-dashoffset",r.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),r.fill?(e.setAttribute("fill",r.fillColor||r.color),e.setAttribute("fill-opacity",r.fillOpacity),e.setAttribute("fill-rule",r.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,to(t._parts,e))},_updateCircle:function(t){var e=t._point,r=Math.max(Math.round(t._radius),1),n=Math.max(Math.round(t._radiusY),1)||r,i="a"+r+","+n+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-r)+","+e.y+i+2*r+",0 "+i+-(2*r)+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){t5(t._path)},_bringToBack:function(t){t6(t._path)}});function rD(t){return tq.svg||tq.vml?new rN(t):null}tq.vml&&rN.include({_initContainer:function(){this._container=t2("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rT.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=rR("shape");t7(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=rR("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[g(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;t3(e),t.removeInteractiveTarget(e),delete this._layers[g(t)]},_updateStyle:function(t){var e=t._stroke,r=t._fill,n=t.options,i=t._container;i.stroked=!!n.stroke,i.filled=!!n.fill,n.stroke?(e||(e=t._stroke=rR("stroke")),i.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=A(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(i.removeChild(e),t._stroke=null),n.fill?(r||(r=t._fill=rR("fill")),i.appendChild(r),r.color=n.fillColor||n.color,r.opacity=n.fillOpacity):r&&(i.removeChild(r),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),r=Math.round(t._radius),n=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+r+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){t5(t._container)},_bringToBack:function(t){t6(t._container)}}),eR.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&rI(t)||rD(t)}});var rL=rs.extend({initialize:function(t,e){rs.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=W(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});rN.create=rM,rN.pointsToPath=to,ra.geometryToLayer=rl,ra.coordsToLatLng=rc,ra.coordsToLatLngs=ru,ra.latLngToCoords=rd,ra.latLngsToCoords=rf,ra.getFeature=rp,ra.asFeature=rg,eR.mergeOptions({boxZoom:!0});var r$=eQ.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ep(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){em(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){t3(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),r(),el(),this._startPoint=this._map.mouseEventToContainerPoint(t),ep(document,{contextmenu:eS,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=t2("div","leaflet-zoom-box",this._container),t7(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new X(this._point,this._startPoint),r=e.getSize();eo(this._box,e.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(t3(this._box),t9(this._container,"leaflet-crosshair")),n(),eh(),em(document,{contextmenu:eS,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var e=new U(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});eR.addInitHook("addHandler","boxZoom",r$),eR.mergeOptions({doubleClickZoom:!0});var rq=eQ.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,r=e.getZoom(),n=e.options.zoomDelta,i=t.originalEvent.shiftKey?r-n:r+n;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});eR.addInitHook("addHandler","doubleClickZoom",rq),eR.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rQ=eQ.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ej(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}t7(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){t9(this._map._container,"leaflet-grab"),t9(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=W(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),r=this._initialWorldOffset,n=this._draggable._newPos.x,i=(n-e+r)%t+e-r,o=(n+e+r)%t-e-r,s=Math.abs(i+r)<Math.abs(o+r)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,r=e.options,n=!r.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=r.easeLinearity,a=i.multiplyBy(s/o),l=a.distanceTo([0,0]),h=Math.min(r.inertiaMaxSpeed,l),c=a.multiplyBy(h/l),u=h/(r.inertiaDeceleration*s),d=c.multiplyBy(-u/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),D(function(){e.panBy(d,{duration:u,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});eR.addInitHook("addHandler","dragging",rQ),eR.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rB=eQ.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ep(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),em(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,r=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,r,n=this._panKeys={},i=this.keyCodes;for(e=0,r=i.left.length;e<r;e++)n[i.left[e]]=[-1*t,0];for(e=0,r=i.right.length;e<r;e++)n[i.right[e]]=[t,0];for(e=0,r=i.down.length;e<r;e++)n[i.down[e]]=[0,t];for(e=0,r=i.up.length;e<r;e++)n[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,r,n=this._zoomKeys={},i=this.keyCodes;for(e=0,r=i.zoomIn.length;e<r;e++)n[i.zoomIn[e]]=t;for(e=0,r=i.zoomOut.length;e<r;e++)n[i.zoomOut[e]]=-t},_addHooks:function(){ep(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){em(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!t.altKey&&!t.ctrlKey&&!t.metaKey){var e,r=t.keyCode,n=this._map;if(r in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress){if(e=this._panKeys[r],t.shiftKey&&(e=F(e).multiplyBy(3)),n.options.maxBounds&&(e=n._limitOffset(F(e),n.options.maxBounds)),n.options.worldCopyJump){var i=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(e)));n.panTo(i)}else n.panBy(e)}}else if(r in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[r]);else{if(27!==r||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}eS(t)}}});eR.addInitHook("addHandler","keyboard",rB),eR.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rj=eQ.extend({addHooks:function(){ep(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){em(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=eT(t),r=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),n),eS(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var n=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,i=r?Math.ceil(n/r)*r:n,o=t._limitZoom(e+(this._delta>0?i:-i))-e;this._delta=0,this._startTime=null,o&&("center"===t.options.scrollWheelZoom?t.setZoom(e+o):t.setZoomAround(this._lastMousePos,e+o))}});eR.addInitHook("addHandler","scrollWheelZoom",rj),eR.mergeOptions({tapHold:tq.touchNative&&tq.safari&&tq.mobile,tapTolerance:15});var rz=eQ.extend({addHooks:function(){ep(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){em(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new z(e.clientX,e.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(ep(document,"touchend",ek),ep(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),600),ep(document,"touchend touchcancel contextmenu",this._cancel,this),ep(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){em(document,"touchend",ek),em(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),em(document,"touchend touchcancel contextmenu",this._cancel,this),em(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new z(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});r._simulated=!0,e.target.dispatchEvent(r)}});eR.addInitHook("addHandler","tapHold",rz),eR.mergeOptions({touchZoom:tq.touch,bounceAtZoomLimits:!0});var rZ=eQ.extend({addHooks:function(){t7(this._map._container,"leaflet-touch-zoom"),ep(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){t9(this._map._container,"leaflet-touch-zoom"),em(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var r=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(r.add(n)._divideBy(2))),this._startDist=r.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ep(document,"touchmove",this._onTouchMove,this),ep(document,"touchend touchcancel",this._onTouchEnd,this),ek(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,r=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),i=r.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(i,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&i<1||this._zoom>e.getMaxZoom()&&i>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{var o=r._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===i&&0===o.x&&0===o.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var s=f(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(s,this,!0),ek(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),em(document,"touchmove",this._onTouchMove,this),em(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});eR.addInitHook("addHandler","touchZoom",rZ),eR.BoxZoom=r$,eR.DoubleClickZoom=rq,eR.Drag=rQ,eR.Keyboard=rB,eR.ScrollWheelZoom=rj,eR.TapHold=rz,eR.TouchZoom=rZ,t.Bounds=X,t.Browser=tq,t.CRS=G,t.Canvas=rP,t.Circle=ri,t.CircleMarker=rn,t.Class=Q,t.Control=eM,t.DivIcon=rk,t.DivOverlay=rw,t.DomEvent={__proto__:null,on:ep,off:em,stopPropagation:ew,disableScrollPropagation:ex,disableClickPropagation:e_,preventDefault:ek,stop:eS,getPropagationPath:eC,getMousePosition:eA,getWheelDelta:eT,isExternalTarget:eP,addListener:ep,removeListener:em},t.DomUtil={__proto__:null,TRANSFORM:tG,TRANSITION:tK,TRANSITION_END:tJ,get:t0,getStyle:t1,create:t2,remove:t3,empty:t4,toFront:t5,toBack:t6,hasClass:t8,addClass:t7,removeClass:t9,setClass:et,getClass:ee,setOpacity:er,testProp:en,setTransform:ei,setPosition:eo,getPosition:es,get disableTextSelection(){return r},get enableTextSelection(){return n},disableImageDrag:el,enableImageDrag:eh,preventOutline:ec,restoreOutline:eu,getSizedParentNode:ed,getScale:ef},t.Draggable=ej,t.Evented=j,t.FeatureGroup=e8,t.GeoJSON=ra,t.GridLayer=rS,t.Handler=eQ,t.Icon=e7,t.ImageOverlay=ry,t.LatLng=H,t.LatLngBounds=U,t.Layer=e5,t.LayerGroup=e6,t.LineUtil={__proto__:null,simplify:eX,pointToSegmentDistance:eV,closestPointOnSegment:function(t,e,r){return eY(t,e,r)},clipSegment:eU,_getEdgeIntersection:eW,_getBitCode:eH,_sqClosestPointOnSegment:eY,isFlat:eG,_flat:eK,polylineCenter:eJ},t.Map=eR,t.Marker=re,t.Mixin={Events:B},t.Path=rr,t.Point=z,t.PolyUtil={__proto__:null,clipPolygon:ez,polygonCenter:eZ,centroid:eF},t.Polygon=rs,t.Polyline=ro,t.Popup=rx,t.PosAnimation=eI,t.Projection={__proto__:null,LonLat:e0,Mercator:e1,SphericalMercator:J},t.Rectangle=rL,t.Renderer=rT,t.SVG=rN,t.SVGOverlay=rO,t.TileLayer=rC,t.Tooltip=r_,t.Transformation=tt,t.Util={__proto__:null,extend:e,create:d,bind:f,get lastId(){return p},stamp:g,throttle:m,wrapNum:v,falseFn:y,formatNum:b,trim:O,splitWords:w,setOptions:x,getParamString:k,template:C,isArray:A,indexOf:E,emptyImageUrl:T,requestFn:M,cancelFn:N,requestAnimFrame:D,cancelAnimFrame:q},t.VideoOverlay=rb,t.bind=f,t.bounds=V,t.canvas=rI,t.circle=function(t,e,r){return new ri(t,e,r)},t.circleMarker=function(t,e){return new rn(t,e)},t.control=eN,t.divIcon=function(t){return new rk(t)},t.extend=e,t.featureGroup=function(t,e){return new e8(t,e)},t.geoJSON=rv,t.geoJson=rv,t.gridLayer=function(t){return new rS(t)},t.icon=function(t){return new e7(t)},t.imageOverlay=function(t,e,r){return new ry(t,e,r)},t.latLng=Y,t.latLngBounds=W,t.layerGroup=function(t,e){return new e6(t,e)},t.map=function(t,e){return new eR(t,e)},t.marker=function(t,e){return new re(t,e)},t.point=F,t.polygon=function(t,e){return new rs(t,e)},t.polyline=function(t,e){return new ro(t,e)},t.popup=function(t,e){return new rx(t,e)},t.rectangle=function(t,e){return new rL(t,e)},t.setOptions=x,t.stamp=g,t.svg=rD,t.svgOverlay=function(t,e,r){return new rO(t,e,r)},t.tileLayer=rA,t.tooltip=function(t,e){return new r_(t,e)},t.transformation=te,t.version="1.9.4",t.videoOverlay=function(t,e,r){return new rb(t,e,r)};var rF=window.L;t.noConflict=function(){return window.L=rF,this},window.L=t}($U);class $W{getMap(){return this.map}init(t){var e=this;return eW(function*(){if(!document.head.querySelector("#leaflet-styles")){let t=$(`<link id="leaflet-styles" rel="stylesheet" href="${$W.CssUrl}"
            integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
            crossorigin=""/>`);document.head.append(t[0])}"L"in window||(yield import($W.ScriptUrl)),t.resolveReady(1),e.map=/*@__PURE__*/ew($U).map(t,{attributionControl:!1}).setView([51.505,-.09],t.zoom),/*@__PURE__*/ew($U).control.attribution({prefix:""}).addTo(e.map),/*@__PURE__*/ew($U).tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(e.map)})()}}$W.CssUrl="https://unpkg.com/leaflet/dist/leaflet.css",$W.ScriptUrl="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js";class $H{init(){"leaflet"===this.mapElement.provider&&(this.provider=new $W),this.provider&&this.provider.init(this.mapElement)}getMap(){return this.provider?this.provider.getMap():""}constructor(t){this.mapElement=t,this.init()}}var $Y={};$Y=":host{width:500px;height:500px;display:inline-block}div.map{width:100%;height:100%}";class $G extends r5{firstUpdated(t){this.isReady.then(this.ready)}ready(t){}constructor(){super(...arguments),this.isReady=new Promise((t,e)=>{this.resolveReady=t,this.rejectReady=e})}}var $K=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $J=class extends $G{connectedCallback(){super.connectedCallback(),this.service=new $H(this)}getMap(){return this.service.getMap()}createRenderRoot(){return this}constructor(){super(...arguments),this.provider="leaflet",this.zoom=13}};$J.styles=e0(/*@__PURE__*/ew($Y)),$K([ru()],$J.prototype,"provider",void 0),$K([ru()],$J.prototype,"zoom",void 0),$K([ru()],$J.prototype,"mode",void 0),$K([ru({converter:nl})],$J.prototype,"parameters",void 0),$K([ru({converter:sw(";")})],$J.prototype,"places",void 0),$J=$K([eF("juel-map")],$J);class $0 extends r5{firstUpdated(t){if("getMap"in this.parentElement){let t=this.parentElement;t.isReady.then(()=>{this.ready(t.getMap())})}}ready(t){}extendStyles(t){$.extend(t,this.styles)}bindPopup(t){setTimeout(()=>{this.firstElementChild&&t.bindPopup(this.firstElementChild)})}}!function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);o>3&&s&&Object.defineProperty(e,r,s)}([ru({converter:nl})],$0.prototype,"styles",void 0);var $1=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $2=class extends $0{ready(t){this.marker=/*@__PURE__*/ew($U).marker(this.points).addTo(t),this.bindPopup(this.marker)}};$1([ru({converter:sw()})],$2.prototype,"points",void 0),$2=$1([eF("juel-map-marker")],$2);var $3=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let $4=class extends $0{ready(t){this.src&&(this.map=t,fetch(this.src).then(t=>{t.json().then(t=>{this.createJson(t)})}))}createJson(t){let e={style:{}};this.extendStyles(e.style);let r=/*@__PURE__*/ew($U).geoJSON(t,e).addTo(this.map).getBounds().getCenter();this.map.setView(r)}};$3([ru()],$4.prototype,"src",void 0),$4=$3([eF("juel-map-json")],$4);var $5={value:()=>{}};function $6(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw Error("illegal type: "+t);n[t]=[]}return new $8(n)}function $8(t){this._=t}function $7(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=$5,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}function $9(){}function qt(t){return null==t?$9:function(){return this.querySelector(t)}}function qe(){return[]}function qr(t){return null==t?qe:function(){return this.querySelectorAll(t)}}function qn(t){return function(){return this.matches(t)}}function qi(t){return function(e){return e.matches(t)}}$8.prototype=$6.prototype={constructor:$8,on:function(t,e){var r,n=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=function(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}(n[r],t.name)))return r;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++o<s;)if(r=(t=i[o]).type)n[r]=$7(n[r],t.name,e);else if(null==e)for(r in n)n[r]=$7(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new $8(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=Array(r),o=0;o<r;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(n=this._[t],o=0,r=n.length;o<r;++o)n[o].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};var qo=Array.prototype.find;function qs(){return this.firstElementChild}var qa=Array.prototype.filter;function ql(){return Array.from(this.children)}function qh(t){return Array(t.length)}function qc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function qu(t,e,r,n,i,o){for(var s,a=0,l=e.length,h=o.length;a<h;++a)(s=e[a])?(s.__data__=o[a],n[a]=s):r[a]=new qc(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function qd(t,e,r,n,i,o,s){var a,l,h,c=new Map,u=e.length,d=o.length,f=Array(u);for(a=0;a<u;++a)(l=e[a])&&(f[a]=h=s.call(l,l.__data__,a,e)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=s.call(t,o[a],a,o)+"",(l=c.get(h))?(n[a]=l,l.__data__=o[a],c.delete(h)):r[a]=new qc(t,o[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(f[a])===l&&(i[a]=l)}function qf(t){return t.__data__}function qp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}qc.prototype={constructor:qc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var qg="http://www.w3.org/1999/xhtml",qm={svg:"http://www.w3.org/2000/svg",xhtml:qg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qv(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),qm.hasOwnProperty(e)?{space:qm[e],local:t}:t}function qy(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qb(t,e){return t.style.getPropertyValue(e)||qy(t).getComputedStyle(t,null).getPropertyValue(e)}function qO(t){return t.trim().split(/^|\s+/)}function qw(t){return t.classList||new qx(t)}function qx(t){this._node=t,this._names=qO(t.getAttribute("class")||"")}function q_(t,e){for(var r=qw(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function qk(t,e){for(var r=qw(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function qS(){this.textContent=""}function qC(){this.innerHTML=""}function qA(){this.nextSibling&&this.parentNode.appendChild(this)}function qE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qT(t){var e=qv(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===qg&&e.documentElement.namespaceURI===qg?e.createElement(t):e.createElementNS(r,t)}})(e)}function qP(){return null}function qI(){var t=this.parentNode;t&&t.removeChild(this)}function qR(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qM(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qN(t){return function(){var e=this.__on;if(e){for(var r,n=0,i=-1,o=e.length;n<o;++n)(r=e[n],t.type&&r.type!==t.type||r.name!==t.name)?e[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?e.length=i:delete this.__on}}}function qD(t,e,r){return function(){var n,i=this.__on,o=function(t){e.call(this,t,this.__data__)};if(i){for(var s=0,a=i.length;s<a;++s)if((n=i[s]).type===t.type&&n.name===t.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=o,n.options=r),n.value=e;return}}this.addEventListener(t.type,o,r),n={type:t.type,name:t.name,value:e,listener:o,options:r},i?i.push(n):this.__on=[n]}}function qL(t,e,r){var n=qy(t),i=n.CustomEvent;"function"==typeof i?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}qx.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var q$=[null];function qq(t,e){this._groups=t,this._parents=e}function qQ(){return new qq([[document.documentElement]],q$)}qq.prototype=qQ.prototype={constructor:qq,select:function(t){"function"!=typeof t&&(t=qt(t));for(var e=this._groups,r=e.length,n=Array(r),i=0;i<r;++i)for(var o,s,a=e[i],l=a.length,h=n[i]=Array(l),c=0;c<l;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),h[c]=s);return new qq(n,this._parents)},selectAll:function(t){if("function"==typeof t){var e;e=t,t=function(){var t;return t=e.apply(this,arguments),null==t?[]:Array.isArray(t)?t:Array.from(t)}}else t=qr(t);for(var r=this._groups,n=r.length,i=[],o=[],s=0;s<n;++s)for(var a,l=r[s],h=l.length,c=0;c<h;++c)(a=l[c])&&(i.push(t.call(a,a.__data__,c,l)),o.push(a));return new qq(i,o)},selectChild:function(t){var e;return this.select(null==t?qs:(e="function"==typeof t?t:qi(t),function(){return qo.call(this.children,e)}))},selectChildren:function(t){var e;return this.selectAll(null==t?ql:(e="function"==typeof t?t:qi(t),function(){return qa.call(this.children,e)}))},filter:function(t){"function"!=typeof t&&(t=qn(t));for(var e=this._groups,r=e.length,n=Array(r),i=0;i<r;++i)for(var o,s=e[i],a=s.length,l=n[i]=[],h=0;h<a;++h)(o=s[h])&&t.call(o,o.__data__,h,s)&&l.push(o);return new qq(n,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,qf);var r=e?qd:qu,n=this._parents,i=this._groups;"function"!=typeof t&&(y=t,t=function(){return y});for(var o=i.length,s=Array(o),a=Array(o),l=Array(o),h=0;h<o;++h){var c=n[h],u=i[h],d=u.length,f="object"==typeof(v=t.call(c,c&&c.__data__,h,n))&&"length"in v?v:Array.from(v),p=f.length,g=a[h]=Array(p),m=s[h]=Array(p);r(c,u,g,m,l[h]=Array(d),f,e);for(var v,y,b,O,w=0,x=0;w<p;++w)if(b=g[w]){for(w>=x&&(x=w+1);!(O=m[x])&&++x<p;);b._next=O||null}}return(s=new qq(s,n))._enter=a,s._exit=l,s},enter:function(){return new qq(this._enter||this._groups.map(qh),this._parents)},exit:function(){return new qq(this._exit||this._groups.map(qh),this._parents)},join:function(t,e,r){var n=this.enter(),i=this,o=this.exit();return"function"==typeof t?(n=t(n))&&(n=n.selection()):n=n.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==r?o.remove():r(o),n&&i?n.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,o=n.length,s=Math.min(i,o),a=Array(i),l=0;l<s;++l)for(var h,c=r[l],u=n[l],d=c.length,f=a[l]=Array(d),p=0;p<d;++p)(h=c[p]||u[p])&&(f[p]=h);for(;l<i;++l)a[l]=r[l];return new qq(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n,i=t[e],o=i.length-1,s=i[o];--o>=0;)(n=i[o])&&(s&&4^n.compareDocumentPosition(s)&&s.parentNode.insertBefore(n,s),s=n);return this},sort:function(t){function e(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}t||(t=qp);for(var r=this._groups,n=r.length,i=Array(n),o=0;o<n;++o){for(var s,a=r[o],l=a.length,h=i[o]=Array(l),c=0;c<l;++c)(s=a[c])&&(h[c]=s);h.sort(e)}return new qq(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null},size:function(){let t=0;for(let e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i,o=e[r],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var r=qv(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==e?r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?r.local?function(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}:function(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}:r.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(r,e))},style:function(t,e,r){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,r){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}:function(t,e,r){return function(){this.style.setProperty(t,e,r)}})(t,e,null==r?"":r)):qb(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var r=qO(t+"");if(arguments.length<2){for(var n=qw(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?q_:qk)(this,t)}}:e?function(t){return function(){q_(this,t)}}:function(t){return function(){qk(this,t)}})(r,e))},text:function(t){return arguments.length?this.each(null==t?qS:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?qC:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(qA)},lower:function(){return this.each(qE)},append:function(t){var e="function"==typeof t?t:qT(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var r="function"==typeof t?t:qT(t),n=null==e?qP:"function"==typeof e?e:qt(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(qI)},clone:function(t){return this.select(t?qM:qR)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,r){var n,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}}),s=o.length;if(arguments.length<2){var a=this.node().__on;if(a){for(var l,h=0,c=a.length;h<c;++h)for(n=0,l=a[h];n<s;++n)if((i=o[n]).type===l.type&&i.name===l.name)return l.value}return}for(n=0,a=e?qD:qN;n<s;++n)this.each(a(o[n],e,r));return this},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return qL(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return qL(this,t,e)}})(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n,i=t[e],o=0,s=i.length;o<s;++o)(n=i[o])&&(yield n)}};var qB=(ek("7oxl9"),ek("7oxl9"));function qj(t,e,r,n,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*r+(1+3*t+3*o-3*s)*n+s*i)/6}var qz=t=>()=>t;function qZ(t,e){var r=e-t;return r?function(e){return t+e*r}:qz(isNaN(t)?e:t)}var qF=function t(e){var r,n=1==(r=+(r=e))?qZ:function(t,e){var n,i,o;return e-t?(n=t,i=e,n=Math.pow(n,o=r),i=Math.pow(i,o)-n,o=1/o,function(t){return Math.pow(n+t*i,o)}):qz(isNaN(t)?e:t)};function i(t,e){var r=n((t=(0,qB.rgb)(t)).r,(e=(0,qB.rgb)(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=qZ(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function qX(t){return function(e){var r,n,i=e.length,o=Array(i),s=Array(i),a=Array(i);for(r=0;r<i;++r)n=(0,qB.rgb)(e[r]),o[r]=n.r||0,s[r]=n.g||0,a[r]=n.b||0;return o=t(o),s=t(s),a=t(a),n.opacity=1,function(t){return n.r=o(t),n.g=s(t),n.b=a(t),n+""}}}function qV(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}qX(function(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],o=t[n+1],s=n>0?t[n-1]:2*i-o,a=n<e-1?t[n+2]:2*o-i;return qj((r-n/e)*e,s,i,o,a)}}),qX(function(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),i=t[(n+e-1)%e],o=t[n%e],s=t[(n+1)%e],a=t[(n+2)%e];return qj((r-n/e)*e,i,o,s,a)}});var qU,qW,qH,qY,qG,qK,qJ,q0,q1,q2,q3,q4,q5,q6,q8,q7,q9,Qt,Qe,Qr,Qn,Qi,Qo,Qs,Qa,Ql,Qh,Qc,Qu,Qd,Qf,Qp,Qg,Qm,Qv,Qy,Qb,QO,Qw,Qx,Q_,Qk,QS,QC,QA,QE,QT,QP,QI,QR,QM,QN,QD,QL,Q$,Qq,QQ,QB,Qj,Qz,QZ,QF,QX,QV,QU,QW,QH,QY,QG,QK,QJ,Q0,Q1,Q2,Q3,Q4,Q5,Q6,Q8,Q7,Q9,Bt,Be,Br,Bn,Bi,Bo,Bs,Ba,Bl,Bh,Bc,Bu,Bd,Bf,Bp,Bg,Bm,Bv,By,Bb,BO,Bw,Bx,B_,Bk,BS,BC,BA,BE,BT,BP,BI,BR,BM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BN=RegExp(BM.source,"g"),BD=0,BL=0,B$=0,Bq=0,BQ=0,BB=0,Bj="object"==typeof performance&&performance.now?performance:Date,Bz="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function BZ(){return BQ||(Bz(BF),BQ=Bj.now()+BB)}function BF(){BQ=0}function BX(){this._call=this._time=this._next=null}function BV(t,e,r){var n=new BX;return n.restart(t,e,r),n}function BU(){BQ=(Bq=Bj.now())+BB,BD=BL=0;try{!function(){BZ(),++BD;for(var t,e=BI;e;)(t=BQ-e._time)>=0&&e._call.call(void 0,t),e=e._next;--BD}()}finally{BD=0,function(){for(var t,e,r=BI,n=1/0;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:BI=e);BR=t,BH(n)}(),BQ=0}}function BW(){var t=Bj.now(),e=t-Bq;e>1e3&&(BB-=e,Bq=t)}function BH(t){!BD&&(BL&&(BL=clearTimeout(BL)),t-BQ>24?(t<1/0&&(BL=setTimeout(BU,t-Bj.now()-BB)),B$&&(B$=clearInterval(B$))):(B$||(Bq=Bj.now(),B$=setInterval(BW,1e3)),BD=1,Bz(BU)))}function BY(t,e,r){var n=new BX;return e=null==e?0:+e,n.restart(r=>{n.stop(),t(r+e)},e,r),n}BX.prototype=BV.prototype={constructor:BX,restart:function(t,e,r){if("function"!=typeof t)throw TypeError("callback is not a function");r=(null==r?BZ():+r)+(null==e?0:+e),this._next||BR===this||(BR?BR._next=this:BI=this,BR=this),this._call=t,this._time=r,BH()},stop:function(){this._call&&(this._call=null,this._time=1/0,BH())}};var BG=$6("start","end","cancel","interrupt"),BK=[];function BJ(t,e,r,n,i,o){var s=t.__transition;if(s){if(r in s)return}else t.__transition={};!function(t,e,r){var n,i=t.__transition;function o(l){var h,c,u,d;if(1!==r.state)return a();for(h in i)if((d=i[h]).name===r.name){if(3===d.state)return BY(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[h]):+h<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[h])}if(BY(function(){3===r.state&&(r.state=4,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(h=0,r.state=3,n=Array(u=r.tween.length),c=-1;h<u;++h)(d=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(n[++c]=d);n.length=c+1}}function s(e){for(var i=e<r.duration?r.ease.call(null,e/r.duration):(r.timer.restart(a),r.state=5,1),o=-1,s=n.length;++o<s;)n[o].call(t,i);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),a())}function a(){for(var n in r.state=6,r.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=r,r.timer=BV(function(t){r.state=1,r.timer.restart(o,r.delay,r.time),r.delay<=t&&o(t-r.delay)},0,r.time)}(t,r,{name:e,index:n,group:i,on:BG,tween:BK,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function B0(t,e){var r=B2(t,e);if(r.state>0)throw Error("too late; already scheduled");return r}function B1(t,e){var r=B2(t,e);if(r.state>3)throw Error("too late; already running");return r}function B2(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw Error("transition not found");return r}var B3=180/Math.PI,B4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function B5(t,e,r,n,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,l/=a),t*n<e*r&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*B3,skewX:Math.atan(l)*B3,scaleX:s,scaleY:a}}function B6(t,e,r,n){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a,l,h,c,u=[],d=[];return o=t(o),s=t(s),!function(t,n,i,o,s,a){if(t!==i||n!==o){var l=s.push("translate(",null,e,null,r);a.push({i:l-4,x:qV(t,i)},{i:l-2,x:qV(n,o)})}else(i||o)&&s.push("translate("+i+e+o+r)}(o.translateX,o.translateY,s.translateX,s.translateY,u,d),(a=o.rotate)!==(l=s.rotate)?(a-l>180?l+=360:l-a>180&&(a+=360),d.push({i:u.push(i(u)+"rotate(",null,n)-2,x:qV(a,l)})):l&&u.push(i(u)+"rotate("+l+n),(h=o.skewX)!==(c=s.skewX)?d.push({i:u.push(i(u)+"skewX(",null,n)-2,x:qV(h,c)}):c&&u.push(i(u)+"skewX("+c+n),!function(t,e,r,n,o,s){if(t!==r||e!==n){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:qV(t,r)},{i:a-2,x:qV(e,n)})}else(1!==r||1!==n)&&o.push(i(o)+"scale("+r+","+n+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,u,d),o=s=null,function(t){for(var e,r=-1,n=d.length;++r<n;)u[(e=d[r]).i]=e.x(t);return u.join("")}}}var B8=B6(function(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?B4:B5(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),B7=B6(function(t){return null==t?B4:(ei||(ei=document.createElementNS("http://www.w3.org/2000/svg","g")),ei.setAttribute("transform",t),t=ei.transform.baseVal.consolidate())?B5((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):B4},", ",")",")");function B9(t,e,r){var n=t._id;return t.each(function(){var t=B1(this,n);(t.value||(t.value={}))[e]=r.apply(this,arguments)}),function(t){return B2(t,n).value[e]}}var qB=ek("7oxl9");function jt(t,e){var r;return("number"==typeof e?qV:e instanceof(0,qB.default)?qF:(r=(0,qB.default)(e))?(e=r,qF):function(t,e){var r,n,i,o,s,a=BM.lastIndex=BN.lastIndex=0,l=-1,h=[],c=[];for(t+="",e+="";(i=BM.exec(t))&&(o=BN.exec(e));)(s=o.index)>a&&(s=e.slice(a,s),h[l]?h[l]+=s:h[++l]=s),(i=i[0])===(o=o[0])?h[l]?h[l]+=o:h[++l]=o:(h[++l]=null,c.push({i:l,x:qV(i,o)})),a=BN.lastIndex;return a<e.length&&(s=e.slice(a),h[l]?h[l]+=s:h[++l]=s),h.length<2?c[0]?(r=c[0].x,function(t){return r(t)+""}):(n=e,function(){return n}):(e=c.length,function(t){for(var r,n=0;n<e;++n)h[(r=c[n]).i]=r.x(t);return h.join("")})})(t,e)}var je=qQ.prototype.constructor;function jr(t){return function(){this.style.removeProperty(t)}}var jn=0;function ji(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}var jo=qQ.prototype;ji.prototype=(function(t){return qQ().transition(t)}).prototype={constructor:ji,select:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=qt(t));for(var n=this._groups,i=n.length,o=Array(i),s=0;s<i;++s)for(var a,l,h=n[s],c=h.length,u=o[s]=Array(c),d=0;d<c;++d)(a=h[d])&&(l=t.call(a,a.__data__,d,h))&&("__data__"in a&&(l.__data__=a.__data__),u[d]=l,BJ(u[d],e,r,d,u,B2(a,r)));return new ji(o,this._parents,e,r)},selectAll:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=qr(t));for(var n=this._groups,i=n.length,o=[],s=[],a=0;a<i;++a)for(var l,h=n[a],c=h.length,u=0;u<c;++u)if(l=h[u]){for(var d,f=t.call(l,l.__data__,u,h),p=B2(l,r),g=0,m=f.length;g<m;++g)(d=f[g])&&BJ(d,e,r,g,f,p);o.push(f),s.push(l)}return new ji(o,s,e,r)},selectChild:jo.selectChild,selectChildren:jo.selectChildren,filter:function(t){"function"!=typeof t&&(t=qn(t));for(var e=this._groups,r=e.length,n=Array(r),i=0;i<r;++i)for(var o,s=e[i],a=s.length,l=n[i]=[],h=0;h<a;++h)(o=s[h])&&t.call(o,o.__data__,h,s)&&l.push(o);return new ji(n,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),s=Array(n),a=0;a<o;++a)for(var l,h=e[a],c=r[a],u=h.length,d=s[a]=Array(u),f=0;f<u;++f)(l=h[f]||c[f])&&(d[f]=l);for(;a<n;++a)s[a]=e[a];return new ji(s,this._parents,this._name,this._id)},selection:function(){return new je(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,r=++jn,n=this._groups,i=n.length,o=0;o<i;++o)for(var s,a=n[o],l=a.length,h=0;h<l;++h)if(s=a[h]){var c=B2(s,e);BJ(s,t,r,h,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ji(n,this._parents,t,r)},call:jo.call,nodes:jo.nodes,node:jo.node,size:jo.size,empty:jo.empty,each:jo.each,on:function(t,e){var r,n,i,o=this._id;return arguments.length<2?B2(this.node(),o).on.on(t):this.each((i=(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?B0:B1,function(){var s=i(this,o),a=s.on;a!==r&&(n=(r=a).copy()).on(t,e),s.on=n}))},attr:function(t,e){var r=qv(t),n="transform"===r?B7:jt;return this.attrTween(t,"function"==typeof e?(r.local?function(t,e,r){var n,i,o;return function(){var s,a,l=r(this);return null==l?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===n&&a===i?o:(i=a,o=e(n=s,l))}}:function(t,e,r){var n,i,o;return function(){var s,a,l=r(this);return null==l?void this.removeAttribute(t):(s=this.getAttribute(t))===(a=l+"")?null:s===n&&a===i?o:(i=a,o=e(n=s,l))}})(r,n,B9(this,"attr."+t,e)):null==e?(r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(r):(r.local?function(t,e,r){var n,i,o=r+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===n?i:i=e(n=s,r)}}:function(t,e,r){var n,i,o=r+"";return function(){var s=this.getAttribute(t);return s===o?null:s===n?i:i=e(n=s,r)}})(r,n,e))},attrTween:function(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw Error();var n=qv(t);return this.tween(r,(n.local?function(t,e){var r,n;function i(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e){this.setAttributeNS(t.space,t.local,i.call(this,e))}),r}return i._value=e,i}:function(t,e){var r,n;function i(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e){this.setAttribute(t,i.call(this,e))}),r}return i._value=e,i})(n,e))},style:function(t,e,r){var n,i,o,s,a,l,h,c,u,d,f,p,g,m,v,y,b,O,w,x,k,S="transform"==(t+="")?B8:jt;return null==e?this.styleTween(t,(n=t,function(){var t=qb(this,n),e=(this.style.removeProperty(n),qb(this,n));return t===e?null:t===i&&e===o?s:s=S(i=t,o=e)})).on("end.style."+t,jr(t)):"function"==typeof e?this.styleTween(t,(a=t,l=B9(this,"style."+t,e),function(){var t=qb(this,a),e=l(this),r=e+"";return null==e&&(this.style.removeProperty(a),r=e=qb(this,a)),t===r?null:t===h&&r===c?u:(c=r,u=S(h=t,e))})).each((d=this._id,b="end."+(y="style."+(f=t)),function(){var t=B1(this,d),e=t.on,r=null==t.value[y]?v||(v=jr(f)):void 0;(e!==p||m!==r)&&(g=(p=e).copy()).on(b,m=r),t.on=g})):this.styleTween(t,(O=t,k=e+"",function(){var t=qb(this,O);return t===k?null:t===w?x:x=S(w=t,e)}),r).on("end.style."+t,null)},styleTween:function(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();return this.tween(n,function(t,e,r){var n,i;function o(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&function(e){this.style.setProperty(t,o.call(this,e),r)}),n}return o._value=e,o}(t,e,null==r?"":r))},text:function(t){var e,r;return this.tween("text","function"==typeof t?(e=B9(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(r=null==t?"":t+"",function(){this.textContent=r}))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw Error();return this.tween(e,function(t){var e,r;function n(){var n=t.apply(this,arguments);return n!==r&&(e=(r=n)&&function(t){this.textContent=n.call(this,t)}),e}return n._value=t,n}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}))},tween:function(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n,i=B2(this.node(),r).tween,o=0,s=i.length;o<s;++o)if((n=i[o]).name===t)return n.value;return null}return this.each((null==e?function(t,e){var r,n;return function(){var i=B1(this,t),o=i.tween;if(o!==r){n=r=o;for(var s=0,a=n.length;s<a;++s)if(n[s].name===e){(n=n.slice()).splice(s,1);break}}i.tween=n}}:function(t,e,r){var n,i;if("function"!=typeof r)throw Error();return function(){var o=B1(this,t),s=o.tween;if(s!==n){i=(n=s).slice();for(var a={name:e,value:r},l=0,h=i.length;l<h;++l)if(i[l].name===e){i[l]=a;break}l===h&&i.push(a)}o.tween=i}})(r,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){B0(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){B0(this,t).delay=e}})(e,t)):B2(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){B1(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){B1(this,t).duration=e}})(e,t)):B2(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw Error();return function(){B1(this,t).ease=e}}(e,t)):B2(this.node(),e).ease},easeVarying:function(t){var e;if("function"!=typeof t)throw Error();return this.each((e=this._id,function(){var r=t.apply(this,arguments);if("function"!=typeof r)throw Error();B1(this,e).ease=r}))},end:function(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};r.each(function(){var r=B1(this,n),i=r.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),r.on=e}),0===i&&o()})},[Symbol.iterator]:jo[Symbol.iterator]};var js={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};qQ.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var r,n,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o){if((r=o[i]).name!==e){s=!1;continue}n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(n?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete o[i]}s&&delete t.__transition}}(this,t)})},qQ.prototype.transition=function(t){var e,r;t instanceof ji?(e=t._id,t=t._name):(e=++jn,(r=js).time=BZ(),t=null==t?null:t+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var s,a=n[o],l=a.length,h=0;h<l;++h)(s=a[h])&&BJ(s,t,e,h,a,r||function(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw Error(`transition ${e} not found`);return r}(s,e));return new ji(n,this._parents,t,e)};let{abs:ja,max:jl,min:jh}=Math;function jc(t){return{type:t}}["w","e"].map(jc),["n","s"].map(jc),["n","w","e","s","nw","ne","sw","se"].map(jc);var ju=function(t){for(var e=t.length/6|0,r=Array(e),n=0;n<e;)r[n]="#"+t.slice(6*n,6*++n);return r}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function jd(t){return((t=Math.exp(t))+1/t)/2}function jf(t,e,r){this.k=t,this.x=e,this.y=r}!function t(e,r,n){function i(t,i){var o,s,a=t[0],l=t[1],h=t[2],c=i[0],u=i[1],d=i[2],f=c-a,p=u-l,g=f*f+p*p;if(g<1e-12)s=Math.log(d/h)/e,o=function(t){return[a+t*f,l+t*p,h*Math.exp(e*t*s)]};else{var m=Math.sqrt(g),v=(d*d-h*h+n*g)/(2*h*r*m),y=(d*d-h*h-n*g)/(2*d*r*m),b=Math.log(Math.sqrt(v*v+1)-v);s=(Math.log(Math.sqrt(y*y+1)-y)-b)/e,o=function(t){var n,i,o=t*s,c=jd(b),u=h/(r*m)*(c*(((n=Math.exp(2*(n=e*o+b)))-1)/(n+1))-((i=Math.exp(i=b))-1/i)/2);return[a+u*f,l+u*p,h*c/jd(e*o+b)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var r=Math.max(.001,+e),n=r*r;return t(r,n,n*n)},i}(Math.SQRT2,2,4),jf.prototype={constructor:jf,scale:function(t){return 1===t?this:new jf(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new jf(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new jf(1,0,0),jf.prototype;var jp={},jg={value:function(){}};function jm(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw Error("illegal type: "+t);n[t]=[]}return new jv(n)}function jv(t){this._=t}function jy(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=jg,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}jv.prototype=jm.prototype={constructor:jv,on:function(t,e){var r,n=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=function(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}(n[r],t.name)))return r;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++o<s;)if(r=(t=i[o]).type)n[r]=jy(n[r],t.name,e);else if(null==e)for(r in n)n[r]=jy(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new jv(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=Array(r),o=0;o<r;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(n=this._[t],o=0,r=n.length;o<r;++o)n[o].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};let jb=Math.PI/180,jO={archimedean:jA,rectangular:function(t){var e=4*t[0]/t[1],r=0,n=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:r+=e;break;case 1:n+=4;break;case 2:r-=e;break;default:n-=4}return[r,n]}}};function jw(t){return t.text}function jx(){return"serif"}function j_(){return"normal"}function jk(t){return Math.sqrt(t.value)}function jS(){return(~~(6*random())-3)*30}function jC(){return 1}function jA(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function jE(){return document.createElement("canvas")}function jT(t){return"function"==typeof t?t:function(){return t}}jp=function(){var t=[256,256],e=jw,r=jx,n=jk,i=j_,o=j_,s=jS,a=jC,l=jA,h=[],c=1/0,u=jm("word","end"),d=null,f=Math.random,p={},g=jE;return p.canvas=function(t){return arguments.length?(g=jT(t),p):g},p.start=function(){var m=function(t){let e=t.getContext("2d",{willReadFrequently:!0});t.width=t.height=1;let r=Math.sqrt(e.getImageData(0,0,1,1).data.length>>2);return t.width=2048/r,t.height=2048/r,e.fillStyle=e.strokeStyle="red",{context:e,ratio:r}}(g()),v=function(t){for(var e=[],r=-1;++r<t;)e[r]=0;return e}((t[0]>>5)*t[1]),y=null,b=h.length,O=-1,w=[],x=h.map(function(t,l){return t.text=e.call(this,t,l),t.font=r.call(this,t,l),t.style=i.call(this,t,l),t.weight=o.call(this,t,l),t.rotate=s.call(this,t,l),t.size=~~n.call(this,t,l),t.padding=a.call(this,t,l),t}).sort(function(t,e){return e.size-t.size});return d&&clearInterval(d),d=setInterval(k,0),k(),p;function k(){for(var e=Date.now();Date.now()-e<c&&++O<b&&d;){var r=x[O];r.x=t[0]*(f()+.5)>>1,r.y=t[1]*(f()+.5)>>1,function(t,e,r,n){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,2048/o,2048/o);var s=0,a=0,l=0,h=r.length;for(--n;++n<h;){e=r[n],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;let t=i.measureText(e.text),h=-Math.floor(t.width/2),m=(t.width+1)*o,v=e.size<<1;if(e.rotate){var c=Math.sin(e.rotate*jb),u=Math.cos(e.rotate*jb),d=m*u,f=m*c,p=v*u,g=v*c;m=Math.max(Math.abs(d+g),Math.abs(d-g))+31>>5<<5,v=~~Math.max(Math.abs(f+p),Math.abs(f-p))}else m=m+31>>5<<5;if(v>l&&(l=v),s+m>=2048&&(s=0,a+=l,l=0),a+v>=2048)break;i.translate((s+(m>>1))/o,(a+(v>>1))/o),e.rotate&&i.rotate(e.rotate*jb),i.fillText(e.text,h,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,h,0)),i.restore(),e.width=m,e.height=v,e.xoff=s,e.yoff=a,e.x1=m>>1,e.y1=v>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,s+=m}for(var m=i.getImageData(0,0,2048/o,2048/o).data,v=[];--n>=0;)if((e=r[n]).hasText){for(var y=e.width,b=y>>5,O=e.y1-e.y0,w=0;w<O*b;w++)v[w]=0;if(null==(s=e.xoff))return;a=e.yoff;for(var x=0,k=-1,S=0;S<O;S++){for(var w=0;w<y;w++){var C=b*S+(w>>5),A=m[(a+S)*2048+(s+w)<<2]?1<<31-w%32:0;v[C]|=A,x|=A}x?k=S:(e.y0++,O--,S--,a++)}e.y1=e.y0+k,e.sprite=v.slice(0,(e.y1-e.y0)*b)}}}(m,r,x,O),r.hasText&&function(e,r,n){t[0],t[1];for(var i,o,s,a=r.x,h=r.y,c=Math.sqrt(t[0]*t[0]+t[1]*t[1]),u=l(t),d=.5>f()?1:-1,p=-d;(i=u(p+=d))&&!(Math.min(Math.abs(o=~~i[0]),Math.abs(s=~~i[1]))>=c);)if(r.x=a+o,r.y=h+s,!(r.x+r.x0<0)&&!(r.y+r.y0<0)&&!(r.x+r.x1>t[0])&&!(r.y+r.y1>t[1])&&(!n||r.x+r.x1>n[0].x&&r.x+r.x0<n[1].x&&r.y+r.y1>n[0].y&&r.y+r.y0<n[1].y)&&!function(t,e,r){r>>=5;for(var n,i=t.sprite,o=t.width>>5,s=t.x-(o<<4),a=127&s,l=32-a,h=t.y1-t.y0,c=(t.y+t.y0)*r+(s>>5),u=0;u<h;u++){n=0;for(var d=0;d<=o;d++)if((n<<l|(d<o?(n=i[u*o+d])>>>a:0))&e[c+d])return!0;c+=r}return!1}(r,e,t[0])){for(var g,m=r.sprite,v=r.width>>5,y=t[0]>>5,b=r.x-(v<<4),O=127&b,w=32-O,x=r.y1-r.y0,k=(r.y+r.y0)*y+(b>>5),S=0;S<x;S++){g=0;for(var C=0;C<=v;C++)e[k+C]|=g<<w|(C<v?(g=m[S*v+C])>>>O:0);k+=y}return!0}return!1}(v,r,y)&&(w.push(r),u.call("word",p,r),y?function(t,e){var r=t[0],n=t[1];e.x+e.x0<r.x&&(r.x=e.x+e.x0),e.y+e.y0<r.y&&(r.y=e.y+e.y0),e.x+e.x1>n.x&&(n.x=e.x+e.x1),e.y+e.y1>n.y&&(n.y=e.y+e.y1)}(y,r):y=[{x:r.x+r.x0,y:r.y+r.y0},{x:r.x+r.x1,y:r.y+r.y1}],r.x-=t[0]>>1,r.y-=t[1]>>1)}O>=b&&(p.stop(),u.call("end",p,w,y))}},p.stop=function(){for(let t of(d&&(clearInterval(d),d=null),h))delete t.sprite;return p},p.timeInterval=function(t){return arguments.length?(c=null==t?1/0:t,p):c},p.words=function(t){return arguments.length?(h=t,p):h},p.size=function(e){return arguments.length?(t=[+e[0],+e[1]],p):t},p.font=function(t){return arguments.length?(r=jT(t),p):r},p.fontStyle=function(t){return arguments.length?(i=jT(t),p):i},p.fontWeight=function(t){return arguments.length?(o=jT(t),p):o},p.rotate=function(t){return arguments.length?(s=jT(t),p):s},p.text=function(t){return arguments.length?(e=jT(t),p):e},p.spiral=function(t){return arguments.length?(l=jO[t]||t,p):l},p.fontSize=function(t){return arguments.length?(n=jT(t),p):n},p.padding=function(t){return arguments.length?(a=jT(t),p):a},p.random=function(t){return arguments.length?(f=t,p):f},p.on=function(){var t=u.on.apply(u,arguments);return t===u?p:t},p};var jP=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let jI=class extends r0{firstUpdated(){this.renderWordCloud()}updated(t){t.has("words")&&this.renderWordCloud()}renderWordCloud(){var t;let e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("svg");e&&(e.innerHTML=""),console.log(this.words),/*@__PURE__*/ew(jp)().size([this.width,this.height]).words(this.words.map(function(t){return{text:t,size:10+90*Math.random(),test:"haha"}})).padding(5).font("sans-serif").fontSize(t=>t.size).rotate(()=>90*~~(2*Math.random())).on("end",t=>this.draw(t)).start()}draw(t){var e;("string"==typeof(e=this.shadowRoot)?new qq([[document.querySelector(e)]],[document.documentElement]):new qq([[e]],q$)).select("svg").attr("width",this.width).attr("height",this.height).append("g").attr("transform",`translate(${this.width/2}, ${this.height/2})`).selectAll("text").data(t).enter().append("text").style("font-size",t=>`${t.size}px`).style("font-family","sans-serif").style("fill",()=>ju[Math.floor(10*Math.random())]).attr("text-anchor","middle").attr("transform",t=>`translate(${t.x}, ${t.y}) rotate(${t.rotate})`).text(t=>t.text)}render(){return rL`<svg></svg>`}constructor(){super(...arguments),this.words=[],this.width=500,this.height=500}};jI.styles=e1`
    :host {
      display: block;
      width: 100%;
      height: 100%;
    }

    svg {
      width: 100%;
      height: 100%;
    }
  `,jP([ru({type:Array,converter:sw(",")})],jI.prototype,"words",void 0),jP([ru({type:Number})],jI.prototype,"width",void 0),jP([ru({type:Number})],jI.prototype,"height",void 0),jI=jP([eF("juel-word-cloud")],jI);var jR={};jR=":host{z-index:1000;position:fixed;bottom:20px;right:20px}button{color:#fff;cursor:pointer;background-color:#007bff;border:none;border-radius:50%;justify-content:center;align-items:center;width:50px;height:50px;font-size:24px;display:none;box-shadow:0 4px 6px rgba(0,0,0,.1)}button.visible{animation:.3s fadeIn;display:flex}button:hover{background-color:#0056b3}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}";var jM=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let jN=class extends r0{connectedCallback(){super.connectedCallback(),window.addEventListener("scroll",this.handleScroll)}firstUpdated(t){r3.init(this.shadowRoot)}disconnectedCallback(){window.removeEventListener("scroll",this.handleScroll),super.disconnectedCallback()}handleClick(t){r3.createRipple(t),window.scrollTo({top:0,behavior:"smooth"})}render(){return rL`
      <button
        class="${this.visible?"visible":""}"
        @click="${this.handleClick}"
        title="Scroll to top"
      >
        ↑
      </button>
    `}constructor(){super(...arguments),this.visible=!1,this.handleScroll=()=>{let t=document.documentElement.scrollTop||document.body.scrollTop;this.visible=t>200}}};jN.styles=e0(/*@__PURE__*/ew(jR)),jM([ru({type:Boolean})],jN.prototype,"visible",void 0),jN=jM([eF("juel-scroll-top")],jN);var eX=ek("lQqDW"),eV=ek("hyL8v"),jD={};jD=":host{display:block}.cookie-consent-overlay{z-index:10000;background:#f4f4f4;width:100%;padding:16px;position:fixed;bottom:0;left:0;box-shadow:0 -2px 10px rgba(0,0,0,.2)}.cookie-consent-header{margin-bottom:10px;font-size:18px;font-weight:700}.cookie-options{flex-direction:column;gap:8px;display:flex}.cookie-option{justify-content:space-between;align-items:center;display:flex}.cookie-buttons{justify-content:start;margin-top:16px;display:flex}juel-button{cursor:pointer;border:none;border-radius:4px;margin:0 .25rem}.btn-settings{color:#fff;background:#2196f3}";class jL{loadScript(t){if(window.gtag)return;let e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,e.onload=function(){function e(...t){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],window.gtag=e,e("js",new Date),e("config",t)},document.head.appendChild(e)}}class j${loadScript(t){if(window.beTracker)return;let e=document.createElement("script");e.type="text/javascript",e.src="https://tracker.metricool.com/resources/be.js",e.onload=function(){console.log("Metricol on load"),window.beTracker&&"function"==typeof window.beTracker.t&&(console.log("Metricool hash"),window.beTracker.t({hash:t}))},document.head.appendChild(e)}}var jq=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let jQ="cookie-consent",jB=class extends r0{handleToggle(t){"essential"!==t&&(this.cookiePreferences=(0,eV._)((0,eX._)({},this.cookiePreferences),{[t]:!this.cookiePreferences[t]}))}handleAcceptAll(){this.cookiePreferences={essential:!0,analytics:!0,marketing:!0},this.savePreferences(),this.appendTemplates()}handleRejectAll(){this.showConsent=!1}savePreferences(){localStorage.setItem(jQ,JSON.stringify(this.cookiePreferences)),this.showConsent=!1}render(){return this.showConsent?rL`
      <div class="cookie-consent-overlay">
        <div class="cookie-consent-header"><slot name="title">We use cookies</slot></div>
        <slot name="content">
        ${nd(!0==this.full,()=>rL`
        <p>We use cookies to enhance your experience. You can manage your preferences below:</p>
        <div class="cookie-options">
          ${Object.entries(this.cookiePreferences).map(([t,e])=>rL`
              <div class="cookie-option">
                <label>${this.capitalize(t)} Cookies</label>
                <input
                  type="checkbox"
                  .checked=${e}
                  @change=${()=>this.handleToggle(t)}
                  ?disabled=${"essential"===t}
                />
              </div>
            `)}
        </div>`,()=>rL`<p>We use cookies to enhance your experience, analyse site traffic, and personalise content.`)}
        </slot>
        <div class="cookie-buttons">
          <juel-button type="danger" @button-clicked=${this.handleRejectAll}>Reject</juel-button>
          <juel-button type="success" @button-clicked=${this.handleAcceptAll}>Accept</juel-button>
        </div>
      </div>
    `:rL``}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}connectedCallback(){super.connectedCallback();let t=localStorage.getItem(jQ);t&&(this.cookiePreferences=JSON.parse(t),this.showConsent=!1,$.ready.then(()=>this.appendTemplates()))}appendTemplates(){if(this.keys)for(let t in this.keys)t in this.providers&&this.providers[t].loadScript(this.keys[t]);this.querySelectorAll("template").forEach(t=>{let e=document.importNode(t.content,!0);if(t.hasAttribute("role")){var r;let n=t.getAttribute("role");null===(r=document.querySelector(n))||void 0===r||r.append(e)}document.head.append(e)})}constructor(){super(...arguments),this.showConsent=!0,this.full=!1,this.cookiePreferences={essential:!0,analytics:!1,marketing:!1},this.providers={gtag:new jL,metricool:new j$}}};jB.styles=e0(/*@__PURE__*/ew(jD)),jq([ru({type:Boolean})],jB.prototype,"showConsent",void 0),jq([ru({type:Boolean})],jB.prototype,"full",void 0),jq([ru({type:Object,converter:nl})],jB.prototype,"keys",void 0),jq([ru({type:Object,converter:nl})],jB.prototype,"cookiePreferences",void 0),jB=jq([eF("juel-cookie-consent")],jB);var jj=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let jz=class extends r0{connectedCallback(){super.connectedCallback(),this.initializeTimer()}disconnectedCallback(){super.disconnectedCallback(),this.clearTimer()}initializeTimer(){let t=Math.abs(this.start-this.end);this.interval=this.time/t,this.step=t/(this.time/this.interval),this.currentValue=this.start,console.log("Interval:",this.interval),console.log("Step:",this.step),this.timerId=window.setInterval(()=>{if(this.start>this.end&&this.currentValue<=this.end||this.start<this.end&&this.currentValue>=this.end){this.clearTimer();return}this.currentValue+=this.start>this.end?-this.step:this.step,this.currentValue=Math.round(this.currentValue),console.log("Current Value:",this.currentValue),this.dispatchEvent(new CustomEvent("tick",{detail:{value:this.currentValue}})),this.requestUpdate()},this.interval)}clearTimer(){this.timerId&&(clearInterval(this.timerId),this.timerId=void 0)}render(){let t=this.start>this.end?this.currentValue<=this.threshold:this.currentValue>=this.threshold;return rL`
      <div
        class=${t?`animated ${this.animation}`:""}
        style="--animation-duration: ${this.interval/1e3}s"
      >
        ${this.currentValue}
      </div>
    `}constructor(){super(...arguments),this.start=10,this.end=0,this.time=1e3,this.threshold=10,this.animation="pulse",this.interval=1e3,this.currentValue=this.start,this.step=1}};jz.styles=e1`
    .animated {
      animation: var(--animation-duration, 0.5s) ease-in-out;
    }

    .pulse {
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      animation-name: pulse;
    }
  `,jj([ru({type:Number})],jz.prototype,"start",void 0),jj([ru({type:Number})],jz.prototype,"end",void 0),jj([ru({type:Number})],jz.prototype,"time",void 0),jj([ru({type:Number})],jz.prototype,"threshold",void 0),jj([ru({type:String})],jz.prototype,"animation",void 0),jj([ru({type:Number})],jz.prototype,"interval",void 0),jz=jj([eF("countdown-timer")],jz);class jZ extends r5{getParentComponent(){if(this.parentElement)return"getParentComponent"in this.parentElement?this.parentElement.getParentComponent():this.parentElement}createRenderRoot(){return this}}var jF=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let jX=class extends jZ{ready(){this.selector?this.element=document.querySelector(this.selector):this.element=this.parentElement,this.event&&this.element.addEventListener(this.event,this.onEvent),console.log(this.element)}disconnectedCallback(){this.element&&this.element.removeEventListener(this.event,this.onEvent)}addAction(t){this.actions||(this.actions=[]),this.actions.push(t)}onEvent(t){if(console.log(this.event),console.log(t),console.log(this.actions),this.actions)for(let n of this.actions)if(n.condition){var e,r;let i=t;"detail"in t&&t.detail&&(i=t.detail),e=n.condition,r=i,Function("x","return "+e+";")(r)&&this.performAction(n)}else this.performAction(n);else this.performAction()}performAction(t=null){(console.log(t),t)?(t.selector&&(this.element=document.querySelector(t.selector)),t.action&&this.element&&("addClass"===t.action&&(this.element.classList.add(t.arguments),t.arguments.startsWith("transition")&&Q4.transitionElement(this.element)),t.action in this.element&&this.element[t.action]())):this.action&&this.element&&this.action in this.element&&this.element[this.action]()}};jF([ru()],jX.prototype,"event",void 0),jF([ru()],jX.prototype,"condition",void 0),jF([ru()],jX.prototype,"selector",void 0),jF([ru()],jX.prototype,"action",void 0),jF([/*@__PURE__*/ew(h$)],jX.prototype,"onEvent",null),jX=jF([eF("juel-trigger")],jX);var jV={};jV=":host{display:block}.animate{opacity:0;transition:opacity 1s,transform 1s}.fade-in{opacity:1;transform:translateY(0)}.slide-in{transform:translate(0)}";var jU=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let jW=class extends r0{connectedCallback(){super.connectedCallback(),this.initializeObserver()}disconnectedCallback(){super.disconnectedCallback(),this.observer.disconnect()}initializeObserver(){let t={root:null,rootMargin:"0px",threshold:this.threshold};this.observer=new IntersectionObserver(this.handleIntersect.bind(this),t),this.querySelectorAll(`.${this.triggerClass}`).forEach(t=>this.observer.observe(t))}handleIntersect(t){t.forEach(t=>{let e=t.target;t.isIntersecting?(e.classList.add(this.animationClass),this.once&&this.observer.unobserve(e)):this.once||e.classList.remove(this.animationClass)})}render(){return rL`<slot></slot>`}constructor(){super(...arguments),this.triggerClass="animate",this.animationClass="fade-in",this.threshold=.2,this.once=!0}};jW.styles=e0(/*@__PURE__*/ew(jV)),jU([ru({type:String})],jW.prototype,"triggerClass",void 0),jU([ru({type:String})],jW.prototype,"animationClass",void 0),jU([ru({type:Number})],jW.prototype,"threshold",void 0),jU([ru({type:Boolean})],jW.prototype,"once",void 0),jW=jU([eF("juel-scroll")],jW);var jH=(g=function(t,e){return(g=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),jY=function(t){function e(e,r){var n,i,o,s,a=this.constructor,l=t.call(this,e,r)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1,configurable:!0}),n=a.prototype,(i=Object.setPrototypeOf)?i(l,n):l.__proto__=n,void 0===o&&(o=l.constructor),(s=Error.captureStackTrace)&&s(l,o),l}return jH(e,t),e}(Error),jG=(m=function(t,e){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),jK=function(t){function e(e){void 0===e&&(e=void 0);var r=t.call(this,e)||this;return r.message=e,r}return jG(e,t),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e}(jY),jJ=(v=function(t,e){return(v=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),j0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jJ(e,t),e.kind="ArgumentException",e}(jK),j1=(y=function(t,e){return(y=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),j2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j1(e,t),e.kind="IllegalArgumentException",e}(jK),j3=function(){function t(t){if(this.binarizer=t,null===t)throw new j2("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(t,e){return this.binarizer.getBlackRow(t,e)},t.prototype.getBlackMatrix=function(){return(null===this.matrix||void 0===this.matrix)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var o=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(t){return""}},t}(),j4=(b=function(t,e){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),j5=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j4(e,t),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(jK),j6=function(){function t(t){this.source=t}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),j8=function(){function t(){}return t.arraycopy=function(t,e,r,n,i){for(;i--;)r[n++]=t[e++]},t.currentTimeMillis=function(){return Date.now()},t}(),j7=(O=function(t,e){return(O=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),j9=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j7(e,t),e.kind="IndexOutOfBoundsException",e}(jK),zt=(w=function(t,e){return(w=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ze=function(t){function e(e,r){void 0===e&&(e=void 0),void 0===r&&(r=void 0);var n=t.call(this,r)||this;return n.index=e,n.message=r,n}return zt(e,t),e.kind="ArrayIndexOutOfBoundsException",e}(j9),zr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zn=function(){function t(){}return t.fill=function(t,e){for(var r=0,n=t.length;r<n;r++)t[r]=e},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var o=r;o<n;o++)e[o]=i},t.rangeCheck=function(t,e,r){if(e>r)throw new j2("fromIndex("+e+") > toIndex("+r+")");if(e<0)throw new ze(e);if(r>t)throw new ze(r)},t.asList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t},t.create=function(t,e,r){return Array.from({length:t}).map(function(t){return Array.from({length:e}).fill(r)})},t.createInt32Array=function(t,e,r){return Array.from({length:t}).map(function(t){return Int32Array.from({length:e}).fill(r)})},t.equals=function(t,e){if(!t||!e||!t.length||!e.length||t.length!==e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0},t.hashCode=function(t){if(null===t)return 0;var e,r,n=1;try{for(var i=zr(t),o=i.next();!o.done;o=i.next()){var s=o.value;n=31*n+s}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.fillUint8Array=function(t,e){for(var r=0;r!==t.length;r++)t[r]=e},t.copyOf=function(t,e){return t.slice(0,e)},t.copyOfUint8Array=function(t,e){if(t.length<=e){var r=new Uint8Array(e);return r.set(t),r}return t.slice(0,e)},t.copyOfRange=function(t,e,r){var n=r-e,i=new Int32Array(n);return j8.arraycopy(t,e,i,0,n),i},t.binarySearch=function(e,r,n){void 0===n&&(n=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var s=o+i>>1,a=n(r,e[s]);if(a>0)i=s+1;else{if(!(a<0))return s;o=s-1}}return-i-1},t.numberComparator=function(t,e){return t-e},t}(),zi=function(){function t(){}return t.numberOfTrailingZeros=function(t){if(0===t)return 32;var e,r=31;return 0!=(e=t<<16)&&(r-=16,t=e),0!=(e=t<<8)&&(r-=8,t=e),0!=(e=t<<4)&&(r-=4,t=e),0!=(e=t<<2)&&(r-=2,t=e),r-(t<<1>>>31)},t.numberOfLeadingZeros=function(t){if(0===t)return 32;var e=1;return t>>>16==0&&(e+=16,t<<=16),t>>>24==0&&(e+=8,t<<=8),t>>>28==0&&(e+=4,t<<=4),t>>>30==0&&(e+=2,t<<=2),e-=t>>>31},t.toHexString=function(t){return t.toString(16)},t.toBinaryString=function(t){return String(parseInt(String(t),2))},t.bitCount=function(t){return t-=t>>>1&0x55555555,t=(t=(0x33333333&t)+(t>>>2&0x33333333))+(t>>>4)&0xf0f0f0f,t+=t>>>8,63&(t+=t>>>16)},t.truncDivision=function(t,e){return Math.trunc(t/e)},t.parseInt=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},t.MIN_VALUE_32_BITS=-0x80000000,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),zo=function(){function t(e,r){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,null==r?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>32*this.bits.length){var r=t.makeArray(e);j8.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(31&t))!=0},t.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(31&t)},t.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(31&t)},t.prototype.getNextSet=function(t){var e=this.size;if(t>=e)return e;var r=this.bits,n=Math.floor(t/32),i=r[n];i&=~((1<<(31&t))-1);for(var o=r.length;0===i;){if(++n===o)return e;i=r[n]}var s=32*n+zi.numberOfTrailingZeros(i);return s>e?e:s},t.prototype.getNextUnset=function(t){var e=this.size;if(t>=e)return e;var r=this.bits,n=Math.floor(t/32),i=~r[n];i&=~((1<<(31&t))-1);for(var o=r.length;0===i;){if(++n===o)return e;i=~r[n]}var s=32*n+zi.numberOfTrailingZeros(i);return s>e?e:s},t.prototype.setBulk=function(t,e){this.bits[Math.floor(t/32)]=e},t.prototype.setRange=function(t,e){if(e<t||t<0||e>this.size)throw new j2;if(e!==t)for(var r=Math.floor(t/32),n=Math.floor(--e/32),i=this.bits,o=r;o<=n;o++){var s=o>r?0:31&t,a=(2<<(o<n?31:31&e))-(1<<s);i[o]|=a}},t.prototype.clear=function(){for(var t=this.bits.length,e=this.bits,r=0;r<t;r++)e[r]=0},t.prototype.isRange=function(t,e,r){if(e<t||t<0||e>this.size)throw new j2;if(e===t)return!0;for(var n=Math.floor(t/32),i=Math.floor(--e/32),o=this.bits,s=n;s<=i;s++){var a=s>n?0:31&t,l=(2<<(s<i?31:31&e))-(1<<a)&0xffffffff;if((o[s]&l)!==(r?l:0))return!1}return!0},t.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},t.prototype.appendBits=function(t,e){if(e<0||e>32)throw new j2("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(var r=e;r>0;r--)this.appendBit((t>>r-1&1)==1)},t.prototype.appendBitArray=function(t){var e=t.size;this.ensureCapacity(this.size+e);for(var r=0;r<e;r++)this.appendBit(t.get(r))},t.prototype.xor=function(t){if(this.size!==t.size)throw new j2("Sizes don't match");for(var e=this.bits,r=0,n=e.length;r<n;r++)e[r]^=t.bits[r]},t.prototype.toBytes=function(t,e,r,n){for(var i=0;i<n;i++){for(var o=0,s=0;s<8;s++)this.get(t)&&(o|=1<<7-s),t++;e[r+i]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),r=e+1,n=this.bits,i=0;i<r;i++){var o=n[i];o=(o=(o=(o=(o=o>>1&0x55555555|(0x55555555&o)<<1)>>2&0x33333333|(0x33333333&o)<<2)>>4&0xf0f0f0f|(0xf0f0f0f&o)<<4)>>8&0xff00ff|(0xff00ff&o)<<8)>>16&65535|(65535&o)<<16,t[e-i]=o}if(this.size!==32*r){for(var s=32*r-this.size,a=t[0]>>>s,i=1;i<r;i++){var l=t[i];a|=l<<32-s,t[i-1]=a,a=l>>>s}t[r-1]=a}this.bits=t},t.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},t.prototype.equals=function(e){return e instanceof t&&this.size===e.size&&zn.equals(this.bits,e.bits)},t.prototype.hashCode=function(){return 31*this.size+zn.hashCode(this.bits)},t.prototype.toString=function(){for(var t="",e=0,r=this.size;e<r;e++)(7&e)==0&&(t+=" "),t+=this.get(e)?"X":".";return t},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var t=[],e=0,r=this.size;e<r;e++)t.push(this.get(e));return t},t}();(x=eo||(eo={}))[x.OTHER=0]="OTHER",x[x.PURE_BARCODE=1]="PURE_BARCODE",x[x.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",x[x.TRY_HARDER=3]="TRY_HARDER",x[x.CHARACTER_SET=4]="CHARACTER_SET",x[x.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",x[x.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",x[x.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",x[x.ASSUME_GS1=8]="ASSUME_GS1",x[x.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",x[x.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",x[x.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS";var zs=eo,za=(k=function(t,e){return(k=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return za(e,t),e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(jK),zh=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(S=es||(es={}))[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR";var zc=function(){function t(e,r,n){for(var i,o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];this.valueIdentifier=e,this.name=n,"number"==typeof r?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,h=0,c=l.length;h!==c;h++){var u=l[h];t.VALUES_TO_ECI.set(u,this)}try{for(var d=zh(s),f=d.next();!f.done;f=d.next()){var p=f.value;t.NAME_TO_ECI.set(p,this)}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new zl("incorect value");var r=t.VALUES_TO_ECI.get(e);if(void 0===r)throw new zl("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(void 0===r)throw new zl("incorect value");return r},t.prototype.equals=function(e){return e instanceof t&&this.getName()===e.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(es.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(es.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(es.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(es.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(es.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(es.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(es.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(es.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(es.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(es.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(es.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(es.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(es.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(es.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(es.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(es.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(es.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(es.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(es.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(es.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(es.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(es.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(es.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(es.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(es.Big5,28,"Big5"),t.GB18030=new t(es.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(es.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),zu=(C=function(t,e){return(C=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zu(e,t),e.kind="UnsupportedOperationException",e}(jK),zf=function(){function t(){}return t.decode=function(t,e){var r=this.encodingName(e);return this.customDecoder?this.customDecoder(t,r):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&"ISO-8859-1"===e},t.encode=function(t,e){var r=this.encodingName(e);return this.customEncoder?this.customEncoder(t,r):"undefined"==typeof TextEncoder?this.encodeFallback(t):new TextEncoder().encode(t)},t.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"===({}).toString.call(window)},t.encodingName=function(t){return"string"==typeof t?t:t.getName()},t.encodingCharacterSet=function(t){return t instanceof zc?t:zc.getCharacterSetECIByName(t)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",o=0,s=e.length;o<s;o++){var a=e[o].toString(16);a.length<2&&(a="0"+a),i+="%"+a}return decodeURIComponent(i)}if(n.equals(zc.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new zd("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(t){return t.equals(zc.UTF8)||t.equals(zc.ISO8859_1)||t.equals(zc.ASCII)},t.encodeFallback=function(t){for(var e=btoa(unescape(encodeURIComponent(t))).split(""),r=[],n=0;n<e.length;n++)r.push(e[n].charCodeAt(0));return new Uint8Array(r)},t}(),zp=function(){function t(){}return t.castAsNonUtf8Char=function(t,e){void 0===e&&(e=null);var r=e?e.getName():this.ISO88591;return zf.decode(new Uint8Array([t]),r)},t.guessEncoding=function(e,r){if(null!=r&&void 0!==r.get(zs.CHARACTER_SET))return r.get(zs.CHARACTER_SET).toString();for(var n=e.length,i=!0,o=!0,s=!0,a=0,l=0,h=0,c=0,u=0,d=0,f=0,p=0,g=0,m=0,v=0,y=e.length>3&&239===e[0]&&187===e[1]&&191===e[2],b=0;b<n&&(i||o||s);b++){var O=255&e[b];s&&(a>0?(128&O)==0?s=!1:a--:(128&O)!=0&&((64&O)==0?s=!1:(a++,(32&O)==0?l++:(a++,(16&O)==0?h++:(a++,(8&O)==0?c++:s=!1))))),i&&(O>127&&O<160?i=!1:O>159&&(O<192||215===O||247===O)&&v++),o&&(u>0?O<64||127===O||O>252?o=!1:u--:128===O||160===O||O>239?o=!1:O>160&&O<224?(d++,p=0,++f>g&&(g=f)):O>127?(u++,f=0,++p>m&&(m=p)):(f=0,p=0))}return(s&&a>0&&(s=!1),o&&u>0&&(o=!1),s&&(y||l+h+c>0))?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||g>=3||m>=3)?t.SHIFT_JIS:i&&o?2===g&&2===d||10*v>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(t,r,i,o,s,a){if("%%"===t)return"%";if(void 0!==e[++n]){t=o?parseInt(o.substr(1)):void 0;var l,h=s?parseInt(s.substr(1)):void 0;switch(a){case"s":l=e[n];break;case"c":l=e[n][0];break;case"f":l=parseFloat(e[n]).toFixed(t);break;case"p":l=parseFloat(e[n]).toPrecision(t);break;case"e":l=parseFloat(e[n]).toExponential(t);break;case"x":l=parseInt(e[n]).toString(h||16);break;case"d":l=parseFloat(parseInt(e[n],h||10).toPrecision(t)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(h);for(var c=parseInt(i),u=i&&i[0]+""=="0"?"0":" ";l.length<c;)l=void 0!==r?l+u:u+l;return l}})},t.getBytes=function(t,e){return zf.encode(t,e)},t.getCharCode=function(t,e){return void 0===e&&(e=0),t.charCodeAt(e)},t.getCharAt=function(t){return String.fromCharCode(t)},t.SHIFT_JIS=zc.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=zc.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=zc.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),zg=function(){function t(t){void 0===t&&(t=""),this.value=t}return t.prototype.enableDecoding=function(t){return this.encoding=t,this},t.prototype.append=function(t){return"string"==typeof t?this.value+=t.toString():this.encoding?this.value+=zp.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},t.prototype.appendChars=function(t,e,r){for(var n=e;e<e+r;n++)this.append(t[n]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(t){return this.value.charAt(t)},t.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},t.prototype.setCharAt=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)},t.prototype.substring=function(t,e){return this.value.substring(t,e)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(t,e){this.value=this.value.substring(0,t)+e+this.value.substring(t)},t}(),zm=function(){function t(t,e,r,n){if(this.width=t,this.height=e,this.rowSize=r,this.bits=n,null==e&&(e=t),this.height=e,t<1||e<1)throw new j2("Both dimensions must be greater than 0");null==r&&(r=Math.floor((t+31)/32)),this.rowSize=r,null==n&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),o=0;o<r;o++)for(var s=e[o],a=0;a<n;a++)s[a]&&i.set(a,o);return i},t.parseFromString=function(e,r,n){if(null===e)throw new j2("stringRepresentation cannot be null");for(var i=Array(e.length),o=0,s=0,a=-1,l=0,h=0;h<e.length;)if("\n"===e.charAt(h)||"\r"===e.charAt(h)){if(o>s){if(-1===a)a=o-s;else if(o-s!==a)throw new j2("row lengths do not match");s=o,l++}h++}else if(e.substring(h,h+r.length)===r)h+=r.length,i[o]=!0,o++;else if(e.substring(h,h+n.length)===n)h+=n.length,i[o]=!1,o++;else throw new j2("illegal character encountered: "+e.substring(h));if(o>s){if(-1===a)a=o-s;else if(o-s!==a)throw new j2("row lengths do not match");l++}for(var c=new t(a,l),u=0;u<o;u++)i[u]&&c.set(Math.floor(u%a),Math.floor(u/a));return c},t.prototype.get=function(t,e){var r=e*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(31&t)&1)!=0},t.prototype.set=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(31&t)&0xffffffff},t.prototype.unset=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(31&t)&0xffffffff)},t.prototype.flip=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(31&t)&0xffffffff},t.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new j2("input matrix dimensions do not match");for(var e=new zo(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits,i=0,o=this.height;i<o;i++)for(var s=i*r,a=t.getRow(i,e).getBitArray(),l=0;l<r;l++)n[s+l]^=a[l]},t.prototype.clear=function(){for(var t=this.bits,e=t.length,r=0;r<e;r++)t[r]=0},t.prototype.setRegion=function(t,e,r,n){if(e<0||t<0)throw new j2("Left and top must be nonnegative");if(n<1||r<1)throw new j2("Height and width must be at least 1");var i=t+r,o=e+n;if(o>this.height||i>this.width)throw new j2("The region must fit inside the matrix");for(var s=this.rowSize,a=this.bits,l=e;l<o;l++)for(var h=l*s,c=t;c<i;c++)a[h+Math.floor(c/32)]|=1<<(31&c)&0xffffffff},t.prototype.getRow=function(t,e){null==e||e.getSize()<this.width?e=new zo(this.width):e.clear();for(var r=this.rowSize,n=this.bits,i=t*r,o=0;o<r;o++)e.setBulk(32*o,n[i+o]);return e},t.prototype.setRow=function(t,e){j8.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var t=this.getWidth(),e=this.getHeight(),r=new zo(t),n=new zo(t),i=0,o=Math.floor((e+1)/2);i<o;i++)r=this.getRow(i,r),n=this.getRow(e-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(e-1-i,r)},t.prototype.getEnclosingRectangle=function(){for(var t=this.width,e=this.height,r=this.rowSize,n=this.bits,i=t,o=e,s=-1,a=-1,l=0;l<e;l++)for(var h=0;h<r;h++){var c=n[l*r+h];if(0!==c){if(l<o&&(o=l),l>a&&(a=l),32*h<i){for(var u=0;(c<<31-u&0xffffffff)==0;)u++;32*h+u<i&&(i=32*h+u)}if(32*h+31>s){for(var u=31;c>>>u==0;)u--;32*h+u>s&&(s=32*h+u)}}}return s<i||a<o?null:Int32Array.from([i,o,s-i+1,a-o+1])},t.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,e=this.bits,r=0;r<e.length&&0===e[r];)r++;if(r===e.length)return null;for(var n=r/t,i=r%t*32,o=e[r],s=0;(o<<31-s&0xffffffff)==0;)s++;return i+=s,Int32Array.from([i,n])},t.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,e=this.bits,r=e.length-1;r>=0&&0===e[r];)r--;if(r<0)return null;for(var n=Math.floor(r/t),i=32*Math.floor(r%t),o=e[r],s=31;o>>>s==0;)s--;return i+=s,Int32Array.from([i,n])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){return e instanceof t&&this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&zn.equals(this.bits,e.bits)},t.prototype.hashCode=function(){var t=this.width;return 31*(t=31*(t=31*(t=31*t+this.width)+this.height)+this.rowSize)+zn.hashCode(this.bits)},t.prototype.toString=function(t,e,r){return void 0===t&&(t="X "),void 0===e&&(e="  "),void 0===r&&(r="\n"),this.buildToString(t,e,r)},t.prototype.buildToString=function(t,e,r){for(var n=new zg,i=0,o=this.height;i<o;i++){for(var s=0,a=this.width;s<a;s++)n.append(this.get(s,i)?t:e);n.append(r)}return n.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),zv=(A=function(t,e){return(A=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zv(e,t),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(jK),zb=(E=function(t,e){return(E=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zO=function(t){function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return zb(e,t),e.prototype.getBlackRow=function(t,r){var n=this.getLuminanceSource(),i=n.getWidth();null==r||r.getSize()<i?r=new zo(i):r.clear(),this.initArrays(i);for(var o=n.getRow(t,this.luminances),s=this.buckets,a=0;a<i;a++)s[(255&o[a])>>e.LUMINANCE_SHIFT]++;var l=e.estimateBlackPoint(s);if(i<3)for(var a=0;a<i;a++)(255&o[a])<l&&r.set(a);else for(var h=255&o[0],c=255&o[1],a=1;a<i-1;a++){var u=255&o[a+1];(4*c-h-u)/2<l&&r.set(a),h=c,c=u}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),n=t.getHeight(),i=new zm(r,n);this.initArrays(r);for(var o=this.buckets,s=1;s<5;s++)for(var a=Math.floor(n*s/5),l=t.getRow(a,this.luminances),h=Math.floor(4*r/5),c=Math.floor(r/5);c<h;c++){var u=255&l[c];o[u>>e.LUMINANCE_SHIFT]++}for(var d=e.estimateBlackPoint(o),f=t.getMatrix(),s=0;s<n;s++)for(var p=s*r,c=0;c<r;c++){var u=255&f[p+c];u<d&&i.set(c,s)}return i},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,n=0;n<e.LUMINANCE_BUCKETS;n++)r[n]=0},e.estimateBlackPoint=function(t){for(var r=t.length,n=0,i=0,o=0,s=0;s<r;s++)t[s]>o&&(i=s,o=t[s]),t[s]>n&&(n=t[s]);for(var a=0,l=0,s=0;s<r;s++){var h=s-i,c=t[s]*h*h;c>l&&(a=s,l=c)}if(i>a){var u=i;i=a,a=u}if(a-i<=r/16)throw new zy;for(var d=a-1,f=-1,s=a-1;s>i;s--){var p=s-i,c=p*p*(a-s)*(n-t[s]);c>f&&(d=s,f=c)}return d<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(j6),zw=(T=function(t,e){return(T=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zx=function(t){function e(e){var r=t.call(this,e)||this;return r.matrix=null,r}return zw(e,t),e.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!=0&&s++;var a=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!=0&&a++;var l=e.calculateBlackPoints(o,s,a,n,i),h=new zm(n,i);e.calculateThresholdForBlock(o,s,a,n,i,l,h),this.matrix=h}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,n,i,o,s,a){for(var l=o-e.BLOCK_SIZE,h=i-e.BLOCK_SIZE,c=0;c<n;c++){var u=c<<e.BLOCK_SIZE_POWER;u>l&&(u=l);for(var d=e.cap(c,2,n-3),f=0;f<r;f++){var p=f<<e.BLOCK_SIZE_POWER;p>h&&(p=h);for(var g=e.cap(f,2,r-3),m=0,v=-2;v<=2;v++){var y=s[d+v];m+=y[g-2]+y[g-1]+y[g]+y[g+1]+y[g+2]}var b=m/25;e.thresholdBlock(t,p,u,b,i,a)}}},e.cap=function(t,e,r){return t<e?e:t>r?r:t},e.thresholdBlock=function(t,r,n,i,o,s){for(var a=0,l=n*o+r;a<e.BLOCK_SIZE;a++,l+=o)for(var h=0;h<e.BLOCK_SIZE;h++)(255&t[l+h])<=i&&s.set(r+h,n+a)},e.calculateBlackPoints=function(t,r,n,i,o){for(var s=o-e.BLOCK_SIZE,a=i-e.BLOCK_SIZE,l=Array(n),h=0;h<n;h++){l[h]=new Int32Array(r);var c=h<<e.BLOCK_SIZE_POWER;c>s&&(c=s);for(var u=0;u<r;u++){var d=u<<e.BLOCK_SIZE_POWER;d>a&&(d=a);for(var f=0,p=255,g=0,m=0,v=c*i+d;m<e.BLOCK_SIZE;m++,v+=i){for(var y=0;y<e.BLOCK_SIZE;y++){var b=255&t[v+y];f+=b,b<p&&(p=b),b>g&&(g=b)}if(g-p>e.MIN_DYNAMIC_RANGE)for(m++,v+=i;m<e.BLOCK_SIZE;m++,v+=i)for(var y=0;y<e.BLOCK_SIZE;y++)f+=255&t[v+y]}var O=f>>2*e.BLOCK_SIZE_POWER;if(g-p<=e.MIN_DYNAMIC_RANGE&&(O=p/2,h>0&&u>0)){var w=(l[h-1][u]+2*l[h][u-1]+l[h-1][u-1])/4;p<w&&(O=w)}l[h][u]=O}}return l},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e}(zO),z_=function(){function t(t,e){this.width=t,this.height=e}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(t,e,r,n){throw new zd("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new zd("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new zd("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),e=new zg,r=0;r<this.height;r++){for(var n=this.getRow(r,t),i=0;i<this.width;i++){var o=255&n[i],s=void 0;s=o<64?"#":o<128?"+":o<192?".":" ",e.append(s)}e.append("\n")}return e.toString()},t}(),zk=(P=function(t,e){return(P=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zS=function(t){function e(e){var r=t.call(this,e.getWidth(),e.getHeight())||this;return r.delegate=e,r}return zk(e,t),e.prototype.getRow=function(t,e){for(var r=this.delegate.getRow(t,e),n=this.getWidth(),i=0;i<n;i++)r[i]=255-(255&r[i]);return r},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),e=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(e),n=0;n<e;n++)r[n]=255-(255&t[n]);return r},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,n,i){return new e(this.delegate.crop(t,r,n,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(z_),zC=(I=function(t,e){return(I=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zA=function(t){function e(r,n){void 0===n&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return zC(e,t),e.makeBufferFromCanvasImageData=function(t,r){void 0===r&&(r=!1);var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,n,i){void 0===i&&(i=!1);var o=new Uint8ClampedArray(r*n);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!i)for(var s=0,a=0,l=t.length;s<l;s+=4,a++){var h=void 0,c=t[s+3];if(0===c)h=255;else{var u=t[s],d=t[s+1],f=t[s+2];h=306*u+601*d+117*f+512>>10}o[a]=h}else for(var s=0,a=0,p=t.length;s<p;s+=4,a++){var h=void 0,c=t[s+3];if(0===c)h=255;else{var u=t[s],d=t[s+1],f=t[s+2];h=306*u+601*d+117*f+512>>10}o[a]=255-h}return o},e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new j2("Requested row is outside the image: "+t);var r=this.getWidth(),n=t*r;return null===e?e=this.buffer.slice(n,n+r):(e.length<r&&(e=new Uint8ClampedArray(r)),e.set(this.buffer.slice(n,n+r))),e},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(e,r,n,i){return t.prototype.crop.call(this,e,r,n,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),n=r.getContext("2d"),i=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*s),l=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*s);return r.width=a,r.height=l,n.translate(a/2,l/2),n.rotate(i),n.drawImage(this.canvas,-(o/2),-(s/2)),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new zS(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(z_),zE=function(){function t(t,e,r){this.deviceId=t,this.label=e,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),zT=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(s,a)}l((n=n.apply(t,e||[])).next())})},zP=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},zI=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zR=function(){function t(t,e,r){void 0===e&&(e=500),this.reader=t,this.timeBetweenScansMillis=e,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return"undefined"!=typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return zT(this,void 0,void 0,function(){var t,e,r,n,i,o,s,a,l,h,c,u;return zP(this,function(d){switch(d.label){case 0:if(!this.hasNavigator)throw Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=d.sent(),e=[];try{for(n=(r=zI(t)).next();!n.done;n=r.next())i=n.value,o="video"===i.kind?"videoinput":i.kind,"videoinput"===o&&(s=i.deviceId||i.id,a=i.label||"Video device "+(e.length+1),l=i.groupId,h={deviceId:s,label:a,kind:o,groupId:l},e.push(h))}catch(t){c={error:t}}finally{try{n&&!n.done&&(u=r.return)&&u.call(r)}finally{if(c)throw c.error}}return[2,e]}})})},t.prototype.getVideoInputDevices=function(){return zT(this,void 0,void 0,function(){return zP(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,t.sent().map(function(t){return new zE(t.deviceId,t.label)})]}})})},t.prototype.findDeviceById=function(t){return zT(this,void 0,void 0,function(){var e;return zP(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:if(!(e=r.sent()))return[2,null];return[2,e.find(function(e){return e.deviceId===t})]}})})},t.prototype.decodeFromInputVideoDevice=function(t,e){return zT(this,void 0,void 0,function(){return zP(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,e)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(t,e){return zT(this,void 0,void 0,function(){var r;return zP(this,function(n){switch(n.label){case 0:return this.reset(),r={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(r,e)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(t,e){return zT(this,void 0,void 0,function(){var r;return zP(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=n.sent(),[4,this.decodeOnceFromStream(r,e)];case 2:return[2,n.sent()]}})})},t.prototype.decodeOnceFromStream=function(t,e){return zT(this,void 0,void 0,function(){var r;return zP(this,function(n){switch(n.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return r=n.sent(),[4,this.decodeOnce(r)];case 2:return[2,n.sent()]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(t,e,r){return zT(this,void 0,void 0,function(){return zP(this,function(n){switch(n.label){case 0:return[4,this.decodeFromVideoDevice(t,e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromVideoDevice=function(t,e,r){return zT(this,void 0,void 0,function(){var n;return zP(this,function(i){switch(i.label){case 0:return n={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(n,e,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromConstraints=function(t,e,r){return zT(this,void 0,void 0,function(){var n;return zP(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=i.sent(),[4,this.decodeFromStream(n,e,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(t,e,r){return zT(this,void 0,void 0,function(){var n;return zP(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return n=i.sent(),[4,this.decodeContinuously(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(t,e){return zT(this,void 0,void 0,function(){var r;return zP(this,function(n){switch(n.label){case 0:return r=this.prepareVideoElement(e),this.addVideoSource(r,t),this.videoElement=r,this.stream=t,[4,this.playVideoOnLoadAsync(r)];case 1:return n.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(t){var e=this;return new Promise(function(r,n){return e.playVideoOnLoad(t,function(){return r()})})},t.prototype.playVideoOnLoad=function(t,e){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)},t.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},t.prototype.tryPlayVideo=function(t){return zT(this,void 0,void 0,function(){return zP(this,function(e){switch(e.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.play()];case 2:return e.sent(),[3,4];case 3:return e.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(t,e){var r=document.getElementById(t);if(!r)throw new j0("element with id '"+t+"' not found");if(r.nodeName.toLowerCase()!==e.toLowerCase())throw new j0("element with id '"+t+"' must be an "+e+" element");return r},t.prototype.decodeFromImage=function(t,e){if(!t&&!e)throw new j0("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)},t.prototype.decodeFromVideo=function(t,e){if(!t&&!e)throw new j0("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)},t.prototype.decodeFromVideoContinuously=function(t,e,r){if(void 0===t&&void 0===e)throw new j0("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,r):this.decodeFromVideoElementContinuously(t,r)},t.prototype.decodeFromImageElement=function(t){if(!t)throw new j0("An image element must be provided.");this.reset();var e=this.prepareImageElement(t);return this.imageElement=e,this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e)},t.prototype.decodeFromVideoElement=function(t){var e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)},t.prototype.decodeFromVideoElementContinuously=function(t,e){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,e)},t.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new j0("A video element must be provided.");this.reset();var e=this.prepareVideoElement(t);return this.videoElement=e,e},t.prototype.decodeFromImageUrl=function(t){if(!t)throw new j0("An URL must be provided.");this.reset();var e=this.prepareImageElement();this.imageElement=e;var r=this._decodeOnLoadImage(e);return e.src=t,r},t.prototype.decodeFromVideoUrl=function(t){if(!t)throw new j0("An URL must be provided.");this.reset();var e=this.prepareVideoElement(),r=this.decodeFromVideoElement(e);return e.src=t,r},t.prototype.decodeFromVideoUrlContinuously=function(t,e){if(!t)throw new j0("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,e);return r.src=t,n},t.prototype._decodeOnLoadImage=function(t){var e=this;return new Promise(function(r,n){e.imageLoadedListener=function(){return e.decodeOnce(t,!1,!0).then(r,n)},t.addEventListener("load",e.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(t){return zT(this,void 0,void 0,function(){return zP(this,function(e){switch(e.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return e.sent(),[4,this.decodeOnce(t)];case 2:return[2,e.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(t,e){return zT(this,void 0,void 0,function(){return zP(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),this.decodeContinuously(t,e),[2]}})})},t.prototype.isImageLoaded=function(t){return!!t.complete&&0!==t.naturalWidth},t.prototype.prepareImageElement=function(t){var e;return void 0===t&&((e=document.createElement("img")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e},t.prototype.prepareVideoElement=function(t){var e;return t||"undefined"==typeof document||((e=document.createElement("video")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e},t.prototype.decodeOnce=function(t,e,r){var n=this;void 0===e&&(e=!0),void 0===r&&(r=!0),this._stopAsyncDecode=!1;var i=function(o,s){if(n._stopAsyncDecode){s(new zy("Video stream has ended before any code could be detected.")),n._stopAsyncDecode=void 0;return}try{var a=n.decode(t);o(a)}catch(t){var l=e&&t instanceof zy,h=(t instanceof j5||t instanceof zl)&&r;if(l||h)return setTimeout(i,n._timeBetweenDecodingAttempts,o,s);s(t)}};return new Promise(function(t,e){return i(t,e)})},t.prototype.decodeContinuously=function(t,e){var r=this;this._stopContinuousDecode=!1;var n=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var i=r.decode(t);e(i,null),setTimeout(n,r.timeBetweenScansMillis)}catch(t){e(null,t);var o=t instanceof j5||t instanceof zl,s=t instanceof zy;(o||s)&&setTimeout(n,r._timeBetweenDecodingAttempts)}};n()},t.prototype.decode=function(t){var e=this.createBinaryBitmap(t);return this.decodeBitmap(e)},t.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var e=!1;return t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),e=!0):this.drawImageOnCanvas(t),new j3(new zx(new zA(this.getCaptureCanvas(t),e)))},t.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var e=this.getCaptureCanvas(t),r=void 0;try{r=e.getContext("2d",{willReadFrequently:!0})}catch(t){r=e.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(t,e,r){void 0===e&&(e={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},t.prototype.drawImageOnCanvas=function(t,e,r){void 0===e&&(e={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},t.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},t.prototype.createCaptureCanvas=function(t){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var e,r,n=document.createElement("canvas");return void 0!==t&&(t instanceof HTMLVideoElement?(e=t.videoWidth,r=t.videoHeight):t instanceof HTMLImageElement&&(e=t.naturalWidth||t.width,r=t.naturalHeight||t.height)),n.style.width=e+"px",n.style.height=r+"px",n.width=e,n.height=r,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(t,e){try{t.srcObject=e}catch(r){t.src=URL.createObjectURL(e)}},t.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch(e){t.src=""}this.videoElement.removeAttribute("src")},t}(),zM=function(){function t(t,e,r,n,i,o){void 0===r&&(r=null==e?0:8*e.length),void 0===o&&(o=j8.currentTimeMillis()),this.text=t,this.rawBytes=e,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=o,this.text=t,this.rawBytes=e,null==r?this.numBits=null==e?0:8*e.length:this.numBits=r,this.resultPoints=n,this.format=i,this.resultMetadata=null,null==o?this.timestamp=j8.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(t,e){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)},t.prototype.putAllMetadata=function(t){null!==t&&(null===this.resultMetadata?this.resultMetadata=t:this.resultMetadata=new Map(t))},t.prototype.addResultPoints=function(t){var e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&&t.length>0){var r=Array(e.length+t.length);j8.arraycopy(e,0,r,0,e.length),j8.arraycopy(t,0,r,e.length,t.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}();(R=ea||(ea={}))[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION";var zN=ea;(M=el||(el={}))[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY";var zD=el,zL=function(){function t(t,e,r,n,i,o){void 0===i&&(i=-1),void 0===o&&(o=-1),this.rawBytes=t,this.text=e,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=null==t?0:8*t.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(t){this.numBits=t},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(t){this.erasures=t},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(t){this.other=t},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),z$=function(){function t(){}return t.prototype.exp=function(t){return this.expTable[t]},t.prototype.log=function(t){if(0===t)throw new j2;return this.logTable[t]},t.addOrSubtract=function(t,e){return t^e},t}(),zq=function(){function t(t,e){if(0===e.length)throw new j2;this.field=t;var r=e.length;if(r>1&&0===e[0]){for(var n=1;n<r&&0===e[n];)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),j8.arraycopy(e,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},t.prototype.evaluateAt=function(t){if(0===t)return this.getCoefficient(0);var e,r=this.coefficients;if(1===t){e=0;for(var n=0,i=r.length;n!==i;n++){var o=r[n];e=z$.addOrSubtract(e,o)}return e}e=r[0];for(var s=r.length,a=this.field,n=1;n<s;n++)e=z$.addOrSubtract(a.multiply(t,e),r[n]);return e},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new j2("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),s=n.length-r.length;j8.arraycopy(n,0,o,0,s);for(var a=s;a<n.length;a++)o[a]=z$.addOrSubtract(r[a-s],n[a]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new j2("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,s=new Int32Array(n+o-1),a=this.field,l=0;l<n;l++)for(var h=r[l],c=0;c<o;c++)s[l+c]=z$.addOrSubtract(s[l+c],a.multiply(h,i[c]));return new t(a,s)},t.prototype.multiplyScalar=function(e){if(0===e)return this.field.getZero();if(1===e)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),o=this.coefficients,s=0;s<r;s++)i[s]=n.multiply(o[s],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new j2;if(0===r)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+e),s=this.field,a=0;a<i;a++)o[a]=s.multiply(n[a],r);return new t(s,o)},t.prototype.divide=function(t){if(!this.field.equals(t.field))throw new j2("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new j2("Divide by 0");for(var e=this.field,r=e.getZero(),n=this,i=t.getCoefficient(t.getDegree()),o=e.inverse(i);n.getDegree()>=t.getDegree()&&!n.isZero();){var s=n.getDegree()-t.getDegree(),a=e.multiply(n.getCoefficient(n.getDegree()),o),l=t.multiplyByMonomial(s,a),h=e.buildMonomial(s,a);r=r.addOrSubtract(h),n=n.addOrSubtract(l)}return[r,n]},t.prototype.toString=function(){for(var t="",e=this.getDegree();e>=0;e--){var r=this.getCoefficient(e);if(0!==r){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),0===e||1!==r){var n=this.field.log(r);0===n?t+="1":1===n?t+="a":(t+="a^",t+=n)}0!==e&&(1===e?t+="x":(t+="x^",t+=e))}}return t},t}(),zQ=(N=function(t,e){return(N=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zQ(e,t),e.kind="ArithmeticException",e}(jK),zj=(D=function(t,e){return(D=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zz=function(t){function e(e,r,n){var i=t.call(this)||this;i.primitive=e,i.size=r,i.generatorBase=n;for(var o=new Int32Array(r),s=1,a=0;a<r;a++)o[a]=s,(s*=2)>=r&&(s^=e,s&=r-1);i.expTable=o;for(var l=new Int32Array(r),a=0;a<r-1;a++)l[o[a]]=a;return i.logTable=l,i.zero=new zq(i,Int32Array.from([0])),i.one=new zq(i,Int32Array.from([1])),i}return zj(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,e){if(t<0)throw new j2;if(0===e)return this.zero;var r=new Int32Array(t+1);return r[0]=e,new zq(this,r)},e.prototype.inverse=function(t){if(0===t)throw new zB;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+zi.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(z$),zZ=(q=function(t,e){return(q=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}q(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zZ(e,t),e.kind="ReedSolomonException",e}(jK),zX=(Q=function(t,e){return(Q=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),zV=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zX(e,t),e.kind="IllegalStateException",e}(jK),zU=function(){function t(t){this.field=t}return t.prototype.decode=function(t,e){for(var r=this.field,n=new zq(r,t),i=new Int32Array(e),o=!0,s=0;s<e;s++){var a=n.evaluateAt(r.exp(s+r.getGeneratorBase()));i[i.length-1-s]=a,0!==a&&(o=!1)}if(!o)for(var l=new zq(r,i),h=this.runEuclideanAlgorithm(r.buildMonomial(e,1),l,e),c=h[0],u=h[1],d=this.findErrorLocations(c),f=this.findErrorMagnitudes(u,d),s=0;s<d.length;s++){var p=t.length-1-r.log(d[s]);if(p<0)throw new zF("Bad error location");t[p]=zz.addOrSubtract(t[p],f[s])}},t.prototype.runEuclideanAlgorithm=function(t,e,r){if(t.getDegree()<e.getDegree()){var n=t;t=e,e=n}for(var i=this.field,o=t,s=e,a=i.getZero(),l=i.getOne();s.getDegree()>=(r/2|0);){var h=o,c=a;if(o=s,a=l,o.isZero())throw new zF("r_{i-1} was zero");s=h;for(var u=i.getZero(),d=o.getCoefficient(o.getDegree()),f=i.inverse(d);s.getDegree()>=o.getDegree()&&!s.isZero();){var p=s.getDegree()-o.getDegree(),g=i.multiply(s.getCoefficient(s.getDegree()),f);u=u.addOrSubtract(i.buildMonomial(p,g)),s=s.addOrSubtract(o.multiplyByMonomial(p,g))}if(l=u.multiply(a).addOrSubtract(c),s.getDegree()>=o.getDegree())throw new zV("Division algorithm failed to reduce polynomial?")}var m=l.getCoefficient(0);if(0===m)throw new zF("sigmaTilde(0) was zero");var v=i.inverse(m);return[l.multiplyScalar(v),s.multiplyScalar(v)]},t.prototype.findErrorLocations=function(t){var e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);for(var r=new Int32Array(e),n=0,i=this.field,o=1;o<i.getSize()&&n<e;o++)0===t.evaluateAt(o)&&(r[n]=i.inverse(o),n++);if(n!==e)throw new zF("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(t,e){for(var r=e.length,n=new Int32Array(r),i=this.field,o=0;o<r;o++){for(var s=i.inverse(e[o]),a=1,l=0;l<r;l++)if(o!==l){var h=i.multiply(e[l],s),c=(1&h)==0?1|h:-2&h;a=i.multiply(a,c)}n[o]=i.multiply(t.evaluateAt(s),i.inverse(a)),0!==i.getGeneratorBase()&&(n[o]=i.multiply(n[o],s))}return n},t}();(B=eh||(eh={}))[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY";var zW=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),o=new zL(t.convertBoolArrayToByteArray(i),t.getEncodedData(i),null,null);return o.setNumBits(i.length),o},t.highLevelDecode=function(t){return this.getEncodedData(t)},t.getEncodedData=function(e){for(var r=e.length,n=eh.UPPER,i=eh.UPPER,o="",s=0;s<r;)if(i===eh.BINARY){if(r-s<5)break;var a=t.readCode(e,s,5);if(s+=5,0===a){if(r-s<11)break;a=t.readCode(e,s,11)+31,s+=11}for(var l=0;l<a;l++){if(r-s<8){s=r;break}var h=t.readCode(e,s,8);o+=zp.castAsNonUtf8Char(h),s+=8}i=n}else{var c=i===eh.DIGIT?4:5;if(r-s<c)break;var h=t.readCode(e,s,c);s+=c;var u=t.getCharacter(i,h);u.startsWith("CTRL_")?(n=i,i=t.getTable(u.charAt(5)),"L"===u.charAt(6)&&(n=i)):(o+=u,i=n)}return o},t.getTable=function(t){switch(t){case"L":return eh.LOWER;case"P":return eh.PUNCT;case"M":return eh.MIXED;case"D":return eh.DIGIT;case"B":return eh.BINARY;default:return eh.UPPER}},t.getCharacter=function(e,r){switch(e){case eh.UPPER:return t.UPPER_TABLE[r];case eh.LOWER:return t.LOWER_TABLE[r];case eh.MIXED:return t.MIXED_TABLE[r];case eh.PUNCT:return t.PUNCT_TABLE[r];case eh.DIGIT:return t.DIGIT_TABLE[r];default:throw new zV("Bad table")}},t.prototype.correctBits=function(e){2>=this.ddata.getNbLayers()?(n=6,r=zz.AZTEC_DATA_6):8>=this.ddata.getNbLayers()?(n=8,r=zz.AZTEC_DATA_8):22>=this.ddata.getNbLayers()?(n=10,r=zz.AZTEC_DATA_10):(n=12,r=zz.AZTEC_DATA_12);var r,n,i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new zl;for(var s=e.length%n,a=new Int32Array(o),l=0;l<o;l++,s+=n)a[l]=t.readCode(e,s,n);try{new zU(r).decode(a,o-i)}catch(t){throw new zl(t)}for(var h=(1<<n)-1,c=0,l=0;l<i;l++){var u=a[l];if(0===u||u===h)throw new zl;(1===u||u===h-1)&&c++}for(var d=Array(i*n-c),f=0,l=0;l<i;l++){var u=a[l];if(1===u||u===h-1)d.fill(u>1,f,f+n-1),f+=n-1;else for(var p=n-1;p>=0;--p)d[f++]=(u&1<<p)!=0}return d},t.prototype.extractBits=function(t){var e=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(e?11:14)+4*r,i=new Int32Array(n),o=Array(this.totalBitsInLayer(r,e));if(e)for(var s=0;s<i.length;s++)i[s]=s;else for(var a=n+1+2*zi.truncDivision(zi.truncDivision(n,2)-1,15),l=n/2,h=zi.truncDivision(a,2),s=0;s<l;s++){var c=s+zi.truncDivision(s,15);i[l-s-1]=h-c-1,i[l+s]=h+c+1}for(var s=0,u=0;s<r;s++){for(var d=(r-s)*4+(e?9:12),f=2*s,p=n-1-f,g=0;g<d;g++)for(var m=2*g,v=0;v<2;v++)o[u+m+v]=t.get(i[f+v],i[f+g]),o[u+2*d+m+v]=t.get(i[f+g],i[p-v]),o[u+4*d+m+v]=t.get(i[p-v],i[p-g]),o[u+6*d+m+v]=t.get(i[p-g],i[f+v]);u+=8*d}return o},t.readCode=function(t,e,r){for(var n=0,i=e;i<e+r;i++)n<<=1,t[i]&&(n|=1);return n},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","	","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),zH=function(){function t(){}return t.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},t.distance=function(t,e,r,n){var i=t-r,o=e-n;return Math.sqrt(i*i+o*o)},t.sum=function(t){for(var e=0,r=0,n=t.length;r!==n;r++)e+=t[r];return e},t}(),zY=function(){function t(){}return t.floatToIntBits=function(t){return t},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),zG=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){return e instanceof t&&this.x===e.x&&this.y===e.y},t.prototype.hashCode=function(){return 31*zY.floatToIntBits(this.x)+zY.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(t){var e,r,n,i=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);if(o>=i&&o>=s?(r=t[0],e=t[1],n=t[2]):s>=o&&s>=i?(r=t[1],e=t[0],n=t[2]):(r=t[2],e=t[0],n=t[1]),0>this.crossProductZ(e,r,n)){var a=e;e=n,n=a}t[0]=e,t[1]=r,t[2]=n},t.distance=function(t,e){return zH.distance(t.x,t.y,e.x,e.y)},t.crossProductZ=function(t,e,r){var n=e.x,i=e.y;return(r.x-n)*(t.y-i)-(r.y-i)*(t.x-n)},t}(),zK=function(){function t(t,e){this.bits=t,this.points=e}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),zJ=(j=function(t,e){return(j=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),z0=function(t){function e(e,r,n,i,o){var s=t.call(this,e,r)||this;return s.compact=n,s.nbDatablocks=i,s.nbLayers=o,s}return zJ(e,t),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(zK),z1=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==r&&(r=t.INIT_SIZE),null==n&&(n=e.getWidth()/2|0),null==i&&(i=e.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new zy}return t.prototype.detect=function(){for(var t=this.leftInit,e=this.rightInit,r=this.upInit,n=this.downInit,i=!1,o=!0,s=!1,a=!1,l=!1,h=!1,c=!1,u=this.width,d=this.height;o;){o=!1;for(var f=!0;(f||!a)&&e<u;)(f=this.containsBlackPoint(r,n,e,!1))?(e++,o=!0,a=!0):!a&&e++;if(e>=u){i=!0;break}for(var p=!0;(p||!l)&&n<d;)(p=this.containsBlackPoint(t,e,n,!0))?(n++,o=!0,l=!0):!l&&n++;if(n>=d){i=!0;break}for(var g=!0;(g||!h)&&t>=0;)(g=this.containsBlackPoint(r,n,t,!1))?(t--,o=!0,h=!0):!h&&t--;if(t<0){i=!0;break}for(var m=!0;(m||!c)&&r>=0;)(m=this.containsBlackPoint(t,e,r,!0))?(r--,o=!0,c=!0):!c&&r--;if(r<0){i=!0;break}o&&(s=!0)}if(!i&&s){for(var v=e-t,y=null,b=1;null===y&&b<v;b++)y=this.getBlackPointOnSegment(t,n-b,t+b,n);if(null==y)throw new zy;for(var O=null,b=1;null===O&&b<v;b++)O=this.getBlackPointOnSegment(t,r+b,t+b,r);if(null==O)throw new zy;for(var w=null,b=1;null===w&&b<v;b++)w=this.getBlackPointOnSegment(e,r+b,e-b,r);if(null==w)throw new zy;for(var x=null,b=1;null===x&&b<v;b++)x=this.getBlackPointOnSegment(e,n-b,e-b,n);if(null==x)throw new zy;return this.centerEdges(x,y,w,O)}throw new zy},t.prototype.getBlackPointOnSegment=function(t,e,r,n){for(var i=zH.round(zH.distance(t,e,r,n)),o=(r-t)/i,s=(n-e)/i,a=this.image,l=0;l<i;l++){var h=zH.round(t+l*o),c=zH.round(e+l*s);if(a.get(h,c))return new zG(h,c)}return null},t.prototype.centerEdges=function(e,r,n,i){var o=e.getX(),s=e.getY(),a=r.getX(),l=r.getY(),h=n.getX(),c=n.getY(),u=i.getX(),d=i.getY(),f=t.CORR;return o<this.width/2?[new zG(u-f,d+f),new zG(a+f,l+f),new zG(h-f,c-f),new zG(o+f,s-f)]:[new zG(u+f,d+f),new zG(a+f,l-f),new zG(h-f,c+f),new zG(o-f,s-f)]},t.prototype.containsBlackPoint=function(t,e,r,n){var i=this.image;if(n){for(var o=t;o<=e;o++)if(i.get(o,r))return!0}else for(var s=t;s<=e;s++)if(i.get(r,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),z2=function(){function t(){}return t.checkAndNudgePoints=function(t,e){for(var r=t.getWidth(),n=t.getHeight(),i=!0,o=0;o<e.length&&i;o+=2){var s=Math.floor(e[o]),a=Math.floor(e[o+1]);if(s<-1||s>r||a<-1||a>n)throw new zy;i=!1,-1===s?(e[o]=0,i=!0):s===r&&(e[o]=r-1,i=!0),-1===a?(e[o+1]=0,i=!0):a===n&&(e[o+1]=n-1,i=!0)}i=!0;for(var o=e.length-2;o>=0&&i;o-=2){var s=Math.floor(e[o]),a=Math.floor(e[o+1]);if(s<-1||s>r||a<-1||a>n)throw new zy;i=!1,-1===s?(e[o]=0,i=!0):s===r&&(e[o]=r-1,i=!0),-1===a?(e[o+1]=0,i=!0):a===n&&(e[o+1]=n-1,i=!0)}},t}(),z3=function(){function t(t,e,r,n,i,o,s,a,l){this.a11=t,this.a21=e,this.a31=r,this.a12=n,this.a22=i,this.a32=o,this.a13=s,this.a23=a,this.a33=l}return t.quadrilateralToQuadrilateral=function(e,r,n,i,o,s,a,l,h,c,u,d,f,p,g,m){var v=t.quadrilateralToSquare(e,r,n,i,o,s,a,l);return t.squareToQuadrilateral(h,c,u,d,f,p,g,m).times(v)},t.prototype.transformPoints=function(t){for(var e=t.length,r=this.a11,n=this.a12,i=this.a13,o=this.a21,s=this.a22,a=this.a23,l=this.a31,h=this.a32,c=this.a33,u=0;u<e;u+=2){var d=t[u],f=t[u+1],p=i*d+a*f+c;t[u]=(r*d+o*f+l)/p,t[u+1]=(n*d+s*f+h)/p}},t.prototype.transformPointsWithValues=function(t,e){for(var r=this.a11,n=this.a12,i=this.a13,o=this.a21,s=this.a22,a=this.a23,l=this.a31,h=this.a32,c=this.a33,u=t.length,d=0;d<u;d++){var f=t[d],p=e[d],g=i*f+a*p+c;t[d]=(r*f+o*p+l)/g,e[d]=(n*f+s*p+h)/g}},t.squareToQuadrilateral=function(e,r,n,i,o,s,a,l){var h=e-n+o-a,c=r-i+s-l;if(0===h&&0===c)return new t(n-e,o-n,e,i-r,s-i,r,0,0,1);var u=n-o,d=a-o,f=i-s,p=l-s,g=u*p-d*f,m=(h*p-d*c)/g,v=(u*c-h*f)/g;return new t(n-e+m*n,a-e+v*a,e,i-r+m*i,l-r+v*l,r,m,v,1)},t.quadrilateralToSquare=function(e,r,n,i,o,s,a,l){return t.squareToQuadrilateral(e,r,n,i,o,s,a,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),z4=(z=function(t,e){return(z=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}z(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),z5=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return z4(e,t),e.prototype.sampleGrid=function(t,e,r,n,i,o,s,a,l,h,c,u,d,f,p,g,m,v,y){var b=z3.quadrilateralToQuadrilateral(n,i,o,s,a,l,h,c,u,d,f,p,g,m,v,y);return this.sampleGridWithTransform(t,e,r,b)},e.prototype.sampleGridWithTransform=function(t,e,r,n){if(e<=0||r<=0)throw new zy;for(var i=new zm(e,r),o=new Float32Array(2*e),s=0;s<r;s++){for(var a=o.length,l=s+.5,h=0;h<a;h+=2)o[h]=h/2+.5,o[h+1]=l;n.transformPoints(o),z2.checkAndNudgePoints(t,o);try{for(var h=0;h<a;h+=2)t.get(Math.floor(o[h]),Math.floor(o[h+1]))&&i.set(h/2,s)}catch(t){throw new zy}}return i},e}(z2),z6=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new z5,t}(),z8=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.toResultPoint=function(){return new zG(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),z7=function(){function t(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(t){var e=this.getMatrixCenter(),r=this.getBullsEyeCorners(e);if(t){var n=r[0];r[0]=r[2],r[2]=n}return this.extractParameters(r),new z0(this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),this.getMatrixCornerPoints(r),this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new zy;var e=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(r,e);for(var n=0,i=0;i<4;i++){var o=r[(this.shift+i)%4];this.compact?(n<<=7,n+=o>>1&127):(n<<=10,n+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(63&s)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(2047&s)+1)},t.prototype.getRotation=function(t,e){var r=0;t.forEach(function(t,n,i){r=(r<<3)+((t>>e-2<<1)+(1&t))}),r=((1&r)<<11)+(r>>1);for(var n=0;n<4;n++)if(2>=zi.bitCount(r^this.EXPECTED_CORNER_BITS[n]))return n;throw new zy},t.prototype.getCorrectedParameterData=function(t,e){e?(r=7,n=2):(r=10,n=4);for(var r,n,i=r-n,o=new Int32Array(r),s=r-1;s>=0;--s)o[s]=15&t,t>>=4;try{new zU(zz.AZTEC_PARAM).decode(o,i)}catch(t){throw new zy}for(var a=0,s=0;s<n;s++)a=(a<<4)+o[s];return a},t.prototype.getBullsEyeCorners=function(t){var e=t,r=t,n=t,i=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(e,o,1,-1),a=this.getFirstDifferent(r,o,1,1),l=this.getFirstDifferent(n,o,-1,1),h=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var c=this.distancePoint(h,s)*this.nbCenterLayers/(this.distancePoint(i,e)*(this.nbCenterLayers+2));if(c<.75||c>1.25||!this.isWhiteOrBlackRectangle(s,a,l,h))break}e=s,r=a,n=l,i=h,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new zy;this.compact=5===this.nbCenterLayers;var u=new zG(e.getX()+.5,e.getY()-.5),d=new zG(r.getX()+.5,r.getY()+.5),f=new zG(n.getX()-.5,n.getY()+.5),p=new zG(i.getX()-.5,i.getY()-.5);return this.expandSquare([u,d,f,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){try{var t,e,r,n,i=new z1(this.image).detect();t=i[0],e=i[1],r=i[2],n=i[3]}catch(i){var o=this.image.getWidth()/2,s=this.image.getHeight()/2;t=this.getFirstDifferent(new z8(o+7,s-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new z8(o+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new z8(o-7,s+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new z8(o-7,s-7),!1,-1,-1).toResultPoint()}var a=zH.round((t.getX()+n.getX()+e.getX()+r.getX())/4),l=zH.round((t.getY()+n.getY()+e.getY()+r.getY())/4);try{var i=new z1(this.image,15,a,l).detect();t=i[0],e=i[1],r=i[2],n=i[3]}catch(i){t=this.getFirstDifferent(new z8(a+7,l-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new z8(a+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new z8(a-7,l+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new z8(a-7,l-7),!1,-1,-1).toResultPoint()}return new z8(a=zH.round((t.getX()+n.getX()+e.getX()+r.getX())/4),l=zH.round((t.getY()+n.getY()+e.getY()+r.getY())/4))},t.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(t,e,r,n,i){var o=z6.getInstance(),s=this.getDimension(),a=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return o.sampleGrid(t,s,s,a,a,l,a,l,l,a,l,e.getX(),e.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(t,e,r){for(var n=0,i=this.distanceResultPoint(t,e),o=i/r,s=t.getX(),a=t.getY(),l=o*(e.getX()-t.getX())/i,h=o*(e.getY()-t.getY())/i,c=0;c<r;c++)this.image.get(zH.round(s+c*l),zH.round(a+c*h))&&(n|=1<<r-c-1);return n},t.prototype.isWhiteOrBlackRectangle=function(t,e,r,n){t=new z8(t.getX()-3,t.getY()+3),e=new z8(e.getX()-3,e.getY()-3),r=new z8(r.getX()+3,r.getY()-3),n=new z8(n.getX()+3,n.getY()+3);var i=this.getColor(n,t);if(0===i)return!1;var o=this.getColor(t,e);return o===i&&(o=this.getColor(e,r))===i&&(o=this.getColor(r,n))===i},t.prototype.getColor=function(t,e){for(var r=this.distancePoint(t,e),n=(e.getX()-t.getX())/r,i=(e.getY()-t.getY())/r,o=0,s=t.getX(),a=t.getY(),l=this.image.get(t.getX(),t.getY()),h=Math.ceil(r),c=0;c<h;c++)s+=n,a+=i,this.image.get(zH.round(s),zH.round(a))!==l&&o++;var u=o/r;return u>.1&&u<.9?0:u<=.1===l?1:-1},t.prototype.getFirstDifferent=function(t,e,r,n){for(var i=t.getX()+r,o=t.getY()+n;this.isValid(i,o)&&this.image.get(i,o)===e;)i+=r,o+=n;for(i-=r,o-=n;this.isValid(i,o)&&this.image.get(i,o)===e;)i+=r;for(i-=r;this.isValid(i,o)&&this.image.get(i,o)===e;)o+=n;return new z8(i,o-=n)},t.prototype.expandSquare=function(t,e,r){var n=r/(2*e),i=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),s=(t[0].getX()+t[2].getX())/2,a=(t[0].getY()+t[2].getY())/2,l=new zG(s+n*i,a+n*o),h=new zG(s-n*i,a-n*o);return i=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),[l,new zG((s=(t[1].getX()+t[3].getX())/2)+n*i,(a=(t[1].getY()+t[3].getY())/2)+n*o),h,new zG(s-n*i,a-n*o)]},t.prototype.isValid=function(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()},t.prototype.isValidPoint=function(t){var e=zH.round(t.getX()),r=zH.round(t.getY());return this.isValid(e,r)},t.prototype.distancePoint=function(t,e){return zH.distance(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.distanceResultPoint=function(t,e){return zH.distance(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(zi.truncDivision(this.nbLayers-4,8)+1)+15},t}(),z9=function(){function t(){}return t.prototype.decode=function(t,e){void 0===e&&(e=null);var r=null,n=new z7(t.getBlackMatrix()),i=null,o=null;try{var s=n.detectMirror(!1);i=s.getPoints(),this.reportFoundResultPoints(e,i),o=new zW().decode(s)}catch(t){r=t}if(null==o)try{var s=n.detectMirror(!0);i=s.getPoints(),this.reportFoundResultPoints(e,i),o=new zW().decode(s)}catch(t){if(null!=r)throw r;throw t}var a=new zM(o.getText(),o.getRawBytes(),o.getNumBits(),i,zN.AZTEC,j8.currentTimeMillis()),l=o.getByteSegments();null!=l&&a.putMetadata(zD.BYTE_SEGMENTS,l);var h=o.getECLevel();return null!=h&&a.putMetadata(zD.ERROR_CORRECTION_LEVEL,h),a},t.prototype.reportFoundResultPoints=function(t,e){if(null!=t){var r=t.get(zs.NEED_RESULT_POINT_CALLBACK);null!=r&&e.forEach(function(t,e,n){r.foundPossibleResultPoint(t)})}},t.prototype.reset=function(){},t}();(Z=function(t,e){return(Z=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t){return void 0===t&&(t=500),F.call(this,new z9,t)||this},F=zR);var Zt=function(){function t(){}return t.prototype.decode=function(t,e){try{return this.doDecode(t,e)}catch(h){if(e&&!0===e.get(zs.TRY_HARDER)&&t.isRotateSupported()){var r=t.rotateCounterClockwise(),n=this.doDecode(r,e),i=n.getResultMetadata(),o=270;null!==i&&!0===i.get(zD.ORIENTATION)&&(o+=i.get(zD.ORIENTATION)%360),n.putMetadata(zD.ORIENTATION,o);var s=n.getResultPoints();if(null!==s)for(var a=r.getHeight(),l=0;l<s.length;l++)s[l]=new zG(a-s[l].getY()-1,s[l].getX());return n}throw new zy}},t.prototype.reset=function(){},t.prototype.doDecode=function(t,e){var r,n=t.getWidth(),i=t.getHeight(),o=new zo(n),s=e&&!0===e.get(zs.TRY_HARDER),a=Math.max(1,i>>(s?8:5));r=s?i:15;for(var l=Math.trunc(i/2),h=0;h<r;h++){var c=Math.trunc((h+1)/2),u=l+a*((1&h)==0?c:-c);if(u<0||u>=i)break;try{o=t.getBlackRow(u,o)}catch(t){continue}for(var d=this,f=0;f<2;f++){var p=function(t){if(1===t&&(o.reverse(),e&&!0===e.get(zs.NEED_RESULT_POINT_CALLBACK))){var r=new Map;e.forEach(function(t,e){return r.set(e,t)}),r.delete(zs.NEED_RESULT_POINT_CALLBACK),e=r}try{var i=d.decodeRow(u,o,e);if(1===t){i.putMetadata(zD.ORIENTATION,180);var s=i.getResultPoints();null!==s&&(s[0]=new zG(n-s[0].getX()-1,s[0].getY()),s[1]=new zG(n-s[1].getX()-1,s[1].getY()))}return{value:i}}catch(t){}}(f);if("object"==typeof p)return p.value}}throw new zy},t.recordPattern=function(t,e,r){for(var n=r.length,i=0;i<n;i++)r[i]=0;var o=t.getSize();if(e>=o)throw new zy;for(var s=!t.get(e),a=0,l=e;l<o;){if(t.get(l)!==s)r[a]++;else{if(++a===n)break;r[a]=1,s=!s}l++}if(!(a===n||a===n-1&&l===o))throw new zy},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,o=e.get(r);r>0&&i>=0;)e.get(--r)!==o&&(i--,o=!o);if(i>=0)throw new zy;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(t,e,r){for(var n=t.length,i=0,o=0,s=0;s<n;s++)i+=t[s],o+=e[s];if(i<o)return Number.POSITIVE_INFINITY;var a=i/o;r*=a;for(var l=0,h=0;h<n;h++){var c=t[h],u=e[h]*a,d=c>u?c-u:u-c;if(d>r)return Number.POSITIVE_INFINITY;l+=d}return l/i},t}(),Ze=(X=function(t,e){return(X=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ze(e,t),e.findStartPattern=function(t){for(var r=t.getSize(),n=t.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),s=n,a=!1,l=n;l<r;l++)if(t.get(l)!==a)o[i]++;else{if(5===i){for(var h=e.MAX_AVG_VARIANCE,c=-1,u=e.CODE_START_A;u<=e.CODE_START_C;u++){var d=Zt.patternMatchVariance(o,e.CODE_PATTERNS[u],e.MAX_INDIVIDUAL_VARIANCE);d<h&&(h=d,c=u)}if(c>=0&&t.isRange(Math.max(0,s-(l-s)/2),s,!1))return Int32Array.from([s,l,c]);s+=o[0]+o[1],(o=o.slice(2,o.length))[i-1]=0,o[i]=0,i--}else i++;o[i]=1,a=!a}throw new zy},e.decodeCode=function(t,r,n){Zt.recordPattern(t,n,r);for(var i=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var a=e.CODE_PATTERNS[s],l=this.patternMatchVariance(r,a,e.MAX_INDIVIDUAL_VARIANCE);l<i&&(i=l,o=s)}if(o>=0)return o;throw new zy},e.prototype.decodeRow=function(t,r,n){var i,o=n&&!0===n.get(zs.ASSUME_GS1),s=e.findStartPattern(r),a=s[2],l=0,h=new Uint8Array(20);switch(h[l++]=a,a){case e.CODE_START_A:i=e.CODE_CODE_A;break;case e.CODE_START_B:i=e.CODE_CODE_B;break;case e.CODE_START_C:i=e.CODE_CODE_C;break;default:throw new zl}for(var c=!1,u=!1,d="",f=s[0],p=s[1],g=Int32Array.from([0,0,0,0,0,0]),m=0,v=0,y=a,b=0,O=!0,w=!1,x=!1;!c;){var k=u;switch(u=!1,m=v,v=e.decodeCode(r,g,p),h[l++]=v,v!==e.CODE_STOP&&(O=!0),v!==e.CODE_STOP&&(y+=++b*v),f=p,p+=g.reduce(function(t,e){return t+e},0),v){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new zl}switch(i){case e.CODE_CODE_A:if(v<64)x===w?d+=String.fromCharCode(32+v):d+=String.fromCharCode(32+v+128),x=!1;else if(v<96)x===w?d+=String.fromCharCode(v-64):d+=String.fromCharCode(v+64),x=!1;else switch(v!==e.CODE_STOP&&(O=!1),v){case e.CODE_FNC_1:o&&(0===d.length?d+="]C1":d+="\x1d");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!w&&x?(w=!0,x=!1):w&&x?(w=!1,x=!1):x=!0;break;case e.CODE_SHIFT:u=!0,i=e.CODE_CODE_B;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:c=!0}break;case e.CODE_CODE_B:if(v<96)x===w?d+=String.fromCharCode(32+v):d+=String.fromCharCode(32+v+128),x=!1;else switch(v!==e.CODE_STOP&&(O=!1),v){case e.CODE_FNC_1:o&&(0===d.length?d+="]C1":d+="\x1d");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!w&&x?(w=!0,x=!1):w&&x?(w=!1,x=!1):x=!0;break;case e.CODE_SHIFT:u=!0,i=e.CODE_CODE_A;break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:c=!0}break;case e.CODE_CODE_C:if(v<100)v<10&&(d+="0"),d+=v;else switch(v!==e.CODE_STOP&&(O=!1),v){case e.CODE_FNC_1:o&&(0===d.length?d+="]C1":d+="\x1d");break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_STOP:c=!0}}k&&(i=i===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var S=p-f;if(p=r.getNextUnset(p),!r.isRange(p,Math.min(r.getSize(),p+(p-f)/2),!1))throw new zy;if((y-=b*m)%103!==m)throw new j5;var C=d.length;if(0===C)throw new zy;C>0&&O&&(d=i===e.CODE_CODE_C?d.substring(0,C-2):d.substring(0,C-1));for(var A=(s[1]+s[0])/2,E=f+S/2,T=h.length,P=new Uint8Array(T),I=0;I<T;I++)P[I]=h[I];return new zM(d,P,0,[new zG(A,t),new zG(E,t)],zN.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Zt),Zn=(V=function(t,e){return(V=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Zi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zo=function(t){function e(e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var n=t.call(this)||this;return n.usingCheckDigit=e,n.extendedMode=r,n.decodeRowResult="",n.counters=new Int32Array(9),n}return Zn(e,t),e.prototype.decodeRow=function(t,r,n){var i,o,s,a,l,h,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(r,u),f=r.getNextSet(d[1]),p=r.getSize();do{e.recordPattern(r,f,u);var g=e.toNarrowWidePattern(u);if(g<0)throw new zy;l=e.patternToChar(g),this.decodeRowResult+=l,h=f;try{for(var m=(i=void 0,Zi(u)),v=m.next();!v.done;v=m.next()){var y=v.value;f+=y}}catch(t){i={error:t}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}f=r.getNextSet(f)}while("*"!==l)this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var b=0;try{for(var O=Zi(u),w=O.next();!w.done;w=O.next()){var y=w.value;b+=y}}catch(t){s={error:t}}finally{try{w&&!w.done&&(a=O.return)&&a.call(O)}finally{if(s)throw s.error}}var x=f-h-b;if(f!==p&&2*x<b)throw new zy;if(this.usingCheckDigit){for(var k=this.decodeRowResult.length-1,S=0,C=0;C<k;C++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(C));if(this.decodeRowResult.charAt(k)!==e.ALPHABET_STRING.charAt(S%43))throw new j5;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(0===this.decodeRowResult.length)throw new zy;c=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var A=(d[1]+d[0])/2,E=h+b/2;return new zM(c,null,0,[new zG(A,t),new zG(E,t)],zN.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var n=t.getSize(),i=t.getNextSet(0),o=0,s=i,a=!1,l=r.length,h=i;h<n;h++)if(t.get(h)!==a)r[o]++;else{if(o===l-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((h-s)/2)),s,!1))return[s,h];s+=r[0]+r[1],r.copyWithin(0,2,2+o-1),r[o-1]=0,r[o]=0,o--}else o++;r[o]=1,a=!a}throw new zy},e.toNarrowWidePattern=function(t){var e,r,n,i=t.length,o=0;do{var s=0x7fffffff;try{for(var a=(e=void 0,Zi(t)),l=a.next();!l.done;l=a.next()){var h=l.value;h<s&&h>o&&(s=h)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}o=s,n=0;for(var c=0,u=0,d=0;d<i;d++){var h=t[d];h>o&&(u|=1<<i-1-d,n++,c+=h)}if(3===n){for(var d=0;d<i&&n>0;d++){var h=t[d];if(h>o&&(n--,2*h>=c))return -1}return u}}while(n>3)return -1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new zy},e.decodeExtended=function(t){for(var e=t.length,r="",n=0;n<e;n++){var i=t.charAt(n);if("+"===i||"$"===i||"%"===i||"/"===i){var o=t.charAt(n+1),s="\0";switch(i){case"+":if(o>="A"&&o<="Z")s=String.fromCharCode(o.charCodeAt(0)+32);else throw new zl;break;case"$":if(o>="A"&&o<="Z")s=String.fromCharCode(o.charCodeAt(0)-64);else throw new zl;break;case"%":if(o>="A"&&o<="E")s=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")s=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")s=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")s=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)s="\0";else if("V"===o)s="@";else if("W"===o)s="`";else if("X"===o||"Y"===o||"Z"===o)s="";else throw new zl;break;case"/":if(o>="A"&&o<="O")s=String.fromCharCode(o.charCodeAt(0)-32);else if("Z"===o)s=":";else throw new zl}r+=s,n++}else r+=i}return r},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Zt),Zs=(U=function(t,e){return(U=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Za=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zl=function(t){function e(){var e=t.call(this)||this;return e.decodeRowResult="",e.counters=new Int32Array(6),e}return Zs(e,t),e.prototype.decodeRow=function(t,r,n){var i,o,s,a,l,h,c=this.findAsteriskPattern(r),u=r.getNextSet(c[1]),d=r.getSize(),f=this.counters;f.fill(0),this.decodeRowResult="";do{e.recordPattern(r,u,f);var p=this.toPattern(f);if(p<0)throw new zy;l=this.patternToChar(p),this.decodeRowResult+=l,h=u;try{for(var g=(i=void 0,Za(f)),m=g.next();!m.done;m=g.next()){var v=m.value;u+=v}}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}u=r.getNextSet(u)}while("*"!==l)this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var b=Za(f),O=b.next();!O.done;O=b.next()){var v=O.value;y+=v}}catch(t){s={error:t}}finally{try{O&&!O.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}if(u===d||!r.get(u)||this.decodeRowResult.length<2)throw new zy;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var w=this.decodeExtended(this.decodeRowResult),x=(c[1]+c[0])/2,k=h+y/2;return new zM(w,null,0,[new zG(x,t),new zG(k,t)],zN.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),n=t.getNextSet(0);this.counters.fill(0);for(var i=this.counters,o=n,s=!1,a=i.length,l=0,h=n;h<r;h++)if(t.get(h)!==s)i[l]++;else{if(l===a-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([o,h]);o+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,s=!s}throw new zy},e.prototype.toPattern=function(t){var e,r,n=0;try{for(var i=Za(t),o=i.next();!o.done;o=i.next()){var s=o.value;n+=s}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}for(var a=0,l=t.length,h=0;h<l;h++){var c=Math.round(9*t[h]/n);if(c<1||c>4)return -1;if((1&h)==0)for(var u=0;u<c;u++)a=a<<1|1;else a<<=c}return a},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new zy},e.prototype.decodeExtended=function(t){for(var e=t.length,r="",n=0;n<e;n++){var i=t.charAt(n);if(i>="a"&&i<="d"){if(n>=e-1)throw new zl;var o=t.charAt(n+1),s="\0";switch(i){case"d":if(o>="A"&&o<="Z")s=String.fromCharCode(o.charCodeAt(0)+32);else throw new zl;break;case"a":if(o>="A"&&o<="Z")s=String.fromCharCode(o.charCodeAt(0)-64);else throw new zl;break;case"b":if(o>="A"&&o<="E")s=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")s=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")s=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")s=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)s="\0";else if("V"===o)s="@";else if("W"===o)s="`";else if(o>="X"&&o<="Z")s="";else throw new zl;break;case"c":if(o>="A"&&o<="O")s=String.fromCharCode(o.charCodeAt(0)-32);else if("Z"===o)s=":";else throw new zl}r+=s,n++}else r+=i}return r},e.prototype.checkChecksums=function(t){var e=t.length;this.checkOneChecksum(t,e-2,20),this.checkOneChecksum(t,e-1,15)},e.prototype.checkOneChecksum=function(t,r,n){for(var i=1,o=0,s=r-1;s>=0;s--)o+=i*e.ALPHABET_STRING.indexOf(t.charAt(s)),++i>n&&(i=1);if(t.charAt(r)!==e.ALPHABET_STRING[o%47])throw new j5},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Zt),Zh=(W=function(t,e){return(W=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}W(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Zc=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.narrowLineWidth=-1,e}return Zh(e,t),e.prototype.decodeRow=function(t,r,n){var i,o,s=this.decodeStart(r),a=this.decodeEnd(r),l=new zg;e.decodeMiddle(r,s[1],a[0],l);var h=l.toString(),c=null;null!=n&&(c=n.get(zs.ALLOWED_LENGTHS)),null==c&&(c=e.DEFAULT_ALLOWED_LENGTHS);var u=h.length,d=!1,f=0;try{for(var p=Zc(c),g=p.next();!g.done;g=p.next()){var m=g.value;if(u===m){d=!0;break}m>f&&(f=m)}}catch(t){i={error:t}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(!d&&u>f&&(d=!0),!d)throw new zl;return new zM(h,null,0,[new zG(s[1],t),new zG(a[0],t)],zN.ITF,new Date().getTime())},e.decodeMiddle=function(t,r,n,i){var o=new Int32Array(10),s=new Int32Array(5),a=new Int32Array(5);for(o.fill(0),s.fill(0),a.fill(0);r<n;){Zt.recordPattern(t,r,o);for(var l=0;l<5;l++){var h=2*l;s[l]=o[h],a[l]=o[h+1]}var c=e.decodeDigit(s);i.append(c.toString()),c=this.decodeDigit(a),i.append(c.toString()),o.forEach(function(t){r+=t})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),n=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(t,n[0]),n},e.prototype.validateQuietZone=function(t,e){var r=10*this.narrowLineWidth;r=r<e?r:e;for(var n=e-1;r>0&&n>=0&&!t.get(n);n--)r--;if(0!==r)throw new zy},e.skipWhiteSpace=function(t){var e=t.getSize(),r=t.getNextSet(0);if(r===e)throw new zy;return r},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),n=void 0;try{n=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(i){i instanceof zy&&(n=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,n[0]);var i=n[0];return n[0]=t.getSize()-n[1],n[1]=t.getSize()-i,n}finally{t.reverse()}},e.findGuardPattern=function(t,r,n){var i=n.length,o=new Int32Array(i),s=t.getSize(),a=!1,l=0,h=r;o.fill(0);for(var c=r;c<s;c++)if(t.get(c)!==a)o[l]++;else{if(l===i-1){if(Zt.patternMatchVariance(o,n,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,c];h+=o[0]+o[1],j8.arraycopy(o,2,o,0,l-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,a=!a}throw new zy},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,n=-1,i=e.PATTERNS.length,o=0;o<i;o++){var s=e.PATTERNS[o],a=Zt.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);a<r?(r=a,n=o):a===r&&(n=-1)}if(n>=0)return n%10;throw new zy},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Zt),Zd=(H=function(t,e){return(H=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Zf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.decodeRowStringBuffer="",e}return Zd(e,t),e.findStartGuardPattern=function(t){for(var r,n=!1,i=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]);var s=(r=e.findGuardPattern(t,i,!1,this.START_END_PATTERN,o))[0],a=s-((i=r[1])-s);a>=0&&(n=t.isRange(a,s,!1))}return r},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(0===r)return!1;var n=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===n},e.getStandardUPCEANChecksum=function(t){for(var e=t.length,r=0,n=e-1;n>=0;n-=2){var i=t.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new zl;r+=i}r*=3;for(var n=e-2;n>=0;n-=2){var i=t.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new zl;r+=i}return(1e3-r)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,e,r,n){return this.findGuardPattern(t,e,r,n,new Int32Array(n.length))},e.findGuardPattern=function(t,r,n,i,o){var s=t.getSize();r=n?t.getNextUnset(r):t.getNextSet(r);for(var a=0,l=r,h=i.length,c=n,u=r;u<s;u++)if(t.get(u)!==c)o[a]++;else{if(a===h-1){if(Zt.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([l,u]);l+=o[0]+o[1];for(var d=o.slice(2,o.length),f=0;f<a-1;f++)o[f]=d[f];o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,c=!c}throw new zy},e.decodeDigit=function(t,r,n,i){this.recordPattern(t,n,r);for(var o=this.MAX_AVG_VARIANCE,s=-1,a=i.length,l=0;l<a;l++){var h=i[l],c=Zt.patternMatchVariance(r,h,e.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,s=l)}if(s>=0)return s;throw new zy},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Zt),Zp=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zg=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),s=i.toString(),a=t.parseExtensionString(s),l=new zM(s,null,0,[new zG((n[0]+n[1])/2,e),new zG(o,e)],zN.UPC_EAN_EXTENSION,new Date().getTime());return null!=a&&l.putAllMetadata(a),l},t.prototype.decodeMiddle=function(e,r,n){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),l=r[1],h=0,c=0;c<5&&l<a;c++){var u=Zf.decodeDigit(e,s,l,Zf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+u%10);try{for(var d=(i=void 0,Zp(s)),f=d.next();!f.done;f=d.next()){var p=f.value;l+=p}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}u>=10&&(h|=1<<4-c),4!==c&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(5!==n.length)throw new zy;var g=this.determineCheckDigit(h);if(t.extensionChecksum(n.toString())!==g)throw new zy;return l},t.extensionChecksum=function(t){for(var e=t.length,r=0,n=e-2;n>=0;n-=2)r+=t.charAt(n).charCodeAt(0)-48;r*=3;for(var n=e-1;n>=0;n-=2)r+=t.charAt(n).charCodeAt(0)-48;return(r*=3)%10},t.prototype.determineCheckDigit=function(t){for(var e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new zy},t.parseExtensionString=function(e){if(5!==e.length)return null;var r=t.parseExtension5String(e);return null==r?null:new Map([[zD.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(t){switch(t.charAt(0)){case"0":e="£";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e=""}var e,r=parseInt(t.substring(1)),n=(r/100).toString(),i=r%100;return e+n+"."+(i<10?"0"+i:i.toString())},t}(),Zm=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zv=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),s=i.toString(),a=t.parseExtensionString(s),l=new zM(s,null,0,[new zG((n[0]+n[1])/2,e),new zG(o,e)],zN.UPC_EAN_EXTENSION,new Date().getTime());return null!=a&&l.putAllMetadata(a),l},t.prototype.decodeMiddle=function(t,e,r){var n,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=t.getSize(),a=e[1],l=0,h=0;h<2&&a<s;h++){var c=Zf.decodeDigit(t,o,a,Zf.L_AND_G_PATTERNS);r+=String.fromCharCode(48+c%10);try{for(var u=(n=void 0,Zm(o)),d=u.next();!d.done;d=u.next()){var f=d.value;a+=f}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}c>=10&&(l|=1<<1-h),1!==h&&(a=t.getNextSet(a),a=t.getNextUnset(a))}if(2!==r.length||parseInt(r.toString())%4!==l)throw new zy;return a},t.parseExtensionString=function(t){return 2!==t.length?null:new Map([[zD.ISSUE_NUMBER,parseInt(t)]])},t}(),Zy=function(){function t(){}return t.decodeRow=function(t,e,r){var n=Zf.findGuardPattern(e,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Zg().decodeRow(t,e,n)}catch(r){return new Zv().decodeRow(t,e,n)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),Zb=(Y=function(t,e){return(Y=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ZO=function(t){function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(t){return Int32Array.from(t)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],o=new Int32Array(i.length),s=0;s<i.length;s++)o[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[n]=o}return r}return Zb(e,t),e.prototype.decodeRow=function(t,r,n){var i=e.findStartGuardPattern(r),o=null==n?null:n.get(zs.NEED_RESULT_POINT_CALLBACK);if(null!=o){var s=new zG((i[0]+i[1])/2,t);o.foundPossibleResultPoint(s)}var a=this.decodeMiddle(r,i,this.decodeRowStringBuffer),l=a.rowOffset,h=a.resultString;if(null!=o){var c=new zG(l,t);o.foundPossibleResultPoint(c)}var u=e.decodeEnd(r,l);if(null!=o){var d=new zG((u[0]+u[1])/2,t);o.foundPossibleResultPoint(d)}var f=u[1],p=f+(f-u[0]);if(p>=r.getSize()||!r.isRange(f,p,!1))throw new zy;var g=h.toString();if(g.length<8)throw new zl;if(!e.checkChecksum(g))throw new j5;var m=(i[1]+i[0])/2,v=(u[1]+u[0])/2,y=this.getBarcodeFormat(),b=new zM(g,null,0,[new zG(m,t),new zG(v,t)],y,new Date().getTime()),O=0;try{var w=Zy.decodeRow(t,r,u[1]);b.putMetadata(zD.UPC_EAN_EXTENSION,w.getText()),b.putAllMetadata(w.getResultMetadata()),b.addResultPoints(w.getResultPoints()),O=w.getText().length}catch(t){}var x=null==n?null:n.get(zs.ALLOWED_EAN_EXTENSIONS);if(null!=x){var k=!1;for(var S in x)if(O.toString()===S){k=!0;break}if(!k)throw new zy}return y===zN.EAN_13||zN.UPC_A,b},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(0===r)return!1;var n=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===n},e.getStandardUPCEANChecksum=function(t){for(var e=t.length,r=0,n=e-1;n>=0;n-=2){var i=t.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new zl;r+=i}r*=3;for(var n=e-2;n>=0;n-=2){var i=t.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new zl;r+=i}return(1e3-r)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Zf),Zw=(G=function(t,e){return(G=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Zx=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z_=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return Zw(e,t),e.prototype.decodeMiddle=function(t,r,n){var i,o,s,a,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var h=t.getSize(),c=r[1],u=0,d=0;d<6&&c<h;d++){var f=ZO.decodeDigit(t,l,c,ZO.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var p=(i=void 0,Zx(l)),g=p.next();!g.done;g=p.next()){var m=g.value;c+=m}}catch(t){i={error:t}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}f>=10&&(u|=1<<5-d)}n=e.determineFirstDigit(n,u),c=ZO.findGuardPattern(t,c,!0,ZO.MIDDLE_PATTERN,new Int32Array(ZO.MIDDLE_PATTERN.length).fill(0))[1];for(var d=0;d<6&&c<h;d++){var f=ZO.decodeDigit(t,l,c,ZO.L_PATTERNS);n+=String.fromCharCode(48+f);try{for(var v=(s=void 0,Zx(l)),y=v.next();!y.done;y=v.next()){var m=y.value;c+=m}}catch(t){s={error:t}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}}return{rowOffset:c,resultString:n}},e.prototype.getBarcodeFormat=function(){return zN.EAN_13},e.determineFirstDigit=function(t,e){for(var r=0;r<10;r++)if(e===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t;throw new zy},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(ZO),Zk=(K=function(t,e){return(K=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ZS=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZC=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return Zk(e,t),e.prototype.decodeMiddle=function(t,e,r){var n,i,o,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var l=t.getSize(),h=e[1],c=0;c<4&&h<l;c++){var u=ZO.decodeDigit(t,a,h,ZO.L_PATTERNS);r+=String.fromCharCode(48+u);try{for(var d=(n=void 0,ZS(a)),f=d.next();!f.done;f=d.next()){var p=f.value;h+=p}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}h=ZO.findGuardPattern(t,h,!0,ZO.MIDDLE_PATTERN,new Int32Array(ZO.MIDDLE_PATTERN.length).fill(0))[1];for(var c=0;c<4&&h<l;c++){var u=ZO.decodeDigit(t,a,h,ZO.L_PATTERNS);r+=String.fromCharCode(48+u);try{for(var g=(o=void 0,ZS(a)),m=g.next();!m.done;m=g.next()){var p=m.value;h+=p}}catch(t){o={error:t}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}}return{rowOffset:h,resultString:r}},e.prototype.getBarcodeFormat=function(){return zN.EAN_8},e}(ZO),ZA=(J=function(t,e){return(J=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}J(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ZE=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ean13Reader=new Z_,e}return ZA(e,t),e.prototype.getBarcodeFormat=function(){return zN.UPC_A},e.prototype.decode=function(t,e){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,e,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,e,r))},e.prototype.decodeMiddle=function(t,e,r){return this.ean13Reader.decodeMiddle(t,e,r)},e.prototype.maybeReturnResult=function(t){var e=t.getText();if("0"===e.charAt(0)){var r=new zM(e.substring(1),null,null,t.getResultPoints(),zN.UPC_A);return null!=t.getResultMetadata()&&r.putAllMetadata(t.getResultMetadata()),r}throw new zy},e.prototype.reset=function(){this.ean13Reader.reset()},e}(ZO),ZT=(tt=function(t,e){return(tt=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ZP=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZI=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=new Int32Array(4),e}return ZT(e,t),e.prototype.decodeMiddle=function(t,r,n){var i,o,s=this.decodeMiddleCounters.map(function(t){return t});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=t.getSize(),l=r[1],h=0,c=0;c<6&&l<a;c++){var u=e.decodeDigit(t,s,l,e.L_AND_G_PATTERNS);n+=String.fromCharCode(48+u%10);try{for(var d=(i=void 0,ZP(s)),f=d.next();!f.done;f=d.next()){var p=f.value;l+=p}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}u>=10&&(h|=1<<5-c)}return e.determineNumSysAndCheckDigit(new zg(n),h),l},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return ZO.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,e){for(var r=0;r<=1;r++)for(var n=0;n<10;n++)if(e===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n]){t.insert(0,"0"+r),t.append("0"+n);return}throw zy.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return zN.UPC_E},e.convertUPCEtoUPCA=function(t){var e=t.slice(1,7).split("").map(function(t){return t.charCodeAt(0)}),r=new zg;r.append(t.charAt(0));var n=e[5];switch(n){case 0:case 1:case 2:r.appendChars(e,0,2),r.append(n),r.append("0000"),r.appendChars(e,2,3);break;case 3:r.appendChars(e,0,3),r.append("00000"),r.appendChars(e,3,2);break;case 4:r.appendChars(e,0,4),r.append("00000"),r.append(e[4]);break;default:r.appendChars(e,0,5),r.append("0000"),r.append(n)}return t.length>=8&&r.append(t.charAt(7)),r.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(ZO),ZR=(te=function(t,e){return(te=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}te(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ZM=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZN=function(t){function e(e){var r=t.call(this)||this,n=null==e?null:e.get(zs.POSSIBLE_FORMATS),i=[];return null!=n&&(n.indexOf(zN.EAN_13)>-1&&i.push(new Z_),n.indexOf(zN.UPC_A)>-1&&i.push(new ZE),n.indexOf(zN.EAN_8)>-1&&i.push(new ZC),n.indexOf(zN.UPC_E)>-1&&i.push(new ZI)),0===i.length&&(i.push(new Z_),i.push(new ZE),i.push(new ZC),i.push(new ZI)),r.readers=i,r}return ZR(e,t),e.prototype.decodeRow=function(t,e,r){var n,i;try{for(var o=ZM(this.readers),s=o.next();!s.done;s=o.next()){var a=s.value;try{var l=a.decodeRow(t,e,r),h=l.getBarcodeFormat()===zN.EAN_13&&"0"===l.getText().charAt(0),c=null==r?null:r.get(zs.POSSIBLE_FORMATS),u=null==c||c.includes(zN.UPC_A);if(h&&u){var d=l.getRawBytes(),f=new zM(l.getText().substring(1),d,d?d.length:null,l.getResultPoints(),zN.UPC_A);return f.putAllMetadata(l.getResultMetadata()),f}return l}catch(t){}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new zy},e.prototype.reset=function(){var t,e;try{for(var r=ZM(this.readers),n=r.next();!n.done;n=r.next())n.value.reset()}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e}(Zt),ZD=(tr=function(t,e){return(tr=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ZL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},e}return ZD(e,t),e.prototype.decodeRow=function(t,e,r){var n=this.getValidRowData(e);if(!n)throw new zy;var i=this.codaBarDecodeRow(n.row);if(!i)throw new zy;return new zM(i,null,0,[new zG(n.left,t),new zG(n.right,t)],zN.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var e=t.toArray(),r=e.indexOf(!0);if(-1===r)return null;var n=e.lastIndexOf(!0);if(n<=r)return null;e=e.slice(r,n+1);for(var i=[],o=e[0],s=1,a=1;a<e.length;a++)e[a]===o?s++:(o=e[a],i.push(s),s=1);return(i.push(s),i.length<23&&(i.length+1)%8!=0)?null:{row:i,left:r,right:n}},e.prototype.codaBarDecodeRow=function(t){for(var e=[],r=Math.ceil(t.reduce(function(t,e){return(t+e)/2},0));t.length>0;){var n=t.splice(0,8).splice(0,7).map(function(t){return t<r?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[n])return null;e.push(this.CODA_BAR_CHAR_SET[n])}var i=e.join("");return this.validCodaBarString(i)?i:null},e.prototype.validCodaBarString=function(t){return/^[A-D].{1,}[A-D]$/.test(t)},e}(Zt),Z$=(tn=function(t,e){return(tn=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Zq=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZQ=function(t){function e(){var e=t.call(this)||this;return e.decodeFinderCounters=new Int32Array(4),e.dataCharacterCounters=new Int32Array(8),e.oddRoundingErrors=[,,,,],e.evenRoundingErrors=[,,,,],e.oddCounts=Array(e.dataCharacterCounters.length/2),e.evenCounts=Array(e.dataCharacterCounters.length/2),e}return Z$(e,t),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var n=0;n<r.length;n++)if(Zt.patternMatchVariance(t,r[n],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return n;throw new zy},e.count=function(t){return zH.sum(new Int32Array(t))},e.increment=function(t,e){for(var r=0,n=e[0],i=1;i<t.length;i++)e[i]>n&&(n=e[i],r=i);t[r]++},e.decrement=function(t,e){for(var r=0,n=e[0],i=1;i<t.length;i++)e[i]<n&&(n=e[i],r=i);t[r]--},e.isFinderPattern=function(t){var r,n,i=t[0]+t[1],o=i+t[2]+t[3],s=i/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var a=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var h=Zq(t),c=h.next();!c.done;c=h.next()){var u=c.value;u>l&&(l=u),u<a&&(a=u)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return l<10*a}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Zt),ZB=function(){function t(t,e){this.value=t,this.checksumPortion=e}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value&&this.checksumPortion===e.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),Zj=function(){function t(t,e,r,n,i){this.value=t,this.startEnd=e,this.value=t,this.startEnd=e,this.resultPoints=[],this.resultPoints.push(new zG(r,i)),this.resultPoints.push(new zG(n,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value},t.prototype.hashCode=function(){return this.value},t}(),Zz=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZZ=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,o,s=0;try{for(var a=Zz(e),l=a.next();!l.done;l=a.next()){var h=l.value;s+=h}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}for(var c=0,u=0,d=e.length,f=0;f<d-1;f++){var p=void 0;for(p=1,u|=1<<f;p<e[f];p++,u&=~(1<<f)){var g=t.combins(s-p-1,d-f-2);if(n&&0===u&&s-p-(d-f-1)>=d-f-1&&(g-=t.combins(s-p-(d-f),d-f-2)),d-f-1>1){for(var m=0,v=s-p-(d-f-2);v>r;v--)m+=t.combins(s-p-v-1,d-f-3);g-=m*(d-1-f)}else s-p>r&&g--;c+=g}s-=p}return c},t.combins=function(t,e){t-e>e?(n=e,r=t-e):(n=t-e,r=e);for(var r,n,i=1,o=1,s=t;s>r;s--)i*=s,o<=n&&(i/=o,o++);for(;o<=n;)i/=o,o++;return i},t}(),ZF=function(){function t(){}return t.buildBitArray=function(t){var e=2*t.length-1;null==t[t.length-1].getRightChar()&&(e-=1);for(var r=new zo(12*e),n=0,i=t[0].getRightChar().getValue(),o=11;o>=0;--o)(i&1<<o)!=0&&r.set(n),n++;for(var o=1;o<t.length;++o){for(var s=t[o],a=s.getLeftChar().getValue(),l=11;l>=0;--l)(a&1<<l)!=0&&r.set(n),n++;if(null!==s.getRightChar())for(var h=s.getRightChar().getValue(),l=11;l>=0;--l)(h&1<<l)!=0&&r.set(n),n++}return r},t}(),ZX=function(){function t(t,e){e?this.decodedInformation=null:(this.finished=t,this.decodedInformation=e)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),ZV=function(){function t(t){this.newPosition=t}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),ZU=(ti=function(t,e){return(ti=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}ti(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ZW=function(t){function e(e,r){var n=t.call(this,e)||this;return n.value=r,n}return ZU(e,t),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(ZV),ZH=(to=function(t,e){return(to=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}to(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ZY=function(t){function e(e,r,n){var i=t.call(this,e)||this;return n?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=r,i}return ZH(e,t),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(ZV),ZG=(ts=function(t,e){return(ts=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}ts(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ZK=function(t){function e(e,r,n){var i=t.call(this,e)||this;if(r<0||r>10||n<0||n>10)throw new zl;return i.firstDigit=r,i.secondDigit=n,i}return ZG(e,t),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(ZV),ZJ=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z0=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){if(!e)return null;if(e.length<2)throw new zy;var r,n,i,o,s,a,l,h,c=e.substring(0,2);try{for(var u=ZJ(t.TWO_DIGIT_DATA_LENGTH),d=u.next();!d.done;d=u.next()){var f=d.value;if(f[0]===c){if(f[1]===t.VARIABLE_LENGTH)return t.processVariableAI(2,f[2],e);return t.processFixedAI(2,f[1],e)}}}catch(t){r={error:t}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(e.length<3)throw new zy;var p=e.substring(0,3);try{for(var g=ZJ(t.THREE_DIGIT_DATA_LENGTH),m=g.next();!m.done;m=g.next()){var f=m.value;if(f[0]===p){if(f[1]===t.VARIABLE_LENGTH)return t.processVariableAI(3,f[2],e);return t.processFixedAI(3,f[1],e)}}}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var v=ZJ(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=v.next();!y.done;y=v.next()){var f=y.value;if(f[0]===p){if(f[1]===t.VARIABLE_LENGTH)return t.processVariableAI(4,f[2],e);return t.processFixedAI(4,f[1],e)}}}catch(t){s={error:t}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}if(e.length<4)throw new zy;var b=e.substring(0,4);try{for(var O=ZJ(t.FOUR_DIGIT_DATA_LENGTH),w=O.next();!w.done;w=O.next()){var f=w.value;if(f[0]===b){if(f[1]===t.VARIABLE_LENGTH)return t.processVariableAI(4,f[2],e);return t.processFixedAI(4,f[1],e)}}}catch(t){l={error:t}}finally{try{w&&!w.done&&(h=O.return)&&h.call(O)}finally{if(l)throw l.error}}throw new zy},t.processFixedAI=function(e,r,n){if(n.length<e)throw new zy;var i=n.substring(0,e);if(n.length<e+r)throw new zy;var o=n.substring(e,e+r),s=n.substring(e+r),a="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(s);return null==l?a:a+l},t.processVariableAI=function(e,r,n){var i,o=n.substring(0,e);i=n.length<e+r?n.length:e+r;var s=n.substring(e,i),a=n.substring(i),l="("+o+")"+s,h=t.parseFieldsInGeneralPurpose(a);return null==h?l:l+h},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Z1=function(){function t(t){this.buffer=new zg,this.information=t}return t.prototype.decodeAllCodes=function(t,e){for(var r=e,n=null;;){var i=this.decodeGeneralPurposeField(r,n),o=Z0.parseFieldsInGeneralPurpose(i.getNewString());if(null!=o&&t.append(o),n=i.isRemaining()?""+i.getRemainingValue():null,r===i.getNewPosition())break;r=i.getNewPosition()}return t.toString()},t.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)},t.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var e=this.extractNumericValueFromBitArray(t,4);return 0===e?new ZK(this.information.getSize(),ZK.FNC1,ZK.FNC1):new ZK(this.information.getSize(),e-1,ZK.FNC1)}var r=this.extractNumericValueFromBitArray(t,7);return new ZK(t+7,(r-8)/11,(r-8)%11)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(t,e,r){for(var n=0,i=0;i<r;++i)t.get(e+i)&&(n|=1<<r-i-1);return n},t.prototype.decodeGeneralPurposeField=function(t,e){this.buffer.setLengthToZero(),null!=e&&this.buffer.append(e),this.current.setPosition(t);var r=this.parseBlocks();return null!=r&&r.isRemaining()?new ZY(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ZY(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){do{var t,e,r=this.current.getPosition();if(t=this.current.isAlpha()?(e=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(e=this.parseIsoIec646Block()).isFinished():(e=this.parseNumericBlock()).isFinished(),!(r!==this.current.getPosition())&&!t)break}while(!t)return e.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var e=void 0;return new ZX(!0,e=t.isSecondDigitFNC1()?new ZY(this.current.getPosition(),this.buffer.toString()):new ZY(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()))}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var e=new ZY(this.current.getPosition(),this.buffer.toString());return new ZX(!0,e)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ZX(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1())return new ZX(!0,new ZY(this.current.getPosition(),this.buffer.toString()));this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ZX(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1())return new ZX(!0,new ZY(this.current.getPosition(),this.buffer.toString()));this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ZX(!1)},t.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,8);return n>=232&&n<253},t.prototype.decodeIsoIec646=function(t){var e,r=this.extractNumericValueFromBitArray(t,5);if(15===r)return new ZW(t+5,ZW.FNC1);if(r>=5&&r<15)return new ZW(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<90)return new ZW(t+7,""+(n+1));if(n>=90&&n<116)return new ZW(t+7,""+(n+7));switch(this.extractNumericValueFromBitArray(t,8)){case 232:e="!";break;case 233:e='"';break;case 234:e="%";break;case 235:e="&";break;case 236:e="'";break;case 237:e="(";break;case 238:e=")";break;case 239:e="*";break;case 240:e="+";break;case 241:e=",";break;case 242:e="-";break;case 243:e=".";break;case 244:e="/";break;case 245:e=":";break;case 246:e=";";break;case 247:e="<";break;case 248:e="=";break;case 249:e=">";break;case 250:e="?";break;case 251:e="_";break;case 252:e=" ";break;default:throw new zl}return new ZW(t+8,e)},t.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(t){var e,r=this.extractNumericValueFromBitArray(t,5);if(15===r)return new ZW(t+5,ZW.FNC1);if(r>=5&&r<15)return new ZW(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,6);if(n>=32&&n<58)return new ZW(t+6,""+(n+33));switch(n){case 58:e="*";break;case 59:e=",";break;case 60:e="-";break;case 61:e=".";break;case 62:e="/";break;default:throw new zV("Decoding invalid alphanumeric value: "+n)}return new ZW(t+6,e)},t.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<5&&e+t<this.information.getSize();++e)if(2===e){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0},t}(),Z2=function(){function t(t){this.information=t,this.generalDecoder=new Z1(t)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),Z3=(ta=function(t,e){return(ta=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}ta(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Z4=function(t){function e(e){return t.call(this,e)||this}return Z3(e,t),e.prototype.encodeCompressedGtin=function(t,e){t.append("(01)");var r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,e,r)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,n){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*i,10);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,n)},e.appendCheckDigit=function(t,e){for(var r=0,n=0;n<13;n++){var i=t.charAt(n+e).charCodeAt(0)-48;r+=(1&n)==0?3*i:i}10==(r=10-r%10)&&(r=0),t.append(r)},e.GTIN_SIZE=40,e}(Z2),Z5=(tl=function(t,e){return(tl=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tl(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Z6=function(t){function e(e){return t.call(this,e)||this}return Z5(e,t),e.prototype.parseInformation=function(){var t=new zg;t.append("(01)");var r=t.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(n),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Z4),Z8=(th=function(t,e){return(th=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}th(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Z7=function(t){function e(e){return t.call(this,e)||this}return Z8(e,t),e.prototype.parseInformation=function(){var t=new zg;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(Z2),Z9=(tc=function(t,e){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tc(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Ft=function(t){function e(e){return t.call(this,e)||this}return Z9(e,t),e.prototype.encodeCompressedWeight=function(t,e,r){var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e,r);this.addWeightCode(t,n);for(var i=this.checkWeight(n),o=1e5,s=0;s<5;++s)i/o==0&&t.append("0"),o/=10;t.append(i)},e}(Z4),Fe=(tu=function(t,e){return(tu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tu(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fr=function(t){function e(e){return t.call(this,e)||this}return Fe(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ft.GTIN_SIZE+e.WEIGHT_SIZE)throw new zy;var t=new zg;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Ft.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Ft),Fn=(td=function(t,e){return(td=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}td(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fi=function(t){function e(e){return t.call(this,e)||this}return Fn(e,t),e.prototype.addWeightCode=function(t,e){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(Fr),Fo=(tf=function(t,e){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tf(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fs=function(t){function e(e){return t.call(this,e)||this}return Fo(e,t),e.prototype.addWeightCode=function(t,e){e<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(Fr),Fa=(tp=function(t,e){return(tp=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tp(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fl=function(t){function e(e){return t.call(this,e)||this}return Fa(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Z4.GTIN_SIZE)throw new zy;var t=new zg;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Z4.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var n=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Z4.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(n.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Z4),Fh=(tg=function(t,e){return(tg=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tg(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fc=function(t){function e(e){return t.call(this,e)||this}return Fh(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Z4.GTIN_SIZE)throw new zy;var t=new zg;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Z4.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Z4.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);n/100==0&&t.append("0"),n/10==0&&t.append("0"),t.append(n);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Z4.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Z4),Fu=(tm=function(t,e){return(tm=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tm(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fd=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.dateCode=n,i.firstAIdigits=r,i}return Fu(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new zy;var t=new zg;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var n=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(38400!==n){t.append("("),t.append(this.dateCode),t.append(")");var i=n%32,o=(n/=32)%12+1,s=n/=12;s/10==0&&t.append("0"),t.append(s),o/10==0&&t.append("0"),t.append(o),i/10==0&&t.append("0"),t.append(i)}},e.prototype.addWeightCode=function(t,e){t.append("("),t.append(this.firstAIdigits),t.append(e/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ft),Ff=function(){function t(t,e,r,n){this.leftchar=t,this.rightchar=e,this.finderpattern=r,this.maybeLast=n}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return null==this.rightchar},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t&&t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern)},t.equalsOrNull=function(e,r){return null===e?null===r:t.equals(e,r)},t.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},t}(),Fp=function(){function t(t,e,r){this.pairs=t,this.rowNumber=e,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t&&this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed},t.prototype.checkEqualitity=function(t,e){var r;if(t&&e)return t.forEach(function(t,n){e.forEach(function(e){t.getLeftChar().getValue()===e.getLeftChar().getValue()&&t.getRightChar().getValue()===e.getRightChar().getValue()&&t.getFinderPatter().getValue()===e.getFinderPatter().getValue()&&(r=!0)})}),r},t}(),Fg=(tv=function(t,e){return(tv=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tv(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fm=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fv=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.pairs=Array(e.MAX_PAIRS),r.rows=[],r.startEnd=[2],r}return Fg(e,t),e.prototype.decodeRow=function(t,r,n){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch(t){}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,e){for(var r,n=!1;!n;)try{this.pairs.push(this.retrieveNextPair(e,this.pairs,t))}catch(t){if(t instanceof zy){if(!this.pairs.length)throw new zy;n=!0}}if(this.checkChecksum())return this.pairs;if(r=!!this.rows.length,this.storeRow(t,!1),r){var i=this.checkRowsBoolean(!1);if(null!=i||null!=(i=this.checkRowsBoolean(!0)))return i}throw new zy},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var e=null;try{e=this.checkRows([],0)}catch(t){console.log(t)}return t&&(this.rows=this.rows.reverse()),e},e.prototype.checkRows=function(t,r){for(var n,i,o=r;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var a=(n=void 0,Fm(t)),l=a.next();!l.done;l=a.next()){var h=l.value;this.pairs.push(h.getPairs())}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}if(this.pairs.push(s.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var c=Array(t);c.push(s);try{return this.checkRows(c,o+1)}catch(t){console.log(t)}}}throw new zy},e.isValidSequence=function(t){var r,n;try{for(var i=Fm(e.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var s=o.value;if(!(t.length>s.length)){for(var a=!0,l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!==s[l]){a=!1;break}if(a)return!0}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var n=0,i=!1,o=!1;n<this.rows.length;){var s=this.rows[n];if(s.getRowNumber()>t){o=s.isEquivalent(this.pairs);break}i=s.isEquivalent(this.pairs),n++}o||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new Fp(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,e){var r,n,i,o,s,a;try{for(var l=Fm(e),h=l.next();!h.done;h=l.next()){var c=h.value;if(c.getPairs().length!==t.length)try{for(var u=(i=void 0,Fm(c.getPairs())),d=u.next();!d.done;d=u.next()){var f=d.value;try{for(var p=(s=void 0,Fm(t)),g=p.next();!g.done;g=p.next()){var m=g.value;if(Ff.equals(f,m))break}}catch(t){s={error:t}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}},e.isPartialRow=function(t,e){var r,n,i,o,s,a;try{for(var l=Fm(e),h=l.next();!h.done;h=l.next()){var c=h.value,u=!0;try{for(var d=(i=void 0,Fm(t)),f=d.next();!f.done;f=d.next()){var p=f.value,g=!1;try{for(var m=(s=void 0,Fm(c.getPairs())),v=m.next();!v.done;v=m.next()){var y=v.value;if(p.equals(y)){g=!0;break}}}catch(t){s={error:t}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}if(!g){u=!1;break}}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}if(u)return!0}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var e=(function(t){try{if(t.get(1))return new Z6(t);if(!t.get(2))return new Z7(t);switch(Z1.extractNumericValueFromBitArray(t,1,4)){case 4:return new Fi(t);case 5:return new Fs(t)}switch(Z1.extractNumericValueFromBitArray(t,1,5)){case 12:return new Fl(t);case 13:return new Fc(t)}switch(Z1.extractNumericValueFromBitArray(t,1,7)){case 56:return new Fd(t,"310","11");case 57:return new Fd(t,"320","11");case 58:return new Fd(t,"310","13");case 59:return new Fd(t,"320","13");case 60:return new Fd(t,"310","15");case 61:return new Fd(t,"320","15");case 62:return new Fd(t,"310","17");case 63:return new Fd(t,"320","17")}}catch(e){throw console.log(e),new zV("unknown decoder: "+t)}})(ZF.buildBitArray(t)).parseInformation(),r=t[0].getFinderPattern().getResultPoints(),n=t[t.length-1].getFinderPattern().getResultPoints();return new zM(e,null,null,[r[0],r[1],n[0],n[1]],zN.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),e=t.getLeftChar(),r=t.getRightChar();if(null===r)return!1;for(var n=r.getChecksumPortion(),i=2,o=1;o<this.pairs.size();++o){var s=this.pairs.get(o);n+=s.getLeftChar().getChecksumPortion(),i++;var a=s.getRightChar();null!=a&&(n+=a.getChecksumPortion(),i++)}return 211*(i-4)+(n%=211)===e.getValue()},e.getNextSecondBar=function(t,e){var r;return t.get(e)?(r=t.getNextUnset(e),r=t.getNextSet(r)):(r=t.getNextSet(e),r=t.getNextUnset(r)),r},e.prototype.retrieveNextPair=function(t,r,n){var i,o,s=r.length%2==0;this.startFromEven&&(s=!s);var a=!0,l=-1;do this.findNextPair(t,r,l),null===(i=this.parseFoundFinderPattern(t,n,s))?l=e.getNextSecondBar(t,this.startEnd[0]):a=!1;while(a)var h=this.decodeDataCharacter(t,i,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new zy;try{o=this.decodeDataCharacter(t,i,s,!1)}catch(t){o=null,console.log(t)}return new Ff(h,o,i,!0)},e.prototype.isEmptyPair=function(t){return 0===t.length},e.prototype.findNextPair=function(t,r,n){var i,o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var s=t.getSize();i=n>=0?n:this.isEmptyPair(r)?0:r[r.length-1].getFinderPattern().getStartEnd()[1];var a=r.length%2!=0;this.startFromEven&&(a=!a);for(var l=!1;i<s&&(l=!t.get(i));)i++;for(var h=0,c=i,u=i;u<s;u++)if(t.get(u)!==l)o[h]++;else{if(3===h){if(a&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=c,this.startEnd[1]=u;return}a&&e.reverseCounters(o),c+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,l=!l}throw new zy},e.reverseCounters=function(t){for(var e=t.length,r=0;r<e/2;++r){var n=t[r];t[r]=t[e-r-1],t[e-r-1]=n}},e.prototype.parseFoundFinderPattern=function(t,r,n){if(n){for(var i,o,s,a,l=this.startEnd[0]-1;l>=0&&!t.get(l);)l--;l++,i=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],i=(s=t.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var h=this.getDecodeFinderCounters();j8.arraycopy(h,0,h,1,h.length-1),h[0]=i;try{a=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch(t){return null}return new Zj(a,[o,s],o,s,r)},e.prototype.decodeDataCharacter=function(t,r,n,i){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(i)e.recordPatternInReverse(t,r.getStartEnd()[0],o);else{e.recordPattern(t,r.getStartEnd()[1],o);for(var a=0,l=o.length-1;a<l;a++,l--){var h=o[a];o[a]=o[l],o[l]=h}}var c=zH.sum(new Int32Array(o))/17,u=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(c-u)/u>.3)throw new zy;for(var d=this.getOddCounts(),f=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),a=0;a<o.length;a++){var m=1*o[a]/c,v=m+.5;if(v<1){if(m<.3)throw new zy;v=1}else if(v>8){if(m>8.7)throw new zy;v=8}var y=a/2;(1&a)==0?(d[y]=v,p[y]=m-v):(f[y]=v,g[y]=m-v)}this.adjustOddEvenCounts(17);for(var b=4*r.getValue()+(n?0:2)+(i?0:1)-1,O=0,w=0,a=d.length-1;a>=0;a--){if(e.isNotA1left(r,n,i)){var x=e.WEIGHTS[b][2*a];w+=d[a]*x}O+=d[a]}for(var k=0,a=f.length-1;a>=0;a--)if(e.isNotA1left(r,n,i)){var x=e.WEIGHTS[b][2*a+1];k+=f[a]*x}var S=w+k;if((1&O)!=0||O>13||O<4)throw new zy;var C=(13-O)/2,A=e.SYMBOL_WIDEST[C],E=ZZ.getRSSvalue(d,A,!0),T=ZZ.getRSSvalue(f,9-A,!1);return new ZB(E*e.EVEN_TOTAL_SUBSET[C]+T+e.GSUM[C],S)},e.isNotA1left=function(t,e,r){return!(0===t.getValue()&&e&&r)},e.prototype.adjustOddEvenCounts=function(t){var r=zH.sum(new Int32Array(this.getOddCounts())),n=zH.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;r>13?o=!0:r<4&&(i=!0);var s=!1,a=!1;n>13?a=!0:n<4&&(s=!0);var l=r+n-t,h=(1&r)==1,c=(1&n)==0;if(1===l){if(h){if(c)throw new zy;o=!0}else{if(!c)throw new zy;a=!0}}else if(-1===l){if(h){if(c)throw new zy;i=!0}else{if(!c)throw new zy;s=!0}}else if(0===l){if(h){if(!c)throw new zy;r<n?(i=!0,a=!0):(o=!0,s=!0)}else if(c)throw new zy}else throw new zy;if(i){if(o)throw new zy;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new zy;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(ZQ),Fy=(ty=function(t,e){return(ty=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}ty(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fb=function(t){function e(e,r,n){var i=t.call(this,e,r)||this;return i.count=0,i.finderPattern=n,i}return Fy(e,t),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(ZB),FO=(tb=function(t,e){return(tb=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tb(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fw=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.possibleLeftPairs=[],e.possibleRightPairs=[],e}return FO(e,t),e.prototype.decodeRow=function(t,r,n){var i,o,s,a,l=this.decodePair(r,!1,t,n);e.addOrTally(this.possibleLeftPairs,l),r.reverse();var h=this.decodePair(r,!0,t,n);e.addOrTally(this.possibleRightPairs,h),r.reverse();try{for(var c=Fw(this.possibleLeftPairs),u=c.next();!u.done;u=c.next()){var d=u.value;if(d.getCount()>1)try{for(var f=(s=void 0,Fw(this.possibleRightPairs)),p=f.next();!p.done;p=f.next()){var g=p.value;if(g.getCount()>1&&e.checkChecksum(d,g))return e.constructResult(d,g)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}throw new zy},e.addOrTally=function(t,e){if(null!=e){var r,n,i=!1;try{for(var o=Fw(t),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.getValue()===e.getValue()){a.incrementCount(),i=!0;break}}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}i||t.push(e)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,e){for(var r=new String(4537077*t.getValue()+e.getValue()).toString(),n=new zg,i=13-r.length;i>0;i--)n.append("0");n.append(r);for(var o=0,i=0;i<13;i++){var s=n.charAt(i).charCodeAt(0)-48;o+=(1&i)==0?3*s:s}10==(o=10-o%10)&&(o=0),n.append(o.toString());var a=t.getFinderPattern().getResultPoints(),l=e.getFinderPattern().getResultPoints();return new zM(n.toString(),null,0,[a[0],a[1],l[0],l[1]],zN.RSS_14,new Date().getTime())},e.checkChecksum=function(t,e){var r=(t.getChecksumPortion()+16*e.getChecksumPortion())%79,n=9*t.getFinderPattern().getValue()+e.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n},e.prototype.decodePair=function(t,e,r,n){try{var i=this.findFinderPattern(t,e),o=this.parseFoundFinderPattern(t,r,e,i),s=null==n?null:n.get(zs.NEED_RESULT_POINT_CALLBACK);if(null!=s){var a=(i[0]+i[1])/2;e&&(a=t.getSize()-1-a),s.foundPossibleResultPoint(new zG(a,r))}var l=this.decodeDataCharacter(t,o,!0),h=this.decodeDataCharacter(t,o,!1);return new Fb(1597*l.getValue()+h.getValue(),l.getChecksumPortion()+4*h.getChecksumPortion(),o)}catch(t){return null}},e.prototype.decodeDataCharacter=function(t,r,n){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(n)Zt.recordPatternInReverse(t,r.getStartEnd()[0],i);else{Zt.recordPattern(t,r.getStartEnd()[1]+1,i);for(var s=0,a=i.length-1;s<a;s++,a--){var l=i[s];i[s]=i[a],i[a]=l}}for(var h=n?16:15,c=zH.sum(new Int32Array(i))/h,u=this.getOddCounts(),d=this.getEvenCounts(),f=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors(),s=0;s<i.length;s++){var g=i[s]/c,m=Math.floor(g+.5);m<1?m=1:m>8&&(m=8);var v=Math.floor(s/2);(1&s)==0?(u[v]=m,f[v]=g-m):(d[v]=m,p[v]=g-m)}this.adjustOddEvenCounts(n,h);for(var y=0,b=0,s=u.length-1;s>=0;s--)b*=9,b+=u[s],y+=u[s];for(var O=0,w=0,s=d.length-1;s>=0;s--)O*=9,O+=d[s],w+=d[s];var x=b+3*O;if(n){if((1&y)!=0||y>12||y<4)throw new zy;var k=(12-y)/2,S=e.OUTSIDE_ODD_WIDEST[k],C=9-S,A=ZZ.getRSSvalue(u,S,!1),E=ZZ.getRSSvalue(d,C,!0),T=e.OUTSIDE_EVEN_TOTAL_SUBSET[k],P=e.OUTSIDE_GSUM[k];return new ZB(A*T+E+P,x)}if((1&w)!=0||w>10||w<4)throw new zy;var k=(10-w)/2,S=e.INSIDE_ODD_WIDEST[k],C=9-S,A=ZZ.getRSSvalue(u,S,!0),E=ZZ.getRSSvalue(d,C,!1),I=e.INSIDE_ODD_TOTAL_SUBSET[k],P=e.INSIDE_GSUM[k];return new ZB(E*I+A+P,x)},e.prototype.findFinderPattern=function(t,e){var r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;for(var n=t.getSize(),i=!1,o=0;o<n&&e!==(i=!t.get(o));)o++;for(var s=0,a=o,l=o;l<n;l++)if(t.get(l)!==i)r[s]++;else{if(3===s){if(ZQ.isFinderPattern(r))return[a,l];a+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,s--}else s++;r[s]=1,i=!i}throw new zy},e.prototype.parseFoundFinderPattern=function(t,r,n,i){for(var o=t.get(i[0]),s=i[0]-1;s>=0&&o!==t.get(s);)s--;s++;var a=i[0]-s,l=this.getDecodeFinderCounters(),h=new Int32Array(l.length);j8.arraycopy(l,0,h,1,l.length-1),h[0]=a;var c=this.parseFinderValue(h,e.FINDER_PATTERNS),u=s,d=i[1];return n&&(u=t.getSize()-1-u,d=t.getSize()-1-d),new Zj(c,[s,i[1]],u,d,r)},e.prototype.adjustOddEvenCounts=function(t,e){var r=zH.sum(new Int32Array(this.getOddCounts())),n=zH.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,s=!1,a=!1;t?(r>12?o=!0:r<4&&(i=!0),n>12?a=!0:n<4&&(s=!0)):(r>11?o=!0:r<5&&(i=!0),n>10?a=!0:n<4&&(s=!0));var l=r+n-e,h=(1&r)==(t?1:0),c=(1&n)==1;if(1===l){if(h){if(c)throw new zy;o=!0}else{if(!c)throw new zy;a=!0}}else if(-1===l){if(h){if(c)throw new zy;i=!0}else{if(!c)throw new zy;s=!0}}else if(0===l){if(h){if(!c)throw new zy;r<n?(i=!0,a=!0):(o=!0,s=!0)}else if(c)throw new zy}else throw new zy;if(i){if(o)throw new zy;ZQ.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&ZQ.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new zy;ZQ.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&ZQ.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(ZQ),F_=(tO=function(t,e){return(tO=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tO(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Fk=function(t){function e(e){var r=t.call(this)||this;r.readers=[];var n=e?e.get(zs.POSSIBLE_FORMATS):null,i=e&&void 0!==e.get(zs.ASSUME_CODE_39_CHECK_DIGIT),o=e&&void 0!==e.get(zs.ENABLE_CODE_39_EXTENDED_MODE);return n&&((n.includes(zN.EAN_13)||n.includes(zN.UPC_A)||n.includes(zN.EAN_8)||n.includes(zN.UPC_E))&&r.readers.push(new ZN(e)),n.includes(zN.CODE_39)&&r.readers.push(new Zo(i,o)),n.includes(zN.CODE_93)&&r.readers.push(new Zl),n.includes(zN.CODE_128)&&r.readers.push(new Zr),n.includes(zN.ITF)&&r.readers.push(new Zu),n.includes(zN.CODABAR)&&r.readers.push(new ZL),n.includes(zN.RSS_14)&&r.readers.push(new Fx),n.includes(zN.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new Fv))),0===r.readers.length&&(r.readers.push(new ZN(e)),r.readers.push(new Zo),r.readers.push(new Zl),r.readers.push(new ZN(e)),r.readers.push(new Zr),r.readers.push(new Zu),r.readers.push(new Fx)),r}return F_(e,t),e.prototype.decodeRow=function(t,e,r){for(var n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(t,e,r)}catch(t){}throw new zy},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(Zt);(tw=function(t,e){return(tw=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tw(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t,e){return void 0===t&&(t=500),tx.call(this,new Fk(e),t,e)||this},tx=zR);var FS=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FC=function(){function t(t,e,r){this.ecCodewords=t,this.ecBlocks=[e],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),FA=function(){function t(t,e){this.count=t,this.dataCodewords=e}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),FE=function(){function t(t,e,r,n,i,o){this.versionNumber=t,this.symbolSizeRows=e,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=o;var s,a,l=0,h=o.getECCodewords(),c=o.getECBlocks();try{for(var u=FS(c),d=u.next();!d.done;d=u.next()){var f=d.value;l+=f.getCount()*(f.getDataCodewords()+h)}}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((1&e)!=0||(1&r)!=0)throw new zl;try{for(var o=FS(t.VERSIONS),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.symbolSizeRows===e&&a.symbolSizeColumns===r)return a}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new zl},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new FC(5,new FA(1,3))),new t(2,12,12,10,10,new FC(7,new FA(1,5))),new t(3,14,14,12,12,new FC(10,new FA(1,8))),new t(4,16,16,14,14,new FC(12,new FA(1,12))),new t(5,18,18,16,16,new FC(14,new FA(1,18))),new t(6,20,20,18,18,new FC(18,new FA(1,22))),new t(7,22,22,20,20,new FC(20,new FA(1,30))),new t(8,24,24,22,22,new FC(24,new FA(1,36))),new t(9,26,26,24,24,new FC(28,new FA(1,44))),new t(10,32,32,14,14,new FC(36,new FA(1,62))),new t(11,36,36,16,16,new FC(42,new FA(1,86))),new t(12,40,40,18,18,new FC(48,new FA(1,114))),new t(13,44,44,20,20,new FC(56,new FA(1,144))),new t(14,48,48,22,22,new FC(68,new FA(1,174))),new t(15,52,52,24,24,new FC(42,new FA(2,102))),new t(16,64,64,14,14,new FC(56,new FA(2,140))),new t(17,72,72,16,16,new FC(36,new FA(4,92))),new t(18,80,80,18,18,new FC(48,new FA(4,114))),new t(19,88,88,20,20,new FC(56,new FA(4,144))),new t(20,96,96,22,22,new FC(68,new FA(4,174))),new t(21,104,104,24,24,new FC(56,new FA(6,136))),new t(22,120,120,18,18,new FC(68,new FA(6,175))),new t(23,132,132,20,20,new FC(62,new FA(8,163))),new t(24,144,144,22,22,new FC(62,new FA(8,156),new FA(2,155))),new t(25,8,18,6,16,new FC(7,new FA(1,5))),new t(26,8,32,6,14,new FC(11,new FA(1,10))),new t(27,12,26,10,24,new FC(14,new FA(1,16))),new t(28,12,36,10,16,new FC(18,new FA(1,22))),new t(29,16,36,14,16,new FC(24,new FA(1,32))),new t(30,16,48,14,22,new FC(28,new FA(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),FT=function(){function t(e){var r=e.getHeight();if(r<8||r>144||(1&r)!=0)throw new zl;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new zm(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(t){var e=t.getHeight(),r=t.getWidth();return FE.getVersionForDimensions(e,r)},t.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),e=0,r=4,n=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,a=!1,l=!1,h=!1;do if(r!==i||0!==n||s){if(r!==i-2||0!==n||(3&o)==0||a){if(r!==i+4||2!==n||(7&o)!=0||l){if(r!==i-2||0!==n||(7&o)!=4||h){do r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(t[e++]=255&this.readUtah(r,n,i,o)),r-=2,n+=2;while(r>=0&&n<o)r+=1,n+=3;do r>=0&&n<o&&!this.readMappingMatrix.get(n,r)&&(t[e++]=255&this.readUtah(r,n,i,o)),r+=2,n-=2;while(r<i&&n>=0)r+=3,n+=1}else t[e++]=255&this.readCorner4(i,o),r-=2,n+=2,h=!0}else t[e++]=255&this.readCorner3(i,o),r-=2,n+=2,l=!0}else t[e++]=255&this.readCorner2(i,o),r-=2,n+=2,a=!0}else t[e++]=255&this.readCorner1(i,o),r-=2,n+=2,s=!0;while(r<i||n<o)if(e!==this.version.getTotalCodewords())throw new zl;return t},t.prototype.readModule=function(t,e,r,n){return t<0&&(t+=r,e+=4-(r+4&7)),e<0&&(e+=n,t+=4-(n+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)},t.prototype.readUtah=function(t,e,r,n){var i=0;return this.readModule(t-2,e-2,r,n)&&(i|=1),i<<=1,this.readModule(t-2,e-1,r,n)&&(i|=1),i<<=1,this.readModule(t-1,e-2,r,n)&&(i|=1),i<<=1,this.readModule(t-1,e-1,r,n)&&(i|=1),i<<=1,this.readModule(t-1,e,r,n)&&(i|=1),i<<=1,this.readModule(t,e-2,r,n)&&(i|=1),i<<=1,this.readModule(t,e-1,r,n)&&(i|=1),i<<=1,this.readModule(t,e,r,n)&&(i|=1),i},t.prototype.readCorner1=function(t,e){var r=0;return this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,1,t,e)&&(r|=1),r<<=1,this.readModule(t-1,2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(2,e-1,t,e)&&(r|=1),r<<=1,this.readModule(3,e-1,t,e)&&(r|=1),r},t.prototype.readCorner2=function(t,e){var r=0;return this.readModule(t-3,0,t,e)&&(r|=1),r<<=1,this.readModule(t-2,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(0,e-4,t,e)&&(r|=1),r<<=1,this.readModule(0,e-3,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r},t.prototype.readCorner3=function(t,e){var r=0;return this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(0,e-3,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-3,t,e)&&(r|=1),r<<=1,this.readModule(1,e-2,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r},t.prototype.readCorner4=function(t,e){var r=0;return this.readModule(t-3,0,t,e)&&(r|=1),r<<=1,this.readModule(t-2,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(2,e-1,t,e)&&(r|=1),r<<=1,this.readModule(3,e-1,t,e)&&(r|=1),r},t.prototype.extractDataRegion=function(t){var e=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new j2("Dimension of bitMatrix must match the version size");for(var n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=e/n|0,s=r/i|0,a=new zm(s*i,o*n),l=0;l<o;++l)for(var h=l*n,c=0;c<s;++c)for(var u=c*i,d=0;d<n;++d)for(var f=l*(n+2)+1+d,p=h+d,g=0;g<i;++g){var m=c*(i+2)+1+g;if(t.get(m,f)){var v=u+g;a.set(v,p)}}return a},t}(),FP=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FI=function(){function t(t,e){this.numDataCodewords=t,this.codewords=e}return t.getDataBlocks=function(e,r){var n,i,o,s,a=r.getECBlocks(),l=0,h=a.getECBlocks();try{for(var c=FP(h),u=c.next();!u.done;u=c.next()){var d=u.value;l+=d.getCount()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var f=Array(l),p=0;try{for(var g=FP(h),m=g.next();!m.done;m=g.next())for(var d=m.value,v=0;v<d.getCount();v++){var y=d.getDataCodewords(),b=a.getECCodewords()+y;f[p++]=new t(y,new Uint8Array(b))}}catch(t){o={error:t}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}for(var O=f[0].codewords.length-a.getECCodewords(),w=O-1,x=0,v=0;v<w;v++)for(var k=0;k<p;k++)f[k].codewords[v]=e[x++];for(var S=24===r.getVersionNumber(),C=S?8:p,k=0;k<C;k++)f[k].codewords[O-1]=e[x++];for(var A=f[0].codewords.length,v=O;v<A;v++)for(var k=0;k<p;k++){var E=S?(k+8)%p:k,T=S&&E>7?v-1:v;f[E].codewords[T]=e[x++]}if(x!==e.length)throw new j2;return f},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),FR=function(){function t(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new j2(""+t);var e=0,r=this.bitOffset,n=this.byteOffset,i=this.bytes;if(r>0){var o=8-r,s=t<o?t:o,a=o-s,l=255>>8-s<<a;e=(i[n]&l)>>a,t-=s,8===(r+=s)&&(r=0,n++)}if(t>0){for(;t>=8;)e=e<<8|255&i[n],n++,t-=8;if(t>0){var a=8-t,l=255>>a<<a;e=e<<t|(i[n]&l)>>a,r+=t}}return this.bitOffset=r,this.byteOffset=n,e},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}();(t_=ec||(ec={}))[t_.PAD_ENCODE=0]="PAD_ENCODE",t_[t_.ASCII_ENCODE=1]="ASCII_ENCODE",t_[t_.C40_ENCODE=2]="C40_ENCODE",t_[t_.TEXT_ENCODE=3]="TEXT_ENCODE",t_[t_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t_[t_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t_[t_.BASE256_ENCODE=6]="BASE256_ENCODE";var FM=function(){function t(){}return t.decode=function(t){var e=new FR(t),r=new zg,n=new zg,i=[],o=ec.ASCII_ENCODE;do if(o===ec.ASCII_ENCODE)o=this.decodeAsciiSegment(e,r,n);else{switch(o){case ec.C40_ENCODE:this.decodeC40Segment(e,r);break;case ec.TEXT_ENCODE:this.decodeTextSegment(e,r);break;case ec.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,r);break;case ec.EDIFACT_ENCODE:this.decodeEdifactSegment(e,r);break;case ec.BASE256_ENCODE:this.decodeBase256Segment(e,r,i);break;default:throw new zl}o=ec.ASCII_ENCODE}while(o!==ec.PAD_ENCODE&&e.available()>0)return n.length()>0&&r.append(n.toString()),new zL(t,r.toString(),0===i.length?null:i,null)},t.decodeAsciiSegment=function(t,e,r){var n=!1;do{var i=t.readBits(8);if(0===i)throw new zl;if(i<=128){n&&(i+=128),e.append(String.fromCharCode(i-1));break}if(129===i)return ec.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&e.append("0"),e.append(""+o)}else switch(i){case 230:return ec.C40_ENCODE;case 231:return ec.BASE256_ENCODE;case 232:e.append("\x1d");break;case 233:case 234:case 241:break;case 235:n=!0;break;case 236:e.append("[)>\x1e05\x1d"),r.insert(0,"\x1e\x04");break;case 237:e.append("[)>\x1e06\x1d"),r.insert(0,"\x1e\x04");break;case 238:return ec.ANSIX12_ENCODE;case 239:return ec.TEXT_ENCODE;case 240:return ec.EDIFACT_ENCODE;default:if(254!==i||0!==t.available())throw new zl}}while(t.available()>0)return ec.ASCII_ENCODE},t.decodeC40Segment=function(t,e){var r=!1,n=[],i=0;do{if(8===t.available())return;var o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),n);for(var s=0;s<3;s++){var a=n[s];switch(i){case 0:if(a<3)i=a+1;else if(a<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[a];r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l)}else throw new zl;break;case 1:r?(e.append(String.fromCharCode(a+128)),r=!1):e.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[a];r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l)}else switch(a){case 27:e.append("\x1d");break;case 30:r=!0;break;default:throw new zl}i=0;break;case 3:r?(e.append(String.fromCharCode(a+224)),r=!1):e.append(String.fromCharCode(a+96)),i=0;break;default:throw new zl}}}while(t.available()>0)},t.decodeTextSegment=function(t,e){var r=!1,n=[],i=0;do{if(8===t.available())return;var o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),n);for(var s=0;s<3;s++){var a=n[s];switch(i){case 0:if(a<3)i=a+1;else if(a<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[a];r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l)}else throw new zl;break;case 1:r?(e.append(String.fromCharCode(a+128)),r=!1):e.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[a];r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l)}else switch(a){case 27:e.append("\x1d");break;case 30:r=!0;break;default:throw new zl}i=0;break;case 3:if(a<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[a];r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l),i=0}else throw new zl;break;default:throw new zl}}}while(t.available()>0)},t.decodeAnsiX12Segment=function(t,e){var r=[];do{if(8===t.available())return;var n=t.readBits(8);if(254===n)return;this.parseTwoBytes(n,t.readBits(8),r);for(var i=0;i<3;i++){var o=r[i];switch(o){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(o<14)e.append(String.fromCharCode(o+44));else if(o<40)e.append(String.fromCharCode(o+51));else throw new zl}}}while(t.available()>0)},t.parseTwoBytes=function(t,e,r){var n=(t<<8)+e-1,i=Math.floor(n/1600);r[0]=i,n-=1600*i,i=Math.floor(n/40),r[1]=i,r[2]=n-40*i},t.decodeEdifactSegment=function(t,e){do{if(16>=t.available())return;for(var r=0;r<4;r++){var n=t.readBits(6);if(31===n){var i=8-t.getBitOffset();8!==i&&t.readBits(i);return}(32&n)==0&&(n|=64),e.append(String.fromCharCode(n))}}while(t.available()>0)},t.decodeBase256Segment=function(t,e,r){var n,i=1+t.getByteOffset(),o=this.unrandomize255State(t.readBits(8),i++);if((n=0===o?t.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(t.readBits(8),i++))<0)throw new zl;for(var s=new Uint8Array(n),a=0;a<n;a++){if(8>t.available())throw new zl;s[a]=this.unrandomize255State(t.readBits(8),i++)}r.push(s);try{e.append(zf.decode(s,zp.ISO88591))}catch(t){throw new zV("Platform does not support required encoding: "+t.message)}},t.unrandomize255State=function(t,e){var r=t-(149*e%255+1);return r>=0?r:r+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),FN=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FD=function(){function t(){this.rsDecoder=new zU(zz.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(t){var e,r,n=new FT(t),i=n.getVersion(),o=n.readCodewords(),s=FI.getDataBlocks(o,i),a=0;try{for(var l=FN(s),h=l.next();!h.done;h=l.next()){var c=h.value;a+=c.getNumDataCodewords()}}catch(t){e={error:t}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}for(var u=new Uint8Array(a),d=s.length,f=0;f<d;f++){var p=s[f],g=p.getCodewords(),m=p.getNumDataCodewords();this.correctErrors(g,m);for(var v=0;v<m;v++)u[v*d+f]=g[v]}return FM.decode(u)},t.prototype.correctErrors=function(t,e){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-e)}catch(t){throw new j5}for(var n=0;n<e;n++)t[n]=r[n]},t}(),FL=function(){function t(t){this.image=t,this.rectangleDetector=new z1(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if((r=this.detectSolid2(r))[3]=this.correctTopRight(r),!r[3])throw new zy;var n=(r=this.shiftToModuleCenter(r))[0],i=r[1],o=r[2],s=r[3],a=this.transitionsBetween(n,s)+1,l=this.transitionsBetween(o,s)+1;return(1&a)==1&&(a+=1),(1&l)==1&&(l+=1),4*a<7*l&&4*l<7*a&&(a=l=Math.max(a,l)),new zK(t.sampleGrid(this.image,n,i,o,s,a,l),[n,i,o,s])},t.shiftPoint=function(t,e,r){var n=(e.getX()-t.getX())/(r+1),i=(e.getY()-t.getY())/(r+1);return new zG(t.getX()+n,t.getY()+i)},t.moveAway=function(t,e,r){var n=t.getX(),i=t.getY();return n<e?n-=1:n+=1,i<r?i-=1:i+=1,new zG(n,i)},t.prototype.detectSolid1=function(t){var e=t[0],r=t[1],n=t[3],i=t[2],o=this.transitionsBetween(e,r),s=this.transitionsBetween(r,n),a=this.transitionsBetween(n,i),l=this.transitionsBetween(i,e),h=o,c=[i,e,r,n];return h>s&&(h=s,c[0]=e,c[1]=r,c[2]=n,c[3]=i),h>a&&(h=a,c[0]=r,c[1]=n,c[2]=i,c[3]=e),h>l&&(c[0]=n,c[1]=i,c[2]=e,c[3]=r),c},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],s=this.transitionsBetween(r,o),a=t.shiftPoint(n,i,(s+1)*4),l=t.shiftPoint(i,n,(s+1)*4);return this.transitionsBetween(a,r)<this.transitionsBetween(l,o)?(e[0]=r,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],s=this.transitionsBetween(r,o),a=this.transitionsBetween(n,o),l=t.shiftPoint(r,n,(a+1)*4),h=t.shiftPoint(i,n,(s+1)*4);s=this.transitionsBetween(l,o),a=this.transitionsBetween(h,o);var c=new zG(o.getX()+(i.getX()-n.getX())/(s+1),o.getY()+(i.getY()-n.getY())/(s+1)),u=new zG(o.getX()+(r.getX()-n.getX())/(a+1),o.getY()+(r.getY()-n.getY())/(a+1));return this.isValid(c)?this.isValid(u)?this.transitionsBetween(l,c)+this.transitionsBetween(h,c)>this.transitionsBetween(l,u)+this.transitionsBetween(h,u)?c:u:c:this.isValid(u)?u:null},t.prototype.shiftToModuleCenter=function(e){var r,n,i=e[0],o=e[1],s=e[2],a=e[3],l=this.transitionsBetween(i,a)+1,h=this.transitionsBetween(s,a)+1,c=t.shiftPoint(i,o,4*h),u=t.shiftPoint(s,o,4*l);l=this.transitionsBetween(c,a)+1,h=this.transitionsBetween(u,a)+1,(1&l)==1&&(l+=1),(1&h)==1&&(h+=1);var d=(i.getX()+o.getX()+s.getX()+a.getX())/4,f=(i.getY()+o.getY()+s.getY()+a.getY())/4;return i=t.moveAway(i,d,f),o=t.moveAway(o,d,f),s=t.moveAway(s,d,f),a=t.moveAway(a,d,f),c=t.shiftPoint(i,o,4*h),c=t.shiftPoint(c,a,4*l),r=t.shiftPoint(o,i,4*h),r=t.shiftPoint(r,s,4*l),u=t.shiftPoint(s,a,4*h),u=t.shiftPoint(u,o,4*l),n=t.shiftPoint(a,s,4*h),[c,r,u,n=t.shiftPoint(n,i,4*l)]},t.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},t.sampleGrid=function(t,e,r,n,i,o,s){return z6.getInstance().sampleGrid(t,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,e.getX(),e.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(t,e){var r=Math.trunc(t.getX()),n=Math.trunc(t.getY()),i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),s=Math.abs(o-n)>Math.abs(i-r);if(s){var a=r;r=n,n=a,a=i,i=o,o=a}for(var l=Math.abs(i-r),h=Math.abs(o-n),c=-l/2,u=n<o?1:-1,d=r<i?1:-1,f=0,p=this.image.get(s?n:r,s?r:n),g=r,m=n;g!==i;g+=d){var v=this.image.get(s?m:g,s?g:m);if(v!==p&&(f++,p=v),(c+=h)>0){if(m===o)break;m+=u,c-=l}}return f},t}(),F$=function(){function t(){this.decoder=new FD}return t.prototype.decode=function(e,r){if(void 0===r&&(r=null),null!=r&&r.has(zs.PURE_BARCODE)){var n,i,o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),i=t.NO_POINTS}else{var s=new FL(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),i=s.getPoints()}var a=n.getRawBytes(),l=new zM(n.getText(),a,8*a.length,i,zN.DATA_MATRIX,j8.currentTimeMillis()),h=n.getByteSegments();null!=h&&l.putMetadata(zD.BYTE_SEGMENTS,h);var c=n.getECLevel();return null!=c&&l.putMetadata(zD.ERROR_CORRECTION_LEVEL,c),l},t.prototype.reset=function(){},t.extractPureBits=function(t){var e=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(null==e||null==r)throw new zy;var n=this.moduleSize(e,t),i=e[1],o=r[1],s=e[0],a=(r[0]-s+1)/n,l=(o-i+1)/n;if(a<=0||l<=0)throw new zy;var h=n/2;i+=h,s+=h;for(var c=new zm(a,l),u=0;u<l;u++)for(var d=i+u*n,f=0;f<a;f++)t.get(s+f*n,d)&&c.set(f,u);return c},t.moduleSize=function(t,e){for(var r=e.getWidth(),n=t[0],i=t[1];n<r&&e.get(n,i);)n++;if(n===r)throw new zy;var o=n-t[0];if(0===o)throw new zy;return o},t.NO_POINTS=[],t}();(tk=function(t,e){return(tk=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tk(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t){return void 0===t&&(t=500),tS.call(this,new F$,t)||this},tS=zR),(tC=eu||(eu={}))[tC.L=0]="L",tC[tC.M=1]="M",tC[tC.Q=2]="Q",tC[tC.H=3]="H";var Fq=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new j0(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new j2;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(eu.L,"L",1),t.M=new t(eu.M,"M",0),t.Q=new t(eu.Q,"Q",3),t.H=new t(eu.H,"H",2),t}(),FQ=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FB=function(){function t(t){this.errorCorrectionLevel=Fq.forBits(t>>3&3),this.dataMask=7&t}return t.numBitsDiffering=function(t,e){return zi.bitCount(t^e)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return null!==n?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,o=Number.MAX_SAFE_INTEGER,s=0;try{for(var a=FQ(t.FORMAT_INFO_DECODE_LOOKUP),l=a.next();!l.done;l=a.next()){var h=l.value,c=h[0];if(c===e||c===r)return new t(h[1]);var u=t.numBitsDiffering(e,c);u<o&&(s=h[1],o=u),e!==r&&(u=t.numBitsDiffering(r,c))<o&&(s=h[1],o=u)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){return e instanceof t&&this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),Fj=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fz=function(){function t(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.ecCodewordsPerBlock=t,this.ecBlocks=e}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var t,e,r=0,n=this.ecBlocks;try{for(var i=Fj(n),o=i.next();!o.done;o=i.next()){var s=o.value;r+=s.getCount()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),FZ=function(){function t(t,e){this.count=t,this.dataCodewords=e}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),FF=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FX=function(){function t(t,e){for(var r,n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=i;var s=0,a=i[0].getECCodewordsPerBlock(),l=i[0].getECBlocks();try{for(var h=FF(l),c=h.next();!c.done;c=h.next()){var u=c.value;s+=u.getCount()*(u.getDataCodewords()+a)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},t.getProvisionalVersionForDimension=function(t){if(t%4!=1)throw new zl;try{return this.getVersionForNumber((t-17)/4)}catch(t){throw new zl}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new j2;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var s=FB.numBitsDiffering(e,o);s<r&&(n=i+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),e=new zm(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var r=this.alignmentPatternCenters.length,n=0;n<r;n++)for(var i=this.alignmentPatternCenters[n]-2,o=0;o<r;o++)(0!==n||0!==o&&o!==r-1)&&(n!==r-1||0!==o)&&e.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Fz(7,new FZ(1,19)),new Fz(10,new FZ(1,16)),new Fz(13,new FZ(1,13)),new Fz(17,new FZ(1,9))),new t(2,Int32Array.from([6,18]),new Fz(10,new FZ(1,34)),new Fz(16,new FZ(1,28)),new Fz(22,new FZ(1,22)),new Fz(28,new FZ(1,16))),new t(3,Int32Array.from([6,22]),new Fz(15,new FZ(1,55)),new Fz(26,new FZ(1,44)),new Fz(18,new FZ(2,17)),new Fz(22,new FZ(2,13))),new t(4,Int32Array.from([6,26]),new Fz(20,new FZ(1,80)),new Fz(18,new FZ(2,32)),new Fz(26,new FZ(2,24)),new Fz(16,new FZ(4,9))),new t(5,Int32Array.from([6,30]),new Fz(26,new FZ(1,108)),new Fz(24,new FZ(2,43)),new Fz(18,new FZ(2,15),new FZ(2,16)),new Fz(22,new FZ(2,11),new FZ(2,12))),new t(6,Int32Array.from([6,34]),new Fz(18,new FZ(2,68)),new Fz(16,new FZ(4,27)),new Fz(24,new FZ(4,19)),new Fz(28,new FZ(4,15))),new t(7,Int32Array.from([6,22,38]),new Fz(20,new FZ(2,78)),new Fz(18,new FZ(4,31)),new Fz(18,new FZ(2,14),new FZ(4,15)),new Fz(26,new FZ(4,13),new FZ(1,14))),new t(8,Int32Array.from([6,24,42]),new Fz(24,new FZ(2,97)),new Fz(22,new FZ(2,38),new FZ(2,39)),new Fz(22,new FZ(4,18),new FZ(2,19)),new Fz(26,new FZ(4,14),new FZ(2,15))),new t(9,Int32Array.from([6,26,46]),new Fz(30,new FZ(2,116)),new Fz(22,new FZ(3,36),new FZ(2,37)),new Fz(20,new FZ(4,16),new FZ(4,17)),new Fz(24,new FZ(4,12),new FZ(4,13))),new t(10,Int32Array.from([6,28,50]),new Fz(18,new FZ(2,68),new FZ(2,69)),new Fz(26,new FZ(4,43),new FZ(1,44)),new Fz(24,new FZ(6,19),new FZ(2,20)),new Fz(28,new FZ(6,15),new FZ(2,16))),new t(11,Int32Array.from([6,30,54]),new Fz(20,new FZ(4,81)),new Fz(30,new FZ(1,50),new FZ(4,51)),new Fz(28,new FZ(4,22),new FZ(4,23)),new Fz(24,new FZ(3,12),new FZ(8,13))),new t(12,Int32Array.from([6,32,58]),new Fz(24,new FZ(2,92),new FZ(2,93)),new Fz(22,new FZ(6,36),new FZ(2,37)),new Fz(26,new FZ(4,20),new FZ(6,21)),new Fz(28,new FZ(7,14),new FZ(4,15))),new t(13,Int32Array.from([6,34,62]),new Fz(26,new FZ(4,107)),new Fz(22,new FZ(8,37),new FZ(1,38)),new Fz(24,new FZ(8,20),new FZ(4,21)),new Fz(22,new FZ(12,11),new FZ(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Fz(30,new FZ(3,115),new FZ(1,116)),new Fz(24,new FZ(4,40),new FZ(5,41)),new Fz(20,new FZ(11,16),new FZ(5,17)),new Fz(24,new FZ(11,12),new FZ(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Fz(22,new FZ(5,87),new FZ(1,88)),new Fz(24,new FZ(5,41),new FZ(5,42)),new Fz(30,new FZ(5,24),new FZ(7,25)),new Fz(24,new FZ(11,12),new FZ(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Fz(24,new FZ(5,98),new FZ(1,99)),new Fz(28,new FZ(7,45),new FZ(3,46)),new Fz(24,new FZ(15,19),new FZ(2,20)),new Fz(30,new FZ(3,15),new FZ(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Fz(28,new FZ(1,107),new FZ(5,108)),new Fz(28,new FZ(10,46),new FZ(1,47)),new Fz(28,new FZ(1,22),new FZ(15,23)),new Fz(28,new FZ(2,14),new FZ(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Fz(30,new FZ(5,120),new FZ(1,121)),new Fz(26,new FZ(9,43),new FZ(4,44)),new Fz(28,new FZ(17,22),new FZ(1,23)),new Fz(28,new FZ(2,14),new FZ(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Fz(28,new FZ(3,113),new FZ(4,114)),new Fz(26,new FZ(3,44),new FZ(11,45)),new Fz(26,new FZ(17,21),new FZ(4,22)),new Fz(26,new FZ(9,13),new FZ(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Fz(28,new FZ(3,107),new FZ(5,108)),new Fz(26,new FZ(3,41),new FZ(13,42)),new Fz(30,new FZ(15,24),new FZ(5,25)),new Fz(28,new FZ(15,15),new FZ(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Fz(28,new FZ(4,116),new FZ(4,117)),new Fz(26,new FZ(17,42)),new Fz(28,new FZ(17,22),new FZ(6,23)),new Fz(30,new FZ(19,16),new FZ(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Fz(28,new FZ(2,111),new FZ(7,112)),new Fz(28,new FZ(17,46)),new Fz(30,new FZ(7,24),new FZ(16,25)),new Fz(24,new FZ(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Fz(30,new FZ(4,121),new FZ(5,122)),new Fz(28,new FZ(4,47),new FZ(14,48)),new Fz(30,new FZ(11,24),new FZ(14,25)),new Fz(30,new FZ(16,15),new FZ(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Fz(30,new FZ(6,117),new FZ(4,118)),new Fz(28,new FZ(6,45),new FZ(14,46)),new Fz(30,new FZ(11,24),new FZ(16,25)),new Fz(30,new FZ(30,16),new FZ(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Fz(26,new FZ(8,106),new FZ(4,107)),new Fz(28,new FZ(8,47),new FZ(13,48)),new Fz(30,new FZ(7,24),new FZ(22,25)),new Fz(30,new FZ(22,15),new FZ(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Fz(28,new FZ(10,114),new FZ(2,115)),new Fz(28,new FZ(19,46),new FZ(4,47)),new Fz(28,new FZ(28,22),new FZ(6,23)),new Fz(30,new FZ(33,16),new FZ(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Fz(30,new FZ(8,122),new FZ(4,123)),new Fz(28,new FZ(22,45),new FZ(3,46)),new Fz(30,new FZ(8,23),new FZ(26,24)),new Fz(30,new FZ(12,15),new FZ(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Fz(30,new FZ(3,117),new FZ(10,118)),new Fz(28,new FZ(3,45),new FZ(23,46)),new Fz(30,new FZ(4,24),new FZ(31,25)),new Fz(30,new FZ(11,15),new FZ(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Fz(30,new FZ(7,116),new FZ(7,117)),new Fz(28,new FZ(21,45),new FZ(7,46)),new Fz(30,new FZ(1,23),new FZ(37,24)),new Fz(30,new FZ(19,15),new FZ(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Fz(30,new FZ(5,115),new FZ(10,116)),new Fz(28,new FZ(19,47),new FZ(10,48)),new Fz(30,new FZ(15,24),new FZ(25,25)),new Fz(30,new FZ(23,15),new FZ(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Fz(30,new FZ(13,115),new FZ(3,116)),new Fz(28,new FZ(2,46),new FZ(29,47)),new Fz(30,new FZ(42,24),new FZ(1,25)),new Fz(30,new FZ(23,15),new FZ(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Fz(30,new FZ(17,115)),new Fz(28,new FZ(10,46),new FZ(23,47)),new Fz(30,new FZ(10,24),new FZ(35,25)),new Fz(30,new FZ(19,15),new FZ(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Fz(30,new FZ(17,115),new FZ(1,116)),new Fz(28,new FZ(14,46),new FZ(21,47)),new Fz(30,new FZ(29,24),new FZ(19,25)),new Fz(30,new FZ(11,15),new FZ(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Fz(30,new FZ(13,115),new FZ(6,116)),new Fz(28,new FZ(14,46),new FZ(23,47)),new Fz(30,new FZ(44,24),new FZ(7,25)),new Fz(30,new FZ(59,16),new FZ(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Fz(30,new FZ(12,121),new FZ(7,122)),new Fz(28,new FZ(12,47),new FZ(26,48)),new Fz(30,new FZ(39,24),new FZ(14,25)),new Fz(30,new FZ(22,15),new FZ(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Fz(30,new FZ(6,121),new FZ(14,122)),new Fz(28,new FZ(6,47),new FZ(34,48)),new Fz(30,new FZ(46,24),new FZ(10,25)),new Fz(30,new FZ(2,15),new FZ(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Fz(30,new FZ(17,122),new FZ(4,123)),new Fz(28,new FZ(29,46),new FZ(14,47)),new Fz(30,new FZ(49,24),new FZ(10,25)),new Fz(30,new FZ(24,15),new FZ(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Fz(30,new FZ(4,122),new FZ(18,123)),new Fz(28,new FZ(13,46),new FZ(32,47)),new Fz(30,new FZ(48,24),new FZ(14,25)),new Fz(30,new FZ(42,15),new FZ(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Fz(30,new FZ(20,117),new FZ(4,118)),new Fz(28,new FZ(40,47),new FZ(7,48)),new Fz(30,new FZ(43,24),new FZ(22,25)),new Fz(30,new FZ(10,15),new FZ(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Fz(30,new FZ(19,118),new FZ(6,119)),new Fz(28,new FZ(18,47),new FZ(31,48)),new Fz(30,new FZ(34,24),new FZ(34,25)),new Fz(30,new FZ(20,15),new FZ(61,16)))],t}();(tA=ed||(ed={}))[tA.DATA_MASK_000=0]="DATA_MASK_000",tA[tA.DATA_MASK_001=1]="DATA_MASK_001",tA[tA.DATA_MASK_010=2]="DATA_MASK_010",tA[tA.DATA_MASK_011=3]="DATA_MASK_011",tA[tA.DATA_MASK_100=4]="DATA_MASK_100",tA[tA.DATA_MASK_101=5]="DATA_MASK_101",tA[tA.DATA_MASK_110=6]="DATA_MASK_110",tA[tA.DATA_MASK_111=7]="DATA_MASK_111";var FV=function(){function t(t,e){this.value=t,this.isMasked=e}return t.prototype.unmaskBitMatrix=function(t,e){for(var r=0;r<e;r++)for(var n=0;n<e;n++)this.isMasked(r,n)&&t.flip(n,r)},t.values=new Map([[ed.DATA_MASK_000,new t(ed.DATA_MASK_000,function(t,e){return(t+e&1)==0})],[ed.DATA_MASK_001,new t(ed.DATA_MASK_001,function(t,e){return(1&t)==0})],[ed.DATA_MASK_010,new t(ed.DATA_MASK_010,function(t,e){return e%3==0})],[ed.DATA_MASK_011,new t(ed.DATA_MASK_011,function(t,e){return(t+e)%3==0})],[ed.DATA_MASK_100,new t(ed.DATA_MASK_100,function(t,e){return(Math.floor(t/2)+Math.floor(e/3)&1)==0})],[ed.DATA_MASK_101,new t(ed.DATA_MASK_101,function(t,e){return t*e%6==0})],[ed.DATA_MASK_110,new t(ed.DATA_MASK_110,function(t,e){return t*e%6<3})],[ed.DATA_MASK_111,new t(ed.DATA_MASK_111,function(t,e){return(t+e+t*e%3&1)==0})]]),t}(),FU=function(){function t(t){var e=t.getHeight();if(e<21||(3&e)!=1)throw new zl;this.bitMatrix=t}return t.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var r=5;r>=0;r--)t=this.copyBit(8,r,t);for(var n=this.bitMatrix.getHeight(),i=0,o=n-7,r=n-1;r>=o;r--)i=this.copyBit(8,r,i);for(var e=n-8;e<n;e++)i=this.copyBit(e,8,i);if(this.parsedFormatInfo=FB.decodeFormatInformation(t,i),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new zl},t.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return FX.getVersionForNumber(e);for(var r=0,n=t-11,i=5;i>=0;i--)for(var o=t-9;o>=n;o--)r=this.copyBit(o,i,r);var s=FX.decodeVersionInformation(r);if(null!==s&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;r=0;for(var o=5;o>=0;o--)for(var i=t-9;i>=n;i--)r=this.copyBit(o,i,r);if(null!==(s=FX.decodeVersionInformation(r))&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new zl},t.prototype.copyBit=function(t,e,r){return(this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e))?r<<1|1:r<<1},t.prototype.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),r=FV.values.get(t.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);for(var i=e.buildFunctionPattern(),o=!0,s=new Uint8Array(e.getTotalCodewords()),a=0,l=0,h=0,c=n-1;c>0;c-=2){6===c&&c--;for(var u=0;u<n;u++)for(var d=o?n-1-u:u,f=0;f<2;f++)i.get(c-f,d)||(h++,l<<=1,this.bitMatrix.get(c-f,d)&&(l|=1),8!==h||(s[a++]=l,h=0,l=0));o=!o}if(a!==e.getTotalCodewords())throw new zl;return s},t.prototype.remask=function(){if(null!==this.parsedFormatInfo){var t=FV.values.get(this.parsedFormatInfo.getDataMask()),e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}},t.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},t.prototype.mirror=function(){for(var t=this.bitMatrix,e=0,r=t.getWidth();e<r;e++)for(var n=e+1,i=t.getHeight();n<i;n++)t.get(e,n)!==t.get(n,e)&&(t.flip(n,e),t.flip(e,n))},t}(),FW=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FH=function(){function t(t,e){this.numDataCodewords=t,this.codewords=e}return t.getDataBlocks=function(e,r,n){if(e.length!==r.getTotalCodewords())throw new j2;var i,o,s,a,l=r.getECBlocksForLevel(n),h=0,c=l.getECBlocks();try{for(var u=FW(c),d=u.next();!d.done;d=u.next()){var f=d.value;h+=f.getCount()}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var p=Array(h),g=0;try{for(var m=FW(c),v=m.next();!v.done;v=m.next())for(var f=v.value,y=0;y<f.getCount();y++){var b=f.getDataCodewords(),O=l.getECCodewordsPerBlock()+b;p[g++]=new t(b,new Uint8Array(O))}}catch(t){s={error:t}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}for(var w=p[0].codewords.length,x=p.length-1;x>=0&&p[x].codewords.length!==w;)x--;x++;for(var k=w-l.getECCodewordsPerBlock(),S=0,y=0;y<k;y++)for(var C=0;C<g;C++)p[C].codewords[y]=e[S++];for(var C=x;C<g;C++)p[C].codewords[k]=e[S++];for(var A=p[0].codewords.length,y=k;y<A;y++)for(var C=0;C<g;C++){var E=C<x?y:y+1;p[C].codewords[E]=e[S++]}return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();(tE=ef||(ef={}))[tE.TERMINATOR=0]="TERMINATOR",tE[tE.NUMERIC=1]="NUMERIC",tE[tE.ALPHANUMERIC=2]="ALPHANUMERIC",tE[tE.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",tE[tE.BYTE=4]="BYTE",tE[tE.ECI=5]="ECI",tE[tE.KANJI=6]="KANJI",tE[tE.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",tE[tE.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",tE[tE.HANZI=9]="HANZI";var FY=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(void 0===r)throw new j2;return r},t.prototype.getCharacterCountBits=function(t){var e,r=t.getVersionNumber();return e=r<=9?0:r<=26?1:2,this.characterCountBitsForVersions[e]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(ef.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(ef.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(ef.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(ef.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(ef.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(ef.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(ef.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(ef.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(ef.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(ef.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),FG=function(){function t(){}return t.decode=function(e,r,n,i){var o=new FR(e),s=new zg,a=[],l=-1,h=-1;try{var c=null,u=!1,d=void 0;do{if(4>o.available())d=FY.TERMINATOR;else{var f=o.readBits(4);d=FY.forBits(f)}switch(d){case FY.TERMINATOR:break;case FY.FNC1_FIRST_POSITION:case FY.FNC1_SECOND_POSITION:u=!0;break;case FY.STRUCTURED_APPEND:if(16>o.available())throw new zl;l=o.readBits(8),h=o.readBits(8);break;case FY.ECI:var p=t.parseECIValue(o);if(c=zc.getCharacterSetECIByValue(p),null===c)throw new zl;break;case FY.HANZI:var g=o.readBits(4),m=o.readBits(d.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(o,s,m);break;default:var v=o.readBits(d.getCharacterCountBits(r));switch(d){case FY.NUMERIC:t.decodeNumericSegment(o,s,v);break;case FY.ALPHANUMERIC:t.decodeAlphanumericSegment(o,s,v,u);break;case FY.BYTE:t.decodeByteSegment(o,s,v,c,a,i);break;case FY.KANJI:t.decodeKanjiSegment(o,s,v);break;default:throw new zl}}}while(d!==FY.TERMINATOR)}catch(t){throw new zl}return new zL(e,s.toString(),0===a.length?null:a,null===n?null:n.toString(),l,h)},t.decodeHanziSegment=function(t,e,r){if(13*r>t.available())throw new zl;for(var n=new Uint8Array(2*r),i=0;r>0;){var o=t.readBits(13),s=o/96<<8&0xffffffff|o%96;s<959?s+=41377:s+=42657,n[i]=s>>8&255,n[i+1]=255&s,i+=2,r--}try{e.append(zf.decode(n,zp.GB2312))}catch(t){throw new zl(t)}},t.decodeKanjiSegment=function(t,e,r){if(13*r>t.available())throw new zl;for(var n=new Uint8Array(2*r),i=0;r>0;){var o=t.readBits(13),s=o/192<<8&0xffffffff|o%192;s<7936?s+=33088:s+=49472,n[i]=s>>8,n[i+1]=s,i+=2,r--}try{e.append(zf.decode(n,zp.SHIFT_JIS))}catch(t){throw new zl(t)}},t.decodeByteSegment=function(t,e,r,n,i,o){if(8*r>t.available())throw new zl;for(var s,a=new Uint8Array(r),l=0;l<r;l++)a[l]=t.readBits(8);s=null===n?zp.guessEncoding(a,o):n.getName();try{e.append(zf.decode(a,s))}catch(t){throw new zl(t)}i.push(a)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new zl;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var o=r.length();n>1;){if(11>e.available())throw new zl;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(1===n){if(6>e.available())throw new zl;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var a=o;a<r.length();a++)"%"===r.charAt(a)&&(a<r.length()-1&&"%"===r.charAt(a+1)?r.deleteCharAt(a+1):r.setCharAt(a,"\x1d"))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(10>e.available())throw new zl;var i=e.readBits(10);if(i>=1e3)throw new zl;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(2===n){if(7>e.available())throw new zl;var o=e.readBits(7);if(o>=100)throw new zl;r.append(t.toAlphaNumericChar(Math.floor(o/10))),r.append(t.toAlphaNumericChar(o%10))}else if(1===n){if(4>e.available())throw new zl;var s=e.readBits(4);if(s>=10)throw new zl;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(t){var e=t.readBits(8);if((128&e)==0)return 127&e;if((192&e)==128)return(63&e)<<8&0xffffffff|t.readBits(8);if((224&e)==192)return(31&e)<<16&0xffffffff|t.readBits(16);throw new zl},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),FK=function(){function t(t){this.mirrored=t}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(t){if(this.mirrored&&null!==t&&!(t.length<3)){var e=t[0];t[0]=t[2],t[2]=e}},t}(),FJ=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F0=function(){function t(){this.rsDecoder=new zU(zz.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(t,e){return this.decodeBitMatrix(zm.parseFromBooleanArray(t),e)},t.prototype.decodeBitMatrix=function(t,e){var r=new FU(t),n=null;try{return this.decodeBitMatrixParser(r,e)}catch(t){n=t}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var i=this.decodeBitMatrixParser(r,e);return i.setOther(new FK(!0)),i}catch(t){if(null!==n)throw n;throw t}},t.prototype.decodeBitMatrixParser=function(t,e){var r,n,i,o,s=t.readVersion(),a=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),h=FH.getDataBlocks(l,s,a),c=0;try{for(var u=FJ(h),d=u.next();!d.done;d=u.next()){var f=d.value;c+=f.getNumDataCodewords()}}catch(t){r={error:t}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}var p=new Uint8Array(c),g=0;try{for(var m=FJ(h),v=m.next();!v.done;v=m.next()){var f=v.value,y=f.getCodewords(),b=f.getNumDataCodewords();this.correctErrors(y,b);for(var O=0;O<b;O++)p[g++]=y[O]}}catch(t){i={error:t}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}return FG.decode(p,s,a,e)},t.prototype.correctErrors=function(t,e){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-e)}catch(t){throw new j5}for(var n=0;n<e;n++)t[n]=r[n]},t}(),F1=(tT=function(t,e){return(tT=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tT(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),F2=function(t){function e(e,r,n){var i=t.call(this,e,r)||this;return i.estimatedModuleSize=n,i}return F1(e,t),e.prototype.aboutEquals=function(t,e,r){if(Math.abs(e-this.getY())<=t&&Math.abs(r-this.getX())<=t){var n=Math.abs(t-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,n){return new e((this.getX()+r)/2,(this.getY()+t)/2,(this.estimatedModuleSize+n)/2)},e}(zG),F3=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F4=function(){function t(t,e,r,n,i,o,s){this.image=t,this.startX=e,this.startY=r,this.width=n,this.height=i,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var t=this.startX,e=this.height,r=t+this.width,n=this.startY+e/2,i=new Int32Array(3),o=this.image,s=0;s<e;s++){var a=n+((1&s)==0?Math.floor((s+1)/2):-Math.floor((s+1)/2));i[0]=0,i[1]=0,i[2]=0;for(var l=t;l<r&&!o.get(l,a);)l++;for(var h=0;l<r;){if(o.get(l,a)){if(1===h)i[1]++;else if(2===h){if(this.foundPatternCross(i)){var c=this.handlePossibleCenter(i,a,l);if(null!==c)return c}i[0]=i[2],i[1]=1,i[2]=0,h=1}else i[++h]++}else 1===h&&h++,i[h]++;l++}if(this.foundPatternCross(i)){var c=this.handlePossibleCenter(i,a,r);if(null!==c)return c}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new zy},t.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},t.prototype.foundPatternCross=function(t){for(var e=this.moduleSize,r=e/2,n=0;n<3;n++)if(Math.abs(e-t[n])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var o=this.image,s=o.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var l=e;l>=0&&o.get(r,l)&&a[1]<=n;)a[1]++,l--;if(l<0||a[1]>n)return NaN;for(;l>=0&&!o.get(r,l)&&a[0]<=n;)a[0]++,l--;if(a[0]>n)return NaN;for(l=e+1;l<s&&o.get(r,l)&&a[1]<=n;)a[1]++,l++;if(l===s||a[1]>n)return NaN;for(;l<s&&!o.get(r,l)&&a[2]<=n;)a[2]++,l++;return a[2]>n||5*Math.abs(a[0]+a[1]+a[2]-i)>=2*i?NaN:this.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,o,s=e[0]+e[1]+e[2],a=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,a,2*e[1],s);if(!isNaN(l)){var h=(e[0]+e[1]+e[2])/3;try{for(var c=F3(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;if(d.aboutEquals(h,l,a))return d.combineEstimate(l,a,h)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}var f=new F2(a,l,h);this.possibleCenters.push(f),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},t}(),F5=(tP=function(t,e){return(tP=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tP(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),F6=function(t){function e(e,r,n,i){var o=t.call(this,e,r)||this;return o.estimatedModuleSize=n,o.count=i,void 0===i&&(o.count=1),o}return F5(e,t),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,e,r){if(Math.abs(e-this.getY())<=t&&Math.abs(r-this.getX())<=t){var n=Math.abs(t-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,n){var i=this.count+1;return new e((this.count*this.getX()+r)/i,(this.count*this.getY()+t)/i,(this.count*this.estimatedModuleSize+n)/i,i)},e}(zG),F8=function(){function t(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),F7=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F9=function(){function t(t,e){this.image=t,this.resultPointCallback=e,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=e}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=null!=e&&void 0!==e.get(zs.TRY_HARDER),n=null!=e&&void 0!==e.get(zs.PURE_BARCODE),i=this.image,o=i.getHeight(),s=i.getWidth(),a=Math.floor(3*o/(4*t.MAX_MODULES));(a<t.MIN_SKIP||r)&&(a=t.MIN_SKIP);for(var l=!1,h=new Int32Array(5),c=a-1;c<o&&!l;c+=a){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var u=0,d=0;d<s;d++)if(i.get(d,c))(1&u)==1&&u++,h[u]++;else if((1&u)==0){if(4===u){if(t.foundPatternCross(h)){var f=this.handlePossibleCenter(h,c,d,n);if(!0===f){if(a=2,!0===this.hasSkipped)l=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>h[2]&&(c+=p-h[2]-a,d=s-1)}}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,u=3;continue}u=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,u=3}else h[++u]++}else h[u]++;if(t.foundPatternCross(h)){var f=this.handlePossibleCenter(h,c,s,n);!0===f&&(a=h[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return zG.orderBestPatterns(g),new F8(g)},t.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},t.foundPatternCross=function(t){for(var e=0,r=0;r<5;r++){var n=t[r];if(0===n)return!1;e+=n}if(e<7)return!1;var i=e/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o},t.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var o=this.getCrossCheckStateCount(),s=0,a=this.image;e>=s&&r>=s&&a.get(r-s,e-s);)o[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!a.get(r-s,e-s)&&o[1]<=n;)o[1]++,s++;if(e<s||r<s||o[1]>n)return!1;for(;e>=s&&r>=s&&a.get(r-s,e-s)&&o[0]<=n;)o[0]++,s++;if(o[0]>n)return!1;var l=a.getHeight(),h=a.getWidth();for(s=1;e+s<l&&r+s<h&&a.get(r+s,e+s);)o[2]++,s++;if(e+s>=l||r+s>=h)return!1;for(;e+s<l&&r+s<h&&!a.get(r+s,e+s)&&o[3]<n;)o[3]++,s++;if(e+s>=l||r+s>=h||o[3]>=n)return!1;for(;e+s<l&&r+s<h&&a.get(r+s,e+s)&&o[4]<n;)o[4]++,s++;return!(o[4]>=n)&&Math.abs(o[0]+o[1]+o[2]+o[3]+o[4]-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var o=this.image,s=o.getHeight(),a=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(r,l);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(r,l)&&a[1]<=n;)a[1]++,l--;if(l<0||a[1]>n)return NaN;for(;l>=0&&o.get(r,l)&&a[0]<=n;)a[0]++,l--;if(a[0]>n)return NaN;for(l=e+1;l<s&&o.get(r,l);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!o.get(r,l)&&a[3]<n;)a[3]++,l++;if(l===s||a[3]>=n)return NaN;for(;l<s&&o.get(r,l)&&a[4]<n;)a[4]++,l++;return a[4]>=n||5*Math.abs(a[0]+a[1]+a[2]+a[3]+a[4]-i)>=2*i?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var o=this.image,s=o.getWidth(),a=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(l,r);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(l,r)&&a[1]<=n;)a[1]++,l--;if(l<0||a[1]>n)return NaN;for(;l>=0&&o.get(l,r)&&a[0]<=n;)a[0]++,l--;if(a[0]>n)return NaN;for(l=e+1;l<s&&o.get(l,r);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!o.get(l,r)&&a[3]<n;)a[3]++,l++;if(l===s||a[3]>=n)return NaN;for(;l<s&&o.get(l,r)&&a[4]<n;)a[4]++,l++;return a[4]>=n||5*Math.abs(a[0]+a[1]+a[2]+a[3]+a[4]-i)>=i?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),a=this.crossCheckVertical(r,Math.floor(s),e[2],o);if(!isNaN(a)&&!isNaN(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),e[2],o))&&(!i||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),e[2],o))){for(var l=o/7,h=!1,c=this.possibleCenters,u=0,d=c.length;u<d;u++){var f=c[u];if(f.aboutEquals(l,a,s)){c[u]=f.combineEstimate(a,s,l),h=!0;break}}if(!h){var p=new F6(s,a,l);c.push(p),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){if(this.possibleCenters.length<=1)return 0;var e,r,n=null;try{for(var i=F7(this.possibleCenters),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM){if(null!=n)return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-s.getX())-Math.abs(n.getY()-s.getY()))/2);n=s}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,o=0,s=0,a=this.possibleCenters.length;try{for(var l=F7(this.possibleCenters),h=l.next();!h.done;h=l.next()){var c=h.value;c.getCount()>=t.CENTER_QUORUM&&(o++,s+=c.getEstimatedModuleSize())}}catch(t){e={error:t}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(o<3)return!1;var u=s/a,d=0;try{for(var f=F7(this.possibleCenters),p=f.next();!p.done;p=f.next()){var c=p.value;d+=Math.abs(c.getEstimatedModuleSize()-u)}}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return d<=.05*s},t.prototype.selectBestPatterns=function(){var t,e,r,n,i,o=this.possibleCenters.length;if(o<3)throw new zy;var s=this.possibleCenters;if(o>3){var a=0,l=0;try{for(var h=F7(this.possibleCenters),c=h.next();!c.done;c=h.next()){var u=c.value.getEstimatedModuleSize();a+=u,l+=u*u}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}i=a/o;var d=Math.sqrt(l/o-i*i);s.sort(function(t,e){var r=Math.abs(e.getEstimatedModuleSize()-i),n=Math.abs(t.getEstimatedModuleSize()-i);return r<n?-1:r>n?1:0});for(var f=Math.max(.2*i,d),p=0;p<s.length&&s.length>3;p++)Math.abs(s[p].getEstimatedModuleSize()-i)>f&&(s.splice(p,1),p--)}if(s.length>3){var a=0;try{for(var g=F7(s),m=g.next();!m.done;m=g.next()){var v=m.value;a+=v.getEstimatedModuleSize()}}catch(t){r={error:t}}finally{try{m&&!m.done&&(n=g.return)&&n.call(g)}finally{if(r)throw r.error}}i=a/s.length,s.sort(function(t,e){if(e.getCount()!==t.getCount())return e.getCount()-t.getCount();var r=Math.abs(e.getEstimatedModuleSize()-i),n=Math.abs(t.getEstimatedModuleSize()-i);return r<n?1:r>n?-1:0}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),Xt=function(){function t(t){this.image=t}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(t){this.resultPointCallback=null==t?null:t.get(zs.NEED_RESULT_POINT_CALLBACK);var e=new F9(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(e)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(r,n,i);if(o<1)throw new zy("No pattern found in proccess finder.");var s=t.computeDimension(r,n,i,o),a=FX.getProvisionalVersionForDimension(s),l=a.getDimensionForVersion()-7,h=null;if(a.getAlignmentPatternCenters().length>0)for(var c=n.getX()-r.getX()+i.getX(),u=n.getY()-r.getY()+i.getY(),d=1-3/l,f=Math.floor(r.getX()+d*(c-r.getX())),p=Math.floor(r.getY()+d*(u-r.getY())),g=4;g<=16;g<<=1)try{h=this.findAlignmentInRegion(o,f,p,g);break}catch(t){if(!(t instanceof zy))throw t}var m=t.createTransform(r,n,i,h,s);return new zK(t.sampleGrid(this.image,m,s),null===h?[i,r,n]:[i,r,n,h])},t.createTransform=function(t,e,r,n,i){var o,s,a,l,h=i-3.5;return null!==n?(o=n.getX(),s=n.getY(),l=a=h-3):(o=e.getX()-t.getX()+r.getX(),s=e.getY()-t.getY()+r.getY(),a=h,l=h),z3.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,a,l,3.5,h,t.getX(),t.getY(),e.getX(),e.getY(),o,s,r.getX(),r.getY())},t.sampleGrid=function(t,e,r){return z6.getInstance().sampleGridWithTransform(t,r,r,e)},t.computeDimension=function(t,e,r,n){var i=Math.floor((zH.round(zG.distance(t,e)/n)+zH.round(zG.distance(t,r)/n))/2)+7;switch(3&i){case 0:i++;break;case 2:i--;break;case 3:throw new zy("Dimensions could be not found.")}return i},t.prototype.calculateModuleSize=function(t,e,r){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,r))/2},t.prototype.calculateModuleSizeOneWay=function(t,e){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,e,r,n){var i=this.sizeOfBlackWhiteBlackRun(t,e,r,n),o=1,s=t-(r-t);s<0?(o=t/(t-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(s-t),s=this.image.getWidth()-1);var a=Math.floor(e-(n-e)*o);return o=1,a<0?(o=e/(e-a),a=0):a>=this.image.getHeight()&&(o=(this.image.getHeight()-1-e)/(a-e),a=this.image.getHeight()-1),s=Math.floor(t+(s-t)*o),(i+=this.sizeOfBlackWhiteBlackRun(t,e,s,a))-1},t.prototype.sizeOfBlackWhiteBlackRun=function(t,e,r,n){var i=Math.abs(n-e)>Math.abs(r-t);if(i){var o=t;t=e,e=o,o=r,r=n,n=o}for(var s=Math.abs(r-t),a=Math.abs(n-e),l=-s/2,h=t<r?1:-1,c=e<n?1:-1,u=0,d=r+h,f=t,p=e;f!==d;f+=h){var g=i?p:f,m=i?f:p;if(1===u===this.image.get(g,m)){if(2===u)return zH.distance(f,p,t,e);u++}if((l+=a)>0){if(p===n)break;p+=c,l-=s}}return 2===u?zH.distance(r+h,n,t,e):NaN},t.prototype.findAlignmentInRegion=function(t,e,r,n){var i=Math.floor(n*t),o=Math.max(0,e-i),s=Math.min(this.image.getWidth()-1,e+i);if(s-o<3*t)throw new zy("Alignment top exceeds estimated module size.");var a=Math.max(0,r-i),l=Math.min(this.image.getHeight()-1,r+i);if(l-a<3*t)throw new zy("Alignment bottom exceeds estimated module size.");return new F4(this.image,o,a,s-o,l-a,t,this.resultPointCallback).find()},t}(),Xe=function(){function t(){this.decoder=new F0}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){if(null!=r&&void 0!==r.get(zs.PURE_BARCODE)){var n,i,o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),i=t.NO_POINTS}else{var s=new Xt(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),i=s.getPoints()}n.getOther()instanceof FK&&n.getOther().applyMirroredCorrection(i);var a=new zM(n.getText(),n.getRawBytes(),void 0,i,zN.QR_CODE,void 0),l=n.getByteSegments();null!==l&&a.putMetadata(zD.BYTE_SEGMENTS,l);var h=n.getECLevel();return null!==h&&a.putMetadata(zD.ERROR_CORRECTION_LEVEL,h),n.hasStructuredAppend()&&(a.putMetadata(zD.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),a.putMetadata(zD.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),a},t.prototype.reset=function(){},t.extractPureBits=function(t){var e=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(null===e||null===r)throw new zy;var n=this.moduleSize(e,t),i=e[1],o=r[1],s=e[0],a=r[0];if(s>=a||i>=o||o-i!=a-s&&(a=s+(o-i))>=t.getWidth())throw new zy;var l=Math.round((a-s+1)/n),h=Math.round((o-i+1)/n);if(l<=0||h<=0||h!==l)throw new zy;var c=Math.floor(n/2);i+=c;var u=(s+=c)+Math.floor((l-1)*n)-a;if(u>0){if(u>c)throw new zy;s-=u}var d=i+Math.floor((h-1)*n)-o;if(d>0){if(d>c)throw new zy;i-=d}for(var f=new zm(l,h),p=0;p<h;p++)for(var g=i+Math.floor(p*n),m=0;m<l;m++)t.get(s+Math.floor(m*n),g)&&f.set(m,p);return f},t.moduleSize=function(t,e){for(var r=e.getHeight(),n=e.getWidth(),i=t[0],o=t[1],s=!0,a=0;i<n&&o<r;){if(s!==e.get(i,o)){if(5==++a)break;s=!s}i++,o++}if(i===n||o===r)throw new zy;return(i-t[0])/7},t.NO_POINTS=[],t}(),Xr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xn=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(t){return zH.sum(t)},t.toIntArray=function(e){if(null==e||!e.length)return t.EMPTY_INT_ARRAY;var r,n,i=new Int32Array(e.length),o=0;try{for(var s=Xr(e),a=s.next();!a.done;a=s.next()){var l=a.value;i[o++]=l}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=zn.binarySearch(t.SYMBOL_TABLE,262143&e);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),Xi=function(){function t(t,e){this.bits=t,this.points=e}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Xo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xs=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),o=t.detect(n,i);return o.length||((i=i.clone()).rotate180(),o=t.detect(n,i)),new Xi(i,o)},t.detect=function(e,r){for(var n,i,o=[],s=0,a=0,l=!1;s<r.getHeight();){var h=t.findVertices(r,s,a);if(null==h[0]&&null==h[3]){if(!l)break;l=!1,a=0;try{for(var c=(n=void 0,Xo(o)),u=c.next();!u.done;u=c.next()){var d=u.value;null!=d[1]&&(s=Math.trunc(Math.max(s,d[1].getY()))),null!=d[3]&&(s=Math.max(s,Math.trunc(d[3].getY())))}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(l=!0,o.push(h),!e)break;null!=h[2]?(a=Math.trunc(h[2].getX()),s=Math.trunc(h[2].getY())):(a=Math.trunc(h[4].getX()),s=Math.trunc(h[4].getY()))}return o},t.findVertices=function(e,r,n){var i=e.getHeight(),o=e.getWidth(),s=Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,i,o,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),null!=s[4]&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,i,o,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(t,e,r){for(var n=0;n<r.length;n++)t[r[n]]=e[n]},t.findRowsWithPattern=function(e,r,n,i,o,s){for(var a=[,,,,],l=!1,h=new Int32Array(s.length);i<r;i+=t.ROW_STEP){var c=t.findGuardPattern(e,o,i,n,!1,s,h);if(null!=c){for(;i>0;){var u=t.findGuardPattern(e,o,--i,n,!1,s,h);if(null!=u)c=u;else{i++;break}}a[0]=new zG(c[0],i),a[1]=new zG(c[1],i),l=!0;break}}var d=i+1;if(l){for(var f=0,u=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);d<r;d++){var c=t.findGuardPattern(e,u[0],d,n,!1,s,h);if(null!=c&&Math.abs(u[0]-c[0])<t.MAX_PATTERN_DRIFT&&Math.abs(u[1]-c[1])<t.MAX_PATTERN_DRIFT)u=c,f=0;else{if(f>t.SKIPPED_ROW_COUNT_MAX)break;f++}}d-=f+1,a[2]=new zG(u[0],d),a[3]=new zG(u[1],d)}return d-i<t.BARCODE_MIN_HEIGHT&&zn.fill(a,null),a},t.findGuardPattern=function(e,r,n,i,o,s,a){zn.fillWithin(a,0,a.length,0);for(var l=r,h=0;e.get(l,n)&&l>0&&h++<t.MAX_PIXEL_DRIFT;)l--;for(var c=l,u=0,d=s.length,f=o;c<i;c++)if(e.get(c,n)!==f)a[u]++;else{if(u===d-1){if(t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,c]);l+=a[0]+a[1],j8.arraycopy(a,2,a,0,u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,f=!f}return u===d-1&&t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,c-1]):null},t.patternMatchVariance=function(t,e,r){for(var n=t.length,i=0,o=0,s=0;s<n;s++)i+=t[s],o+=e[s];if(i<o)return 1/0;var a=i/o;r*=a;for(var l=0,h=0;h<n;h++){var c=t[h],u=e[h]*a,d=c>u?c-u:u-c;if(d>r)return 1/0;l+=d}return l/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),Xa=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xl=function(){function t(t,e){if(0===e.length)throw new j2;this.field=t;var r=e.length;if(r>1&&0===e[0]){for(var n=1;n<r&&0===e[n];)n++;n===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-n),j8.arraycopy(e,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},t.prototype.evaluateAt=function(t){if(0===t)return this.getCoefficient(0);if(1===t){var e,r,n=0;try{for(var i=Xa(this.coefficients),o=i.next();!o.done;o=i.next()){var s=o.value;n=this.field.add(n,s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n}for(var a=this.coefficients[0],l=this.coefficients.length,h=1;h<l;h++)a=this.field.add(this.field.multiply(t,a),this.coefficients[h]);return a},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new j2("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),s=n.length-r.length;j8.arraycopy(n,0,o,0,s);for(var a=s;a<n.length;a++)o[a]=this.field.add(r[a-s],n[a]);return new t(this.field,o)},t.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new j2("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new j2("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,s=new Int32Array(n+o-1),a=0;a<n;a++)for(var l=r[a],h=0;h<o;h++)s[a+h]=this.field.add(s[a+h],this.field.multiply(l,i[h]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(0===e)return new t(this.field,new Int32Array([0]));if(1===e)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new j2;if(0===r)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],r);return new t(this.field,i)},t.prototype.toString=function(){for(var t=new zg,e=this.getDegree();e>=0;e--){var r=this.getCoefficient(e);0!==r&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(0===e||1!==r)&&t.append(r),0!==e&&(1===e?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()},t}(),Xh=function(){function t(){}return t.prototype.add=function(t,e){return(t+e)%this.modulus},t.prototype.subtract=function(t,e){return(this.modulus+t-e)%this.modulus},t.prototype.exp=function(t){return this.expTable[t]},t.prototype.log=function(t){if(0===t)throw new j2;return this.logTable[t]},t.prototype.inverse=function(t){if(0===t)throw new zB;return this.expTable[this.modulus-this.logTable[t]-1]},t.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(t){return t===this},t}(),Xc=(tI=function(t,e){return(tI=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tI(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Xu=function(t){function e(e,r){var n=t.call(this)||this;n.modulus=e,n.expTable=new Int32Array(e),n.logTable=new Int32Array(e);for(var i=1,o=0;o<e;o++)n.expTable[o]=i,i=i*r%e;for(var o=0;o<e-1;o++)n.logTable[n.expTable[o]]=o;return n.zero=new Xl(n,new Int32Array([0])),n.one=new Xl(n,new Int32Array([1])),n}return Xc(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,e){if(t<0)throw new j2;if(0===e)return this.zero;var r=new Int32Array(t+1);return r[0]=e,new Xl(this,r)},e.PDF417_GF=new e(Xn.NUMBER_OF_CODEWORDS,3),e}(Xh),Xd=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xf=function(){function t(){this.field=Xu.PDF417_GF}return t.prototype.decode=function(t,e,r){for(var n,i,o=new Xl(this.field,t),s=new Int32Array(e),a=!1,l=e;l>0;l--){var h=o.evaluateAt(this.field.exp(l));s[e-l]=h,0!==h&&(a=!0)}if(!a)return 0;var c=this.field.getOne();if(null!=r)try{for(var u=Xd(r),d=u.next();!d.done;d=u.next()){var f=d.value,p=this.field.exp(t.length-1-f),g=new Xl(this.field,new Int32Array([this.field.subtract(0,p),1]));c=c.multiply(g)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}for(var m=new Xl(this.field,s),v=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),m,e),y=v[0],b=v[1],O=this.findErrorLocations(y),w=this.findErrorMagnitudes(b,y,O),l=0;l<O.length;l++){var x=t.length-1-this.field.log(O[l]);if(x<0)throw j5.getChecksumInstance();t[x]=this.field.subtract(t[x],w[l])}return O.length},t.prototype.runEuclideanAlgorithm=function(t,e,r){if(t.getDegree()<e.getDegree()){var n=t;t=e,e=n}for(var i=t,o=e,s=this.field.getZero(),a=this.field.getOne();o.getDegree()>=Math.round(r/2);){var l=i,h=s;if(i=o,s=a,i.isZero())throw j5.getChecksumInstance();o=l;for(var c=this.field.getZero(),u=i.getCoefficient(i.getDegree()),d=this.field.inverse(u);o.getDegree()>=i.getDegree()&&!o.isZero();){var f=o.getDegree()-i.getDegree(),p=this.field.multiply(o.getCoefficient(o.getDegree()),d);c=c.add(this.field.buildMonomial(f,p)),o=o.subtract(i.multiplyByMonomial(f,p))}a=c.multiply(s).subtract(h).negative()}var g=a.getCoefficient(0);if(0===g)throw j5.getChecksumInstance();var m=this.field.inverse(g);return[a.multiply(m),o.multiply(m)]},t.prototype.findErrorLocations=function(t){for(var e=t.getDegree(),r=new Int32Array(e),n=0,i=1;i<this.field.getSize()&&n<e;i++)0===t.evaluateAt(i)&&(r[n]=this.field.inverse(i),n++);if(n!==e)throw j5.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(t,e,r){for(var n=e.getDegree(),i=new Int32Array(n),o=1;o<=n;o++)i[n-o]=this.field.multiply(o,e.getCoefficient(o));for(var s=new Xl(this.field,i),a=r.length,l=new Int32Array(a),o=0;o<a;o++){var h=this.field.inverse(r[o]),c=this.field.subtract(0,t.evaluateAt(h)),u=this.field.inverse(s.evaluateAt(h));l[o]=this.field.multiply(c,u)}return l},t}(),Xp=function(){function t(e,r,n,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,o)}return t.prototype.constructor_1=function(t,e,r,n,i){var o=null==e||null==r,s=null==n||null==i;if(o&&s)throw new zy;o?(e=new zG(0,n.getY()),r=new zG(0,i.getY())):s&&(n=new zG(t.getWidth()-1,e.getY()),i=new zG(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=e,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(e.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(e.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))},t.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},t.merge=function(e,r){return null==e?r:null==r?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,o=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,h=Math.trunc(l.getY()-e);h<0&&(h=0);var c=new zG(l.getX(),h);n?i=c:s=c}if(r>0){var u=n?this.bottomLeft:this.bottomRight,d=Math.trunc(u.getY()+r);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var f=new zG(u.getX(),d);n?o=f:a=f}return new t(this.image,i,o,s,a)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Xg=function(){function t(t,e,r,n){this.columnCount=t,this.errorCorrectionLevel=n,this.rowCountUpperPart=e,this.rowCountLowerPart=r,this.rowCount=e+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),Xm=function(){function t(){this.buffer=""}return t.form=function(t,e){var r=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(t,n,i,o,s,a){if("%%"===t)return"%";if(void 0!==e[++r]){t=o?parseInt(o.substr(1)):void 0;var l,h=s?parseInt(s.substr(1)):void 0;switch(a){case"s":l=e[r];break;case"c":l=e[r][0];break;case"f":l=parseFloat(e[r]).toFixed(t);break;case"p":l=parseFloat(e[r]).toPrecision(t);break;case"e":l=parseFloat(e[r]).toExponential(t);break;case"x":l=parseInt(e[r]).toString(h||16);break;case"d":l=parseFloat(parseInt(e[r],h||10).toPrecision(t)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(h);for(var c=parseInt(i),u=i&&i[0]+""=="0"?"0":" ";l.length<c;)l=void 0!==n?l+u:u+l;return l}})},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Xv=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xy=function(){function t(t){this.boundingBox=new Xp(t),this.codewords=Array(t.getMaxY()-t.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(null!=r)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&null!=(r=this.codewords[i])||(i=this.imageRowToCodewordIndex(e)+n)<this.codewords.length&&null!=(r=this.codewords[i]))return r}return null},t.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},t.prototype.setCodeword=function(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e},t.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var t,e,r=new Xm,n=0;try{for(var i=Xv(this.codewords),o=i.next();!o.done;o=i.next()){var s=o.value;if(null==s){r.format("%3d:    |   %n",n++);continue}r.format("%3d: %3d|%3d%n",n++,s.getRowNumber(),s.getValue())}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Xb=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XO=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Xw=function(){function t(){this.values=new Map}return t.prototype.setValue=function(t){t=Math.trunc(t);var e=this.values.get(t);null==e&&(e=0),e++,this.values.set(t,e)},t.prototype.getValue=function(){var t,e,r=-1,n=[],i=function(t,e){var i={getKey:function(){return t},getValue:function(){return e}};i.getValue()>r?(r=i.getValue(),(n=[]).push(i.getKey())):i.getValue()===r&&n.push(i.getKey())};try{for(var o=Xb(this.values.entries()),s=o.next();!s.done;s=o.next()){var a=XO(s.value,2),l=a[0],h=a[1];i(l,h)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return Xn.toIntArray(n)},t.prototype.getConfidence=function(t){return this.values.get(t)},t}(),Xx=(tR=function(t,e){return(tR=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tR(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),X_=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xk=function(t){function e(e,r){var n=t.call(this,e)||this;return n._isLeft=r,n}return Xx(e,t),e.prototype.setRowNumbers=function(){var t,e;try{for(var r=X_(this.getCodewords()),n=r.next();!n.done;n=r.next()){var i=n.value;null!=i&&i.setRowNumberAsRowIndicatorColumn()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var e=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(e,t);for(var r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=-1,l=1,h=0,c=o;c<s;c++)if(null!=e[c]){var u=e[c],d=u.getRowNumber()-a;if(0===d)h++;else if(1===d)l=Math.max(l,h),h=1,a=u.getRowNumber();else if(d<0||u.getRowNumber()>=t.getRowCount()||d>c)e[c]=null;else{for(var f=void 0,p=(f=l>2?(l-2)*d:d)>=c,g=1;g<=f&&!p;g++)p=null!=e[c-g];p?e[c]=null:(a=u.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var t,e,r=this.getBarcodeMetadata();if(null==r)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);var n=new Int32Array(r.getRowCount());try{for(var i=X_(this.getCodewords()),o=i.next();!o.done;o=i.next()){var s=o.value;if(null!=s){var a=s.getRowNumber();if(a>=n.length)continue;n[a]++}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var e=this.getBoundingBox(),r=this._isLeft?e.getTopLeft():e.getTopRight(),n=this._isLeft?e.getBottomLeft():e.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.getCodewords(),a=-1,l=1,h=0,c=i;c<o;c++)if(null!=s[c]){var u=s[c];u.setRowNumberAsRowIndicatorColumn();var d=u.getRowNumber()-a;0===d?h++:1===d?(l=Math.max(l,h),h=1,a=u.getRowNumber()):u.getRowNumber()>=t.getRowCount()?s[c]=null:(a=u.getRowNumber(),h=1)}},e.prototype.getBarcodeMetadata=function(){var t,e,r=this.getCodewords(),n=new Xw,i=new Xw,o=new Xw,s=new Xw;try{for(var a=X_(r),l=a.next();!l.done;l=a.next()){var h=l.value;if(null!=h){h.setRowNumberAsRowIndicatorColumn();var c=h.getValue()%30,u=h.getRowNumber();switch(this._isLeft||(u+=2),u%3){case 0:i.setValue(3*c+1);break;case 1:s.setValue(c/3),o.setValue(c%3);break;case 2:n.setValue(c+1)}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}if(0===n.getValue().length||0===i.getValue().length||0===o.getValue().length||0===s.getValue().length||n.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Xn.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Xn.MAX_ROWS_IN_BARCODE)return null;var d=new Xg(n.getValue()[0],i.getValue()[0],o.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(r,d),d},e.prototype.removeIncorrectCodewords=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(null!=t[r]){var i=n.getValue()%30,o=n.getRowNumber();if(o>e.getRowCount()){t[r]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:3*i+1!==e.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(i/3)!==e.getErrorCorrectionLevel()||i%3!==e.getRowCountLowerPart())&&(t[r]=null);break;case 2:i+1!==e.getColumnCount()&&(t[r]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+t.prototype.toString.call(this)},e}(Xy),XS=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XC=function(){function t(t,e){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=e,this.detectionResultColumns=Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t,e=Xn.MAX_CODEWORDS_IN_BARCODE;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t)return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(t){null!=t&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(0===t)return 0;for(var e=1;e<this.barcodeColumnCount+1;e++)for(var r=this.detectionResultColumns[e].getCodewords(),n=0;n<r.length;n++)null==r[n]||r[n].hasValidRowNumber()||this.adjustRowNumbers(e,n,r);return t},t.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1]){for(var t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(null!=t[r]&&null!=e[r]&&t[r].getRowNumber()===e[r].getRowNumber())for(var n=1;n<=this.barcodeColumnCount;n++){var i=this.detectionResultColumns[n].getCodewords()[r];null==i||(i.setRowNumber(t[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[n].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(null!=r[n])for(var i=r[n].getRowNumber(),o=0,s=this.barcodeColumnCount+1;s>0&&o<this.ADJUST_ROW_NUMBER_SKIP;s--){var a=this.detectionResultColumns[s].getCodewords()[n];null!=a&&(o=t.adjustRowNumberIfValid(i,o,a),!a.hasValidRowNumber()&&e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(null!=r[n])for(var i=r[n].getRowNumber(),o=0,s=1;s<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;s++){var a=this.detectionResultColumns[s].getCodewords()[n];null!=a&&(o=t.adjustRowNumberIfValid(i,o,a),!a.hasValidRowNumber()&&e++)}return e},t.adjustRowNumberIfValid=function(t,e,r){return null==r||!r.hasValidRowNumber()&&(r.isValidRowNumber(t)?(r.setRowNumber(t),e=0):++e),e},t.prototype.adjustRowNumbers=function(e,r,n){if(null!=this.detectionResultColumns[e-1]){var i,o,s=n[r],a=this.detectionResultColumns[e-1].getCodewords(),l=a;null!=this.detectionResultColumns[e+1]&&(l=this.detectionResultColumns[e+1].getCodewords());var h=Array(14);h[2]=a[r],h[3]=l[r],r>0&&(h[0]=n[r-1],h[4]=a[r-1],h[5]=l[r-1]),r>1&&(h[8]=n[r-2],h[10]=a[r-2],h[11]=l[r-2]),r<n.length-1&&(h[1]=n[r+1],h[6]=a[r+1],h[7]=l[r+1]),r<n.length-2&&(h[9]=n[r+2],h[12]=a[r+2],h[13]=l[r+2]);try{for(var c=XS(h),u=c.next();!u.done;u=c.next()){var d=u.value;if(t.adjustRowNumber(s,d))return}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(t,e){return null!=e&&!!e.hasValidRowNumber()&&e.getBucket()===t.getBucket()&&(t.setRowNumber(e.getRowNumber()),!0)},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(t){this.boundingBox=t},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(t,e){this.detectionResultColumns[t]=e},t.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},t.prototype.toString=function(){var t=this.detectionResultColumns[0];null==t&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var e=new Xm,r=0;r<t.getCodewords().length;r++){e.format("CW %3d:",r);for(var n=0;n<this.barcodeColumnCount+2;n++){if(null==this.detectionResultColumns[n]){e.format("    |   ");continue}var i=this.detectionResultColumns[n].getCodewords()[r];if(null==i){e.format("    |   ");continue}e.format(" %3d|%3d",i.getRowNumber(),i.getValue())}e.format("%n")}return e.toString()},t}(),XA=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(t){this.rowNumber=t},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),XE=function(){function t(){}return t.initialize=function(){for(var e=0;e<Xn.SYMBOL_TABLE.length;e++)for(var r=Xn.SYMBOL_TABLE[e],n=1&r,i=0;i<Xn.BARS_IN_MODULE;i++){for(var o=0;(1&r)===n;)o+=1,r>>=1;n=1&r,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=Array(Xn.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Xn.BARS_IN_MODULE-i-1]=Math.fround(o/Xn.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return -1!==r?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(t){for(var e=zH.sum(t),r=new Int32Array(Xn.BARS_IN_MODULE),n=0,i=0,o=0;o<Xn.MODULES_IN_CODEWORD;o++){var s=e/(2*Xn.MODULES_IN_CODEWORD)+o*e/Xn.MODULES_IN_CODEWORD;i+t[n]<=s&&(i+=t[n],n++),r[n]++}return r},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return -1===Xn.getCodeword(r)?-1:r},t.getBitValue=function(t){for(var e=0,r=0;r<t.length;r++)for(var n=0;n<t[r];n++)e=e<<1|(r%2==0?1:0);return Math.trunc(e)},t.getClosestDecodedValue=function(e){var r=zH.sum(e),n=Array(Xn.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var o=zY.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var a=0;a<t.RATIOS_TABLE.length;a++){for(var l=0,h=t.RATIOS_TABLE[a],c=0;c<Xn.BARS_IN_MODULE;c++){var u=Math.fround(h[c]-n[c]);if((l+=Math.fround(u*u))>=o)break}l<o&&(o=l,s=Xn.SYMBOL_TABLE[a])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=Array(Xn.SYMBOL_TABLE.length).map(function(t){return Array(Xn.BARS_IN_MODULE)}),t}(),XT=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(t){this.segmentIndex=t},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(t){this.fileId=t},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(t){this.optionalData=t},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(t){this.lastSegment=t},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(t){this.segmentCount=t},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(t){this.sender=t},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(t){this.addressee=t},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(t){this.fileName=t},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(t){this.fileSize=t},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(t){this.checksum=t},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(t){this.timestamp=t},t}(),XP=function(){function t(){}return t.parseLong=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},t}(),XI=(tM=function(t,e){return(tM=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tM(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),XR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return XI(e,t),e.kind="NullPointerException",e}(jK),XM=function(){function t(){}return t.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},t.prototype.writeBytesOffset=function(t,e,r){if(null==t)throw new XR;if(e<0||e>t.length||r<0||e+r>t.length||e+r<0)throw new j9;if(0!==r)for(var n=0;n<r;n++)this.write(t[e+n])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),XN=(tN=function(t,e){return(tN=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tN(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),XD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return XN(e,t),e}(jK),XL=(tD=function(t,e){return(tD=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tD(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),X$=function(t){function e(e){void 0===e&&(e=32);var r=t.call(this)||this;if(r.count=0,e<0)throw new j2("Negative initial size: "+e);return r.buf=new Uint8Array(e),r}return XL(e,t),e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var e=this.buf.length<<1;if(e-t<0&&(e=t),e<0){if(t<0)throw new XD;e=zi.MAX_VALUE}this.buf=zn.copyOfUint8Array(this.buf,e)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,e,r){if(e<0||e>t.length||r<0||e+r-t.length>0)throw new j9;this.ensureCapacity(this.count+r),j8.arraycopy(t,e,this.buf,this.count,r),this.count+=r},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return zn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?"string"==typeof t?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(XM);function Xq(){if("undefined"!=typeof window)return window.BigInt||null;if(void 0!==eO)return eO.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw Error("Can't search globals for BigInt!")}function XQ(t){if(void 0===eg&&(eg=Xq()),null===eg)throw Error("BigInt is not supported!");return eg(t)}(tL=ep||(ep={}))[tL.ALPHA=0]="ALPHA",tL[tL.LOWER=1]="LOWER",tL[tL.MIXED=2]="MIXED",tL[tL.PUNCT=3]="PUNCT",tL[tL.ALPHA_SHIFT=4]="ALPHA_SHIFT",tL[tL.PUNCT_SHIFT=5]="PUNCT_SHIFT";var XB=function(){function t(){}return t.decode=function(e,r){var n=new zg(""),i=zc.ISO8859_1;n.enableDecoding(i);for(var o=1,s=e[o++],a=new XT;o<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(s,e,i,o,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,n);break;case t.ECI_CHARSET:zc.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,a);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new zl;default:o--,o=t.textCompaction(e,o,n)}if(o<e.length)s=e[o++];else throw zl.getFormatInstance()}if(0===n.length())throw zl.getFormatInstance();var l=new zL(null,n.toString(),null,r);return l.setOther(a),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw zl.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)i[o]=e[r];n.setSegmentIndex(zi.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new zg;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var a=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new zg;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new zg;r=t.textCompaction(e,r+1,h),n.setSender(h.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new zg;r=t.textCompaction(e,r+1,c),n.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var u=new zg;r=t.numericCompaction(e,r+1,u),n.setSegmentCount(zi.parseInt(u.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new zg;r=t.numericCompaction(e,r+1,d),n.setTimestamp(XP.parseLong(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var f=new zg;r=t.numericCompaction(e,r+1,f),n.setChecksum(zi.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new zg;r=t.numericCompaction(e,r+1,p),n.setFileSize(XP.parseLong(p.toString()));break;default:throw zl.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw zl.getFormatInstance()}if(-1!==a){var g=r-a;n.isLastSegment()&&g--,n.setOptionalData(zn.copyOfRange(e,a,a+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),o=new Int32Array((e[0]-r)*2),s=0,a=!1;r<e[0]&&!a;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[s]=l/30,i[s+1]=l%30,s+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],o[s]=l,s++}}return t.decodeTextCompaction(i,o,s,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var o=ep.ALPHA,s=ep.ALPHA,a=0;a<n;){var l=e[a],h="";switch(o){case ep.ALPHA:if(l<26)h=String.fromCharCode(65+l);else switch(l){case 26:h=" ";break;case t.LL:o=ep.LOWER;break;case t.ML:o=ep.MIXED;break;case t.PS:s=o,o=ep.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ep.ALPHA}break;case ep.LOWER:if(l<26)h=String.fromCharCode(97+l);else switch(l){case 26:h=" ";break;case t.AS:s=o,o=ep.ALPHA_SHIFT;break;case t.ML:o=ep.MIXED;break;case t.PS:s=o,o=ep.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ep.ALPHA}break;case ep.MIXED:if(l<t.PL)h=t.MIXED_CHARS[l];else switch(l){case t.PL:o=ep.PUNCT;break;case 26:h=" ";break;case t.LL:o=ep.LOWER;break;case t.AL:o=ep.ALPHA;break;case t.PS:s=o,o=ep.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ep.ALPHA}break;case ep.PUNCT:if(l<t.PAL)h=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=ep.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ep.ALPHA}break;case ep.ALPHA_SHIFT:if(o=s,l<26)h=String.fromCharCode(65+l);else switch(l){case 26:h=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=ep.ALPHA}break;case ep.PUNCT_SHIFT:if(o=s,l<t.PAL)h=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=ep.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ep.ALPHA}}""!==h&&i.append(h),a++}},t.byteCompaction=function(e,r,n,i,o){var s=new X$,a=0,l=0,h=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),u=r[i++];i<r[0]&&!h;)switch(c[a++]=u,l=900*l+u,u=r[i++]){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(a%5==0&&a>0){for(var d=0;d<6;++d)s.write(Number(XQ(l)>>XQ(8*(5-d))));l=0,a=0}}i===r[0]&&u<t.TEXT_COMPACTION_MODE_LATCH&&(c[a++]=u);for(var f=0;f<a;f++)s.write(c[f]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!h;){var p=r[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)a++,l=900*l+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,h=!0}if(a%5==0&&a>0){for(var d=0;d<6;++d)s.write(Number(XQ(l)>>XQ(8*(5-d))));l=0,a=0}}}return o.append(zf.decode(s.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,o=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!o;){var a=e[r++];if(r===e[0]&&(o=!0),a<t.TEXT_COMPACTION_MODE_LATCH)s[i]=a,i++;else switch(a){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0}(i%t.MAX_NUMERIC_CODEWORDS==0||a===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(t.decodeBase900toBase10(s,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=XQ(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*XQ(e[i]);var o=n.toString();if("1"!==o.charAt(0))throw new zl;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=";<>@[\\]_`~!\r	,:\n-.$/\"|*()?{}'",t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=Xq()?function(){var t=[];t[0]=XQ(1);var e=XQ(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Xj=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xz=function(){function t(){}return t.decode=function(e,r,n,i,o,s,a){for(var l,h=new Xp(e,r,n,i,o),c=null,u=null,d=!0;;d=!1){if(null!=r&&(c=t.getRowIndicatorColumn(e,h,r,!0,s,a)),null!=i&&(u=t.getRowIndicatorColumn(e,h,i,!1,s,a)),null==(l=t.merge(c,u)))throw zy.getNotFoundInstance();var f=l.getBoundingBox();if(d&&null!=f&&(f.getMinY()<h.getMinY()||f.getMaxY()>h.getMaxY()))h=f;else break}l.setBoundingBox(h);var p=l.getBarcodeColumnCount()+1;l.setDetectionResultColumn(0,c),l.setDetectionResultColumn(p,u);for(var g=null!=c,m=1;m<=p;m++){var v=g?m:p-m;if(void 0===l.getDetectionResultColumn(v)){var y=void 0;y=0===v||v===p?new Xk(h,0===v):new Xy(h),l.setDetectionResultColumn(v,y);for(var b=-1,O=-1,w=h.getMinY();w<=h.getMaxY();w++){if((b=t.getStartColumn(l,v,w,g))<0||b>h.getMaxX()){if(-1===O)continue;b=O}var x=t.detectCodeword(e,h.getMinX(),h.getMaxX(),g,b,w,s,a);null!=x&&(y.setCodeword(w,x),O=b,s=Math.min(s,x.getWidth()),a=Math.max(a,x.getWidth()))}}}return t.createDecoderResult(l)},t.merge=function(e,r){if(null==e&&null==r)return null;var n=t.getBarcodeMetadata(e,r);return null==n?null:new XC(n,Xp.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r)))},t.adjustBoundingBox=function(e){if(null==e)return null;var r,n,i=e.getRowHeights();if(null==i)return null;var o=t.getMax(i),s=0;try{for(var a=Xj(i),l=a.next();!l.done;l=a.next()){var h=l.value;if(s+=o-h,h>0)break}}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}for(var c=e.getCodewords(),u=0;s>0&&null==c[u];u++)s--;for(var d=0,u=i.length-1;u>=0&&(d+=o-i[u],!(i[u]>0));u--);for(var u=c.length-1;d>0&&null==c[u];u--)d--;return e.getBoundingBox().addMissingRows(s,d,e.isLeft())},t.getMax=function(t){var e,r,n=-1;try{for(var i=Xj(t),o=i.next();!o.done;o=i.next()){var s=o.value;n=Math.max(n,s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.getBarcodeMetadata=function(t,e){var r,n;return null==t||null==(r=t.getBarcodeMetadata())?null==e?null:e.getBarcodeMetadata():null==e||null==(n=e.getBarcodeMetadata())?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,r,n,i,o,s){for(var a=new Xk(r,i),l=0;l<2;l++)for(var h=0===l?1:-1,c=Math.trunc(Math.trunc(n.getX())),u=Math.trunc(Math.trunc(n.getY()));u<=r.getMaxY()&&u>=r.getMinY();u+=h){var d=t.detectCodeword(e,0,e.getWidth(),i,c,u,o,s);null!=d&&(a.setCodeword(u,d),c=i?d.getStartX():d.getEndX())}return a},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===i.length){if(o<1||o>Xn.MAX_CODEWORDS_IN_BARCODE)throw zy.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=[],i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],s=[],a=0;a<e.getBarcodeRowCount();a++)for(var l=0;l<e.getBarcodeColumnCount();l++){var h=r[a][l+1].getValue(),c=a*e.getBarcodeColumnCount()+l;0===h.length?n.push(c):1===h.length?i[c]=h[0]:(s.push(c),o.push(h))}for(var u=Array(o.length),d=0;d<u.length;d++)u[d]=o[d];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Xn.toIntArray(n),Xn.toIntArray(s),u)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,o){for(var s=new Int32Array(i.length),a=100;a-- >0;){for(var l=0;l<s.length;l++)r[i[l]]=o[l][s[l]];try{return t.decodeCodewords(r,e,n)}catch(t){if(!(t instanceof j5))throw t}if(0===s.length)break;for(var l=0;l<s.length;l++)if(s[l]<o[l].length-1){s[l]++;break}else if(s[l]=0,l===s.length-1)throw j5.getChecksumInstance()}throw j5.getChecksumInstance()},t.createBarcodeMatrix=function(t){for(var e,r,n,i,o=Array.from({length:t.getBarcodeRowCount()},function(){return Array(t.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var a=0;a<o[s].length;a++)o[s][a]=new Xw;var l=0;try{for(var h=Xj(t.getDetectionResultColumns()),c=h.next();!c.done;c=h.next()){var u=c.value;if(null!=u)try{for(var d=(n=void 0,Xj(u.getCodewords())),f=d.next();!f.done;f=d.next()){var p=f.value;if(null!=p){var g=p.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][l].setValue(p.getValue())}}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}l++}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}return o},t.isValidBarcodeColumn=function(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var o,s,a=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-a)&&(l=e.getDetectionResultColumn(r-a).getCodeword(n)),null!=l)return i?l.getEndX():l.getStartX();if(null!=(l=e.getDetectionResultColumn(r).getCodewordNearby(n)))return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-a)&&(l=e.getDetectionResultColumn(r-a).getCodewordNearby(n)),null!=l)return i?l.getEndX():l.getStartX();for(var h=0;t.isValidBarcodeColumn(e,r-a);){r-=a;try{for(var c=(o=void 0,Xj(e.getDetectionResultColumn(r).getCodewords())),u=c.next();!u.done;u=c.next()){var d=u.value;if(null!=d)return(i?d.getEndX():d.getStartX())+a*h*(d.getEndX()-d.getStartX())}}catch(t){o={error:t}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,o,s,a,l){o=t.adjustCodewordStartColumn(e,r,n,i,o,s);var h,c=t.getModuleBitCount(e,r,n,i,o,s);if(null==c)return null;var u=zH.sum(c);if(i)h=o+u;else{for(var d=0;d<c.length/2;d++){var f=c[d];c[d]=c[c.length-1-d],c[c.length-1-d]=f}o=(h=o)-u}if(!t.checkCodewordSkew(u,a,l))return null;var p=XE.getDecodedValue(c),g=Xn.getCodeword(p);return -1===g?null:new XA(o,h,t.getCodewordBucketNumber(p),g)},t.getModuleBitCount=function(t,e,r,n,i,o){for(var s=i,a=new Int32Array(8),l=0,h=n?1:-1,c=n;(n?s<r:s>=e)&&l<a.length;)t.get(s,o)===c?(a[l]++,s+=h):(l++,c=!c);return l===a.length||s===(n?r:e)&&l===a.length-1?a:null},t.getNumberOfECCodeWords=function(t){return 2<<t},t.adjustCodewordStartColumn=function(e,r,n,i,o,s){for(var a=o,l=i?-1:1,h=0;h<2;h++){for(;(i?a>=r:a<n)&&i===e.get(a,s);){if(Math.abs(o-a)>t.CODEWORD_SKEW_SIZE)return o;a+=l}l=-l,i=!i}return a},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(0===e.length)throw zl.getFormatInstance();var i=1<<r+1,o=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var s=XB.decode(e,""+r);return s.setErrorsCorrected(o),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(null!=r&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw j5.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(t,e){if(t.length<4)throw zl.getFormatInstance();var r=t[0];if(r>t.length)throw zl.getFormatInstance();if(0===r){if(e<t.length)t[0]=t.length-e;else throw zl.getFormatInstance()}},t.getBitCountForCodeword=function(t){for(var e=new Int32Array(8),r=0,n=e.length-1;!((1&t)!==r&&(r=1&t,--n<0));)e[n]++,t>>=1;return e},t.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},t.toString=function(t){for(var e=new Xm,r=0;r<t.length;r++){e.format("Row %2d: ",r);for(var n=0;n<t[r].length;n++){var i=t[r][n];0===i.getValue().length?e.format("        ",null):e.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}e.format("%n")}return e.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Xf,t}(),XZ=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XF=function(){function t(){}return t.prototype.decode=function(e,r){void 0===r&&(r=null);var n=t.decode(e,r,!1);if(null==n||0===n.length||null==n[0])throw zy.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){void 0===r&&(r=null);try{return t.decode(e,r,!0)}catch(t){if(t instanceof zl||t instanceof j5)throw zy.getNotFoundInstance();throw t}},t.decode=function(e,r,n){var i,o,s=[],a=Xs.detectMultiple(e,r,n);try{for(var l=XZ(a.getPoints()),h=l.next();!h.done;h=l.next()){var c=h.value,u=Xz.decode(a.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),d=new zM(u.getText(),u.getRawBytes(),void 0,c,zN.PDF_417);d.putMetadata(zD.ERROR_CORRECTION_LEVEL,u.getECLevel());var f=u.getOther();null!=f&&d.putMetadata(zD.PDF417_EXTRA_METADATA,f),s.push(d)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s.map(function(t){return t})},t.getMaxWidth=function(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMinWidth=function(t,e){return null==t||null==e?zi.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Xn.MODULES_IN_CODEWORD/Xn.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Xn.MODULES_IN_CODEWORD/Xn.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Xn.MODULES_IN_CODEWORD/Xn.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Xn.MODULES_IN_CODEWORD/Xn.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),XX=(t$=function(t,e){return(t$=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}t$(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),XV=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return XX(e,t),e.kind="ReaderException",e}(jK),XU=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XW=function(){function t(){}return t.prototype.decode=function(t,e){return this.setHints(e),this.decodeInternal(t)},t.prototype.decodeWithState=function(t){return(null===this.readers||void 0===this.readers)&&this.setHints(null),this.decodeInternal(t)},t.prototype.setHints=function(t){this.hints=t;var e=null!=t&&void 0!==t.get(zs.TRY_HARDER),r=null==t?null:t.get(zs.POSSIBLE_FORMATS),n=[];if(null!=r){var i=r.some(function(t){return t===zN.UPC_A||t===zN.UPC_E||t===zN.EAN_13||t===zN.EAN_8||t===zN.CODABAR||t===zN.CODE_39||t===zN.CODE_93||t===zN.CODE_128||t===zN.ITF||t===zN.RSS_14||t===zN.RSS_EXPANDED});i&&!e&&n.push(new Fk(t)),r.includes(zN.QR_CODE)&&n.push(new Xe),r.includes(zN.DATA_MATRIX)&&n.push(new F$),r.includes(zN.AZTEC)&&n.push(new z9),r.includes(zN.PDF_417)&&n.push(new XF),i&&e&&n.push(new Fk(t))}0===n.length&&(e||n.push(new Fk(t)),n.push(new Xe),n.push(new F$),n.push(new z9),n.push(new XF),e&&n.push(new Fk(t))),this.readers=n},t.prototype.reset=function(){var t,e;if(null!==this.readers)try{for(var r=XU(this.readers),n=r.next();!n.done;n=r.next())n.value.reset()}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.decodeInternal=function(t){var e,r;if(null===this.readers)throw new XV("No readers where selected, nothing can be read.");try{for(var n=XU(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;try{return o.decode(t,this.hints)}catch(t){if(t instanceof XV)continue}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}throw new zy("No MultiFormat Readers were able to detect the code.")},t}(),XH=(tq=function(t,e){return(tq=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tq(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});!function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=500);var n=new XW;return n.setHints(e),t.call(this,n,r)||this}XH(e,t),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)}}(zR),(tQ=function(t,e){return(tQ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tQ(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t){return void 0===t&&(t=500),tB.call(this,new XF,t)||this},tB=zR),(tj=function(t,e){return(tj=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tj(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t){return void 0===t&&(t=500),tz.call(this,new Xe,t)||this},tz=zR),(tZ=em||(em={}))[tZ.ERROR_CORRECTION=0]="ERROR_CORRECTION",tZ[tZ.CHARACTER_SET=1]="CHARACTER_SET",tZ[tZ.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",tZ[tZ.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",tZ[tZ.MIN_SIZE=4]="MIN_SIZE",tZ[tZ.MAX_SIZE=5]="MAX_SIZE",tZ[tZ.MARGIN=6]="MARGIN",tZ[tZ.PDF417_COMPACT=7]="PDF417_COMPACT",tZ[tZ.PDF417_COMPACTION=8]="PDF417_COMPACTION",tZ[tZ.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",tZ[tZ.AZTEC_LAYERS=10]="AZTEC_LAYERS",tZ[tZ.QR_VERSION=11]="QR_VERSION",tZ[tZ.GS1_FORMAT=12]="GS1_FORMAT",tZ[tZ.FORCE_C40=13]="FORCE_C40";var XY=em,XG=function(){function t(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new zq(t,Int32Array.from([1])))}return t.prototype.buildGenerator=function(t){var e=this.cachedGenerators;if(t>=e.length)for(var r=e[e.length-1],n=this.field,i=e.length;i<=t;i++){var o=r.multiply(new zq(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));e.push(o),r=o}return e[t]},t.prototype.encode=function(t,e){if(0===e)throw new j2("No error correction bytes");var r=t.length-e;if(r<=0)throw new j2("No data bytes provided");var n=this.buildGenerator(e),i=new Int32Array(r);j8.arraycopy(t,0,i,0,r);for(var o=new zq(this.field,i),s=(o=o.multiplyByMonomial(e,1)).divide(n)[1].getCoefficients(),a=e-s.length,l=0;l<a;l++)t[r+l]=0;j8.arraycopy(s,0,t,r+a,s.length)},t}(),XK=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o-1;s++)for(var a=n[s],l=0;l<i-1;l++){var h=a[l];h===a[l+1]&&h===n[s+1][l]&&h===n[s+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=0;a<i;a++){var l=n[s];a+6<i&&1===l[a]&&0===l[a+1]&&1===l[a+2]&&1===l[a+3]&&1===l[a+4]&&0===l[a+5]&&1===l[a+6]&&(t.isWhiteHorizontal(l,a-4,a)||t.isWhiteHorizontal(l,a+7,a+11))&&r++,s+6<o&&1===n[s][a]&&0===n[s+1][a]&&1===n[s+2][a]&&1===n[s+3][a]&&1===n[s+4][a]&&0===n[s+5][a]&&1===n[s+6][a]&&(t.isWhiteVertical(n,a,s-4,s)||t.isWhiteVertical(n,a,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(t,e,r){e=Math.max(e,0),r=Math.min(r,t.length);for(var n=e;n<r;n++)if(1===t[n])return!1;return!0},t.isWhiteVertical=function(t,e,r,n){r=Math.max(r,0),n=Math.min(n,t.length);for(var i=r;i<n;i++)if(1===t[i][e])return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=n[s],l=0;l<i;l++)1===a[l]&&r++;var h=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*r-h)/h)*t.N4},t.getDataMaskBit=function(t,e,r){var n,i;switch(t){case 0:n=r+e&1;break;case 1:n=1&r;break;case 2:n=e%3;break;case 3:n=(r+e)%3;break;case 4:n=Math.floor(r/2)+Math.floor(e/3)&1;break;case 5:n=(1&(i=r*e))+i%3;break;case 6:n=(1&(i=r*e))+i%3&1;break;case 7:n=(i=r*e)%3+(r+e&1)&1;break;default:throw new j2("Invalid mask pattern: "+t)}return 0===n},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),o=r?e.getWidth():e.getHeight(),s=e.getArray(),a=0;a<i;a++){for(var l=0,h=-1,c=0;c<o;c++){var u=r?s[a][c]:s[c][a];u===h?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,h=u)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),XJ=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X0=function(){function t(t,e){this.width=t,this.height=e;for(var r=Array(e),n=0;n!==e;n++)r[n]=new Uint8Array(t);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(t,e){return this.bytes[e][t]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(t,e,r){this.bytes[e][t]=r},t.prototype.setBoolean=function(t,e,r){this.bytes[e][t]=r?1:0},t.prototype.clear=function(t){var e,r;try{for(var n=XJ(this.bytes),i=n.next();!i.done;i=n.next()){var o=i.value;zn.fill(o,t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.equals=function(e){if(!(e instanceof t)||this.width!==e.width||this.height!==e.height)return!1;for(var r=0,n=this.height;r<n;++r)for(var i=this.bytes[r],o=e.bytes[r],s=0,a=this.width;s<a;++s)if(i[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var t=new zg,e=0,r=this.height;e<r;++e){for(var n=this.bytes[e],i=0,o=this.width;i<o;++i)switch(n[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ")}t.append("\n")}return t.toString()},t}(),X1=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var t=new zg;return t.append("<<\n"),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append("\n ecLevel: "),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append("\n version: "),t.append(this.version?this.version.toString():"null"),t.append("\n maskPattern: "),t.append(this.maskPattern.toString()),this.matrix?(t.append("\n matrix:\n"),t.append(this.matrix.toString())):t.append("\n matrix: null\n"),t.append(">>\n"),t.toString()},t.prototype.setMode=function(t){this.mode=t},t.prototype.setECLevel=function(t){this.ecLevel=t},t.prototype.setVersion=function(t){this.version=t},t.prototype.setMaskPattern=function(t){this.maskPattern=t},t.prototype.setMatrix=function(t){this.matrix=t},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),X2=(tF=function(t,e){return(tF=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tF(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),X3=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return X2(e,t),e.kind="WriterException",e}(jK),X4=function(){function t(){}return t.clearMatrix=function(t){t.clear(255)},t.buildMatrix=function(e,r,n,i,o){t.clearMatrix(o),t.embedBasicPatterns(n,o),t.embedTypeInfo(r,i,o),t.maybeEmbedVersionInfo(n,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new zo;t.makeTypeInfoBits(e,r,i);for(var o=0,s=i.getSize();o<s;++o){var a=i.get(i.getSize()-1-o),l=t.TYPE_INFO_COORDINATES[o],h=l[0],c=l[1];if(n.setBoolean(h,c,a),o<8){var u=n.getWidth()-o-1,d=8;n.setBoolean(u,d,a)}else{var u=8,d=n.getHeight()-7+(o-8);n.setBoolean(u,d,a)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(7>e.getVersionNumber())){var n=new zo;t.makeVersionInfoBits(e,n);for(var i=17,o=0;o<6;++o)for(var s=0;s<3;++s){var a=n.get(i);i--,r.setBoolean(o,r.getHeight()-11+s,a),r.setBoolean(r.getHeight()-11+s,o,a)}}},t.embedDataBits=function(e,r,n){for(var i=0,o=-1,s=n.getWidth()-1,a=n.getHeight()-1;s>0;){for(6===s&&(s-=1);a>=0&&a<n.getHeight();){for(var l=0;l<2;++l){var h=s-l;if(t.isEmpty(n.get(h,a))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,255!==r&&XK.getDataMaskBit(r,h,a)&&(c=!c),n.setBoolean(h,a,c)}}a+=o}a+=o=-o,s-=2}if(i!==e.getSize())throw new X3("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(t){return 32-zi.numberOfLeadingZeros(t)},t.calculateBCHCode=function(e,r){if(0===r)throw new j2("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!X1.isValidMaskPattern(r))throw new X3("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(o,10);var s=new zo;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),15!==n.getSize())throw new X3("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),18!==r.getSize())throw new X3("should not happen but we got: "+r.getSize())},t.isEmpty=function(t){return 255===t},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(t){if(0===t.get(8,t.getHeight()-8))throw new X3;t.setNumber(8,t.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new X3;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new X3;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)n.setNumber(e+s,r+i,o[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)n.setNumber(e+s,r+i,o[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e),t.embedHorizontalSeparationPattern(0,7,e),t.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),t.embedVerticalSeparationPattern(7,0,e),t.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),t.embedVerticalSeparationPattern(7,e.getHeight()-7,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(2>e.getVersionNumber()))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,s=i.length;o!==s;o++){var a=i[o];if(a>=0)for(var l=0;l!==s;l++){var h=i[l];h>=0&&t.isEmpty(r.get(h,a))&&t.embedPositionAdjustmentPattern(h-2,a-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),X5=function(){function t(t,e){this.dataBytes=t,this.errorCorrectionBytes=e}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),X6=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X8=function(){function t(){}return t.calculateMaskPenalty=function(t){return XK.applyMaskPenaltyRule1(t)+XK.applyMaskPenaltyRule2(t)+XK.applyMaskPenaltyRule3(t)+XK.applyMaskPenaltyRule4(t)},t.encode=function(e,r,n){void 0===n&&(n=null);var i,o=t.DEFAULT_BYTE_MODE_ENCODING,s=null!==n&&void 0!==n.get(XY.CHARACTER_SET);s&&(o=n.get(XY.CHARACTER_SET).toString());var a=this.chooseMode(e,o),l=new zo;if(a===FY.BYTE&&(s||t.DEFAULT_BYTE_MODE_ENCODING!==o)){var h=zc.getCharacterSetECIByName(o);void 0!==h&&this.appendECI(h,l)}this.appendModeInfo(a,l);var c=new zo;if(this.appendBytes(e,a,c,o),null!==n&&void 0!==n.get(XY.QR_VERSION)){var u=Number.parseInt(n.get(XY.QR_VERSION).toString(),10);i=FX.getVersionForNumber(u);var d=this.calculateBitsNeeded(a,l,c,i);if(!this.willFit(d,i,r))throw new X3("Data too big for requested version")}else i=this.recommendVersion(r,a,l,c);var f=new zo;f.appendBitArray(l);var p=a===FY.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(p,i,a,f),f.appendBitArray(c);var g=i.getECBlocksForLevel(r),m=i.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(m,f);var v=this.interleaveWithECBytes(f,i.getTotalCodewords(),m,g.getNumBlocks()),y=new X1;y.setECLevel(r),y.setMode(a),y.setVersion(i);var b=i.getDimensionForVersion(),O=new X0(b,b),w=this.chooseMaskPattern(v,r,i,O);return y.setMaskPattern(w),X4.buildMatrix(v,r,i,w,O),y.setMatrix(O),y},t.recommendVersion=function(t,e,r,n){var i=this.calculateBitsNeeded(e,r,n,FX.getVersionForNumber(1)),o=this.chooseVersion(i,t),s=this.calculateBitsNeeded(e,r,n,o);return this.chooseVersion(s,t)},t.calculateBitsNeeded=function(t,e,r,n){return e.getSize()+t.getCharacterCountBits(n)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(void 0===r&&(r=null),zc.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return FY.KANJI;for(var n=!1,i=!1,o=0,s=e.length;o<s;++o){var a=e.charAt(o);if(t.isDigit(a))n=!0;else{if(-1===this.getAlphanumericCode(a.charCodeAt(0)))return FY.BYTE;i=!0}}return i?FY.ALPHANUMERIC:n?FY.NUMERIC:FY.BYTE},t.isOnlyDoubleByteKanji=function(t){try{e=zf.encode(t,zc.SJIS)}catch(t){return!1}var e,r=e.length;if(r%2!=0)return!1;for(var n=0;n<r;n+=2){var i=255&e[n];if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(t,e,r,n){for(var i=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<X1.NUM_MASK_PATTERNS;s++){X4.buildMatrix(t,e,r,s,n);var a=this.calculateMaskPenalty(n);a<i&&(i=a,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=FX.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new X3("Data too big")},t.willFit=function(t,e,r){return e.getTotalCodewords()-e.getECBlocksForLevel(r).getTotalECCodewords()>=(t+7)/8},t.terminateBits=function(t,e){var r=8*t;if(e.getSize()>r)throw new X3("data bits cannot fit in the QR Code"+e.getSize()+" > "+r);for(var n=0;n<4&&e.getSize()<r;++n)e.appendBit(!1);var i=7&e.getSize();if(i>0)for(var n=i;n<8;n++)e.appendBit(!1);for(var o=t-e.getSizeInBytes(),n=0;n<o;++n)e.appendBits((1&n)==0?236:17,8);if(e.getSize()!==r)throw new X3("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(t,e,r,n,i,o){if(n>=r)throw new X3("Block ID too large");var s=t%r,a=r-s,l=Math.floor(t/r),h=Math.floor(e/r),c=h+1,u=l-h,d=l+1-c;if(u!==d)throw new X3("EC bytes mismatch");if(r!==a+s)throw new X3("RS blocks mismatch");if(t!==(h+u)*a+(c+d)*s)throw new X3("Total bytes mismatch");n<a?(i[0]=h,o[0]=u):(i[0]=c,o[0]=d)},t.interleaveWithECBytes=function(e,r,n,i){if(e.getSizeInBytes()!==n)throw new X3("Number of bits and data bytes does not match");for(var o,s,a,l,h=0,c=0,u=0,d=[],f=0;f<i;++f){var p=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,f,p,g);var m=p[0],v=new Uint8Array(m);e.toBytes(8*h,v,0,m);var y=t.generateECBytes(v,g[0]);d.push(new X5(v,y)),c=Math.max(c,m),u=Math.max(u,y.length),h+=p[0]}if(n!==h)throw new X3("Data bytes does not match offset");for(var b=new zo,f=0;f<c;++f)try{for(var O=(o=void 0,X6(d)),w=O.next();!w.done;w=O.next()){var x=w.value,v=x.getDataBytes();f<v.length&&b.appendBits(v[f],8)}}catch(t){o={error:t}}finally{try{w&&!w.done&&(s=O.return)&&s.call(O)}finally{if(o)throw o.error}}for(var f=0;f<u;++f)try{for(var k=(a=void 0,X6(d)),S=k.next();!S.done;S=k.next()){var x=S.value,y=x.getErrorCorrectionBytes();f<y.length&&b.appendBits(y[f],8)}}catch(t){a={error:t}}finally{try{S&&!S.done&&(l=k.return)&&l.call(k)}finally{if(a)throw a.error}}if(r!==b.getSizeInBytes())throw new X3("Interleaving error: "+r+" and "+b.getSizeInBytes()+" differ.");return b},t.generateECBytes=function(t,e){for(var r=t.length,n=new Int32Array(r+e),i=0;i<r;i++)n[i]=255&t[i];new XG(zz.QR_CODE_FIELD_256).encode(n,e);for(var o=new Uint8Array(e),i=0;i<e;i++)o[i]=n[r+i];return o},t.appendModeInfo=function(t,e){e.appendBits(t.getBits(),4)},t.appendLengthInfo=function(t,e,r,n){var i=r.getCharacterCountBits(e);if(t>=1<<i)throw new X3(t+" is bigger than "+((1<<i)-1));n.appendBits(t,i)},t.appendBytes=function(e,r,n,i){switch(r){case FY.NUMERIC:t.appendNumericBytes(e,n);break;case FY.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case FY.BYTE:t.append8BitBytes(e,n,i);break;case FY.KANJI:t.appendKanjiBytes(e,n);break;default:throw new X3("Invalid mode: "+r)}},t.getDigit=function(t){return t.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getDigit(e.charAt(i));if(i+2<n){var s=t.getDigit(e.charAt(i+1)),a=t.getDigit(e.charAt(i+2));r.appendBits(100*o+10*s+a,10),i+=3}else if(i+1<n){var s=t.getDigit(e.charAt(i+1));r.appendBits(10*o+s,7),i+=2}else r.appendBits(o,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(-1===o)throw new X3;if(i+1<n){var s=t.getAlphanumericCode(e.charCodeAt(i+1));if(-1===s)throw new X3;r.appendBits(45*o+s,11),i+=2}else r.appendBits(o,6),i++}},t.append8BitBytes=function(t,e,r){var n;try{n=zf.encode(t,r)}catch(t){throw new X3(t)}for(var i=0,o=n.length;i!==o;i++){var s=n[i];e.appendBits(s,8)}},t.appendKanjiBytes=function(t,e){try{r=zf.encode(t,zc.SJIS)}catch(t){throw new X3(t)}for(var r,n=r.length,i=0;i<n;i+=2){var o=(255&r[i])<<8&0xffffffff|255&r[i+1],s=-1;if(o>=33088&&o<=40956?s=o-33088:o>=57408&&o<=60351&&(s=o-49472),-1===s)throw new X3("Invalid byte sequence");var a=(s>>8)*192+(255&s);e.appendBits(a,13)}},t.appendECI=function(t,e){e.appendBits(FY.ECI.getBits(),4),e.appendBits(t.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=zc.UTF8.getName(),t}();!function(){function t(){}t.prototype.write=function(e,r,n,i){if(void 0===i&&(i=null),0===e.length)throw new j2("Found empty contents");if(r<0||n<0)throw new j2("Requested dimensions are too small: "+r+"x"+n);var o=Fq.L,s=t.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(XY.ERROR_CORRECTION)&&(o=Fq.fromString(i.get(XY.ERROR_CORRECTION).toString())),void 0!==i.get(XY.MARGIN)&&(s=Number.parseInt(i.get(XY.MARGIN).toString(),10)));var a=X8.encode(e,o,i);return this.renderResult(a,r,n,s)},t.prototype.writeToDom=function(t,e,r,n,i){void 0===i&&(i=null),"string"==typeof t&&(t=document.querySelector(t));var o=this.write(e,r,n,i);t&&t.appendChild(o)},t.prototype.renderResult=function(t,e,r,n){var i=t.getMatrix();if(null===i)throw new zV;for(var o=i.getWidth(),s=i.getHeight(),a=o+2*n,l=s+2*n,h=Math.max(e,a),c=Math.max(r,l),u=Math.min(Math.floor(h/a),Math.floor(c/l)),d=Math.floor((h-o*u)/2),f=Math.floor((c-s*u)/2),p=this.createSVGElement(h,c),g=0,m=f;g<s;g++,m+=u)for(var v=0,y=d;v<o;v++,y+=u)if(1===i.get(v,g)){var b=this.createSvgRectElement(y,m,u,u);p.appendChild(b)}return p},t.prototype.createSVGElement=function(e,r){var n=document.createElementNS(t.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",r.toString()),n},t.prototype.createSvgRectElement=function(e,r,n,i){var o=document.createElementNS(t.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o},t.QUIET_ZONE_SIZE=4,t.SVG_NS="http://www.w3.org/2000/svg"}();var X7=function(){function t(){}return t.prototype.encode=function(e,r,n,i,o){if(0===e.length)throw new j2("Found empty contents");if(r!==zN.QR_CODE)throw new j2("Can only encode QR_CODE, but got "+r);if(n<0||i<0)throw new j2("Requested dimensions are too small: "+n+"x"+i);var s=Fq.L,a=t.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(XY.ERROR_CORRECTION)&&(s=Fq.fromString(o.get(XY.ERROR_CORRECTION).toString())),void 0!==o.get(XY.MARGIN)&&(a=Number.parseInt(o.get(XY.MARGIN).toString(),10)));var l=X8.encode(e,s,o);return t.renderResult(l,n,i,a)},t.renderResult=function(t,e,r,n){var i=t.getMatrix();if(null===i)throw new zV;for(var o=i.getWidth(),s=i.getHeight(),a=o+2*n,l=s+2*n,h=Math.max(e,a),c=Math.max(r,l),u=Math.min(Math.floor(h/a),Math.floor(c/l)),d=Math.floor((h-o*u)/2),f=Math.floor((c-s*u)/2),p=new zm(h,c),g=0,m=f;g<s;g++,m+=u)for(var v=0,y=d;v<o;v++,y+=u)1===i.get(v,g)&&p.setRegion(y,m,u,u);return p},t.QUIET_ZONE_SIZE=4,t}();(function(){}).prototype.encode=function(t,e,r,n,i){var o;if(e===zN.QR_CODE)o=new X7;else throw new j2("No encoder available for format "+e);return o.encode(t,e,r,n,i)};var X9=(tX=function(t,e){return(tX=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tX(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});!function(t){function e(e,r,n,i,o,s,a,l){var h=t.call(this,s,a)||this;if(h.yuvData=e,h.dataWidth=r,h.dataHeight=n,h.left=i,h.top=o,i+s>r||o+a>n)throw new j2("Crop rectangle does not fit within image data.");return l&&h.reverseHorizontal(s,a),h}X9(e,t),e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new j2("Requested row is outside the image: "+t);var r=this.getWidth();(null==e||e.length<r)&&(e=new Uint8ClampedArray(r));var n=(t+this.top)*this.dataWidth+this.left;return j8.arraycopy(this.yuvData,n,e,0,r),e},e.prototype.getMatrix=function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.yuvData;var r=t*e,n=new Uint8ClampedArray(r),i=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return j8.arraycopy(this.yuvData,i,n,0,r),n;for(var o=0;o<e;o++){var s=o*t;j8.arraycopy(this.yuvData,i,n,s,t),i+=this.dataWidth}return n},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,n,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,n,i,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(t*r),i=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<r;s++){for(var a=s*t,l=0;l<t;l++){var h=255&i[o+l*e.THUMBNAIL_SCALE_FACTOR];n[a+l]=0xff000000|65793*h}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return n},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,e){for(var r=this.yuvData,n=0,i=this.top*this.dataWidth+this.left;n<e;n++,i+=this.dataWidth)for(var o=i+t/2,s=i,a=i+t-1;s<o;s++,a--){var l=r[s];r[s]=r[a],r[a]=l}},e.prototype.invert=function(){return new zS(this)},e.THUMBNAIL_SCALE_FACTOR=2}(z_);var Vt=(tV=function(t,e){return(tV=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tV(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});!function(t){function e(e,r,n,i,o,s,a){var l=t.call(this,r,n)||this;if(l.dataWidth=i,l.dataHeight=o,l.left=s,l.top=a,4===e.BYTES_PER_ELEMENT){for(var h=r*n,c=new Uint8ClampedArray(h),u=0;u<h;u++){var d=e[u],f=d>>16&255,p=d>>7&510,g=255&d;c[u]=(f+p+g)/4&255}l.luminances=c}else l.luminances=e;if(void 0===i&&(l.dataWidth=r),void 0===o&&(l.dataHeight=n),void 0===s&&(l.left=0),void 0===a&&(l.top=0),l.left+r>l.dataWidth||l.top+n>l.dataHeight)throw new j2("Crop rectangle does not fit within image data.");return l}Vt(e,t),e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new j2("Requested row is outside the image: "+t);var r=this.getWidth();(null==e||e.length<r)&&(e=new Uint8ClampedArray(r));var n=(t+this.top)*this.dataWidth+this.left;return j8.arraycopy(this.luminances,n,e,0,r),e},e.prototype.getMatrix=function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.luminances;var r=t*e,n=new Uint8ClampedArray(r),i=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return j8.arraycopy(this.luminances,i,n,0,r),n;for(var o=0;o<e;o++){var s=o*t;j8.arraycopy(this.luminances,i,n,s,t),i+=this.dataWidth}return n},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,n,i){return new e(this.luminances,n,i,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new zS(this)}}(z_);var Ve=(tU=function(t,e){return(tU=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tU(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ve(e,t),e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(zc),Vn=function(){function t(){}return t.ISO_8859_1=zc.ISO8859_1,t}(),Vi=function(){function t(t,e,r){this.codewords=t,this.numcols=e,this.numrows=r,this.bits=new Uint8Array(e*r),zn.fill(this.bits,2)}return t.prototype.getNumrows=function(){return this.numrows},t.prototype.getNumcols=function(){return this.numcols},t.prototype.getBits=function(){return this.bits},t.prototype.getBit=function(t,e){return 1===this.bits[e*this.numcols+t]},t.prototype.setBit=function(t,e,r){this.bits[e*this.numcols+t]=r?1:0},t.prototype.noBit=function(t,e){return 2===this.bits[e*this.numcols+t]},t.prototype.place=function(){var t=0,e=4,r=0;do{e===this.numrows&&0===r&&this.corner1(t++),e===this.numrows-2&&0===r&&this.numcols%4!=0&&this.corner2(t++),e===this.numrows-2&&0===r&&this.numcols%8==4&&this.corner3(t++),e===this.numrows+4&&2===r&&this.numcols%8==0&&this.corner4(t++);do e<this.numrows&&r>=0&&this.noBit(r,e)&&this.utah(e,r,t++),e-=2,r+=2;while(e>=0&&r<this.numcols)e++,r+=3;do e>=0&&r<this.numcols&&this.noBit(r,e)&&this.utah(e,r,t++),e+=2,r-=2;while(e<this.numrows&&r>=0)e+=3,r++}while(e<this.numrows||r<this.numcols)this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},t.prototype.module=function(t,e,r,n){t<0&&(t+=this.numrows,e+=4-(this.numrows+4)%8),e<0&&(e+=this.numcols,t+=4-(this.numcols+4)%8);var i=this.codewords.charCodeAt(r);i&=1<<8-n,this.setBit(e,t,0!==i)},t.prototype.utah=function(t,e,r){this.module(t-2,e-2,r,1),this.module(t-2,e-1,r,2),this.module(t-1,e-2,r,3),this.module(t-1,e-1,r,4),this.module(t-1,e,r,5),this.module(t,e-2,r,6),this.module(t,e-1,r,7),this.module(t,e,r,8)},t.prototype.corner1=function(t){this.module(this.numrows-1,0,t,1),this.module(this.numrows-1,1,t,2),this.module(this.numrows-1,2,t,3),this.module(0,this.numcols-2,t,4),this.module(0,this.numcols-1,t,5),this.module(1,this.numcols-1,t,6),this.module(2,this.numcols-1,t,7),this.module(3,this.numcols-1,t,8)},t.prototype.corner2=function(t){this.module(this.numrows-3,0,t,1),this.module(this.numrows-2,0,t,2),this.module(this.numrows-1,0,t,3),this.module(0,this.numcols-4,t,4),this.module(0,this.numcols-3,t,5),this.module(0,this.numcols-2,t,6),this.module(0,this.numcols-1,t,7),this.module(1,this.numcols-1,t,8)},t.prototype.corner3=function(t){this.module(this.numrows-3,0,t,1),this.module(this.numrows-2,0,t,2),this.module(this.numrows-1,0,t,3),this.module(0,this.numcols-2,t,4),this.module(0,this.numcols-1,t,5),this.module(1,this.numcols-1,t,6),this.module(2,this.numcols-1,t,7),this.module(3,this.numcols-1,t,8)},t.prototype.corner4=function(t){this.module(this.numrows-1,0,t,1),this.module(this.numrows-1,this.numcols-1,t,2),this.module(0,this.numcols-3,t,3),this.module(0,this.numcols-2,t,4),this.module(0,this.numcols-1,t,5),this.module(1,this.numcols-3,t,6),this.module(1,this.numcols-2,t,7),this.module(1,this.numcols-1,t,8)},t}(),Vo=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],Vs=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],Va=(ev=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,(r*=2)>=256&&(r^=301);return{LOG:t,ALOG:e}}([],[])).LOG,Vl=ev.ALOG;(tW=ey||(ey={}))[tW.FORCE_NONE=0]="FORCE_NONE",tW[tW.FORCE_SQUARE=1]="FORCE_SQUARE",tW[tW.FORCE_RECTANGLE=2]="FORCE_RECTANGLE";var Vh="[)>\x1e05\x1d",Vc="[)>\x1e06\x1d",Vu=function(){function t(){}return t.encodeECC200=function(t,e){if(t.length!==e.getDataCapacity())throw Error("The number of codewords does not match the selected symbol");var r=new zg;r.append(t);var n=e.getInterleavedBlockCount();if(1===n){var i=this.createECCBlock(t,e.getErrorCodewords());r.append(i)}else{for(var o=[],s=[],a=0;a<n;a++)o[a]=e.getDataLengthForInterleavedBlock(a+1),s[a]=e.getErrorLengthForInterleavedBlock(a+1);for(var l=0;l<n;l++){for(var h=new zg,c=l;c<e.getDataCapacity();c+=n)h.append(t.charAt(c));for(var i=this.createECCBlock(h.toString(),s[l]),u=0,d=l;d<s[l]*n;d+=n)r.setCharAt(e.getDataCapacity()+d,i.charAt(u++))}}return r.toString()},t.createECCBlock=function(t,e){for(var r=-1,n=0;n<Vo.length;n++)if(Vo[n]===e){r=n;break}if(r<0)throw Error("Illegal number of error correction codewords specified: "+e);for(var i=Vs[r],o=[],n=0;n<e;n++)o[n]=0;for(var n=0;n<t.length;n++){for(var s=o[e-1]^t.charAt(n).charCodeAt(0),a=e-1;a>0;a--)0!==s&&0!==i[a]?o[a]=o[a-1]^Vl[(Va[s]+Va[i[a]])%255]:o[a]=o[a-1];0!==s&&0!==i[0]?o[0]=Vl[(Va[s]+Va[i[0]])%255]:o[0]=0}for(var l=[],n=0;n<e;n++)l[n]=o[e-n-1];return l.map(function(t){return String.fromCharCode(t)}).join("")},t}(),Vd=function(){function t(){}return t.prototype.getEncodingMode=function(){return 0},t.prototype.encode=function(t){if(VC.determineConsecutiveDigitCount(t.getMessage(),t.pos)>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var e=t.getCurrentChar(),r=VC.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(r!==this.getEncodingMode())switch(r){case 5:t.writeCodeword(231),t.signalEncoderChange(5);return;case 1:t.writeCodeword(230),t.signalEncoderChange(1);return;case 3:t.writeCodeword(238),t.signalEncoderChange(3);break;case 2:t.writeCodeword(239),t.signalEncoderChange(2);break;case 4:t.writeCodeword(240),t.signalEncoderChange(4);break;default:throw Error("Illegal mode: "+r)}else VC.isExtendedASCII(e)?(t.writeCodeword(235),t.writeCodeword(e-128+1)):t.writeCodeword(e+1),t.pos++}},t.prototype.encodeASCIIDigits=function(t,e){if(VC.isDigit(t)&&VC.isDigit(e))return(t-48)*10+(e-48)+130;throw Error("not digits: "+t+e)},t}(),Vf=function(){function t(){}return t.prototype.getEncodingMode=function(){return 5},t.prototype.encode=function(t){var e=new zg;for(e.append(0);t.hasMoreCharacters();){var r=t.getCurrentChar();if(e.append(r),t.pos++,VC.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}var n=e.length()-1,i=t.getCodewordCount()+n+1;t.updateSymbolInfo(i);var o=t.getSymbolInfo().getDataCapacity()-i>0;if(t.hasMoreCharacters()||o){if(n<=249)e.setCharAt(0,zp.getCharAt(n));else if(n<=1555)e.setCharAt(0,zp.getCharAt(Math.floor(n/250)+249)),e.insert(1,zp.getCharAt(n%250));else throw Error("Message length not in valid ranges: "+n)}for(var s=0,r=e.length();s<r;s++)t.writeCodeword(this.randomize255State(e.charAt(s).charCodeAt(0),t.getCodewordCount()+1))},t.prototype.randomize255State=function(t,e){var r=t+(149*e%255+1);return r<=255?r:r-256},t}(),Vp=function(){function t(){}return t.prototype.getEncodingMode=function(){return 1},t.prototype.encodeMaximal=function(t){for(var e=new zg,r=0,n=t.pos,i=0;t.hasMoreCharacters();){var o=t.getCurrentChar();t.pos++,r=this.encodeChar(o,e),e.length()%3==0&&(n=t.pos,i=e.length())}if(i!==e.length()){var s=Math.floor(e.length()/3*2),a=Math.floor(t.getCodewordCount()+s+1);t.updateSymbolInfo(a);var l=t.getSymbolInfo().getDataCapacity()-a,h=Math.floor(e.length()%3);(2===h&&2!==l||1===h&&(r>3||1!==l))&&(t.pos=n)}e.length()>0&&t.writeCodeword(230),this.handleEOD(t,e)},t.prototype.encode=function(t){for(var e=new zg;t.hasMoreCharacters();){var r=t.getCurrentChar();t.pos++;var n=this.encodeChar(r,e),i=2*Math.floor(e.length()/3),o=t.getCodewordCount()+i;t.updateSymbolInfo(o);var s=t.getSymbolInfo().getDataCapacity()-o;if(!t.hasMoreCharacters()){var a=new zg;for(e.length()%3==2&&2!==s&&(n=this.backtrackOneCharacter(t,e,a,n));e.length()%3==1&&(n>3||1!==s);)n=this.backtrackOneCharacter(t,e,a,n);break}if(e.length()%3==0&&VC.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}this.handleEOD(t,e)},t.prototype.backtrackOneCharacter=function(t,e,r,n){var i=e.length(),o=e.toString().substring(0,i-n);e.setLengthToZero(),e.append(o),t.pos--;var s=t.getCurrentChar();return n=this.encodeChar(s,r),t.resetSymbolInfo(),n},t.prototype.writeNextTriplet=function(t,e){t.writeCodewords(this.encodeToCodewords(e.toString()));var r=e.toString().substring(3);e.setLengthToZero(),e.append(r)},t.prototype.handleEOD=function(t,e){var r=Math.floor(e.length()/3*2),n=e.length()%3,i=t.getCodewordCount()+r;t.updateSymbolInfo(i);var o=t.getSymbolInfo().getDataCapacity()-i;if(2===n){for(e.append("\0");e.length()>=3;)this.writeNextTriplet(t,e);t.hasMoreCharacters()&&t.writeCodeword(254)}else if(1===o&&1===n){for(;e.length()>=3;)this.writeNextTriplet(t,e);t.hasMoreCharacters()&&t.writeCodeword(254),t.pos--}else if(0===n){for(;e.length()>=3;)this.writeNextTriplet(t,e);(o>0||t.hasMoreCharacters())&&t.writeCodeword(254)}else throw Error("Unexpected case. Please report!");t.signalEncoderChange(0)},t.prototype.encodeChar=function(t,e){return 32===t?(e.append(3),1):t>=48&&t<=57?(e.append(t-48+4),1):t>=65&&t<=90?(e.append(t-65+14),1):t<32?(e.append(0),e.append(t),2):t<=47?(e.append(1),e.append(t-33),2):t<=64?(e.append(1),e.append(t-58+15),2):t<=95?(e.append(1),e.append(t-91+22),2):t<=127?(e.append(2),e.append(t-96),2):(e.append("1\x1e"),2+this.encodeChar(t-128,e))},t.prototype.encodeToCodewords=function(t){var e=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,r=new zg;return r.append(e/256),r.append(e%256),r.toString()},t}(),Vg=function(){function t(){}return t.prototype.getEncodingMode=function(){return 4},t.prototype.encode=function(t){for(var e=new zg;t.hasMoreCharacters();){var r=t.getCurrentChar();if(this.encodeChar(r,e),t.pos++,e.length()>=4){t.writeCodewords(this.encodeToCodewords(e.toString()));var n=e.toString().substring(4);if(e.setLengthToZero(),e.append(n),VC.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}}e.append(zp.getCharAt(31)),this.handleEOD(t,e)},t.prototype.handleEOD=function(t,e){try{var r=e.length();if(0===r)return;if(1===r){t.updateSymbolInfo();var n=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=t.getRemainingCharacters();if(i>n&&(t.updateSymbolInfo(t.getCodewordCount()+1),n=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),i<=n&&n<=2)return}if(r>4)throw Error("Count must not exceed 4");var o=r-1,s=this.encodeToCodewords(e.toString()),a=!t.hasMoreCharacters()&&o<=2;if(o<=2){t.updateSymbolInfo(t.getCodewordCount()+o);var n=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();n>=3&&(a=!1,t.updateSymbolInfo(t.getCodewordCount()+s.length))}a?(t.resetSymbolInfo(),t.pos-=o):t.writeCodewords(s)}finally{t.signalEncoderChange(0)}},t.prototype.encodeChar=function(t,e){t>=32&&t<=63?e.append(t):t>=64&&t<=94?e.append(zp.getCharAt(t-64)):VC.illegalCharacter(zp.getCharAt(t))},t.prototype.encodeToCodewords=function(t){var e=t.length;if(0===e)throw Error("StringBuilder must not be empty");var r=(t.charAt(0).charCodeAt(0)<<18)+((e>=2?t.charAt(1).charCodeAt(0):0)<<12)+((e>=3?t.charAt(2).charCodeAt(0):0)<<6)+(e>=4?t.charAt(3).charCodeAt(0):0),n=new zg;return n.append(r>>16&255),e>=2&&n.append(r>>8&255),e>=3&&n.append(255&r),n.toString()},t}(),Vm=(tH=function(t,e){return(tH=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tH(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Vv=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vy=function(){function t(t,e,r,n,i,o,s,a){void 0===s&&(s=0),void 0===a&&(a=0),this.rectangular=t,this.dataCapacity=e,this.errorCodewords=r,this.matrixWidth=n,this.matrixHeight=i,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=a}return t.lookup=function(t,e,r,n,i){var o,s;void 0===e&&(e=0),void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!0);try{for(var a=Vv(VO),l=a.next();!l.done;l=a.next()){var h=l.value;if(!(1===e&&h.rectangular||2===e&&!h.rectangular||null!=r&&(h.getSymbolWidth()<r.getWidth()||h.getSymbolHeight()<r.getHeight()))&&!(null!=n&&(h.getSymbolWidth()>n.getWidth()||h.getSymbolHeight()>n.getHeight()))&&t<=h.dataCapacity)return h}}catch(t){o={error:t}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}if(i)throw Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},t}(),Vb=function(t){function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return Vm(e,t),e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(Vy),VO=[new Vy(!1,3,5,8,8,1),new Vy(!1,5,7,10,10,1),new Vy(!0,5,7,16,6,1),new Vy(!1,8,10,12,12,1),new Vy(!0,10,11,14,6,2),new Vy(!1,12,12,14,14,1),new Vy(!0,16,14,24,10,1),new Vy(!1,18,14,16,16,1),new Vy(!1,22,18,18,18,1),new Vy(!0,22,18,16,10,2),new Vy(!1,30,20,20,20,1),new Vy(!0,32,24,16,14,2),new Vy(!1,36,24,22,22,1),new Vy(!1,44,28,24,24,1),new Vy(!0,49,28,22,14,2),new Vy(!1,62,36,14,14,4),new Vy(!1,86,42,16,16,4),new Vy(!1,114,48,18,18,4),new Vy(!1,144,56,20,20,4),new Vy(!1,174,68,22,22,4),new Vy(!1,204,84,24,24,4,102,42),new Vy(!1,280,112,14,14,16,140,56),new Vy(!1,368,144,16,16,16,92,36),new Vy(!1,456,192,18,18,16,114,48),new Vy(!1,576,224,20,20,16,144,56),new Vy(!1,696,272,22,22,16,174,68),new Vy(!1,816,336,24,24,16,136,56),new Vy(!1,1050,408,18,18,36,175,68),new Vy(!1,1304,496,20,20,36,163,62),new Vb],Vw=function(){function t(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var e=t.split("").map(function(t){return t.charCodeAt(0)}),r=new zg,n=0,i=e.length;n<i;n++){var o=String.fromCharCode(255&e[n]);if("?"===o&&"?"!==t.charAt(n))throw Error("Message contains characters outside ISO-8859-1 encoding.");r.append(o)}this.msg=r.toString(),this.shape=0,this.codewords=new zg,this.newEncoding=-1}return t.prototype.setSymbolShape=function(t){this.shape=t},t.prototype.setSizeConstraints=function(t,e){this.minSize=t,this.maxSize=e},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(t){this.codewords.append(t)},t.prototype.writeCodeword=function(t){this.codewords.append(t)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(t){this.newEncoding=t},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(t){void 0===t&&(t=this.getCodewordCount()),(null==this.symbolInfo||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Vy.lookup(t,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),Vx=(tY=function(t,e){return(tY=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tY(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),V_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vx(e,t),e.prototype.getEncodingMode=function(){return 3},e.prototype.encode=function(t){for(var e=new zg;t.hasMoreCharacters();){var r=t.getCurrentChar();if(t.pos++,this.encodeChar(r,e),e.length()%3==0&&(this.writeNextTriplet(t,e),VC.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode())){t.signalEncoderChange(0);break}}this.handleEOD(t,e)},e.prototype.encodeChar=function(t,e){switch(t){case 13:e.append(0);break;case 42:e.append(1);break;case 62:e.append(2);break;case 32:e.append(3);break;default:t>=48&&t<=57?e.append(t-48+4):t>=65&&t<=90?e.append(t-65+14):VC.illegalCharacter(zp.getCharAt(t))}return 1},e.prototype.handleEOD=function(t,e){t.updateSymbolInfo();var r=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),n=e.length();t.pos-=n,(t.getRemainingCharacters()>1||r>1||t.getRemainingCharacters()!==r)&&t.writeCodeword(254),0>t.getNewEncoding()&&t.signalEncoderChange(0)},e}(Vp),Vk=(tG=function(t,e){return(tG=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tG(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),VS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vk(e,t),e.prototype.getEncodingMode=function(){return 2},e.prototype.encodeChar=function(t,e){return 32===t?(e.append(3),1):t>=48&&t<=57?(e.append(t-48+4),1):t>=97&&t<=122?(e.append(t-97+14),1):t<32?(e.append(0),e.append(t),2):t<=47?(e.append(1),e.append(t-33),2):t<=64?(e.append(1),e.append(t-58+15),2):t>=91&&t<=95?(e.append(1),e.append(t-91+22),2):96===t?(e.append(2),e.append(0),2):t<=90?(e.append(2),e.append(t-65+1),2):t<=127?(e.append(2),e.append(t-123+27),2):(e.append("1\x1e"),2+this.encodeChar(t-128,e))},e}(Vp),VC=function(){function t(){}return t.randomize253State=function(t){var e=129+(149*t%253+1);return e<=254?e:e-254},t.encodeHighLevel=function(t,e,r,n,i){void 0===e&&(e=0),void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!1);var o=new Vp,s=[new Vd,o,new VS,new V_,new Vg,new Vf],a=new Vw(t);a.setSymbolShape(e),a.setSizeConstraints(r,n),t.startsWith(Vh)&&t.endsWith("\x1e\x04")?(a.writeCodeword(236),a.setSkipAtEnd(2),a.pos+=Vh.length):t.startsWith(Vc)&&t.endsWith("\x1e\x04")&&(a.writeCodeword(237),a.setSkipAtEnd(2),a.pos+=Vc.length);var l=0;for(i&&(o.encodeMaximal(a),l=a.getNewEncoding(),a.resetEncoderSignal());a.hasMoreCharacters();)s[l].encode(a),a.getNewEncoding()>=0&&(l=a.getNewEncoding(),a.resetEncoderSignal());var h=a.getCodewordCount();a.updateSymbolInfo();var c=a.getSymbolInfo().getDataCapacity();h<c&&0!==l&&5!==l&&4!==l&&a.writeCodeword("þ");var u=a.getCodewords();for(u.length()<c&&u.append(129);u.length()<c;)u.append(this.randomize253State(u.length()+1));return a.getCodewords().toString()},t.lookAheadTest=function(t,e,r){var n=this.lookAheadTestIntern(t,e,r);if(3===r&&3===n){for(var i=Math.min(e+3,t.length),o=e;o<i;o++)if(!this.isNativeX12(t.charCodeAt(o)))return 0}else if(4===r&&4===n){for(var i=Math.min(e+4,t.length),o=e;o<i;o++)if(!this.isNativeEDIFACT(t.charCodeAt(o)))return 0}return n},t.lookAheadTestIntern=function(t,e,r){if(e>=t.length)return r;0===r?n=[0,1,1,1,1,1.25]:(n=[1,2,2,2,2,2.25])[r]=0;for(var n,i=0,o=new Uint8Array(6),s=[];;){if(e+i===t.length){zn.fill(o,0),zn.fill(s,0);var a=this.findMinimums(n,s,zi.MAX_VALUE,o),l=this.getMinimumCount(o);if(s[0]===a)return 0;if(1===l){if(o[5]>0)return 5;if(o[4]>0)return 4;if(o[2]>0)return 2;if(o[3]>0)return 3}return 1}var h=t.charCodeAt(e+i);if(i++,this.isDigit(h)?n[0]+=.5:this.isExtendedASCII(h)?(n[0]=Math.ceil(n[0]),n[0]+=2):(n[0]=Math.ceil(n[0]),n[0]++),this.isNativeC40(h)?n[1]+=2/3:this.isExtendedASCII(h)?n[1]+=8/3:n[1]+=4/3,this.isNativeText(h)?n[2]+=2/3:this.isExtendedASCII(h)?n[2]+=8/3:n[2]+=4/3,this.isNativeX12(h)?n[3]+=2/3:this.isExtendedASCII(h)?n[3]+=13/3:n[3]+=10/3,this.isNativeEDIFACT(h)?n[4]+=.75:this.isExtendedASCII(h)?n[4]+=4.25:n[4]+=3.25,this.isSpecialB256(h)?n[5]+=4:n[5]++,i>=4){if(zn.fill(o,0),zn.fill(s,0),this.findMinimums(n,s,zi.MAX_VALUE,o),s[0]<this.min(s[5],s[1],s[2],s[3],s[4]))return 0;if(s[5]<s[0]||s[5]+1<this.min(s[1],s[2],s[3],s[4]))return 5;if(s[4]+1<this.min(s[5],s[1],s[2],s[3],s[0]))return 4;if(s[2]+1<this.min(s[5],s[1],s[4],s[3],s[0]))return 2;if(s[3]+1<this.min(s[5],s[1],s[4],s[2],s[0]))return 3;if(s[1]+1<this.min(s[0],s[5],s[4],s[2])){if(s[1]<s[3])return 1;if(s[1]===s[3]){for(var c=e+i+1;c<t.length;){var u=t.charCodeAt(c);if(this.isX12TermSep(u))return 3;if(!this.isNativeX12(u))break;c++}return 1}}}}},t.min=function(t,e,r,n,i){var o=Math.min(t,Math.min(e,Math.min(r,n)));return void 0===i?o:Math.min(o,i)},t.findMinimums=function(t,e,r,n){for(var i=0;i<6;i++){var o=e[i]=Math.ceil(t[i]);r>o&&(r=o,zn.fill(n,0)),r===o&&(n[i]=n[i]+1)}return r},t.getMinimumCount=function(t){for(var e=0,r=0;r<6;r++)e+=t[r];return e||0},t.isDigit=function(t){return t>=48&&t<=57},t.isExtendedASCII=function(t){return t>=128&&t<=255},t.isNativeC40=function(t){return 32===t||t>=48&&t<=57||t>=65&&t<=90},t.isNativeText=function(t){return 32===t||t>=48&&t<=57||t>=97&&t<=122},t.isNativeX12=function(t){return this.isX12TermSep(t)||32===t||t>=48&&t<=57||t>=65&&t<=90},t.isX12TermSep=function(t){return 13===t||42===t||62===t},t.isNativeEDIFACT=function(t){return t>=32&&t<=94},t.isSpecialB256=function(t){return!1},t.determineConsecutiveDigitCount=function(t,e){void 0===e&&(e=0);for(var r=t.length,n=e;n<r&&this.isDigit(t.charCodeAt(n));)n++;return n-e},t.illegalCharacter=function(t){var e=zi.toHexString(t.charCodeAt(0));throw Error("Illegal character: "+t+" (0x"+(e="0000".substring(0,4-e.length)+e)+")")},t}(),VA=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VE=function(){function t(t){this.charset=t,this.name=t.name}return t.prototype.canEncode=function(t){try{return null!=zf.encode(t,this.charset)}catch(t){return!1}},t}(),VT=function(){function t(t,e,r){this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(t){return new VE(Vr.forName(t))}),this.encoders=[];var n,i,o,s,a,l,h=[];h.push(new VE(Vn.ISO_8859_1));for(var c=null!=e&&e.name.startsWith("UTF"),u=0;u<t.length;u++){var d=!1;try{for(var f=(n=void 0,VA(h)),p=f.next();!p.done;p=f.next()){var g=p.value,m=t.charAt(u);if(m.charCodeAt(0)===r||g.canEncode(m)){d=!0;break}}}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}if(!d)try{for(var v=(o=void 0,VA(this.ENCODERS)),y=v.next();!y.done;y=v.next()){var g=y.value;if(g.canEncode(t.charAt(u))){h.push(g),d=!0;break}}}catch(t){o={error:t}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}d||(c=!0)}if(1!==h.length||c){this.encoders=[];var b=0;try{for(var O=VA(h),w=O.next();!w.done;w=O.next()){var g=w.value;this.encoders[b++]=g}}catch(t){a={error:t}}finally{try{w&&!w.done&&(l=O.return)&&l.call(O)}finally{if(a)throw a.error}}}else this.encoders=[h[0]];var x=-1;if(null!=e){for(var u=0;u<this.encoders.length;u++)if(null!=this.encoders[u]&&e.name===this.encoders[u].name){x=u;break}}this.priorityEncoderIndex=x}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(t){if(!(t<this.length()))throw Error("index must be less than length");return this.encoders[t].name},t.prototype.getCharset=function(t){if(!(t<this.length()))throw Error("index must be less than length");return this.encoders[t].charset},t.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(t,e){if(!(e<this.length()))throw Error("index must be less than length");return!0},t.prototype.encode=function(t,e){if(!(e<this.length()))throw Error("index must be less than length");return zf.encode(zp.getCharAt(t),this.encoders[e].name)},t}(),VP=function(){function t(t,e,r){this.fnc1=r;var n=new VT(t,e,r);if(1===n.length())for(var i=0;i<this.bytes.length;i++){var o=t.charAt(i).charCodeAt(0);this.bytes[i]=o===r?1e3:o}else this.bytes=this.encodeMinimally(t,n,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(t,e){if(t+e-1>=this.bytes.length)return!1;for(var r=0;r<e;r++)if(this.isECI(t+r))return!1;return!0},t.prototype.charAt=function(t){if(t<0||t>=this.length())throw Error(""+t);if(this.isECI(t))throw Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},t.prototype.subSequence=function(t,e){if(t<0||t>e||e>this.length())throw Error(""+t);for(var r=new zg,n=t;n<e;n++){if(this.isECI(n))throw Error("value at "+n+" is not a character but an ECI");r.append(this.charAt(n))}return r.toString()},t.prototype.isECI=function(t){if(t<0||t>=this.length())throw Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},t.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw Error(""+t);return 1e3===this.bytes[t]},t.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw Error(""+t);if(!this.isECI(t))throw Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},t.prototype.addEdge=function(t,e,r){(null==t[e][r.encoderIndex]||t[e][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(t[e][r.encoderIndex]=r)},t.prototype.addEdges=function(t,e,r,n,i,o){var s=t.charAt(n).charCodeAt(0),a=0,l=e.length();e.getPriorityEncoderIndex()>=0&&(s===o||e.canEncode(s,e.getPriorityEncoderIndex()))&&(l=(a=e.getPriorityEncoderIndex())+1);for(var h=a;h<l;h++)(s===o||e.canEncode(s,h))&&this.addEdge(r,n+1,new VI(s,e,h,i,o))},t.prototype.encodeMinimally=function(t,e,r){var n=t.length,i=new VI[n+1][e.length()];this.addEdges(t,e,i,0,null,r);for(var o=1;o<=n;o++){for(var s=0;s<e.length();s++)null!=i[o][s]&&o<n&&this.addEdges(t,e,i,o,i[o][s],r);for(var s=0;s<e.length();s++)i[o-1][s]=null}for(var a=-1,l=zi.MAX_VALUE,s=0;s<e.length();s++)if(null!=i[n][s]){var h=i[n][s];h.cachedTotalSize<l&&(l=h.cachedTotalSize,a=s)}if(a<0)throw Error('Failed to encode "'+t+'"');for(var c=[],u=i[n][a];null!=u;){if(u.isFNC1())c.unshift(1e3);else for(var d=e.encode(u.c,u.encoderIndex),o=d.length-1;o>=0;o--)c.unshift(255&d[o]);(null===u.previous?0:u.previous.encoderIndex)!==u.encoderIndex&&c.unshift(256+e.getECIValue(u.encoderIndex)),u=u.previous}for(var f=[],o=0;o<f.length;o++)f[o]=c[o];return f},t}(),VI=function(){function t(t,e,r,n,i){this.c=t,this.encoderSet=e,this.encoderIndex=r,this.previous=n,this.fnc1=i,this.c=t===i?1e3:t;var o=this.isFNC1()?1:e.encode(t,r).length;(null===n?0:n.encoderIndex)!==r&&(o+=3),null!=n&&(o+=n.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return 1e3===this.c},t}(),VR=(tK=function(t,e){return(tK=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}tK(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),VM=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VN=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},VD=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(VN(arguments[e]));return t};(tJ=eb||(eb={}))[tJ.ASCII=0]="ASCII",tJ[tJ.C40=1]="C40",tJ[tJ.TEXT=2]="TEXT",tJ[tJ.X12=3]="X12",tJ[tJ.EDF=4]="EDF",tJ[tJ.B256=5]="B256";var VL=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],V$=function(){function t(){}return t.isExtendedASCII=function(t,e){return t!==e&&t>=128&&t<=255},t.isInC40Shift1Set=function(t){return t<=31},t.isInC40Shift2Set=function(t,e){var r,n;try{for(var i=VM(VL),o=i.next();!o.done;o=i.next())if(o.value.charCodeAt(0)===t)return!0}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t===e},t.isInTextShift1Set=function(t){return this.isInC40Shift1Set(t)},t.isInTextShift2Set=function(t,e){return this.isInC40Shift2Set(t,e)},t.encodeHighLevel=function(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=-1),void 0===n&&(n=0);var i=0;return t.startsWith(Vh)&&t.endsWith("\x1e\x04")?(i=5,t=t.substring(Vh.length,t.length-2)):t.startsWith(Vc)&&t.endsWith("\x1e\x04")&&(i=6,t=t.substring(Vc.length,t.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,VD(this.encode(t,e,r,n,i)))))},t.encode=function(t,e,r,n,i){return this.encodeMinimally(new VB(t,e,r,n,i)).getBytes()},t.addEdge=function(t,e){var r=e.fromPosition+e.characterLength;(null===t[r][e.getEndMode()]||t[r][e.getEndMode()].cachedTotalSize>e.cachedTotalSize)&&(t[r][e.getEndMode()]=e)},t.getNumberOfC40Words=function(e,r,n,i){for(var o=0,s=r;s<e.length()&&!e.isECI(s);s++){var a=e.charAt(s);if(n&&VC.isNativeC40(a)||!n&&VC.isNativeText(a))o++;else if(t.isExtendedASCII(a,e.getFNC1Character())){var l=255&a;l>=128&&(n&&VC.isNativeC40(l-128)||!n&&VC.isNativeText(l-128))?o+=3:o+=4}else o+=2;if(o%3==0||(o-2)%3==0&&s+1===e.length())return i[0]=s-r+1,Math.ceil(o/3)}return i[0]=0,0},t.addEdges=function(e,r,n,i){if(e.isECI(n)){this.addEdge(r,new VQ(e,eb.ASCII,n,1,i));return}var o,s,a,l=e.charAt(n);if(null===i||i.getEndMode()!==eb.EDF){VC.isDigit(l)&&e.haveNCharacters(n,2)&&VC.isDigit(e.charAt(n+1))?this.addEdge(r,new VQ(e,eb.ASCII,n,2,i)):this.addEdge(r,new VQ(e,eb.ASCII,n,1,i));var h=[eb.C40,eb.TEXT];try{for(var c=VM(h),u=c.next();!u.done;u=c.next()){var d=u.value,f=[];t.getNumberOfC40Words(e,n,d===eb.C40,f)>0&&this.addEdge(r,new VQ(e,d,n,f[0],i))}}catch(t){o={error:t}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}e.haveNCharacters(n,3)&&VC.isNativeX12(e.charAt(n))&&VC.isNativeX12(e.charAt(n+1))&&VC.isNativeX12(e.charAt(n+2))&&this.addEdge(r,new VQ(e,eb.X12,n,3,i)),this.addEdge(r,new VQ(e,eb.B256,n,1,i))}for(a=0;a<3;a++){var p=n+a;if(e.haveNCharacters(p,1)&&VC.isNativeEDIFACT(e.charAt(p)))this.addEdge(r,new VQ(e,eb.EDF,n,a+1,i));else break}3===a&&e.haveNCharacters(n,4)&&VC.isNativeEDIFACT(e.charAt(n+3))&&this.addEdge(r,new VQ(e,eb.EDF,n,4,i))},t.encodeMinimally=function(t){var e=t.length(),r=Array(e+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(t,r,0,null);for(var n=1;n<=e;n++){for(var i=0;i<6;i++)null!==r[n][i]&&n<e&&this.addEdges(t,r,n,r[n][i]);for(var i=0;i<6;i++)r[n-1][i]=null}for(var o=-1,s=zi.MAX_VALUE,i=0;i<6;i++)if(null!==r[e][i]){var a=r[e][i],l=i>=1&&i<=3?a.cachedTotalSize+1:a.cachedTotalSize;l<s&&(s=l,o=i)}if(o<0)throw Error('Failed to encode "'+t+'"');return new Vq(r[e][o])},t}(),Vq=function(){function t(t){var e=t.input,r=0,n=[],i=[],o=[];(t.mode===eb.C40||t.mode===eb.TEXT||t.mode===eb.X12)&&t.getEndMode()!==eb.ASCII&&(r+=this.prepend(VQ.getBytes(254),n));for(var s=t;null!==s;)r+=this.prepend(s.getDataBytes(),n),(null===s.previous||s.getPreviousStartMode()!==s.getMode())&&(s.getMode()===eb.B256&&(r<=249?(n.unshift(r),r++):(n.unshift(r%250),n.unshift(r/250+249),r+=2),i.push(n.length),o.push(r)),this.prepend(s.getLatchBytes(),n),r=0),s=s.previous;5===e.getMacroId()?r+=this.prepend(VQ.getBytes(236),n):6===e.getMacroId()&&(r+=this.prepend(VQ.getBytes(237),n)),e.getFNC1Character()>0&&(r+=this.prepend(VQ.getBytes(232),n));for(var a=0;a<i.length;a++)this.applyRandomPattern(n,n.length-i[a],o[a]);var l=t.getMinSymbolSize(n.length);for(n.length<l&&n.push(129);n.length<l;)n.push(this.randomize253State(n.length+1));this.bytes=new Uint8Array(n.length);for(var a=0;a<this.bytes.length;a++)this.bytes[a]=n[a]}return t.prototype.prepend=function(t,e){for(var r=t.length-1;r>=0;r--)e.unshift(t[r]);return t.length},t.prototype.randomize253State=function(t){var e=129+(149*t%253+1);return e<=254?e:e-254},t.prototype.applyRandomPattern=function(t,e,r){for(var n=0;n<r;n++){var i=e+n,o=(255&t[i])+(149*(i+1)%255+1);t[i]=o<=255?o:o-256}},t.prototype.getBytes=function(){return this.bytes},t}(),VQ=function(){function t(t,e,r,n,i){if(this.input=t,this.mode=e,this.fromPosition=r,this.characterLength=n,this.previous=i,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(r+n<=t.length()))throw Error("Invalid edge");var o=null!==i?i.cachedTotalSize:0,s=this.getPreviousMode();switch(e){case eb.ASCII:o++,(t.isECI(r)||V$.isExtendedASCII(t.charAt(r),t.getFNC1Character()))&&o++,(s===eb.C40||s===eb.TEXT||s===eb.X12)&&o++;break;case eb.B256:o++,s!==eb.B256?o++:250===this.getB256Size()&&o++,s===eb.ASCII?o++:(s===eb.C40||s===eb.TEXT||s===eb.X12)&&(o+=2);break;case eb.C40:case eb.TEXT:case eb.X12:e===eb.X12?o+=2:o+=2*V$.getNumberOfC40Words(t,r,e===eb.C40,[]),s===eb.ASCII||s===eb.B256?o++:s!==e&&(s===eb.C40||s===eb.TEXT||s===eb.X12)&&(o+=2);break;case eb.EDF:o+=3,s===eb.ASCII||s===eb.B256?o++:(s===eb.C40||s===eb.TEXT||s===eb.X12)&&(o+=2)}this.cachedTotalSize=o}return t.prototype.getB256Size=function(){for(var t=0,e=this;null!==e&&e.mode===eb.B256&&t<=250;)t++,e=e.previous;return t},t.prototype.getPreviousStartMode=function(){return null===this.previous?eb.ASCII:this.previous.mode},t.prototype.getPreviousMode=function(){return null===this.previous?eb.ASCII:this.previous.getEndMode()},t.prototype.getEndMode=function(){if(this.mode===eb.EDF){if(this.characterLength<4)return eb.ASCII;var t=this.getLastASCII();if(t>0&&this.getCodewordsRemaining(this.cachedTotalSize+t)<=2-t)return eb.ASCII}if(this.mode===eb.C40||this.mode===eb.TEXT||this.mode===eb.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return eb.ASCII;var t=this.getLastASCII();if(1===t&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return eb.ASCII}return this.mode},t.prototype.getMode=function(){return this.mode},t.prototype.getLastASCII=function(){var t=this.input.length(),e=this.fromPosition+this.characterLength;return t-e>4||e>=t?0:t-e==1?V$.isExtendedASCII(this.input.charAt(e),this.input.getFNC1Character())?0:1:t-e==2?V$.isExtendedASCII(this.input.charAt(e),this.input.getFNC1Character())||V$.isExtendedASCII(this.input.charAt(e+1),this.input.getFNC1Character())?0:VC.isDigit(this.input.charAt(e))&&VC.isDigit(this.input.charAt(e+1))?1:2:t-e==3?VC.isDigit(this.input.charAt(e))&&VC.isDigit(this.input.charAt(e+1))&&!V$.isExtendedASCII(this.input.charAt(e+2),this.input.getFNC1Character())||VC.isDigit(this.input.charAt(e+1))&&VC.isDigit(this.input.charAt(e+2))&&!V$.isExtendedASCII(this.input.charAt(e),this.input.getFNC1Character())?2:0:VC.isDigit(this.input.charAt(e))&&VC.isDigit(this.input.charAt(e+1))&&VC.isDigit(this.input.charAt(e+2))&&VC.isDigit(this.input.charAt(e+3))?2:0},t.prototype.getMinSymbolSize=function(t){var e,r,n,i,o,s;switch(this.input.getShapeHint()){case 1:try{for(var a=VM(this.squareCodewordCapacities),l=a.next();!l.done;l=a.next()){var h=l.value;if(h>=t)return h}}catch(t){e={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}break;case 2:try{for(var c=VM(this.rectangularCodewordCapacities),u=c.next();!u.done;u=c.next()){var h=u.value;if(h>=t)return h}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}try{for(var d=VM(this.allCodewordCapacities),f=d.next();!f.done;f=d.next()){var h=f.value;if(h>=t)return h}}catch(t){o={error:t}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},t.prototype.getCodewordsRemaining=function(t){return this.getMinSymbolSize(t)-t},t.getBytes=function(t,e){var r=new Uint8Array(e?2:1);return r[0]=t,e&&(r[1]=e),r},t.prototype.setC40Word=function(t,e,r,n,i){var o=1600*(255&r)+40*(255&n)+(255&i)+1;t[e]=o/256,t[e+1]=o%256},t.prototype.getX12Value=function(t){return 13===t?0:42===t?1:62===t?2:32===t?3:t>=48&&t<=57?t-44:t>=65&&t<=90?t-51:t},t.prototype.getX12Words=function(){if(this.characterLength%3!=0)throw Error("X12 words must be a multiple of 3");for(var t=new Uint8Array(this.characterLength/3*2),e=0;e<t.length;e+=2)this.setC40Word(t,e,this.getX12Value(this.input.charAt(this.fromPosition+e/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+e/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+e/2*3+2)));return t},t.prototype.getShiftValue=function(t,e,r){return e&&V$.isInC40Shift1Set(t)||!e&&V$.isInTextShift1Set(t)?0:e&&V$.isInC40Shift2Set(t,r)||!e&&V$.isInTextShift2Set(t,r)?1:2},t.prototype.getC40Value=function(t,e,r,n){if(r===n){if(2!==e)throw Error("FNC1 cannot be used in C40 shift 2");return 27}return t?r<=31?r:32===r?3:r<=47?r-33:r<=57?r-44:r<=64?r-43:r<=90?r-51:r<=95?r-69:r<=127?r-96:r:0===r?0:0===e&&r<=3?r-1:1===e&&r<=31?r:32===r?3:r>=33&&r<=47?r-33:r>=48&&r<=57?r-44:r>=58&&r<=64?r-43:r>=65&&r<=90?r-64:r>=91&&r<=95?r-69:96===r?0:r>=97&&r<=122?r-83:r>=123&&r<=127?r-96:r},t.prototype.getC40Words=function(t,e){for(var r=[],n=0;n<this.characterLength;n++){var i=this.input.charAt(this.fromPosition+n);if(t&&VC.isNativeC40(i)||!t&&VC.isNativeText(i))r.push(this.getC40Value(t,0,i,e));else if(V$.isExtendedASCII(i,e)){var o=(255&i)-128;if(t&&VC.isNativeC40(o)||!t&&VC.isNativeText(o))r.push(1),r.push(30),r.push(this.getC40Value(t,0,o,e));else{r.push(1),r.push(30);var s=this.getShiftValue(o,t,e);r.push(s),r.push(this.getC40Value(t,s,o,e))}}else{var s=this.getShiftValue(i,t,e);r.push(s),r.push(this.getC40Value(t,s,i,e))}}if(r.length%3!=0){if(!((r.length-2)%3==0&&this.fromPosition+this.characterLength===this.input.length()))throw Error("C40 words must be a multiple of 3");r.push(0)}for(var a=new Uint8Array(r.length/3*2),l=0,n=0;n<r.length;n+=3)this.setC40Word(a,l,255&r[n],255&r[n+1],255&r[n+2]),l+=2;return a},t.prototype.getEDFBytes=function(){for(var t=Math.ceil(this.characterLength/4),e=new Uint8Array(3*t),r=this.fromPosition,n=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),i=0;i<t;i+=3){for(var o=[],s=0;s<4;s++)r<=n?o[s]=63&this.input.charAt(r++):o[s]=r===n+1?31:0;var a=o[0]<<18;a|=o[1]<<12,a|=o[2]<<6,a|=o[3],e[i]=a>>16&255,e[i+1]=a>>8&255,e[i+2]=255&a}return e},t.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case eb.ASCII:case eb.B256:switch(this.mode){case eb.B256:return t.getBytes(231);case eb.C40:return t.getBytes(230);case eb.TEXT:return t.getBytes(239);case eb.X12:return t.getBytes(238);case eb.EDF:return t.getBytes(240)}break;case eb.C40:case eb.TEXT:case eb.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case eb.ASCII:return t.getBytes(254);case eb.B256:return t.getBytes(254,231);case eb.C40:return t.getBytes(254,230);case eb.TEXT:return t.getBytes(254,239);case eb.X12:return t.getBytes(254,238);case eb.EDF:return t.getBytes(254,240)}break;case eb.EDF:if(this.mode!==eb.EDF)throw Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},t.prototype.getDataBytes=function(){switch(this.mode){case eb.ASCII:if(this.input.isECI(this.fromPosition))return t.getBytes(241,this.input.getECIValue(this.fromPosition)+1);if(V$.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character()))return t.getBytes(235,this.input.charAt(this.fromPosition)-127);if(2===this.characterLength)return t.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130);if(this.input.isFNC1(this.fromPosition))return t.getBytes(232);else return t.getBytes(this.input.charAt(this.fromPosition)+1);case eb.B256:return t.getBytes(this.input.charAt(this.fromPosition));case eb.C40:return this.getC40Words(!0,this.input.getFNC1Character());case eb.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case eb.X12:return this.getX12Words();case eb.EDF:return this.getEDFBytes()}},t}(),VB=function(t){function e(e,r,n,i,o){var s=t.call(this,e,r,n)||this;return s.shape=i,s.macroId=o,s}return VR(e,t),e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e}(VP);!function(){function t(){}t.prototype.encode=function(t,e,r,n,i){if(void 0===i&&(i=null),""===t.trim())throw Error("Found empty contents");if(e!==zN.DATA_MATRIX)throw Error("Can only encode DATA_MATRIX, but got "+e);if(r<0||n<0)throw Error("Requested dimensions can't be negative: "+r+"x"+n);var o,s=0,a=null,l=null;if(null!=i){var h=i.get(XY.DATA_MATRIX_SHAPE);null!=h&&(s=h);var c=i.get(XY.MIN_SIZE);null!=c&&(a=c);var u=i.get(XY.MAX_SIZE);null!=u&&(l=u)}if(null!=i&&i.has(XY.DATA_MATRIX_COMPACT)&&i.get(XY.DATA_MATRIX_COMPACT).toString()){var d=i.has(XY.GS1_FORMAT)&&!!i.get(XY.GS1_FORMAT).toString(),f=null;i.has(XY.CHARACTER_SET)&&(f=Vr.forName(i.get(XY.CHARACTER_SET).toString())),o=V$.encodeHighLevel(t,f,d?29:-1,s)}else{var p=null!=i&&i.has(XY.FORCE_C40)&&!!i.get(XY.FORCE_C40).toString();o=VC.encodeHighLevel(t,s,a,l,p)}var g=Vy.lookup(o.length,s,a,l,!0),m=new Vi(Vu.encodeECC200(o,g),g.getSymbolDataWidth(),g.getSymbolDataHeight());return m.place(),this.encodeLowLevel(m,g,r,n)},t.prototype.encodeLowLevel=function(t,e,r,n){for(var i=e.getSymbolDataWidth(),o=e.getSymbolDataHeight(),s=new X0(e.getSymbolWidth(),e.getSymbolHeight()),a=0,l=0;l<o;l++){var h=void 0;if(l%e.matrixHeight==0){h=0;for(var c=0;c<e.getSymbolWidth();c++)s.setBoolean(h,a,c%2==0),h++;a++}h=0;for(var c=0;c<i;c++)c%e.matrixWidth==0&&(s.setBoolean(h,a,!0),h++),s.setBoolean(h,a,t.getBit(c,l)),h++,c%e.matrixWidth==e.matrixWidth-1&&(s.setBoolean(h,a,l%2==0),h++);if(a++,l%e.matrixHeight==e.matrixHeight-1){h=0;for(var c=0;c<e.getSymbolWidth();c++)s.setBoolean(h,a,!0),h++;a++}}return this.convertByteMatrixToBitMatrix(s,r,n)},t.prototype.convertByteMatrixToBitMatrix=function(t,e,r){var n,i=t.getWidth(),o=t.getHeight(),s=Math.max(e,i),a=Math.max(r,o),l=Math.min(s/i,a/o),h=(s-i*l)/2,c=(a-o*l)/2;r<o||e<i?(h=0,c=0,n=new zm(i,o)):n=new zm(e,r),n.clear();for(var u=0,d=c;u<o;u++,d+=l)for(var f=0,p=h;f<i;f++,p+=l)1===t.get(f,u)&&n.setRegion(p,d,l,l);return n}}();var Vj=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(t){this.compact=t},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(t){this.size=t},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(t){this.layers=t},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(t){this.codeWords=t},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(t){this.matrix=t},t}(),Vz=function(){function t(){}return t.singletonList=function(t){return[t]},t.min=function(t,e){return t.sort(e)[0]},t}(),VZ=function(){function t(t){this.previous=t}return t.prototype.getPrevious=function(){return this.previous},t}(),VF=(t0=function(t,e){return(t0=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}t0(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),VX=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.value=r,i.bitCount=n,i}return VF(e,t),e.prototype.appendTo=function(t,e){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+zi.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(VZ),VV=(t1=function(t,e){return(t1=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}t1(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),VU=function(t){function e(e,r,n){var i=t.call(this,e,0,0)||this;return i.binaryShiftStart=r,i.binaryShiftByteCount=n,i}return VV(e,t),e.prototype.appendTo=function(t,e){for(var r=0;r<this.binaryShiftByteCount;r++)(0===r||31===r&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):0===r?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(e[this.binaryShiftStart+r],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(VX);function VW(t,e,r){return new VX(t,e,r)}var VH=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],VY=new VX(null,0,0),VG=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],VK=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VJ=function(t){var e,r;try{for(var n=VK(t),i=n.next();!i.done;i=n.next()){var o=i.value;zn.fill(o,-1)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[0][4]=0,t[1][4]=0,t[1][0]=28,t[3][4]=0,t[2][4]=0,t[2][0]=15,t}(zn.createInt32Array(6,6)),V0=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V1=function(){function t(t,e,r,n){this.token=t,this.mode=e,this.binaryShiftByteCount=r,this.bitCount=n}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var o=VG[this.mode][e];i=VW(i,65535&o,o>>16),n+=o>>16}var s=2===e?4:5;return new t(i=VW(i,r,s),e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=2===this.mode?4:5;return n=VW(n,VJ[this.mode][e],i),new t(n=VW(n,r,5),this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(4===this.mode||2===this.mode){var o=VG[n][0];r=VW(r,65535&o,o>>16),i+=o>>16,n=0}var s=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,a=new t(r,n,this.binaryShiftByteCount+1,i+s);return 2078===a.binaryShiftByteCount&&(a=a.endBinaryShift(e+1)),a},t.prototype.endBinaryShift=function(e){if(0===this.binaryShiftByteCount)return this;var r=this.token;return new t(r=new VU(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(VG[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(t){for(var e,r,n=[],i=this.endBinaryShift(t.length).token;null!==i;i=i.getPrevious())n.unshift(i);var o=new zo;try{for(var s=V0(n),a=s.next();!a.done;a=s.next())a.value.appendTo(o,t)}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o},t.prototype.toString=function(){return zp.format("%s bits=%d bytes=%d",VH[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(VY,0,0,0),t}(),V2=function(t){var e=zp.getCharCode(" "),r=zp.getCharCode("."),n=zp.getCharCode(",");t[0][e]=1;for(var i=zp.getCharCode("Z"),o=zp.getCharCode("A"),s=o;s<=i;s++)t[0][s]=s-o+2;t[1][e]=1;for(var a=zp.getCharCode("z"),l=zp.getCharCode("a"),s=l;s<=a;s++)t[1][s]=s-l+2;t[2][e]=1;for(var h=zp.getCharCode("9"),c=zp.getCharCode("0"),s=c;s<=h;s++)t[2][s]=s-c+2;t[2][n]=12,t[2][r]=13;for(var u=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","	","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~",""],d=0;d<u.length;d++)t[3][zp.getCharCode(u[d])]=d;for(var f=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<f.length;d++)zp.getCharCode(f[d])>0&&(t[4][zp.getCharCode(f[d])]=d);return t}(zn.createInt32Array(5,256)),V3=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V4=function(){function t(t){this.text=t}return t.prototype.encode=function(){for(var e=zp.getCharCode(" "),r=zp.getCharCode("\n"),n=Vz.singletonList(V1.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case zp.getCharCode("\r"):o=s===r?2:0;break;case zp.getCharCode("."):o=s===e?3:0;break;case zp.getCharCode(","):o=s===e?4:0;break;case zp.getCharCode(":"):o=s===e?5:0;break;default:o=0}o>0?(n=t.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}return Vz.min(n,function(t,e){return t.getBitCount()-e.getBitCount()}).toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,o=[];try{for(var s=V3(e),a=s.next();!a.done;a=s.next()){var l=a.value;this.updateStateForChar(l,r,o)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(t,e,r){for(var n=255&this.text[e],i=V2[t.getMode()][n]>0,o=null,s=0;s<=4;s++){var a=V2[s][n];if(a>0){if(null==o&&(o=t.endBinaryShift(e)),!i||s===t.getMode()||2===s){var l=o.latchAndAppend(s,a);r.push(l)}if(!i&&VJ[t.getMode()][s]>=0){var h=o.shiftAndAppend(s,a);r.push(h)}}}if(t.getBinaryShiftByteCount()>0||0===V2[t.getMode()][n]){var c=t.addBinaryShiftChar(e);r.push(c)}},t.updateStateListForPair=function(t,e,r){var n,i,o=[];try{for(var s=V3(t),a=s.next();!a.done;a=s.next()){var l=a.value;this.updateStateForPair(l,e,r,o)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return this.simplifyStates(o)},t.updateStateForPair=function(t,e,r,n){var i=t.endBinaryShift(e);if(n.push(i.latchAndAppend(4,r)),4!==t.getMode()&&n.push(i.shiftAndAppend(4,r)),3===r||4===r){var o=i.latchAndAppend(2,16-r).latchAndAppend(2,1);n.push(o)}if(t.getBinaryShiftByteCount()>0){var s=t.addBinaryShiftChar(e).addBinaryShiftChar(e+1);n.push(s)}},t.simplifyStates=function(t){var e,r,n,i,o=[];try{for(var s=V3(t),a=s.next();!a.done;a=s.next()){var l=a.value,h=!0,c=function(t){if(t.isBetterThanOrEqualTo(l))return h=!1,"break";l.isBetterThanOrEqualTo(t)&&(o=o.filter(function(e){return e!==t}))};try{for(var u=(n=void 0,V3(o)),d=u.next();!d.done;d=u.next()){var f=d.value,p=c(f);if("break"===p)break}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}h&&o.push(l)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o},t}(),V5=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V6=function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i,o,s,a,l,h,c=new V4(e).encode(),u=zi.truncDivision(c.getSize()*r,100)+11,d=c.getSize()+u;if(n!==t.DEFAULT_AZTEC_LAYERS){if(i=n<0,(o=Math.abs(n))>(i?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new j2(zp.format("Illegal value %s for layers",n));var f=(s=t.totalBitsInLayer(o,i))-s%(a=t.WORD_SIZE[o]);if((l=t.stuffBits(c,a)).getSize()+u>f||i&&l.getSize()>64*a)throw new j2("Data to large for user specified layer")}else{a=0,l=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new j2("Data too large for an Aztec code");if(o=(i=p<=3)?p+1:p,!(d>(s=t.totalBitsInLayer(o,i)))){(null==l||a!==t.WORD_SIZE[o])&&(a=t.WORD_SIZE[o],l=t.stuffBits(c,a));var f=s-s%a;if(!(i&&l.getSize()>64*a)&&l.getSize()+u<=f)break}}}var g=t.generateCheckWords(l,s,a),m=l.getSize()/a,v=t.generateModeMessage(i,o,m),y=(i?11:14)+4*o,b=new Int32Array(y);if(i){h=y;for(var p=0;p<b.length;p++)b[p]=p}else{h=y+1+2*zi.truncDivision(zi.truncDivision(y,2)-1,15);for(var O=zi.truncDivision(y,2),w=zi.truncDivision(h,2),p=0;p<O;p++){var x=p+zi.truncDivision(p,15);b[O-p-1]=w-x-1,b[O+p]=w+x+1}}for(var k=new zm(h),p=0,S=0;p<o;p++){for(var C=(o-p)*4+(i?9:12),A=0;A<C;A++)for(var E=2*A,T=0;T<2;T++)g.get(S+E+T)&&k.set(b[2*p+T],b[2*p+A]),g.get(S+2*C+E+T)&&k.set(b[2*p+A],b[y-1-2*p-T]),g.get(S+4*C+E+T)&&k.set(b[y-1-2*p-T],b[y-1-2*p-A]),g.get(S+6*C+E+T)&&k.set(b[y-1-2*p-A],b[2*p+T]);S+=8*C}if(t.drawModeMessage(k,i,h,v),i)t.drawBullsEye(k,zi.truncDivision(h,2),5);else{t.drawBullsEye(k,zi.truncDivision(h,2),7);for(var p=0,A=0;p<zi.truncDivision(y,2)-1;p+=15,A+=16)for(var T=1&zi.truncDivision(h,2);T<h;T+=2)k.set(zi.truncDivision(h,2)-A,T),k.set(zi.truncDivision(h,2)+A,T),k.set(T,zi.truncDivision(h,2)-A),k.set(T,zi.truncDivision(h,2)+A)}var P=new Vj;return P.setCompact(i),P.setSize(h),P.setLayers(o),P.setCodeWords(m),P.setMatrix(k),P},t.drawBullsEye=function(t,e,r){for(var n=0;n<r;n+=2)for(var i=e-n;i<=e+n;i++)t.set(i,e-n),t.set(i,e+n),t.set(e-n,i),t.set(e+n,i);t.set(e-r,e-r),t.set(e-r+1,e-r),t.set(e-r,e-r+1),t.set(e+r,e-r),t.set(e+r,e-r+1),t.set(e+r,e+r-1)},t.generateModeMessage=function(e,r,n){var i=new zo;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(t,e,r,n){var i=zi.truncDivision(r,2);if(e)for(var o=0;o<7;o++){var s=i-3+o;n.get(o)&&t.set(s,i-5),n.get(o+7)&&t.set(i+5,s),n.get(20-o)&&t.set(s,i+5),n.get(27-o)&&t.set(i-5,s)}else for(var o=0;o<10;o++){var s=i-5+o+zi.truncDivision(o,5);n.get(o)&&t.set(s,i-7),n.get(o+10)&&t.set(i+7,s),n.get(29-o)&&t.set(s,i+7),n.get(39-o)&&t.set(i-7,s)}},t.generateCheckWords=function(e,r,n){var i,o,s=e.getSize()/n,a=new XG(t.getGF(n)),l=zi.truncDivision(r,n),h=t.bitsToWords(e,n,l);a.encode(h,l-s);var c=r%n,u=new zo;u.appendBits(0,c);try{for(var d=V5(Array.from(h)),f=d.next();!f.done;f=d.next()){var p=f.value;u.appendBits(p,n)}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return u},t.bitsToWords=function(t,e,r){var n,i,o=new Int32Array(r);for(n=0,i=t.getSize()/e;n<i;n++){for(var s=0,a=0;a<e;a++)s|=t.get(n*e+a)?1<<e-a-1:0;o[n]=s}return o},t.getGF=function(t){switch(t){case 4:return zz.AZTEC_PARAM;case 6:return zz.AZTEC_DATA_6;case 8:return zz.AZTEC_DATA_8;case 10:return zz.AZTEC_DATA_10;case 12:return zz.AZTEC_DATA_12;default:throw new j2("Unsupported word size "+t)}},t.stuffBits=function(t,e){for(var r=new zo,n=t.getSize(),i=(1<<e)-2,o=0;o<n;o+=e){for(var s=0,a=0;a<e;a++)(o+a>=n||t.get(o+a))&&(s|=1<<e-1-a);(s&i)===i?(r.appendBits(s&i,e),o--):(s&i)==0?(r.appendBits(1|s,e),o--):r.appendBits(s,e)}return r},t.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t}();!function(){function t(){}t.prototype.encode=function(t,e,r,n){return this.encodeWithHints(t,e,r,n,null)},t.prototype.encodeWithHints=function(e,r,n,i,o){var s=Vn.ISO_8859_1,a=V6.DEFAULT_EC_PERCENT,l=V6.DEFAULT_AZTEC_LAYERS;return null!=o&&(o.has(XY.CHARACTER_SET)&&(s=Vr.forName(o.get(XY.CHARACTER_SET).toString())),o.has(XY.ERROR_CORRECTION)&&(a=zi.parseInt(o.get(XY.ERROR_CORRECTION).toString())),o.has(XY.AZTEC_LAYERS)&&(l=zi.parseInt(o.get(XY.AZTEC_LAYERS).toString()))),t.encodeLayers(e,r,n,i,s,a,l)},t.encodeLayers=function(e,r,n,i,o,s,a){if(r!==zN.AZTEC)throw new j2("Can only encode AZTEC, but got "+r);var l=V6.encode(zp.getBytes(e,o),s,a);return t.renderResult(l,n,i)},t.renderResult=function(t,e,r){var n=t.getMatrix();if(null==n)throw new zV;for(var i=n.getWidth(),o=n.getHeight(),s=Math.max(e,i),a=Math.max(r,o),l=Math.min(s/i,a/o),h=(s-i*l)/2,c=(a-o*l)/2,u=new zm(s,a),d=0,f=c;d<o;d++,f+=l)for(var p=0,g=h;p<i;p++,g+=l)n.get(p,d)&&u.setRegion(g,f,l,l);return u}}();var V8=(t2=function(t,e){return(t2=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}t2(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),V7=function(t){function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return V8(e,t),e.makeBufferFromCanvasImageData=function(t){try{r=t.getContext("2d",{willReadFrequently:!0})}catch(e){r=t.getContext("2d")}if(!r)throw Error("Couldn't get canvas context.");var r,n=r.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,e,r){for(var n=new Uint8ClampedArray(e*r),i=0,o=0,s=t.length;i<s;i+=4,o++){var a=void 0;a=0===t[i+3]?255:306*t[i]+601*t[i+1]+117*t[i+2]+512>>10,n[o]=a}return n},e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new j2("Requested row is outside the image: "+t);var r=this.getWidth(),n=t*r;return null===e?e=this.buffer.slice(n,n+r):(e.length<r&&(e=new Uint8ClampedArray(r)),e.set(this.buffer.slice(n,n+r))),e},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(e,r,n,i){return t.prototype.crop.call(this,e,r,n,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new zS(this)},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement();if(!r)throw Error("Could not create a Canvas element.");var n=t*e.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*o),a=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*o);r.width=s,r.height=a;var l=r.getContext("2d");if(!l)throw Error("Could not create a Canvas Context element.");return l.translate(s/2,a/2),l.rotate(n),l.drawImage(this.canvas,-(i/2),-(o/2)),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(z_);function V9(){return"undefined"!=typeof navigator}var Ut=function(){return(Ut=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ue=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(s,a)}l((n=n.apply(t,e||[])).next())})},Ur=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Un=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ui={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Uo=function(){function t(t,e,r){void 0===e&&(e=new Map),void 0===r&&(r={}),this.reader=t,this.hints=e,this.options=Ut(Ut({},Ui),r)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(t){this.hints.set(zs.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),t.addVideoSource=function(t,e){try{t.srcObject=e}catch(t){console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(t,e){return Ue(this,void 0,void 0,function(){return Ur(this,function(r){switch(r.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:e?"flash":"off",torch:!!e}]})];case 1:return r.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var o=Un(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(t.mediaStreamIsTorchCompatibleTrack(a))return!0}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(t){try{var e=t.getCapabilities();return"torch"in e}catch(t){return console.error(t),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},t.getMediaElement=function(t,e){var r=document.getElementById(t);if(!r)throw new j0("element with id '".concat(t,"' not found"));if(r.nodeName.toLowerCase()!==e.toLowerCase())throw new j0("element with id '".concat(t,"' must be an ").concat(e," element"));return r},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if("string"==typeof e)return t.getMediaElement(e,"video");if(!e&&"undefined"!=typeof document){var r=document.createElement("video");return r.width=200,r.height=200,r}throw Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if("string"==typeof e)return t.getMediaElement(e,"img");if(void 0===e){var r=document.createElement("img");return r.width=200,r.height=200,r}throw Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(t){return!!t.complete&&0!==t.naturalWidth},t.createBinaryBitmapFromCanvas=function(t){return new j3(new zx(new V7(t)))},t.drawImageOnCanvas=function(t,e){t.drawImage(e,0,0)},t.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new j0("Cannot create a capture canvas without a media element.");if("undefined"==typeof document)throw Error('The page "Document" is undefined, make sure you\'re running in a browser.');var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,o=n.height;return r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r},t.tryPlayVideo=function(e){return Ue(this,void 0,void 0,function(){return Ur(this,function(r){switch(r.label){case 0:if(null==e?void 0:e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return console.warn("It was not possible to play the video.",r.sent()),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},t.listVideoInputDevices=function(){return Ue(this,void 0,void 0,function(){var t,e,r,n,i,o,s,a,l,h,c,u;return Ur(this,function(d){switch(d.label){case 0:if(!V9())throw Error("Can't enumerate devices, navigator is not present.");if(!(V9()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices))throw Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=d.sent(),e=[];try{for(n=(r=Un(t)).next();!n.done;n=r.next())i=n.value,o="video"===i.kind?"videoinput":i.kind,"videoinput"===o&&(s=i.deviceId||i.id,a=i.label||"Video device ".concat(e.length+1),l=i.groupId,h={deviceId:s,label:a,kind:o,groupId:l},e.push(h))}catch(t){c={error:t}}finally{try{n&&!n.done&&(u=r.return)&&u.call(r)}finally{if(c)throw c.error}}return[2,e]}})})},t.findDeviceById=function(e){return Ue(this,void 0,void 0,function(){var r;return Ur(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:if(!(r=n.sent()))return[2];return[2,r.find(function(t){return t.deviceId===e})]}})})},t.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch(e){t.src=""}t&&t.removeAttribute("src")}},t.releaseAllStreams=function(){0!==t.streamTracker.length&&t.streamTracker.forEach(function(t){t.getTracks().forEach(function(t){return t.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return Ue(this,void 0,void 0,function(){return Ur(this,function(n){switch(n.label){case 0:return[4,t.tryPlayVideo(e)];case 1:if(n.sent())return[2,!0];return[2,new Promise(function(n,i){var o=setTimeout(function(){t.isVideoPlaying(e)||(i(!1),e.removeEventListener("canplay",s))},r),s=function(){t.tryPlayVideo(e).then(function(t){clearTimeout(o),e.removeEventListener("canplay",s),n(t)})};e.addEventListener("canplay",s)})]}})})},t.attachStreamToVideo=function(e,r,n){return void 0===n&&(n=5e3),Ue(this,void 0,void 0,function(){var i;return Ur(this,function(o){switch(o.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return o.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),n())},1e4),o=function(){clearTimeout(i),e.removeEventListener("load",o),r()};e.addEventListener("load",o)})},t.checkCallbackFnOrThrow=function(t){if(!t)throw new j0("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(t){t.getVideoTracks().forEach(function(t){return t.stop()}),t=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return Ue(this,void 0,void 0,function(){var r;return Ur(this,function(n){switch(n.label){case 0:if(!e)throw new j0("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return Ue(this,void 0,void 0,function(){var r;return Ur(this,function(n){switch(n.label){case 0:if(!e)throw new j0("An URL must be provided.");(r=t.prepareImageElement()).src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Ue(this,void 0,void 0,function(){var i,o;return Ur(this,function(s){switch(s.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,s.sent()];case 4:throw o=s.sent(),t.disposeMediaStream(i),o;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return Ue(this,void 0,void 0,function(){var i,o,s,a,l,h,c,u,d=this;return Ur(this,function(f){switch(f.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return o=f.sent(),s=function(){t.disposeMediaStream(e),t.cleanVideoSource(o)},a=this.scan(o,n,s),l=e.getVideoTracks(),h=Ut(Ut({},a),{stop:function(){a.stop()},streamVideoConstraintsApply:function(t,e){return Ue(this,void 0,void 0,function(){var r,n,i,o,s;return Ur(this,function(a){switch(a.label){case 0:r=e?l.filter(e):l,a.label=1;case 1:a.trys.push([1,6,7,8]),i=(n=Un(r)).next(),a.label=2;case 2:if(i.done)return[3,5];return[4,i.value.applyConstraints(t)];case 3:a.sent(),a.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return o={error:a.sent()},[3,8];case 7:try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(t){return l.find(t).getConstraints()},streamVideoSettingsGet:function(t){return l.find(t).getSettings()},streamVideoCapabilitiesGet:function(t){return l.find(t).getCapabilities()}}),t.mediaStreamIsTorchCompatible(e)&&(c=null==l?void 0:l.find(function(e){return t.mediaStreamIsTorchCompatibleTrack(e)}),u=function(e){return Ue(d,void 0,void 0,function(){return Ur(this,function(r){switch(r.label){case 0:return[4,t.mediaStreamSetTorch(c,e)];case 1:return r.sent(),[2]}})})},h.switchTorch=u,h.stop=function(){return Ue(d,void 0,void 0,function(){return Ur(this,function(t){switch(t.label){case 0:return a.stop(),[4,u(!1)];case 1:return t.sent(),[2]}})})}),[2,h]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Ue(this,void 0,void 0,function(){var i;return Ur(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),i={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return Ue(this,void 0,void 0,function(){var n,i;return Ur(this,function(o){switch(o.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new j0("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return o.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return Ue(this,void 0,void 0,function(){var n,i,o;return Ur(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new j0("An URL must be provided.");return(n=t.prepareVideoElement()).src=e,i=function(){t.cleanVideoSource(n)},o=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,o)];case 1:return s.sent(),[2,this.scan(n,r,i)]}})})},t.prototype.decodeOnceFromConstraints=function(t,e){return Ue(this,void 0,void 0,function(){var r;return Ur(this,function(n){switch(n.label){case 0:return[4,this.getUserMedia(t)];case 1:return r=n.sent(),[4,this.decodeOnceFromStream(r,e)];case 2:return[2,n.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Ue(this,void 0,void 0,function(){var n,i;return Ur(this,function(o){switch(o.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return[2,o.sent()];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(t,e){return Ue(this,void 0,void 0,function(){var r;return Ur(this,function(n){switch(n.label){case 0:return r={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(r,e)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return Ue(this,void 0,void 0,function(){var r,n;return Ur(this,function(i){switch(i.label){case 0:if(!e)throw new j0("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return Ue(this,void 0,void 0,function(){var r,n;return Ur(this,function(i){switch(i.label){case 0:if(!e)throw new j0("An URL must be provided.");(r=t.prepareVideoElement()).src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(t,e,r,n){var i=this;return void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===n&&(n=!0),new Promise(function(o,s){i.scan(t,function(t,i,a){if(t){o(t),a.stop();return}if(i){if(i instanceof zy&&e||i instanceof j5&&r||i instanceof zl&&n)return;a.stop(),s(i)}})})},t.prototype.scan=function(e,r,n){var i,o,s=this;t.checkCallbackFnOrThrow(r);var a=t.createCaptureCanvas(e);try{i=a.getContext("2d",{willReadFrequently:!0})}catch(t){i=a.getContext("2d")}if(!i)throw Error("Couldn't create canvas for visual element scan.");var l=function(){i=void 0,a=void 0},h=!1,c={stop:function(){h=!0,clearTimeout(o),l(),n&&n()}},u=function(){if(!h)try{t.drawImageOnCanvas(i,e);var d=s.decodeFromCanvas(a);r(d,void 0,c),o=setTimeout(u,s.options.delayBetweenScanSuccess)}catch(t){r(void 0,t,c);var f=t instanceof j5,p=t instanceof zl,g=t instanceof zy;if(f||p||g){o=setTimeout(u,s.options.delayBetweenScanAttempts);return}l(),n&&n(t)}};return u(),c},t.prototype._decodeOnLoadImage=function(e){return Ue(this,void 0,void 0,function(){return Ur(this,function(r){switch(r.label){case 0:if(t.isImageLoaded(e))return[3,2];return[4,t._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return Ue(this,void 0,void 0,function(){var r;return Ur(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}();(t3=function(t,e){return(t3=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}t3(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t,e){return t4.call(this,new z9,t,e)||this},t4=Uo),(t5=function(t,e){return(t5=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}t5(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t,e){return t6.call(this,new Fk(t),t,e)||this},t6=Uo),(t8=function(t,e){return(t8=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}t8(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t,e){return t7.call(this,new F$,t,e)||this},t7=Uo);var Us=(t9=function(t,e){return(t9=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}t9(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Ua=function(t){function e(e,r){var n=this,i=new XW;return i.setHints(e),(n=t.call(this,i,e,r)||this).reader=i,n}return Us(e,t),Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(zs.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e}(Uo);(et=function(t,e){return(et=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}et(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t,e){return ee.call(this,new XF,t,e)||this},ee=Uo),(er=function(t,e){return(er=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}er(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(function(t,e){return en.call(this,new Xe,t,e)||this},en=Uo);var Ul="http://www.w3.org/2000/svg";!function(){function t(t){if("string"==typeof t){var e=document.getElementById(t);if(!e)throw Error("Could not find a Container element with '".concat(t,"'."));this.containerElement=e}else this.containerElement=t}t.prototype.write=function(e,r,n,i){if(0===e.length)throw new j2("Found empty contents");if(r<0||n<0)throw new j2("Requested dimensions are too small: "+r+"x"+n);var o=i&&void 0!==i.get(XY.MARGIN)?Number.parseInt(i.get(XY.MARGIN).toString(),10):t.QUIET_ZONE_SIZE,s=this.encode(i,e);return this.renderResult(s,r,n,o)},t.prototype.createSVGElement=function(e,r){var n=document.createElementNS(t.SVG_NS,"svg");return n.setAttributeNS(Ul,"width",r.toString()),n.setAttributeNS(Ul,"height",e.toString()),n},t.prototype.createSvgPathPlaceholderElement=function(e,r){var n=document.createElementNS(t.SVG_NS,"path");return n.setAttributeNS(Ul,"d","M0 0h".concat(e,"v").concat(r,"H0z")),n.setAttributeNS(Ul,"fill","none"),n},t.prototype.createSvgRectElement=function(e,r,n,i){var o=document.createElementNS(t.SVG_NS,"rect");return o.setAttributeNS(Ul,"x",e.toString()),o.setAttributeNS(Ul,"y",r.toString()),o.setAttributeNS(Ul,"height",n.toString()),o.setAttributeNS(Ul,"width",i.toString()),o.setAttributeNS(Ul,"fill","#000000"),o},t.prototype.encode=function(t,e){var r=Fq.L;if(t&&void 0!==t.get(XY.ERROR_CORRECTION)){var n=t.get(XY.ERROR_CORRECTION).toString();r=Fq.fromString(n)}return X8.encode(e,r,t)},t.prototype.renderResult=function(t,e,r,n){var i=t.getMatrix();if(null===i)throw new zV;var o=i.getWidth(),s=i.getHeight(),a=o+2*n,l=s+2*n,h=Math.max(e,a),c=Math.max(r,l),u=Math.min(Math.floor(h/a),Math.floor(c/l)),d=Math.floor((h-o*u)/2),f=Math.floor((c-s*u)/2),p=this.createSVGElement(h,c),g=this.createSvgPathPlaceholderElement(e,r);p.appendChild(g),this.containerElement.appendChild(p);for(var m=0,v=f;m<s;m++,v+=u)for(var y=0,b=d;y<o;y++,b+=u)if(1===i.get(y,m)){var O=this.createSvgRectElement(b,v,u,u);p.appendChild(O)}return p},t.QUIET_ZONE_SIZE=4,t.SVG_NS="http://www.w3.org/2000/svg"}();var Uh="http://www.w3.org/2000/svg";!function(){function t(){}t.prototype.write=function(e,r,n,i){if(0===e.length)throw new j2("Found empty contents");if(r<0||n<0)throw new j2("Requested dimensions are too small: "+r+"x"+n);var o=Fq.L,s=t.QUIET_ZONE_SIZE;if(i){if(void 0!==i.get(XY.ERROR_CORRECTION)){var a=i.get(XY.ERROR_CORRECTION).toString();o=Fq.fromString(a)}void 0!==i.get(XY.MARGIN)&&(s=Number.parseInt(i.get(XY.MARGIN).toString(),10))}var l=X8.encode(e,o,i);return this.renderResult(l,r,n,s)},t.prototype.writeToDom=function(t,e,r,n,i){if("string"==typeof t){var o=document.querySelector(t);if(!o)throw Error("Could no find the target HTML element.");t=o}var s=this.write(e,r,n,i);t instanceof HTMLElement&&t.appendChild(s)},t.prototype.renderResult=function(t,e,r,n){var i=t.getMatrix();if(null===i)throw new zV;for(var o=i.getWidth(),s=i.getHeight(),a=o+2*n,l=s+2*n,h=Math.max(e,a),c=Math.max(r,l),u=Math.min(Math.floor(h/a),Math.floor(c/l)),d=Math.floor((h-o*u)/2),f=Math.floor((c-s*u)/2),p=this.createSVGElement(h,c),g=0,m=f;g<s;g++,m+=u)for(var v=0,y=d;v<o;v++,y+=u)if(1===i.get(v,g)){var b=this.createSvgRectElement(y,m,u,u);p.appendChild(b)}return p},t.prototype.createSVGElement=function(t,e){var r=document.createElementNS(Uh,"svg"),n=t.toString(),i=e.toString();return r.setAttribute("height",i),r.setAttribute("width",n),r.setAttribute("viewBox","0 0 "+n+" "+i),r},t.prototype.createSvgRectElement=function(t,e,r,n){var i=document.createElementNS(Uh,"rect");return i.setAttribute("x",t.toString()),i.setAttribute("y",e.toString()),i.setAttribute("height",r.toString()),i.setAttribute("width",n.toString()),i.setAttribute("fill","#000000"),i},t.QUIET_ZONE_SIZE=4}();var Uc=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let Uu=class extends r0{render(){return rL`
      <div class="scanner-container" part="container">
        <video id="video" autoplay part="video"></video>
        ${nd(!this.trigger,()=>rL`
          <button @click="${this.toggleScanning}" part="toggle-button">
            ${this.scanning?"Stop Scanning":"Start Scanning"}
          </button>`,()=>rL`
          <button @click="${this.hideScanner}" part="hide-button">Hide Scanner</button>`)}
      </div>
    `}updated(t){if(t.has("trigger")&&(this.setAttribute("data-triggered",this.trigger?"true":""),this.trigger)){let t=document.querySelector(this.trigger);t&&t.addEventListener("click",()=>this.slideIn())}this.trigger&&this.toggleAttribute("data-visible",this.visible)}firstUpdated(){var t;this.videoElement=null===(t=this.shadowRoot)||void 0===t?void 0:t.getElementById("video")}slideIn(){var t=this;return eW(function*(){t.visible=!0,setTimeout(()=>t.startScanning(),400)})()}hideScanner(){var t=this;return eW(function*(){t.stopScanning(),t.visible=!1})()}toggleScanning(){var t=this;return eW(function*(){t.scanning?t.stopScanning():yield t.startScanning()})()}startScanning(){var t=this;return eW(function*(){if(t.videoElement){t.scanning=!0;try{var e;t.mediaStream=yield navigator.mediaDevices.getUserMedia({video:!0}),t.videoElement.srcObject=t.mediaStream;let r=yield Uo.listVideoInputDevices(),n=null===(e=r[0])||void 0===e?void 0:e.deviceId;if(!n)throw Error("No camera devices found");t.videoControl=yield t.codeReader.decodeFromVideoDevice(n,t.videoElement,e=>{e&&(t.dispatchEvent(new CustomEvent("barcode-scanned",{detail:{text:e.getText()},bubbles:!0,composed:!0})),t.stopScanning(),t.trigger&&(t.visible=!1))})}catch(e){console.error("Error starting scanner:",e),t.scanning=!1}}})()}stopScanning(){var t=this;return eW(function*(){var e;null===(e=t.videoControl)||void 0===e||e.stop(),t.videoControl=void 0,t.scanning=!1;let r=t.mediaStream;r&&r.getTracks().forEach(t=>{console.log("Stopping track:",t),t.stop()})})()}constructor(){super(...arguments),this.scanning=!1,this.visible=!1,this.codeReader=new Ua}};Uu.styles=e1`
    :host {
      display: block;
    }

    :host([data-triggered]) {
      position: fixed;
      top: -100%;
      left: 0;
      right: 0;
      margin: auto;
      max-width: 100%;
      z-index: 1000;
      background: white;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      transition: top 0.4s ease;
      border-radius: 0 0 12px 12px;
      padding: 1rem;
    }

    :host([data-triggered][data-visible]) {
      top: 0;
    }

    video {
      width: 100%;
      max-width: 400px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }

    .scanner-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }
  `,Uc([ru({type:String})],Uu.prototype,"trigger",void 0),Uc([rd()],Uu.prototype,"scanning",void 0),Uc([rd()],Uu.prototype,"visible",void 0),Uu=Uc([eF("juel-scanner")],Uu)})();
//# sourceMappingURL=juel.js.map
